"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateliminal_app"]("main",{

/***/ "./src/modules/buy.ts":
/*!****************************!*\
  !*** ./src/modules/buy.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExecuteTradeOffHoursTxt\": () => (/* binding */ ExecuteTradeOffHoursTxt),\n/* harmony export */   \"addTokenLinkBottom\": () => (/* binding */ addTokenLinkBottom),\n/* harmony export */   \"buyPageInit\": () => (/* binding */ buyPageInit),\n/* harmony export */   \"checkTokenValueVsBuyAmount\": () => (/* binding */ checkTokenValueVsBuyAmount),\n/* harmony export */   \"getSymbolContractAddress\": () => (/* binding */ getSymbolContractAddress),\n/* harmony export */   \"hideModalSecurities\": () => (/* binding */ hideModalSecurities),\n/* harmony export */   \"selectSymbol\": () => (/* binding */ selectSymbol),\n/* harmony export */   \"setSelectedSymbolAndAddress\": () => (/* binding */ setSelectedSymbolAndAddress),\n/* harmony export */   \"setupSteps\": () => (/* binding */ setupSteps),\n/* harmony export */   \"updateBuyInfo\": () => (/* binding */ updateBuyInfo)\n/* harmony export */ });\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/modules/helper.ts\");\n/* harmony import */ var _kyc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kyc */ \"./src/modules/kyc.ts\");\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render */ \"./src/modules/render.ts\");\n/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./account */ \"./src/modules/account.ts\");\n/* harmony import */ var _networks_network_info__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../networks/network-info */ \"./src/networks/network-info.ts\");\n/* harmony import */ var _market__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./market */ \"./src/modules/market.ts\");\n/* harmony import */ var _securities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./securities */ \"./src/modules/securities.ts\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moralis */ \"./node_modules/moralis/index.js\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moralis__WEBPACK_IMPORTED_MODULE_8__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet aUsdAmount;\r\nlet assetPrice = null;\r\nlet lastTraded = null;\r\nconst ExecuteTradeOffHoursTxt = 'Execute trade <div class=\"small_print\">It will take few hours to process, market is closed<br>You can enable \"Off hours trading\" in the Menu</div>';\r\nlet SelectedSymbolAddress = null;\r\nlet Symbol = '';\r\nlet LiminalMarketInfo;\r\nlet AUSDInfo;\r\nconst buyPageInit = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        history.pushState(null, 'Buy securities', '/buy');\r\n        document.getElementById('buy_amount').addEventListener('click', function (evt) {\r\n            updateBuyInfo(Symbol);\r\n        });\r\n        setupSteps();\r\n        setupAssets();\r\n        let response = yield fetch('../abi/LiminalMarket.json');\r\n        LiminalMarketInfo = yield response.json();\r\n        response = yield fetch('../abi/aUSD.json');\r\n        AUSDInfo = yield response.json();\r\n    });\r\n};\r\nconst selectSymbol = function (symbol, name, logo, address) {\r\n    buyPageInit();\r\n    if (!moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3.isWeb3Enabled())\r\n        return;\r\n    setSelectedSymbolAndAddress(symbol, address);\r\n    let selectSymbolBtn = document.getElementById('select-symbol');\r\n    selectSymbolBtn.innerHTML = name + ' (' + symbol + ')';\r\n    updateBuyInfo(symbol, name, logo);\r\n};\r\nconst setupSteps = function (showNetwork) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.querySelectorAll('.step').forEach((value, key) => {\r\n            value.style.display = 'none';\r\n        });\r\n        const isMetaMaskInstalled = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().isMetaMaskInstalled();\r\n        if (!isMetaMaskInstalled) {\r\n            document.getElementById('install_metamask').style.display = 'block';\r\n            return;\r\n        }\r\n        yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3().catch(function (reason) {\r\n            document.getElementById('connect_wallet').style.display = 'block';\r\n            //user has not connected the wallet\r\n            document.getElementById('click_to_connect_wallet').addEventListener('click', function (evt) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3();\r\n                    setupSteps();\r\n                });\r\n            });\r\n            return;\r\n        });\r\n        console.log('moralis chain:', (moralis__WEBPACK_IMPORTED_MODULE_8___default().chainId));\r\n        const chainId = parseInt(yield (moralis__WEBPACK_IMPORTED_MODULE_8___default().chainId), 16);\r\n        ;\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        if (networkInfo) {\r\n            _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.setNetwork(networkInfo);\r\n        }\r\n        console.log('chains:', chainId, networkInfo.ChainId);\r\n        if (networkInfo.ChainId != chainId || showNetwork) {\r\n            document.getElementById('select_network').style.display = 'block';\r\n            if (window.location.href.indexOf('127.') != -1) {\r\n                document.getElementById('network_localhost').style.display = 'block';\r\n            }\r\n            const options = document.querySelectorAll('.network_chooser');\r\n            for (let i = 0; i < options.length; i++) {\r\n                options[i].addEventListener('click', function (evt) {\r\n                    return __awaiter(this, void 0, void 0, function* () {\r\n                        evt.preventDefault();\r\n                        console.log('chain id:', evt.target.dataset.chainid);\r\n                        try {\r\n                            const chainIdHex = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().switchNetwork(evt.target.dataset.chainid)\r\n                                .then(function () {\r\n                                return __awaiter(this, void 0, void 0, function* () {\r\n                                    yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.logOut();\r\n                                    window.location.reload();\r\n                                });\r\n                            }).catch(function (err) {\r\n                                addNetworkToWallet(parseInt(evt.target.dataset.chainid));\r\n                                console.log(err);\r\n                            });\r\n                        }\r\n                        catch (e) {\r\n                            console.log(e);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        let user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        console.log('user', user);\r\n        if (user == null) {\r\n            //user is not logged in, lets log you in\r\n            document.getElementById('login_user').style.display = 'block';\r\n            document.getElementById('click_to_login_user').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(function () {\r\n                    setupSteps();\r\n                });\r\n                /*Moralis.authenticate().then(function (user) {\r\n                    setupSteps();\r\n                }).catch(function(err) {\r\n                    document.getElementById('login_user_error').style.display = 'block';\r\n                })*/\r\n            });\r\n            return;\r\n        }\r\n        yield (0,_kyc__WEBPACK_IMPORTED_MODULE_2__.KYCUserIsValid)();\r\n        console.log('IsValidKYC:', _kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC);\r\n        if (!_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n            //user needs to do kyc\r\n            document.getElementById('kyc_registration').style.display = 'block';\r\n            document.getElementById('click_to_kyc_reg').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            });\r\n            return;\r\n        }\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount < 1) {\r\n            //show funding step\r\n            document.getElementById('fund_account').style.display = 'block';\r\n            document.getElementById('account_not_ready').style.display = \"none\";\r\n            document.getElementById('add_ausd_to_wallet').addEventListener('click', function (evt) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(_main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS, 'aUSD');\r\n                });\r\n            });\r\n            document.getElementById('fundUSDC').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                //fund usdc\r\n                //transferUSDC();\r\n            });\r\n            document.getElementById('fundAUSD').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                // fund ausd, moralis\r\n                fundUser();\r\n            });\r\n            return;\r\n        }\r\n        //lets buy securities\r\n        checkBalanceOfAUsd();\r\n    });\r\n};\r\nconst addNetworkToWallet = function (chainId) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        const web3 = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3();\r\n        web3.provider.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [{\r\n                    chainId: chainId,\r\n                    chainName: networkInfo.ChainName,\r\n                    nativeCurrency: {\r\n                        name: networkInfo.NativeCurrencyName,\r\n                        symbol: networkInfo.NativeSymbol,\r\n                        decimals: networkInfo.NativeDecimal\r\n                    },\r\n                    rpcUrls: [networkInfo.RpcUrl],\r\n                    blockExplorerUrls: [networkInfo.BlockExplorer]\r\n                }]\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    });\r\n};\r\nconst fundUser = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            chainId: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId\r\n        };\r\n        document.getElementById('account_not_ready').style.display = \"none\";\r\n        moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run('fundUser', params).then(function (response) {\r\n            showWaitingForFunding();\r\n            return;\r\n        }).catch(function (err) {\r\n            document.getElementById('account_not_ready').style.display = \"block\";\r\n        });\r\n    });\r\n};\r\nconst checkNativeTokenStatus = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const options = { chain: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.Name };\r\n        const result = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3API.account.getNativeBalance(options);\r\n        //0.002998\r\n        const balance = parseFloat(moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(result.balance, 18));\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero && balance < 0.005) {\r\n            showNeedNativeToken();\r\n        }\r\n        else if (balance < 0.0007) {\r\n            showNeedNativeToken();\r\n        }\r\n        else {\r\n            document.getElementById('need_native_token').style.display = 'none';\r\n        }\r\n    });\r\n};\r\nconst showNeedNativeToken = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        document.getElementById('need_native_token').style.display = 'block';\r\n        document.getElementById('native_token_address').value = yield user.get('ethAddress');\r\n        setTimeout(checkNativeTokenStatus, 20 * 1000);\r\n    });\r\n};\r\nconst setupBuyButton = function () {\r\n    document.getElementById('execute-trade').classList.remove('disabled');\r\n    document.getElementById('execute-trade').classList.add('enabled');\r\n    if (_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n        document.getElementById('execute-trade').onclick = transfer;\r\n    }\r\n    else {\r\n        const user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('execute-trade').innerText = \"Login using Metamask\";\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(setupBuyButton);\r\n            };\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerText = 'You need to do (fake) KYC before buying';\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            };\r\n        }\r\n    }\r\n};\r\nconst showWaitingForFunding = function () {\r\n    document.getElementById('waiting_for_funding').style.display = 'block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'block';\r\n    document.getElementById('fund_account').style.display = 'none';\r\n    document.getElementById('buy_headline').innerHTML = \"Let's play... ðŸš€ðŸš€ðŸš€\";\r\n    let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD</strong>.\"\r\n        + \" Lets try it anyway. Type in any amount in the box below and select a symbol.\"\r\n        + \" You will see how many shares you will get for that amount\";\r\n    document.getElementById('buy_text').innerHTML = text;\r\n    checkBalanceOfAUsd();\r\n};\r\nconst checkBalanceOfAUsd = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount >= 1) {\r\n            document.getElementById('waiting_for_funding').style.display = 'none';\r\n            document.getElementById('buy_headline').innerHTML = \"Let's buy something!\";\r\n            let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD.</strong>\"\r\n                + \" You can now buy your own securities.\";\r\n            document.getElementById('buy_text').innerHTML = text;\r\n            updateBuyInfo(Symbol);\r\n            showUseWalletForOrders();\r\n        }\r\n        else {\r\n            setTimeout(yield checkBalanceOfAUsd, 30 * 1000);\r\n        }\r\n    });\r\n};\r\nconst showUseWalletForOrders = function () {\r\n    document.getElementById('create-order').classList.add('sidebar');\r\n    document.getElementById('use_wallet_for_orders').style.display = 'inline-block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'inline-block';\r\n};\r\nconst getAUSDAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user)\r\n            return 0;\r\n        const ethAddress = yield user.get('ethAddress');\r\n        const ausdcOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n            functionName: \"balanceOf\",\r\n            abi: AUSDInfo.abi,\r\n            params: {\r\n                account: ethAddress\r\n            }\r\n        };\r\n        let amount = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(ausdcOptions).then(balanceOf => {\r\n            console.log('balanceOf obj:', balanceOf);\r\n            let amount = moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(balanceOf, 18);\r\n            document.getElementById('add_ausd_to_wallet_menu').innerHTML = 'You have ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(amount)) + ' aUSD in your broker account';\r\n            return amount;\r\n        }).catch(function (err) {\r\n            console.error(err);\r\n        });\r\n        return amount;\r\n    });\r\n};\r\nconst setupAssets = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('select-symbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n        document.getElementById('buy_amount').onchange = function () {\r\n            updateBuyInfo(Symbol);\r\n        };\r\n        document.getElementById('findSymbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n    });\r\n};\r\nconst loadSecuritiesModal = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        evt.preventDefault();\r\n        document.getElementById('modalSecurities').style.display = 'block';\r\n        document.getElementById('backdrop').style.display = 'block';\r\n        document.getElementById('modalSecurities').addEventListener('click', function (evt) {\r\n            console.log(evt.target.id);\r\n            if (evt.target.id == 'modalSecurities' || evt.target.id == 'closeModal') {\r\n                hideModalSecurities();\r\n            }\r\n        });\r\n        (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('securities', null, function () { (0,_securities__WEBPACK_IMPORTED_MODULE_7__.loadSecurities)(true); }, 'modal-body');\r\n    });\r\n};\r\nconst hideModalSecurities = function () {\r\n    document.getElementById('modalSecurities').style.display = 'none';\r\n    document.getElementById('backdrop').style.display = 'none';\r\n};\r\nconst getSymbolPrice = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (evt) {\r\n            evt.preventDefault();\r\n        }\r\n        if (Symbol === '') {\r\n            assetPrice = 0;\r\n            lastTraded = '';\r\n            return;\r\n        }\r\n        offHoursInfo();\r\n        SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        console.log('contractAddresss:', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            document.getElementById('execute-trade').innerHTML = \"Create token & execute trade\";\r\n            //TODO for sandbox lets not show this, but for live we need to show.\r\n            //document.getElementById('add-token-info').style.display='block';\r\n            //document.getElementById('add-token-info').innerHTML = \"<div >We will need to create the token when you buy it. Since you are the first one to buy this symbol, this will incure extra cost. It's a low cost</div>\";\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n            addTokenLink(Symbol, SelectedSymbolAddress);\r\n        }\r\n        yield loadAssetPrice();\r\n        updateBuyInfo(Symbol);\r\n    });\r\n};\r\nconst loadAssetPrice = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            symbol: Symbol\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run(\"getSymbolPrice\", params).then(function (jsonResult) {\r\n            assetPrice = jsonResult.trade.p;\r\n            lastTraded = jsonResult.trade.t;\r\n        });\r\n    });\r\n};\r\nconst getSymbolContractAddress = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const securityTokenOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"getSecurityToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            }\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(securityTokenOptions);\r\n    });\r\n};\r\nconst offHoursInfo = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield (0,_market__WEBPACK_IMPORTED_MODULE_6__.isMarketOpen)();\r\n        if (!_market__WEBPACK_IMPORTED_MODULE_6__.IsMarketOpen && !_market__WEBPACK_IMPORTED_MODULE_6__.UserIsOffHours) {\r\n            document.getElementById('offHoursInfo').style.display = 'block';\r\n            document.getElementById('execute-trade').innerHTML = ExecuteTradeOffHoursTxt;\r\n        }\r\n        else {\r\n            document.getElementById('offHoursInfo').style.display = 'none';\r\n            document.getElementById('execute-trade').innerHTML = 'Execute trade';\r\n        }\r\n    });\r\n};\r\nconst addTokenLink = function (symbol, contractAddress) {\r\n    document.getElementById('add-token-info').style.display = 'none';\r\n};\r\nconst addTokenLinkBottom = function (symbol, contractAddress) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const asset = yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.getAssetBySymbol)(symbol);\r\n        document.getElementById('addNewTokenToWallet').style.display = 'block';\r\n        document.getElementById('tokenLogo').src = '/img/logos/' + asset.Logo;\r\n        document.getElementById('addNewTokenText').innerHTML = 'Add ' + symbol + ' to your wallet.';\r\n        document.getElementById('addNewToken').onclick = function (evt) {\r\n            return __awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(contractAddress, symbol);\r\n            });\r\n        };\r\n    });\r\n};\r\nconst updateBuyInfo = function (symbol, name, logo) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!symbol)\r\n            return;\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        if (buyAmount === '' || assetPrice == null)\r\n            return;\r\n        document.getElementById('buy_success_message').style.display = 'none';\r\n        let str = 'Estimated you will buy ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(buyAmount) / assetPrice) + ' shares at the price of $' + assetPrice + ' per share. ';\r\n        str += 'Last trade was ' + (new Date(lastTraded)).toLocaleString();\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            str += '<br /><span class=\"small_print\">Since you are the first one to buy ' + symbol + \" you will be asked to create the token first, then we'll execute the trade</span>\";\r\n        }\r\n        document.getElementById('buy-info').innerHTML = str;\r\n        document.getElementById('buy-info').style.display = 'block';\r\n        checkTokenValueVsBuyAmount();\r\n    });\r\n};\r\nconst checkTokenValueVsBuyAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_danger_message').style.display = 'none';\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        var user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            let str = 'You are not logged in. Login in the menu at top.';\r\n            document.getElementById('buy_danger_message').innerHTML = str;\r\n            return false;\r\n        }\r\n        document.getElementById('execute-trade').classList.add('disabled');\r\n        document.getElementById('execute-trade').classList.remove('enabled');\r\n        if (aUsdAmount < buyAmount) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            document.getElementById('buy_danger_message').innerHTML = \"You don't have enough aUSD tokens in your wallet.\";\r\n            return false;\r\n        }\r\n        checkNativeTokenStatus();\r\n        yield setupBuyButton();\r\n    });\r\n};\r\nconst showProgressStep = function (text, perc, warning) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_progress').style.display = \"block\";\r\n        var element = document.getElementById('buying_steps');\r\n        element.innerHTML = '<div class=\"progress_text\">' + text + '</div>';\r\n        element.style.width = perc + '%';\r\n        element.classList.toggle('progress-bar-striped', (perc != 100));\r\n        element.classList.toggle('progress-bar-animated', (perc != 100));\r\n        if (warning) {\r\n            element.classList.add('bg-warning');\r\n            element.classList.add('progress_text_attn');\r\n        }\r\n        else {\r\n            element.classList.remove('bg-warning');\r\n            element.classList.remove('progress_text_attn');\r\n        }\r\n    });\r\n};\r\nconst hideProcessStep = function () {\r\n    document.getElementById('buy_progress').style.display = \"none\";\r\n    document.getElementById('execute-trade').style.display = 'block';\r\n};\r\nconst transfer = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const buyAmount = document.getElementById('buy_amount').value;\r\n        if (Symbol === '' || buyAmount === '')\r\n            return;\r\n        if (!checkTokenValueVsBuyAmount())\r\n            return false;\r\n        document.getElementById('execute-trade').style.display = 'none';\r\n        if (SelectedSymbolAddress == null) {\r\n            SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        }\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            showProgressStep('First we need to create token, you need to confirm', 99);\r\n            setTimeout(function () { checkToShowMetamaskIcon('First we need'); }, (10 * 1000));\r\n            let txResult = yield executeCreateToken(Symbol).catch(function (err) {\r\n                hideProcessStep();\r\n                return null;\r\n            });\r\n            if (txResult == null)\r\n                return;\r\n            console.log(txResult);\r\n            if (txResult.events.TokenCreated) {\r\n                SelectedSymbolAddress = txResult.events.TokenCreated.returnValues.tokenAddress;\r\n            }\r\n        }\r\n        console.log('recipent', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero)\r\n            return;\r\n        document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n        let waitingStr = 'Waiting on approval to execute to buy ';\r\n        showProgressStep(waitingStr + Symbol + ' for $' + buyAmount + '.', 99);\r\n        setTimeout(function () { checkToShowMetamaskIcon(waitingStr); }, 10 * 1000);\r\n        yield subscribeToTable();\r\n        var buyResult = yield executeBuy(SelectedSymbolAddress, parseFloat(buyAmount));\r\n        if (buyResult == null) {\r\n            hideProcessStep();\r\n            return;\r\n        }\r\n        console.log('buyResult', buyResult);\r\n        document.getElementById('add-token-info').style.display = 'none';\r\n    });\r\n};\r\nconst subscribeToTable = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log('subscribe to table:' + getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let query = new (moralis__WEBPACK_IMPORTED_MODULE_8___default().Query)(getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let subscription = yield query.subscribe();\r\n        subscription.on('update', (response) => {\r\n            const object = response.toJSON();\r\n            console.log('object updated', JSON.stringify(object), object);\r\n            let ethLink = ' <a class=\"white-link\" target=\"_blank\" href=\"https://rinkeby.etherscan.io/tx/' + object.transaction_hash + '\">View transaction</a>';\r\n            console.log('status:', object.status);\r\n            if (object.tokenAddress) {\r\n                addTokenLinkBottom(Symbol, SelectedSymbolAddress);\r\n            }\r\n            if ((!object.status && object.confirmed) || object.status == 'money_sent') {\r\n                showProgressStep('Blockchain has confirmed, money has been sent to broker.' + ethLink, 56);\r\n                //blockchain has confirmed, money will arrive soon to broker\r\n            }\r\n            else if (object.status == 'money_arrived') {\r\n                showProgressStep('Money has arrived, will now execute your buy order.' + ethLink, 70);\r\n                //money has arrived to broker, we will now execute your order\r\n            }\r\n            else if (object.status == 'order_requested') {\r\n                //order has been executed, we are waiting on response from the stock exchange\r\n                showProgressStep('Buy order has been executed. We will update you when it has been filled.' + ethLink, 84);\r\n            }\r\n            else if (object.status == 'order_filled') {\r\n                document.getElementById('buy-info').style.display = 'none';\r\n                //order has been filled, you got object.filledQty of shares. You will see it soon in your wallet\r\n                showProgressStep('Order has been filled, you will recieve ' + object.filledQty + ' ' + Symbol + ' soon into your wallet.' + ethLink, 100);\r\n            }\r\n            else {\r\n                showProgressStep('Waiting for blockchain to confirm transaction.', 99);\r\n            }\r\n        });\r\n    });\r\n};\r\nconst getOrderBuyTablePrefix = function () {\r\n    if (_main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId == 43113)\r\n        return \"Fuji\";\r\n    return \"\";\r\n};\r\nconst checkToShowMetamaskIcon = function (txt) {\r\n    //Waiting on approval to execute\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf(txt) != -1) {\r\n        showProgressStep('Hey Ho! Is Metamask be waiting for you?<br />Check top right corner of your browser <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n    setTimeout(function () { blockshainSlowMessage(); }, 8 * 1000);\r\n};\r\nconst blockshainSlowMessage = function () {\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf('Hey Ho!') != -1) {\r\n        showProgressStep('If you have already approved, maybe blockchain is slow. Lets give it a bit. Just double check for <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n};\r\nconst executeBuy = function (recipient, buyAmount) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const liminalOptions = {\r\n                contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n                functionName: \"transfer\",\r\n                abi: AUSDInfo.abi,\r\n                params: {\r\n                    recipient: recipient,\r\n                    amount: moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.Token(buyAmount, 18)\r\n                },\r\n            };\r\n            return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n        }\r\n        catch (ex) {\r\n            console.log(ex);\r\n            return null;\r\n        }\r\n    });\r\n};\r\nconst executeCreateToken = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const liminalOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"createToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            },\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n    });\r\n};\r\nconst setSelectedSymbolAndAddress = function (symbol, address) {\r\n    SelectedSymbolAddress = address;\r\n    Symbol = symbol;\r\n    getSymbolPrice();\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRTtvQkFDUCxTQUFTLEVBQUUsU0FBUztvQkFDcEIsTUFBTSxFQUFFLDBEQUFtQixDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7aUJBQzFDO2FBQ0QsQ0FBQztZQUVGLE9BQU8sTUFBTSw4REFBdUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUNyRDtRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztDQUFBLENBQUM7QUFFRixNQUFNLGtCQUFrQixHQUFHLFVBQWUsTUFBZTs7UUFFeEQsTUFBTSxjQUFjLEdBQUc7WUFDdEIsZUFBZSxFQUFFLG9GQUFpRDtZQUNsRSxZQUFZLEVBQUUsYUFBYTtZQUMzQixHQUFHLEVBQUUsaUJBQWlCLENBQUMsR0FBRztZQUMxQixNQUFNLEVBQUU7Z0JBQ1AsTUFBTSxFQUFFLE1BQU07YUFDZDtTQUNELENBQUM7UUFFRixPQUFPLE1BQU0sOERBQXVCLENBQUMsY0FBYyxDQUFDLENBQUM7SUFFdEQsQ0FBQztDQUFBLENBQUM7QUFFSyxNQUFNLDJCQUEyQixHQUFHLFVBQVMsTUFBZSxFQUFFLE9BQWdCO0lBQ3BGLHFCQUFxQixHQUFHLE9BQU8sQ0FBQztJQUNoQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBRWhCLGNBQWMsRUFBRSxDQUFDO0FBQ2xCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL21vZHVsZXMvYnV5LnRzPzU0OWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFpbiB9ICBmcm9tICcuLi9tYWluJztcclxuXHJcbmltcG9ydCB7XHJcblx0YWRkVG9rZW5Ub1dhbGxldCxcclxuXHRyb3VuZE51bWJlciwgZ2V0QXNzZXRCeVN5bWJvbCwgQWRkcmVzc1plcm9cclxufSBmcm9tICcuL2hlbHBlcic7XHJcbmltcG9ydCB7XHJcblx0SXNWYWxpZEtZQyxcclxuXHRpbml0S1lDLCBLWUNVc2VySXNWYWxpZFxyXG59IGZyb20gJy4va3ljJztcclxuaW1wb3J0IHtcclxuXHRyZW5kZXJcclxufSBmcm9tICcuL3JlbmRlcic7XHJcbmltcG9ydCB7XHJcblx0bG9naW5cclxufSBmcm9tICcuL2FjY291bnQnO1xyXG5pbXBvcnQge3RyeUdldE5ldHdvcmt9IGZyb20gJy4uL25ldHdvcmtzL25ldHdvcmstaW5mbyc7XHJcbmltcG9ydCB7SXNNYXJrZXRPcGVuLCBVc2VySXNPZmZIb3VycywgaXNNYXJrZXRPcGVufSBmcm9tICcuL21hcmtldCc7XHJcbmltcG9ydCB7bG9hZFNlY3VyaXRpZXN9IGZyb20gJy4vc2VjdXJpdGllcyc7XHJcbmltcG9ydCBNb3JhbGlzIGZyb20gJ21vcmFsaXMnO1xyXG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlcic7XHJcblxyXG5sZXQgYVVzZEFtb3VudDtcclxubGV0IGFzc2V0UHJpY2UgPSBudWxsO1xyXG5sZXQgbGFzdFRyYWRlZCA9IG51bGw7XHJcblxyXG5leHBvcnQgY29uc3QgRXhlY3V0ZVRyYWRlT2ZmSG91cnNUeHQgPSAnRXhlY3V0ZSB0cmFkZSA8ZGl2IGNsYXNzPVwic21hbGxfcHJpbnRcIj5JdCB3aWxsIHRha2UgZmV3IGhvdXJzIHRvIHByb2Nlc3MsIG1hcmtldCBpcyBjbG9zZWQ8YnI+WW91IGNhbiBlbmFibGUgXCJPZmYgaG91cnMgdHJhZGluZ1wiIGluIHRoZSBNZW51PC9kaXY+JztcclxubGV0IFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IG51bGw7XHJcbmxldCBTeW1ib2wgPSAnJztcclxubGV0IExpbWluYWxNYXJrZXRJbmZvO1xyXG5sZXQgQVVTREluZm87XHJcblxyXG5leHBvcnQgY29uc3QgYnV5UGFnZUluaXQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcblx0aGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzZWN1cml0aWVzJywgJy9idXknKTtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG5cdH0pO1xyXG5cclxuXHRzZXR1cFN0ZXBzKCk7XHJcblx0c2V0dXBBc3NldHMoKTtcclxuXHJcblx0bGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy4uL2FiaS9MaW1pbmFsTWFya2V0Lmpzb24nKTtcclxuICAgIExpbWluYWxNYXJrZXRJbmZvID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRyZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuLi9hYmkvYVVTRC5qc29uJyk7XHJcbiAgICBBVVNESW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RTeW1ib2wgPSBmdW5jdGlvbihzeW1ib2wsIG5hbWUsIGxvZ28sIGFkZHJlc3MpIHtcclxuXHRidXlQYWdlSW5pdCgpO1xyXG5cclxuXHRpZiAoIU1vcmFsaXMuV2ViMy5pc1dlYjNFbmFibGVkKCkpIHJldHVybjtcclxuXHJcblx0c2V0U2VsZWN0ZWRTeW1ib2xBbmRBZGRyZXNzKHN5bWJvbCwgYWRkcmVzcyk7XHJcblxyXG5cdGxldCBzZWxlY3RTeW1ib2xCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXN5bWJvbCcpO1xyXG5cdHNlbGVjdFN5bWJvbEJ0bi5pbm5lckhUTUwgPSBuYW1lICsgJyAoJyArIHN5bWJvbCArICcpJztcclxuXHJcblx0dXBkYXRlQnV5SW5mbyhzeW1ib2wsIG5hbWUsIGxvZ28pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dXBTdGVwcyA9IGFzeW5jIGZ1bmN0aW9uKHNob3dOZXR3b3JrPyA6IGJvb2xlYW4pIHtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcCcpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuXHRcdCh2YWx1ZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9KVxyXG5cclxuXHRjb25zdCBpc01ldGFNYXNrSW5zdGFsbGVkID0gYXdhaXQgTW9yYWxpcy5pc01ldGFNYXNrSW5zdGFsbGVkKCk7XHJcblxyXG5cdGlmICghaXNNZXRhTWFza0luc3RhbGxlZCkge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3RhbGxfbWV0YW1hc2snKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGF3YWl0IE1vcmFsaXMuZW5hYmxlV2ViMygpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikge1xyXG5cclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0X3dhbGxldCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0Ly91c2VyIGhhcyBub3QgY29ubmVjdGVkIHRoZSB3YWxsZXRcclxuXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xpY2tfdG9fY29ubmVjdF93YWxsZXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0YXdhaXQgTW9yYWxpcy5lbmFibGVXZWIzKCk7XHJcblx0XHRcdHNldHVwU3RlcHMoKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9KTtcclxuY29uc29sZS5sb2coJ21vcmFsaXMgY2hhaW46JywgTW9yYWxpcy5jaGFpbklkKTtcclxuXHRjb25zdCBjaGFpbklkID0gcGFyc2VJbnQoYXdhaXQgTW9yYWxpcy5jaGFpbklkLCAxNik7O1xyXG5cdGxldCBuZXR3b3JrSW5mbyA9IHRyeUdldE5ldHdvcmsoY2hhaW5JZCk7XHJcblx0aWYgKG5ldHdvcmtJbmZvKSB7XHJcblx0XHRNYWluLk5ldHdvcmtJbmZvLnNldE5ldHdvcmsobmV0d29ya0luZm8pO1xyXG5cdH1cclxuXHRjb25zb2xlLmxvZygnY2hhaW5zOicsIGNoYWluSWQsIG5ldHdvcmtJbmZvLkNoYWluSWQpO1xyXG5cclxuXHRpZiAobmV0d29ya0luZm8uQ2hhaW5JZCAhPSBjaGFpbklkIHx8IHNob3dOZXR3b3JrKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0X25ldHdvcmsnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcxMjcuJykgIT0gLTEpIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldHdvcmtfbG9jYWxob3N0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHR9XHJcblx0XHRjb25zdCBvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldHdvcmtfY2hvb3NlcicpO1xyXG5cdFx0Zm9yIChsZXQgaT0wO2k8b3B0aW9ucy5sZW5ndGg7aSsrKSB7XHJcblx0XHRcdG9wdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnY2hhaW4gaWQ6JywgKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZCk7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IGNoYWluSWRIZXggPSBhd2FpdCBNb3JhbGlzLnN3aXRjaE5ldHdvcmsoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZClcclxuXHRcdFx0XHRcdC50aGVuKGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBNb3JhbGlzLlVzZXIubG9nT3V0KCk7XHJcblx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRhZGROZXR3b3JrVG9XYWxsZXQocGFyc2VJbnQoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZCkpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fWNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxubGV0IHVzZXIgPSBNb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG5jb25zb2xlLmxvZygndXNlcicsIHVzZXIpO1xyXG5cdGlmICh1c2VyID09IG51bGwpIHtcclxuXHRcdC8vdXNlciBpcyBub3QgbG9nZ2VkIGluLCBsZXRzIGxvZyB5b3UgaW5cclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbl91c2VyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xpY2tfdG9fbG9naW5fdXNlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0bG9naW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2V0dXBTdGVwcygpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQvKk1vcmFsaXMuYXV0aGVudGljYXRlKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xyXG5cdFx0XHRcdHNldHVwU3RlcHMoKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luX3VzZXJfZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdFx0fSkqL1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRhd2FpdCBLWUNVc2VySXNWYWxpZCgpO1xyXG5cdGNvbnNvbGUubG9nKCdJc1ZhbGlkS1lDOicsIElzVmFsaWRLWUMpO1xyXG5cdGlmICghSXNWYWxpZEtZQykge1xyXG5cclxuXHRcdC8vdXNlciBuZWVkcyB0byBkbyBreWNcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNfcmVnaXN0cmF0aW9uJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xpY2tfdG9fa3ljX3JlZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0cmVuZGVyKCdreWMnLCBudWxsLCBpbml0S1lDKTtcclxuXHRcdH0pXHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHJcblx0YVVzZEFtb3VudCA9IGF3YWl0IGdldEFVU0RBbW91bnQoKTtcclxuXHJcblx0aWYgKGFVc2RBbW91bnQgPCAxKSB7XHJcblx0XHQvL3Nob3cgZnVuZGluZyBzdGVwXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZF9hY2NvdW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9ub3RfcmVhZHknKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkX2F1c2RfdG9fd2FsbGV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRhd2FpdCBhZGRUb2tlblRvV2FsbGV0KE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkFVU0RfQUREUkVTUywgJ2FVU0QnKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdW5kVVNEQycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHQvL2Z1bmQgdXNkY1xyXG5cdFx0XHQvL3RyYW5zZmVyVVNEQygpO1xyXG5cdFx0fSk7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZEFVU0QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Ly8gZnVuZCBhdXNkLCBtb3JhbGlzXHJcblx0XHRcdGZ1bmRVc2VyKCk7XHJcblxyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvL2xldHMgYnV5IHNlY3VyaXRpZXNcclxuXHRjaGVja0JhbGFuY2VPZkFVc2QoKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZE5ldHdvcmtUb1dhbGxldCA9IGFzeW5jIGZ1bmN0aW9uKGNoYWluSWQgOiBudW1iZXIpIHtcclxuXHRsZXQgbmV0d29ya0luZm8gPSB0cnlHZXROZXR3b3JrKGNoYWluSWQpO1xyXG5cclxuXHRjb25zdCB3ZWIzID0gYXdhaXQgTW9yYWxpcy5lbmFibGVXZWIzKCk7XHJcblx0d2ViMy5wcm92aWRlci5yZXF1ZXN0KHtcclxuXHRcdG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcclxuXHRcdHBhcmFtczogW3tcclxuXHRcdFx0Y2hhaW5JZDogY2hhaW5JZCxcclxuXHRcdFx0Y2hhaW5OYW1lOiBuZXR3b3JrSW5mby5DaGFpbk5hbWUsXHJcblx0XHRcdG5hdGl2ZUN1cnJlbmN5OiB7XHJcblx0XHRcdFx0bmFtZTogbmV0d29ya0luZm8uTmF0aXZlQ3VycmVuY3lOYW1lLFxyXG5cdFx0XHRcdHN5bWJvbDogbmV0d29ya0luZm8uTmF0aXZlU3ltYm9sLFxyXG5cdFx0XHRcdGRlY2ltYWxzOiBuZXR3b3JrSW5mby5OYXRpdmVEZWNpbWFsXHJcblx0XHRcdH0sXHJcblx0XHRcdHJwY1VybHM6IFtuZXR3b3JrSW5mby5ScGNVcmxdLFxyXG5cdFx0XHRibG9ja0V4cGxvcmVyVXJsczogW25ldHdvcmtJbmZvLkJsb2NrRXhwbG9yZXJdXHJcblx0XHR9XVxyXG5cdH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG5cdFx0Y29uc29sZS5sb2coZXJyb3IpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgZnVuZFVzZXIgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRjb25zdCBwYXJhbXMgPSB7XHJcblx0XHRjaGFpbklkOiBNYWluLk5ldHdvcmtJbmZvLkNoYWluSWRcclxuXHR9O1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X25vdF9yZWFkeScpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHRNb3JhbGlzLkNsb3VkLnJ1bignZnVuZFVzZXInLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdHNob3dXYWl0aW5nRm9yRnVuZGluZygpO1xyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X25vdF9yZWFkeScpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0fSk7XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrTmF0aXZlVG9rZW5TdGF0dXMgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRjb25zdCBvcHRpb25zIDogYW55ID0geyBjaGFpbjogTWFpbi5OZXR3b3JrSW5mby5OYW1lIH07XHJcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgTW9yYWxpcy5XZWIzQVBJLmFjY291bnQuZ2V0TmF0aXZlQmFsYW5jZShvcHRpb25zKTtcclxuLy8wLjAwMjk5OFxyXG5cdGNvbnN0IGJhbGFuY2UgPSBwYXJzZUZsb2F0KE1vcmFsaXMuVW5pdHMuRnJvbVdlaShyZXN1bHQuYmFsYW5jZSwgMTgpKTtcclxuXHRpZiAoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IEFkZHJlc3NaZXJvICYmIGJhbGFuY2UgPCAwLjAwNSkge1xyXG5cdFx0c2hvd05lZWROYXRpdmVUb2tlbigpO1xyXG5cdH0gZWxzZSBpZiAoYmFsYW5jZSA8IDAuMDAwNykge1xyXG5cdFx0c2hvd05lZWROYXRpdmVUb2tlbigpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVlZF9uYXRpdmVfdG9rZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHNob3dOZWVkTmF0aXZlVG9rZW4gPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRjb25zdCB1c2VyID0gYXdhaXQgTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRfbmF0aXZlX3Rva2VuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXRpdmVfdG9rZW5fYWRkcmVzcycpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gYXdhaXQgdXNlci5nZXQoJ2V0aEFkZHJlc3MnKTtcclxuXHJcblx0c2V0VGltZW91dChjaGVja05hdGl2ZVRva2VuU3RhdHVzLCAyMCoxMDAwKTtcclxufVxyXG5cclxuY29uc3Qgc2V0dXBCdXlCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmNsYXNzTGlzdC5hZGQoJ2VuYWJsZWQnKTtcclxuXHRpZiAoSXNWYWxpZEtZQykge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5vbmNsaWNrID0gdHJhbnNmZXI7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnN0IHVzZXIgPSBNb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG5cdFx0aWYgKCF1c2VyKSB7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJUZXh0ID0gXCJMb2dpbiB1c2luZyBNZXRhbWFza1wiO1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0bG9naW4oc2V0dXBCdXlCdXR0b24pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVyVGV4dCA9ICdZb3UgbmVlZCB0byBkbyAoZmFrZSkgS1lDIGJlZm9yZSBidXlpbmcnO1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmVuZGVyKCdreWMnLCBudWxsLCBpbml0S1lDKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcbmNvbnN0IHNob3dXYWl0aW5nRm9yRnVuZGluZyA9IGZ1bmN0aW9uKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWl0aW5nX2Zvcl9mdW5kaW5nJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9zZWN1cml0aWVzX3dyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZF9hY2NvdW50Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9oZWFkbGluZScpLmlubmVySFRNTCA9IFwiTGV0J3MgcGxheS4uLiDwn5qA8J+agPCfmoBcIjtcclxuXHRsZXQgdGV4dCA9IFwiWW91IGN1cnJlbnRseSBoYXZlIDxzdHJvbmc+JFwiICsgcm91bmROdW1iZXIoYVVzZEFtb3VudCkgKyBcIiBhVVNEPC9zdHJvbmc+LlwiXHJcblx0XHQrIFwiIExldHMgdHJ5IGl0IGFueXdheS4gVHlwZSBpbiBhbnkgYW1vdW50IGluIHRoZSBib3ggYmVsb3cgYW5kIHNlbGVjdCBhIHN5bWJvbC5cIlxyXG5cdFx0KyBcIiBZb3Ugd2lsbCBzZWUgaG93IG1hbnkgc2hhcmVzIHlvdSB3aWxsIGdldCBmb3IgdGhhdCBhbW91bnRcIjtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3RleHQnKS5pbm5lckhUTUwgPSB0ZXh0O1xyXG5cclxuXHRjaGVja0JhbGFuY2VPZkFVc2QoKTtcclxufVxyXG5cclxuY29uc3QgY2hlY2tCYWxhbmNlT2ZBVXNkID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblxyXG5cdGFVc2RBbW91bnQgPSBhd2FpdCBnZXRBVVNEQW1vdW50KCk7XHJcblxyXG5cdGlmIChhVXNkQW1vdW50ID49IDEpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWl0aW5nX2Zvcl9mdW5kaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfaGVhZGxpbmUnKS5pbm5lckhUTUwgPSBcIkxldCdzIGJ1eSBzb21ldGhpbmchXCI7XHJcblx0XHRsZXQgdGV4dCA9IFwiWW91IGN1cnJlbnRseSBoYXZlIDxzdHJvbmc+JFwiICsgcm91bmROdW1iZXIoYVVzZEFtb3VudCkgKyBcIiBhVVNELjwvc3Ryb25nPlwiXHJcblx0XHRcdFx0KyBcIiBZb3UgY2FuIG5vdyBidXkgeW91ciBvd24gc2VjdXJpdGllcy5cIjtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfdGV4dCcpLmlubmVySFRNTCA9IHRleHQ7XHJcblx0XHR1cGRhdGVCdXlJbmZvKFN5bWJvbCk7XHJcblx0XHRzaG93VXNlV2FsbGV0Rm9yT3JkZXJzKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNldFRpbWVvdXQoYXdhaXQgY2hlY2tCYWxhbmNlT2ZBVXNkLCAzMCAqIDEwMDApO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc2hvd1VzZVdhbGxldEZvck9yZGVycyA9IGZ1bmN0aW9uKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtb3JkZXInKS5jbGFzc0xpc3QuYWRkKCdzaWRlYmFyJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV93YWxsZXRfZm9yX29yZGVycycpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3NlY3VyaXRpZXNfd3JhcHBlcicpLnN0eWxlLmRpc3BsYXk9J2lubGluZS1ibG9jayc7XHJcbn1cclxuXHJcblxyXG5jb25zdCBnZXRBVVNEQW1vdW50ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBNb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG5cdGlmICghdXNlcikgcmV0dXJuIDA7XHJcblxyXG5cdGNvbnN0IGV0aEFkZHJlc3MgPSBhd2FpdCB1c2VyLmdldCgnZXRoQWRkcmVzcycpO1xyXG5cdGNvbnN0IGF1c2RjT3B0aW9ucyA9IHtcclxuXHRcdGNvbnRyYWN0QWRkcmVzczogTWFpbi5Db250cmFjdEFkZHJlc3Nlc0luZm8uQVVTRF9BRERSRVNTLFxyXG5cdFx0ZnVuY3Rpb25OYW1lOiBcImJhbGFuY2VPZlwiLFxyXG5cdFx0YWJpOiBBVVNESW5mby5hYmksXHJcblx0XHRwYXJhbXM6IHtcclxuXHRcdFx0YWNjb3VudDogZXRoQWRkcmVzc1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGxldCBhbW91bnQgPSBhd2FpdCBNb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihhdXNkY09wdGlvbnMpLnRoZW4oYmFsYW5jZU9mID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKCdiYWxhbmNlT2Ygb2JqOicsIGJhbGFuY2VPZilcclxuXHJcblxyXG5cdFx0bGV0IGFtb3VudCA9IE1vcmFsaXMuVW5pdHMuRnJvbVdlaShiYWxhbmNlT2YgYXMgQmlnTnVtYmVyLCAxOCk7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkX2F1c2RfdG9fd2FsbGV0X21lbnUnKS5pbm5lckhUTUwgPSAnWW91IGhhdmUgJyArIHJvdW5kTnVtYmVyKHBhcnNlRmxvYXQoYW1vdW50KSkgKyAnIGFVU0QgaW4geW91ciBicm9rZXIgYWNjb3VudCc7XHJcblx0XHRyZXR1cm4gYW1vdW50O1xyXG5cdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0Y29uc29sZS5lcnJvcihlcnIpO1xyXG5cdH0pO1xyXG5cdHJldHVybiBhbW91bnQ7XHJcbn1cclxuXHJcbmNvbnN0IHNldHVwQXNzZXRzID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3Qtc3ltYm9sJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdGxvYWRTZWN1cml0aWVzTW9kYWwoZXZ0KTtcclxuXHR9KTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Ftb3VudCcpLm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR1cGRhdGVCdXlJbmZvKFN5bWJvbCk7XHJcblx0fVxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluZFN5bWJvbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRsb2FkU2VjdXJpdGllc01vZGFsKGV2dCk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkU2VjdXJpdGllc01vZGFsID0gYXN5bmMgZnVuY3Rpb24oZXZ0KSB7XHJcblx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsU2VjdXJpdGllcycpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFja2Ryb3AnKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsU2VjdXJpdGllcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KXtcclxuXHRcdGNvbnNvbGUubG9nKChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XHJcblx0XHRpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkID09ICdtb2RhbFNlY3VyaXRpZXMnIHx8IChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCA9PSAnY2xvc2VNb2RhbCcpIHtcclxuXHRcdFx0aGlkZU1vZGFsU2VjdXJpdGllcygpO1xyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdHJlbmRlcignc2VjdXJpdGllcycsIG51bGwsIGZ1bmN0aW9uKCkge2xvYWRTZWN1cml0aWVzKHRydWUpfSwgJ21vZGFsLWJvZHknKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoaWRlTW9kYWxTZWN1cml0aWVzID0gZnVuY3Rpb24oKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsU2VjdXJpdGllcycpLnN0eWxlLmRpc3BsYXk9J25vbmUnO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZHJvcCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnO1xyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGdldFN5bWJvbFByaWNlID0gYXN5bmMgZnVuY3Rpb24gKGV2dD8gOiBFdmVudCkge1xyXG5cdGlmIChldnQpIHtcclxuXHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH1cclxuXHJcblx0aWYgKFN5bWJvbCA9PT0gJycpIHtcclxuXHRcdGFzc2V0UHJpY2UgPSAwO1xyXG5cdFx0bGFzdFRyYWRlZCA9ICcnO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0b2ZmSG91cnNJbmZvKCk7XHJcblx0U2VsZWN0ZWRTeW1ib2xBZGRyZXNzID0gYXdhaXQgZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKFN5bWJvbCk7XHJcblx0Y29uc29sZS5sb2coJ2NvbnRyYWN0QWRkcmVzc3M6JywgU2VsZWN0ZWRTeW1ib2xBZGRyZXNzKTtcclxuXHRpZiAoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IEFkZHJlc3NaZXJvKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVySFRNTCA9IFwiQ3JlYXRlIHRva2VuICYgZXhlY3V0ZSB0cmFkZVwiO1xyXG5cdFx0Ly9UT0RPIGZvciBzYW5kYm94IGxldHMgbm90IHNob3cgdGhpcywgYnV0IGZvciBsaXZlIHdlIG5lZWQgdG8gc2hvdy5cclxuXHRcdC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10b2tlbi1pbmZvJykuc3R5bGUuZGlzcGxheT0nYmxvY2snO1xyXG5cdFx0Ly9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRva2VuLWluZm8nKS5pbm5lckhUTUwgPSBcIjxkaXYgPldlIHdpbGwgbmVlZCB0byBjcmVhdGUgdGhlIHRva2VuIHdoZW4geW91IGJ1eSBpdC4gU2luY2UgeW91IGFyZSB0aGUgZmlyc3Qgb25lIHRvIGJ1eSB0aGlzIHN5bWJvbCwgdGhpcyB3aWxsIGluY3VyZSBleHRyYSBjb3N0LiBJdCdzIGEgbG93IGNvc3Q8L2Rpdj5cIjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lckhUTUwgPSBcIkV4ZWN1dGUgdHJhZGVcIjtcclxuXHRcdGFkZFRva2VuTGluayhTeW1ib2wsIFNlbGVjdGVkU3ltYm9sQWRkcmVzcyk7XHJcblx0fVxyXG5cclxuXHRhd2FpdCBsb2FkQXNzZXRQcmljZSgpO1xyXG5cdHVwZGF0ZUJ1eUluZm8oU3ltYm9sKTtcclxufVxyXG5cclxuY29uc3QgbG9hZEFzc2V0UHJpY2UgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHJcblx0Y29uc3QgcGFyYW1zID0ge1xyXG5cdFx0c3ltYm9sOiBTeW1ib2xcclxuXHR9O1xyXG5cdHJldHVybiBhd2FpdCBNb3JhbGlzLkNsb3VkLnJ1bihcImdldFN5bWJvbFByaWNlXCIsIHBhcmFtcykudGhlbihmdW5jdGlvbiAoanNvblJlc3VsdCkge1xyXG5cdFx0YXNzZXRQcmljZSA9IGpzb25SZXN1bHQudHJhZGUucDtcclxuXHRcdGxhc3RUcmFkZWQgPSBqc29uUmVzdWx0LnRyYWRlLnQ7XHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTeW1ib2xDb250cmFjdEFkZHJlc3MgPSBhc3luYyBmdW5jdGlvbihzeW1ib2wpIHtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3VyaXR5VG9rZW5PcHRpb25zID0ge1xyXG5cdFx0XHRjb250cmFjdEFkZHJlc3M6IE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkxJTUlOQUxfTUFSS0VUX0FERFJFU1MsXHJcblx0XHRcdGZ1bmN0aW9uTmFtZTogXCJnZXRTZWN1cml0eVRva2VuXCIsXHJcblx0XHRcdGFiaTogTGltaW5hbE1hcmtldEluZm8uYWJpLFxyXG5cdFx0XHRwYXJhbXM6IHtcclxuXHRcdFx0XHRzeW1ib2w6IHN5bWJvbFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGF3YWl0IE1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKHNlY3VyaXR5VG9rZW5PcHRpb25zKTtcclxuXHJcbn1cclxuXHJcbmNvbnN0IG9mZkhvdXJzSW5mbyA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cdGF3YWl0IGlzTWFya2V0T3BlbigpO1xyXG5cclxuXHRpZiAoIUlzTWFya2V0T3BlbiAmJiAhVXNlcklzT2ZmSG91cnMpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZmZIb3Vyc0luZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJIVE1MID0gRXhlY3V0ZVRyYWRlT2ZmSG91cnNUeHQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZmZIb3Vyc0luZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lckhUTUwgPSAnRXhlY3V0ZSB0cmFkZSc7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgYWRkVG9rZW5MaW5rID0gZnVuY3Rpb24oc3ltYm9sLCBjb250cmFjdEFkZHJlc3MpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRva2VuLWluZm8nKS5zdHlsZS5kaXNwbGF5PSdub25lJztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRUb2tlbkxpbmtCb3R0b20gPSBhc3luYyBmdW5jdGlvbihzeW1ib2wsIGNvbnRyYWN0QWRkcmVzcykge1xyXG5cdGNvbnN0IGFzc2V0ID0gYXdhaXQgZ2V0QXNzZXRCeVN5bWJvbChzeW1ib2wpO1xyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTmV3VG9rZW5Ub1dhbGxldCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9rZW5Mb2dvJykgYXMgSFRNTEltYWdlRWxlbWVudCkuc3JjID0gJy9pbWcvbG9nb3MvJyArIGFzc2V0LkxvZ287XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZE5ld1Rva2VuVGV4dCcpLmlubmVySFRNTCA9ICdBZGQgJyArIHN5bWJvbCArICcgdG8geW91ciB3YWxsZXQuJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTmV3VG9rZW4nKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKGV2dCkge1xyXG5cdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRhd2FpdCBhZGRUb2tlblRvV2FsbGV0KGNvbnRyYWN0QWRkcmVzcywgc3ltYm9sKTtcclxuXHR9O1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVCdXlJbmZvID0gYXN5bmMgZnVuY3Rpb24gKHN5bWJvbCA6IHN0cmluZywgbmFtZT8gOiBzdHJpbmcsIGxvZ28/IDogc3RyaW5nKSB7XHJcblx0aWYgKCFzeW1ib2wpIHJldHVybjtcclxuXHRsZXQgYnV5QW1vdW50ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfYW1vdW50JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0aWYgKGJ1eUFtb3VudCA9PT0gJycgfHwgYXNzZXRQcmljZSA9PSBudWxsKSByZXR1cm47XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfc3VjY2Vzc19tZXNzYWdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRsZXQgc3RyID0gJ0VzdGltYXRlZCB5b3Ugd2lsbCBidXkgJyArIHJvdW5kTnVtYmVyKHBhcnNlRmxvYXQoYnV5QW1vdW50KSAvIGFzc2V0UHJpY2UpICsgJyBzaGFyZXMgYXQgdGhlIHByaWNlIG9mICQnICsgYXNzZXRQcmljZSArICcgcGVyIHNoYXJlLiAnO1xyXG5cdHN0ciArPSAnTGFzdCB0cmFkZSB3YXMgJyArIChuZXcgRGF0ZShsYXN0VHJhZGVkKSkudG9Mb2NhbGVTdHJpbmcoKTtcclxuXHRpZiAoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IEFkZHJlc3NaZXJvKSB7XHJcblx0XHRzdHIgKz0gJzxiciAvPjxzcGFuIGNsYXNzPVwic21hbGxfcHJpbnRcIj5TaW5jZSB5b3UgYXJlIHRoZSBmaXJzdCBvbmUgdG8gYnV5ICcgKyBzeW1ib2wgKyBcIiB5b3Ugd2lsbCBiZSBhc2tlZCB0byBjcmVhdGUgdGhlIHRva2VuIGZpcnN0LCB0aGVuIHdlJ2xsIGV4ZWN1dGUgdGhlIHRyYWRlPC9zcGFuPlwiO1xyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eS1pbmZvJykuaW5uZXJIVE1MID0gc3RyO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXktaW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdGNoZWNrVG9rZW5WYWx1ZVZzQnV5QW1vdW50KCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tUb2tlblZhbHVlVnNCdXlBbW91bnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9kYW5nZXJfbWVzc2FnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0bGV0IGJ1eUFtb3VudCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Ftb3VudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cclxuXHR2YXIgdXNlciA9IE1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcblx0aWYgKCF1c2VyKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Rhbmdlcl9tZXNzYWdlJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRsZXQgc3RyID0gJ1lvdSBhcmUgbm90IGxvZ2dlZCBpbi4gTG9naW4gaW4gdGhlIG1lbnUgYXQgdG9wLic7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Rhbmdlcl9tZXNzYWdlJykuaW5uZXJIVE1MID0gc3RyO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuY2xhc3NMaXN0LnJlbW92ZSgnZW5hYmxlZCcpO1xyXG5cclxuXHRpZiAoYVVzZEFtb3VudCA8IGJ1eUFtb3VudCkge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9kYW5nZXJfbWVzc2FnZScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9kYW5nZXJfbWVzc2FnZScpLmlubmVySFRNTCA9IFwiWW91IGRvbid0IGhhdmUgZW5vdWdoIGFVU0QgdG9rZW5zIGluIHlvdXIgd2FsbGV0LlwiO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRjaGVja05hdGl2ZVRva2VuU3RhdHVzKCk7XHJcblx0YXdhaXQgc2V0dXBCdXlCdXR0b24oKTtcclxufTtcclxuXHJcblxyXG5jb25zdCBzaG93UHJvZ3Jlc3NTdGVwID0gYXN5bmMgZnVuY3Rpb24gKHRleHQgOiBzdHJpbmcsIHBlcmMgOiBudW1iZXIsIHdhcm5pbmc/IDogYm9vbGVhbikge1xyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3Byb2dyZXNzJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlpbmdfc3RlcHMnKTtcclxuXHRlbGVtZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NfdGV4dFwiPicgKyB0ZXh0ICsgJzwvZGl2Pic7XHJcblx0ZWxlbWVudC5zdHlsZS53aWR0aCA9IHBlcmMgKyAnJSc7XHJcblxyXG5cdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgncHJvZ3Jlc3MtYmFyLXN0cmlwZWQnLCAocGVyYyAhPSAxMDApKTtcclxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3Byb2dyZXNzLWJhci1hbmltYXRlZCcsIChwZXJjICE9IDEwMCkpO1xyXG5cdGlmICh3YXJuaW5nKSB7XHJcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JnLXdhcm5pbmcnKTtcclxuXHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJvZ3Jlc3NfdGV4dF9hdHRuJyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmctd2FybmluZycpO1xyXG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9ncmVzc190ZXh0X2F0dG4nKTtcclxuXHR9XHJcblxyXG59O1xyXG5cclxuY29uc3QgaGlkZVByb2Nlc3NTdGVwID0gZnVuY3Rpb24oKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9wcm9ncmVzcycpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJztcclxufTtcclxuXHJcblxyXG5cclxuY29uc3QgdHJhbnNmZXIgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgYnV5QW1vdW50ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfYW1vdW50JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblx0aWYgKFN5bWJvbCA9PT0gJycgfHwgYnV5QW1vdW50ID09PSAnJykgcmV0dXJuO1xyXG5cclxuXHRpZiAoIWNoZWNrVG9rZW5WYWx1ZVZzQnV5QW1vdW50KCkpIHJldHVybiBmYWxzZTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLnN0eWxlLmRpc3BsYXk9J25vbmUnO1xyXG5cclxuXHRpZihTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPT0gbnVsbCkge1xyXG5cdFx0U2VsZWN0ZWRTeW1ib2xBZGRyZXNzID0gYXdhaXQgZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKFN5bWJvbCk7XHJcblx0fVxyXG5cclxuXHRpZiAoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IEFkZHJlc3NaZXJvKSB7XHJcblxyXG5cdFx0c2hvd1Byb2dyZXNzU3RlcCgnRmlyc3Qgd2UgbmVlZCB0byBjcmVhdGUgdG9rZW4sIHlvdSBuZWVkIHRvIGNvbmZpcm0nLCA5OSk7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgY2hlY2tUb1Nob3dNZXRhbWFza0ljb24oJ0ZpcnN0IHdlIG5lZWQnKSB9LCAoMTAgKiAxMDAwKSk7XHJcblxyXG5cdFx0bGV0IHR4UmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUNyZWF0ZVRva2VuKFN5bWJvbCkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdGhpZGVQcm9jZXNzU3RlcCgpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH0pO1xyXG5cdFx0aWYodHhSZXN1bHQgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKHR4UmVzdWx0KTtcclxuXHRcdGlmICh0eFJlc3VsdC5ldmVudHMuVG9rZW5DcmVhdGVkKSB7XHJcblx0XHRcdFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IHR4UmVzdWx0LmV2ZW50cy5Ub2tlbkNyZWF0ZWQucmV0dXJuVmFsdWVzLnRva2VuQWRkcmVzcztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnNvbGUubG9nKCdyZWNpcGVudCcsIFNlbGVjdGVkU3ltYm9sQWRkcmVzcyk7XHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybykgcmV0dXJuO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJIVE1MID0gXCJFeGVjdXRlIHRyYWRlXCI7XHJcblx0bGV0IHdhaXRpbmdTdHIgPSAnV2FpdGluZyBvbiBhcHByb3ZhbCB0byBleGVjdXRlIHRvIGJ1eSAnO1xyXG5cdHNob3dQcm9ncmVzc1N0ZXAod2FpdGluZ1N0ciArIFN5bWJvbCArICcgZm9yICQnICsgYnV5QW1vdW50ICsgJy4nLCA5OSk7XHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNoZWNrVG9TaG93TWV0YW1hc2tJY29uKHdhaXRpbmdTdHIpIH0sIDEwICogMTAwMCk7XHJcblxyXG5cclxuXHRhd2FpdCBzdWJzY3JpYmVUb1RhYmxlKCk7XHJcblxyXG5cdHZhciBidXlSZXN1bHQgPSBhd2FpdCBleGVjdXRlQnV5KFNlbGVjdGVkU3ltYm9sQWRkcmVzcywgcGFyc2VGbG9hdChidXlBbW91bnQpKTtcclxuXHRpZiAoYnV5UmVzdWx0ID09IG51bGwpIHtcclxuXHRcdGhpZGVQcm9jZXNzU3RlcCgpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc29sZS5sb2coJ2J1eVJlc3VsdCcsIGJ1eVJlc3VsdCk7XHJcblxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRva2VuLWluZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuXHJcbn07XHJcbmNvbnN0IHN1YnNjcmliZVRvVGFibGUgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRjb25zb2xlLmxvZygnc3Vic2NyaWJlIHRvIHRhYmxlOicgKyBnZXRPcmRlckJ1eVRhYmxlUHJlZml4KCkgKyAnT3JkZXJCdXknKTtcclxuXHJcblx0bGV0IHF1ZXJ5ID0gbmV3IE1vcmFsaXMuUXVlcnkoZ2V0T3JkZXJCdXlUYWJsZVByZWZpeCgpICsgJ09yZGVyQnV5Jyk7XHJcblx0bGV0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHF1ZXJ5LnN1YnNjcmliZSgpO1xyXG5cclxuXHRzdWJzY3JpcHRpb24ub24oJ3VwZGF0ZScsIChyZXNwb25zZSkgPT4ge1xyXG5cdFx0Y29uc3Qgb2JqZWN0ID0gcmVzcG9uc2UudG9KU09OKCk7XHJcblx0XHRjb25zb2xlLmxvZygnb2JqZWN0IHVwZGF0ZWQnLCBKU09OLnN0cmluZ2lmeShvYmplY3QpLCBvYmplY3QpO1xyXG5cdFx0bGV0IGV0aExpbmsgPSAnIDxhIGNsYXNzPVwid2hpdGUtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3JpbmtlYnkuZXRoZXJzY2FuLmlvL3R4LycgKyBvYmplY3QudHJhbnNhY3Rpb25faGFzaCArICdcIj5WaWV3IHRyYW5zYWN0aW9uPC9hPic7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ3N0YXR1czonLCBvYmplY3Quc3RhdHVzKTtcclxuXHRcdGlmIChvYmplY3QudG9rZW5BZGRyZXNzKSB7XHJcblx0XHRcdGFkZFRva2VuTGlua0JvdHRvbShTeW1ib2wsIFNlbGVjdGVkU3ltYm9sQWRkcmVzcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCghb2JqZWN0LnN0YXR1cyAmJiBvYmplY3QuY29uZmlybWVkKSB8fCBvYmplY3Quc3RhdHVzID09ICdtb25leV9zZW50Jykge1xyXG5cdFx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdCbG9ja2NoYWluIGhhcyBjb25maXJtZWQsIG1vbmV5IGhhcyBiZWVuIHNlbnQgdG8gYnJva2VyLicgKyBldGhMaW5rLCA1NilcclxuXHRcdFx0Ly9ibG9ja2NoYWluIGhhcyBjb25maXJtZWQsIG1vbmV5IHdpbGwgYXJyaXZlIHNvb24gdG8gYnJva2VyXHJcblx0XHR9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ21vbmV5X2Fycml2ZWQnKSB7XHJcblx0XHRcdHNob3dQcm9ncmVzc1N0ZXAoJ01vbmV5IGhhcyBhcnJpdmVkLCB3aWxsIG5vdyBleGVjdXRlIHlvdXIgYnV5IG9yZGVyLicgKyBldGhMaW5rLCA3MClcclxuXHRcdFx0Ly9tb25leSBoYXMgYXJyaXZlZCB0byBicm9rZXIsIHdlIHdpbGwgbm93IGV4ZWN1dGUgeW91ciBvcmRlclxyXG5cdFx0fSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdvcmRlcl9yZXF1ZXN0ZWQnKSB7XHJcblx0XHRcdC8vb3JkZXIgaGFzIGJlZW4gZXhlY3V0ZWQsIHdlIGFyZSB3YWl0aW5nIG9uIHJlc3BvbnNlIGZyb20gdGhlIHN0b2NrIGV4Y2hhbmdlXHJcblx0XHRcdHNob3dQcm9ncmVzc1N0ZXAoJ0J1eSBvcmRlciBoYXMgYmVlbiBleGVjdXRlZC4gV2Ugd2lsbCB1cGRhdGUgeW91IHdoZW4gaXQgaGFzIGJlZW4gZmlsbGVkLicgKyBldGhMaW5rLCA4NClcclxuXHRcdH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfZmlsbGVkJykge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5LWluZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHQvL29yZGVyIGhhcyBiZWVuIGZpbGxlZCwgeW91IGdvdCBvYmplY3QuZmlsbGVkUXR5IG9mIHNoYXJlcy4gWW91IHdpbGwgc2VlIGl0IHNvb24gaW4geW91ciB3YWxsZXRcclxuXHRcdFx0c2hvd1Byb2dyZXNzU3RlcCgnT3JkZXIgaGFzIGJlZW4gZmlsbGVkLCB5b3Ugd2lsbCByZWNpZXZlICcgKyBvYmplY3QuZmlsbGVkUXR5ICsgJyAnICsgU3ltYm9sICsgJyBzb29uIGludG8geW91ciB3YWxsZXQuJyArIGV0aExpbmssIDEwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdXYWl0aW5nIGZvciBibG9ja2NoYWluIHRvIGNvbmZpcm0gdHJhbnNhY3Rpb24uJywgOTkpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IGdldE9yZGVyQnV5VGFibGVQcmVmaXggPSBmdW5jdGlvbigpIHtcclxuXHRpZiAoTWFpbi5OZXR3b3JrSW5mby5DaGFpbklkID09IDQzMTEzKSByZXR1cm4gXCJGdWppXCI7XHJcblx0cmV0dXJuIFwiXCI7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja1RvU2hvd01ldGFtYXNrSWNvbiA9IGZ1bmN0aW9uKHR4dCA6IHN0cmluZykge1xyXG5cdC8vV2FpdGluZyBvbiBhcHByb3ZhbCB0byBleGVjdXRlXHJcblx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfcHJvZ3Jlc3MnKS5zdHlsZS5kaXNwbGF5ICE9IFwibm9uZVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlpbmdfc3RlcHMnKS5pbm5lclRleHQuaW5kZXhPZih0eHQpICE9IC0xKSB7XHJcblx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdIZXkgSG8hIElzIE1ldGFtYXNrIGJlIHdhaXRpbmcgZm9yIHlvdT88YnIgLz5DaGVjayB0b3AgcmlnaHQgY29ybmVyIG9mIHlvdXIgYnJvd3NlciA8aW1nIHNyYz1cIi9pbWcvbWV0YW1hc2stcGVuZGluZy5wbmdcIi8+JywgOTksIHRydWUpO1xyXG5cdH1cclxuXHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGJsb2Nrc2hhaW5TbG93TWVzc2FnZSgpOyB9LCA4ICogMTAwMClcclxufVxyXG5cclxuY29uc3QgYmxvY2tzaGFpblNsb3dNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3Byb2dyZXNzJykuc3R5bGUuZGlzcGxheSAhPSBcIm5vbmVcIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5aW5nX3N0ZXBzJykuaW5uZXJUZXh0LmluZGV4T2YoJ0hleSBIbyEnKSAhPSAtMSkge1xyXG5cdFx0c2hvd1Byb2dyZXNzU3RlcCgnSWYgeW91IGhhdmUgYWxyZWFkeSBhcHByb3ZlZCwgbWF5YmUgYmxvY2tjaGFpbiBpcyBzbG93LiBMZXRzIGdpdmUgaXQgYSBiaXQuIEp1c3QgZG91YmxlIGNoZWNrIGZvciA8aW1nIHNyYz1cIi9pbWcvbWV0YW1hc2stcGVuZGluZy5wbmdcIi8+JywgOTksIHRydWUpO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG5jb25zdCBleGVjdXRlQnV5ID0gYXN5bmMgZnVuY3Rpb24ocmVjaXBpZW50IDogc3RyaW5nLCBidXlBbW91bnQgOiBudW1iZXIpIHtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgbGltaW5hbE9wdGlvbnMgPSB7XHJcblx0XHRcdGNvbnRyYWN0QWRkcmVzczogTWFpbi5Db250cmFjdEFkZHJlc3Nlc0luZm8uQVVTRF9BRERSRVNTLFxyXG5cdFx0XHRmdW5jdGlvbk5hbWU6IFwidHJhbnNmZXJcIixcclxuXHRcdFx0YWJpOiBBVVNESW5mby5hYmksXHJcblx0XHRcdHBhcmFtczoge1xyXG5cdFx0XHRcdHJlY2lwaWVudDogcmVjaXBpZW50LFxyXG5cdFx0XHRcdGFtb3VudDogTW9yYWxpcy5Vbml0cy5Ub2tlbihidXlBbW91bnQsIDE4KVxyXG5cdFx0XHR9LFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gYXdhaXQgTW9yYWxpcy5leGVjdXRlRnVuY3Rpb24obGltaW5hbE9wdGlvbnMpO1xyXG5cdH0gY2F0Y2ggKGV4KSB7XHJcblx0XHRjb25zb2xlLmxvZyhleCk7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBleGVjdXRlQ3JlYXRlVG9rZW4gPSBhc3luYyBmdW5jdGlvbihzeW1ib2wgOiBzdHJpbmcpIHtcclxuXHJcblx0Y29uc3QgbGltaW5hbE9wdGlvbnMgPSB7XHJcblx0XHRjb250cmFjdEFkZHJlc3M6IE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkxJTUlOQUxfTUFSS0VUX0FERFJFU1MsXHJcblx0XHRmdW5jdGlvbk5hbWU6IFwiY3JlYXRlVG9rZW5cIixcclxuXHRcdGFiaTogTGltaW5hbE1hcmtldEluZm8uYWJpLFxyXG5cdFx0cGFyYW1zOiB7XHJcblx0XHRcdHN5bWJvbDogc3ltYm9sXHJcblx0XHR9LFxyXG5cdH07XHJcblxyXG5cdHJldHVybiBhd2FpdCBNb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihsaW1pbmFsT3B0aW9ucyk7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldFNlbGVjdGVkU3ltYm9sQW5kQWRkcmVzcyA9IGZ1bmN0aW9uKHN5bWJvbCA6IHN0cmluZywgYWRkcmVzcyA6IHN0cmluZykge1xyXG5cdFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IGFkZHJlc3M7XHJcblx0U3ltYm9sID0gc3ltYm9sO1xyXG5cclxuXHRnZXRTeW1ib2xQcmljZSgpO1xyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/buy.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("825dd0cbc351cc9215d9")
/******/ })();
/******/ 
/******/ }
);