/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/
(() => { // webpackBootstrap
    /******/
    "use strict";
    /******/
    var __webpack_modules__ = ({

        /***/ "./src/main.ts":
        /*!***********************************!*\
          !*** ./src/main.ts + 162 modules ***!
          \***********************************/
        /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

            eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n;// CONCATENATED MODULE: ./src/networks/Network.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass Network {\r\n    constructor() {\r\n        this.ServerUrl = \"\";\r\n        this.AppId = \"\";\r\n        this.ChainId = 0;\r\n        this.Name = \"\";\r\n        this.ChainName = '';\r\n        this.NativeCurrencyName = \"\";\r\n        this.NativeSymbol = \"\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = '';\r\n        this.BlockExplorer = '';\r\n        this.TestNetwork = true;\r\n        this.FaucetUrl = '';\r\n        this.BuyUrl = '';\r\n        if (window.location.host.indexOf('localhost') != -1) {\r\n            this.ServerUrl = \"https://dqet8dfymvzj.usemoralis.com:2053/server\";\r\n            this.AppId = \"TXR6YesK99VgRCxSecnySRMp1KI5rLnCfIetQuuU\";\r\n        }\r\n        //else\r\n        {\r\n            this.ServerUrl = \"https://f8t1vrrwtboa.usemoralis.com:2053/server\";\r\n            this.AppId = \"XZhp3wQobrKiCib0Bf4FPVKAUhbHM9SvTLKOKvBb\";\r\n        }\r\n    }\r\n    addNetworkToWallet(moralis) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const web3 = yield moralis.enableWeb3();\r\n            if (!web3 || !web3.provider.request)\r\n                return;\r\n            web3.provider.request({\r\n                method: 'wallet_addEthereumChain',\r\n                params: [{\r\n                        chainId: '0x' + this.ChainId.toString(16),\r\n                        chainName: this.ChainName,\r\n                        nativeCurrency: {\r\n                            name: this.NativeCurrencyName,\r\n                            symbol: this.NativeSymbol,\r\n                            decimals: this.NativeDecimal\r\n                        },\r\n                        rpcUrls: [this.RpcUrl],\r\n                        blockExplorerUrls: [this.BlockExplorer]\r\n                    }]\r\n            }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    }\r\n    hasEnoughNativeTokens(moralis) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            //TODO: remove later, Moralis doesnt support getNativeBalance on localhost so it's always true\r\n            if (this.Name == 'localhost') {\r\n                return true;\r\n            }\r\n            else {\r\n                const options = { chain: '0x' + this.ChainId.toString(16) };\r\n                const result = yield moralis.Web3API.account.getNativeBalance(options);\r\n                const balance = parseFloat(Moralis.Units.FromWei(result.balance, 18));\r\n                if (balance < 0.005) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/localhost-network.ts\n\r\n//localhost\r\nclass localhostNetwork extends Network {\r\n    constructor() {\r\n        super();\r\n        this.ChainId = 31337;\r\n        this.Name = \"localhost\";\r\n        this.ChainName = 'localhost test';\r\n        this.NativeCurrencyName = \"Ethereum\";\r\n        this.NativeSymbol = \"ETH\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = 'https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161';\r\n        this.BlockExplorer = 'https://rinkeby.etherscan.io';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/mumbai-network.ts\n\r\nclass mumbaiNetwork extends Network {\r\n    constructor() {\r\n        super();\r\n        this.ChainId = 80001;\r\n        this.Name = \"mumbai\";\r\n        this.ChainName = 'Polygon Mumbai';\r\n        this.NativeCurrencyName = \"Matic\";\r\n        this.NativeSymbol = \"MATIC\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = 'https://matic-mumbai.chainstacklabs.com/';\r\n        this.BlockExplorer = 'https://mumbai.polygonscan.com/';\r\n        this.FaucetUrl = 'https://faucet.polygon.technology/';\r\n        this.BuyUrl = 'https://www.moonpay.com/buy/matic';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/CookieHelper.ts\nclass CookieHelper {\r\n    constructor(document) {\r\n        this.setCookieNetwork = (name) => {\r\n            this.setCookie(\"network\", name);\r\n        };\r\n        this.document = document;\r\n    }\r\n    setCookie(name, value) {\r\n        let date = new Date();\r\n        this.document.cookie = name + \"=\" + value + \"; expires=Mon, 2 Dec 2024 12:00:00 UTC;path=/;SameSite=Strict\";\r\n    }\r\n    getCookieValue(name) {\r\n        var _a;\r\n        return ((_a = this.document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)')) === null || _a === void 0 ? void 0 : _a.pop()) || '';\r\n    }\r\n    setCookieProvider(providerName) {\r\n        this.setCookie(\"provider\", providerName);\r\n    }\r\n    deleteCookie(name) {\r\n        this.document.cookie = name + \"=0; expires=Mon, 2 Dec 2020 12:00:00 UTC;path=/\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/NetworkInfo.ts\n\r\n\r\n\r\nconst networkInfos = [localhostNetwork, mumbaiNetwork];\r\nclass NetworkInfo {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    static getInstance() {\r\n        if (NetworkInfo.instance)\r\n            return NetworkInfo.instance;\r\n        if (typeof ethereum != 'undefined' && ethereum && ethereum.chainId) {\r\n            let networkInfo = this.getNetworkInfoByChainId(ethereum.chainId);\r\n            if (networkInfo) {\r\n                NetworkInfo.instance = networkInfo;\r\n                return NetworkInfo.instance;\r\n            }\r\n        }\r\n        NetworkInfo.instance = this.getNetworkInfo();\r\n        return NetworkInfo.instance;\r\n    }\r\n    static loadNetwork(networkName) {\r\n        NetworkInfo.instance = this.getNetworkInfo(networkName);\r\n    }\r\n    static setNetworkByChainId(chainId) {\r\n        let network = this.getNetworkInfoByChainId(chainId);\r\n        if (network) {\r\n            NetworkInfo.instance = network;\r\n        }\r\n    }\r\n    static getNetworks() {\r\n        let networks = new Array();\r\n        let isLocalhost = window.location.host.indexOf('localhost') != -1;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (!isLocalhost && tmp.Name == \"localhost\")\r\n                return;\r\n            networks.push(tmp);\r\n        });\r\n        return networks;\r\n    }\r\n    static getNetworkInfoByChainId(chainId) {\r\n        let networkInfo;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (tmp.ChainId == chainId) {\r\n                networkInfo = tmp;\r\n            }\r\n        });\r\n        return networkInfo;\r\n    }\r\n    static getNetworkInfo(networkName) {\r\n        let cookieHelper = new CookieHelper(document);\r\n        //if (window.location.host.indexOf('localhost')) networkName = 'localhost'\r\n        if (!networkName)\r\n            networkName = cookieHelper.getCookieValue('network');\r\n        if (!networkName)\r\n            networkName = 'mumbai';\r\n        let networkInfo = null;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (tmp.Name == networkName) {\r\n                networkInfo = tmp;\r\n            }\r\n        });\r\n        if (networkInfo)\r\n            return networkInfo;\r\n        cookieHelper.setCookieNetwork('mumbai');\r\n        console.error(\"Network '\" + networkName + \"' could not be found. Defaulting to Mumbai network.\");\r\n        return new mumbaiNetwork();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/ConnectionService.ts\nvar ConnectionService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass ConnectionService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n        this.options = { serverUrl: '', appId: '' };\r\n    }\r\n    getOptions() {\r\n        return this.options;\r\n    }\r\n    start() {\r\n        return ConnectionService_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            this.options = { serverUrl: networkInfo.ServerUrl, appId: networkInfo.AppId };\r\n            yield this.moralis.start(this.options).catch(function (err) {\r\n                if (err.message.indexOf('Invalid session token') != -1) {\r\n                    Moralis.User.logOut();\r\n                }\r\n                ;\r\n            });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/MarketService.ts\nvar MarketService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass MarketService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n    }\r\n    isMarketOpen() {\r\n        return MarketService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('isOpen');\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/GeneralError.ts\nclass GeneralError extends Error {\r\n    constructor(e) {\r\n        super();\r\n        this.code = 0;\r\n        this.stack = \"\";\r\n        if (!e.message) {\r\n            this.message = e.toString();\r\n        }\r\n        else if (e.message.data) {\r\n            this.code = e.message.data.code;\r\n            this.message = e.message.data.message;\r\n            this.error = e;\r\n            this.headers = e.message.headers;\r\n            this.stack = e.stack;\r\n        }\r\n        else if (typeof (e.data) == 'object') {\r\n            this.code = e.data.code;\r\n            this.message = e.data.message;\r\n            this.stack = e.stack;\r\n        }\r\n        else if (e.message) {\r\n            this.message = e.message;\r\n        }\r\n        else {\r\n            this.message = e.toString();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/WrongNetwork.html\n// Module\nvar code = \"<div id=\\\"switchNetworkInfo\\\">\\r\\n    You are using wrong network in your wallet.\\r\\n    You can choose any of these networks.\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{#each networks}}\\r\\n        <button href=\\\"\\\" class=\\\"setNetwork\\\"\\r\\n                data-chainid=\\\"{{ChainId}}\\\">{{ChainName}}\\r\\n        </button>\\r\\n        {{/each}}\\r\\n    </div>\\r\\n</div>\\r\\n<div id=\\\"jsSwitchNetworkNotWorking\\\" class=\\\"d-none\\\">\\r\\n    It seem as we can't add the network automatically for your, so you need to add it your self.\\r\\n    This is the information you need to add the network. You will need to figure out where to\\r\\n    add new network for your wallet, as it difference between wallets.\\r\\n    <form>\\r\\n        <label>ChainId:\\r\\n            <input id=\\\"switchChainId\\\"/>\\r\\n        </label>\\r\\n        <label>Chain name\\r\\n            <input id=\\\"switchChainName\\\"/>\\r\\n        </label>\\r\\n        <label>Currency name\\r\\n            <input id=\\\"switchCurrencyName\\\"/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Symbol\\r\\n            <input id=\\\"switchSymbol\\\"/>\\r\\n        </label>\\r\\n        <label>Decimal\\r\\n            <input id=\\\"switchDecimal\\\"/>\\r\\n        </label>\\r\\n        <label>Rpc Url\\r\\n            <input id=\\\"switchRpcUrl\\\"/>\\r\\n        </label>\\r\\n    </form>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const WrongNetwork = (code);\n;// CONCATENATED MODULE: ./src/html/modal/Modal.html\n// Module\nvar Modal_code = \"<dialog id=\\\"liminal_market_modal_div\\\" data-title=\\\"{{{title}}}\\\">\\r\\n    <article>\\r\\n        <header>\\r\\n            <span>{{title}}</span>\\r\\n            <a href=\\\"#close\\\" aria-label=\\\"Close\\\" class=\\\"close\\\" id=\\\"liminal_market_modal_close\\\"></a>\\r\\n        </header>\\r\\n        {{{content}}}\\r\\n    </article>\\r\\n\\r\\n</dialog>\";\n// Exports\n/* harmony default export */ const modal_Modal = (Modal_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Modal.ts\n\r\nclass Modal {\r\n    constructor() {\r\n        this.modalId = 'liminal_market_modal_div';\r\n    }\r\n    hideModal() {\r\n        let modalDiv = document.getElementById(this.modalId);\r\n        modalDiv.removeAttribute('open');\r\n        if (this.onHide) {\r\n            this.onHide();\r\n        }\r\n    }\r\n    showModal(title, content, reuseModalIfSameTitle = false, onHide, hideOnOutsideClick = true) {\r\n        var _a;\r\n        let modalDiv = document.getElementById(this.modalId);\r\n        if (modalDiv) {\r\n            let modalTitle = modalDiv.dataset.title;\r\n            if (reuseModalIfSameTitle && modalTitle && modalTitle === title) {\r\n                modalDiv.setAttribute('open', '');\r\n                return false;\r\n            }\r\n        }\r\n        let template = Handlebars.compile(modal_Modal);\r\n        let obj = {\r\n            title: title, content: content\r\n        };\r\n        let html = template(obj);\r\n        if (modalDiv) {\r\n            document.body.removeChild(modalDiv);\r\n        }\r\n        document.body.insertAdjacentHTML('beforeend', html);\r\n        modalDiv = document.getElementById(this.modalId);\r\n        modalDiv.setAttribute('open', '');\r\n        if (hideOnOutsideClick) {\r\n            modalDiv.addEventListener('mousedown', (evt) => {\r\n                if (evt.target && evt.target.id === 'liminal_market_modal_div') {\r\n                    this.hideModal();\r\n                }\r\n            });\r\n        }\r\n        let liminal_market_modal_close = document.getElementById('liminal_market_modal_close');\r\n        if (liminal_market_modal_close)\r\n            liminal_market_modal_close.style.display = 'block';\r\n        (_a = document.getElementById('liminal_market_modal_close')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            this.hideModal();\r\n        });\r\n        this.onHide = onHide;\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/Security.ts\nclass Security {\r\n    constructor() {\r\n        this.Class = \"\";\r\n        this.Exchange = \"\";\r\n        this.Symbol = \"\";\r\n        this.Name = \"\";\r\n        this.Status = \"\";\r\n        this.Tradable = false;\r\n        this.Fractionable = false;\r\n        this.Logo = \"\";\r\n        this.Favorite = 0;\r\n        this.LogoPath = \"/img/logos/\";\r\n        this.LogoPath = \"/img/logos/\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/SecuritiesService.ts\nvar SecuritiesService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass SecuritiesService {\r\n    constructor() {\r\n        this.securities = new Map();\r\n        this.symbols = [\"MSFT\", \"AAPL\", \"AMZN\", \"TSLA\", \"GOOGL\", \"GOOG\", \"GME\", \"META\", \"NVDA\", \"BRK.B\", \"JPM\", \"HD\", \"JNJ\", \"UNH\", \"PG\", \"BAC\", \"V\", \"ADBE\", \"NFLX\", \"CRM\", \"PFE\", \"DIS\", \"MA\", \"XOM\", \"TMO\", \"COST\"];\r\n        this.securities = new Map();\r\n        this.page = 1;\r\n    }\r\n    static getInstance() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (!SecuritiesService.instance) {\r\n                SecuritiesService.instance = new SecuritiesService();\r\n                SecuritiesService.instance.securities = yield SecuritiesService.instance.getSecurities();\r\n            }\r\n            return SecuritiesService.instance;\r\n        });\r\n    }\r\n    getSecurities() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (this.securities.size != 0)\r\n                return this.securities;\r\n            const response = yield fetch('/securities/securities.json');\r\n            const results = yield response.json();\r\n            for (let i = 0; i < results.length; i++) {\r\n                this.securities.set(results[i].Symbol, Object.assign(new Security, results[i]));\r\n            }\r\n            this.securitiesArray = Array.from(this.securities);\r\n            return this.securities;\r\n        });\r\n    }\r\n    getSecurityBySymbol(symbol) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield this.getSecurities();\r\n            let security = securities.get(symbol);\r\n            return (security) ? security : new Security();\r\n        });\r\n    }\r\n    getTopSecurities() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield this.getSecurities();\r\n            let topSecurities = new Array();\r\n            for (const symbol of this.symbols) {\r\n                let security = securities.get(symbol);\r\n                if (security) {\r\n                    topSecurities.push(security);\r\n                }\r\n            }\r\n            return topSecurities;\r\n        });\r\n    }\r\n    getPaginatingSecurities(page) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (page == 0)\r\n                return this.getTopSecurities();\r\n            let securitiesOnPage = new Array();\r\n            let i = page * this.symbols.length;\r\n            let pageCount = i + 10;\r\n            for (; i < pageCount && i < this.securitiesArray.length; i++) {\r\n                securitiesOnPage.push(this.securitiesArray[i][1]);\r\n            }\r\n            return securitiesOnPage;\r\n        });\r\n    }\r\n    find(search) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let results = new Array();\r\n            search = search.toLocaleLowerCase();\r\n            this.securities.forEach(function (security) {\r\n                if (security.Symbol.toLowerCase().indexOf(search) != -1 ||\r\n                    security.Name.toLowerCase().indexOf(search) != -1) {\r\n                    results.push(security);\r\n                }\r\n            });\r\n            return results;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/LoadingHelper.ts\nclass LoadingHelper {\r\n    static setLoading(element) {\r\n        if (LoadingHelper.lastElement) {\r\n            LoadingHelper.lastElement.removeAttribute('aria-busy');\r\n        }\r\n        if (!element)\r\n            return;\r\n        element.setAttribute('aria-busy', 'true');\r\n        LoadingHelper.lastElement = element;\r\n    }\r\n    static removeLoading() {\r\n        if (this.lastElement) {\r\n            this.lastElement.removeAttribute('aria-busy');\r\n        }\r\n    }\r\n}\r\nLoadingHelper.lastElement = undefined;\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/InfoBarType.ts\nvar InfoBarType;\r\n(function (InfoBarType) {\r\n    InfoBarType[\"Info\"] = \"infoBar\";\r\n    InfoBarType[\"Warning\"] = \"warningBar\";\r\n    InfoBarType[\"Error\"] = \"errorBar\";\r\n})(InfoBarType || (InfoBarType = {}));\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/InfoBar.ts\n\r\nclass InfoBar {\r\n    static show(message, type, timeoutInSeconds = 4) {\r\n        let infoBar = document.getElementById('infoBar');\r\n        if (!infoBar) {\r\n            infoBar = document.createElement('div');\r\n            infoBar.classList.add('notificationBar');\r\n            infoBar.id = 'infoBar';\r\n            document.body.insertAdjacentElement('afterbegin', infoBar);\r\n        }\r\n        ;\r\n        infoBar.innerHTML = message;\r\n        infoBar.classList.remove('hidden');\r\n        infoBar.classList.remove(InfoBarType.Info);\r\n        infoBar.classList.remove(InfoBarType.Warning);\r\n        infoBar.classList.remove(InfoBarType.Error);\r\n        infoBar.classList.add(type);\r\n        if (timeoutInSeconds > 0) {\r\n            setTimeout(() => {\r\n                infoBar === null || infoBar === void 0 ? void 0 : infoBar.classList.add('hidden');\r\n            }, timeoutInSeconds * 1000);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/WalletMissing.html\n// Module\nvar WalletMissing_code = \"\\r\\nYou need to set up a wallet in your browser before you can use liminal.market.\\r\\n<br/><br/>\\r\\nTo make it simple, we would like to suggest two options. In your browser or your phone.\\r\\n<ul>\\r\\n    <li>For the browser we recommend <a href=\\\"https://metamask.io/download/\\\"\\r\\n                                                                         target=\\\"_blank\\\">Metamask</a>.\\r\\n    </li>\\r\\n    <li>\\r\\n        For your phone, we like <a href=\\\"https://www.tokenpocket.pro/en/download/app\\\" target=\\\"_blank\\\">Token Poket</a>\\r\\n    </li>\\r\\n</ul>\\r\\n<br/>\\r\\nBut, you have <a href=\\\"https://ethereum.org/en/wallets/\\\" target=\\\"_blank\\\">many options</a> if you want to learn more.\";\n// Exports\n/* harmony default export */ const WalletMissing = (WalletMissing_code);\n;// CONCATENATED MODULE: ./src/errors/PredefinedErrorHandlers.ts\n\r\n\r\n\r\n\r\n\r\nclass PredefinedErrorHandlers {\r\n    constructor() {\r\n        this.errorMessageMapping = new Map();\r\n        this.SentLoginRequest = \"We have sent request to you wallet to login. Open your wallet to login\";\r\n        this.errorMessageMapping.set('chain not supported', () => {\r\n            let div = 'Network is not supported. <a href=\"\" id=\"switchNetworkLink\">Click me to switch to supported network</a>';\r\n            InfoBar.show(div, InfoBarType.Warning, 120);\r\n            let switchNetworkLink = document.getElementById('switchNetworkLink');\r\n            switchNetworkLink === null || switchNetworkLink === void 0 ? void 0 : switchNetworkLink.addEventListener('click', (evt) => {\r\n                evt.preventDefault();\r\n                let modal = new SwitchNetworkModal(Moralis);\r\n                modal.show();\r\n            });\r\n        });\r\n        this.errorMessageMapping.set('already processing eth_requestaccounts', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('request of type \\'wallet_requestPermissions\\' already pending', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('already has been called, but is not finished yet', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('request is already in progress', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('web3 instance', () => {\r\n            let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n            if (elements.length > 0) {\r\n                elements[0].dispatchEvent(new MouseEvent('click'));\r\n                return;\r\n            }\r\n        });\r\n        this.errorMessageMapping.set('user rejected the request', () => {\r\n            Moralis.User.logOut();\r\n            window.location.reload();\r\n        });\r\n        this.errorMessageMapping.set('Non ethereum enabled browser', () => {\r\n            let modal = new Modal();\r\n            let template = Handlebars.compile(WalletMissing);\r\n            modal.showModal('New to blockchain?', template(null), false, () => {\r\n                window.location.reload();\r\n            });\r\n        });\r\n    }\r\n    handle(message) {\r\n        let handled = false;\r\n        this.errorMessageMapping.forEach((value, key) => {\r\n            if (!handled && message.toLowerCase().indexOf(key.toLowerCase()) != -1) {\r\n                if (typeof value == 'string') {\r\n                    InfoBar.show(value.toString(), InfoBarType.Warning, 10);\r\n                }\r\n                else {\r\n                    value();\r\n                }\r\n                handled = true;\r\n                return handled;\r\n            }\r\n        });\r\n        return handled;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/ErrorInfo.ts\n\r\n\r\n\r\nclass ErrorInfo {\r\n    constructor(errorInfo) {\r\n        this.errorInfo = errorInfo;\r\n    }\r\n    getErrorInfo() {\r\n        return this.errorInfo;\r\n    }\r\n    static report(error) {\r\n        LoadingHelper.removeLoading();\r\n        if (!error)\r\n            return;\r\n        let errorHandler = new PredefinedErrorHandlers();\r\n        if (errorHandler.handle(error.message)) {\r\n            return;\r\n        }\r\n        if (error.callback) {\r\n            error.callback();\r\n            return;\r\n        }\r\n        if (error) {\r\n            console.error(error.toString());\r\n        }\r\n        //InfoBar.show(error.message, InfoBarType.Error);\r\n    }\r\n    static log(obj) {\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n    static info(obj) {\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n    static error(obj) {\r\n        console.log(obj);\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/WalletHelper.ts\nvar WalletHelper_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass WalletHelper {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getAUsdAsset() {\r\n        return {\r\n            Logo: '../ausd.png'\r\n        };\r\n    }\r\n    addTokenToWallet(address, symbol, fallbackTimeout) {\r\n        return WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            const asset = (symbol == 'aUSD') ? this.getAUsdAsset() : yield securitiesService.getSecurityBySymbol(symbol);\r\n            let web3 = this.moralis.web3;\r\n            if (!web3) {\r\n                web3 = (yield this.moralis.enableWeb3().catch(reason => {\r\n                    ErrorInfo.report(reason);\r\n                }));\r\n                if (!web3) {\r\n                    return;\r\n                }\r\n            }\r\n            if (!web3.provider.request)\r\n                return;\r\n            let timeout = (WalletHelper.addTokenFallbackLoaded === undefined) ? 2 * 1000 : 200;\r\n            setTimeout(() => {\r\n                if (WalletHelper.addTokenFallbackLoaded !== false) {\r\n                    WalletHelper.addTokenFallbackLoaded = true;\r\n                    if (fallbackTimeout)\r\n                        fallbackTimeout();\r\n                }\r\n            }, timeout);\r\n            const wasAdded = yield web3.provider.request({\r\n                method: 'wallet_watchAsset',\r\n                params: {\r\n                    type: 'ERC20',\r\n                    options: {\r\n                        address: address,\r\n                        symbol: symbol,\r\n                        decimals: 18,\r\n                        image: 'https://app.liminal.market/img/logos/' + asset.Logo,\r\n                    },\r\n                },\r\n            }).then((result) => {\r\n                return true;\r\n            }).catch((error) => {\r\n                LoadingHelper.removeLoading();\r\n                return false;\r\n            }).finally(() => {\r\n                WalletHelper.addTokenFallbackLoaded = false;\r\n            });\r\n            return wasAdded;\r\n        });\r\n    }\r\n    ;\r\n    isWebview(ua) {\r\n        // if it says it's a webview, let's go with that\r\n        let rules = ['WebView',\r\n            // iOS webview will be the same as safari but missing \"Safari\"\r\n            '(iPhone|iPod|iPad)(?!.*Safari)',\r\n            // Android Lollipop and Above: webview will be the same as native but it will contain \"wv\"\r\n            // Android KitKat to lollipop webview will put {version}.0.0.0\r\n            'Android.*(wv|.0.0.0)',\r\n            // old chrome android webview agent\r\n            'Linux; U; Android',\r\n            'SDK'\r\n        ];\r\n        let webviewRegExp = new RegExp('(' + rules.join('|') + ')', 'ig');\r\n        return !!ua.match(webviewRegExp);\r\n    }\r\n    switchNetwork(network) {\r\n        return WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n            let web3 = this.moralis.web3;\r\n            return yield web3.provider.request({\r\n                method: 'wallet_switchEthereumChain',\r\n                params: [{ chainId: '0x' + network.ChainId.toString(16) }]\r\n            })\r\n                .then((result) => {\r\n                console.log('switch result:', result);\r\n                return true;\r\n            })\r\n                .catch((err) => WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n                // This error code indicates that the chain has not been added to MetaMask\r\n                if (err.code === 4902) {\r\n                    return yield web3.provider.request({\r\n                        method: 'wallet_addEthereumChain',\r\n                        params: [\r\n                            {\r\n                                chainName: network.ChainName,\r\n                                chainId: '0x' + network.ChainId.toString(16),\r\n                                nativeCurrency: {\r\n                                    name: network.NativeCurrencyName,\r\n                                    decimals: network.NativeDecimal,\r\n                                    symbol: network.NativeSymbol\r\n                                },\r\n                                rpcUrls: [network.RpcUrl]\r\n                            }\r\n                        ]\r\n                    })\r\n                        .then((result) => {\r\n                        console.log('addChain result:' + result);\r\n                        return true;\r\n                    }).catch((error) => {\r\n                        console.log('error on addNetwork:', error);\r\n                        throw new GeneralError(error);\r\n                    });\r\n                }\r\n                else {\r\n                    throw new GeneralError(err);\r\n                }\r\n            }));\r\n        });\r\n    }\r\n}\r\nWalletHelper.addTokenFallbackLoaded = undefined;\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/SwitchNetworkModal.ts\nvar SwitchNetworkModal_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass SwitchNetworkModal {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    show() {\r\n        let template = Handlebars.compile(WrongNetwork);\r\n        let networks = NetworkInfo.getNetworks();\r\n        let content = template({ networks: networks });\r\n        let modal = new Modal();\r\n        modal.showModal('Switch network', content, false, () => SwitchNetworkModal_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.selectedNetwork)\r\n                return;\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            yield walletHelper.switchNetwork(this.selectedNetwork);\r\n        }));\r\n        let setNetworkLinks = document.querySelectorAll('.setNetwork');\r\n        setNetworkLinks.forEach(setNetworkLink => {\r\n            setNetworkLink.addEventListener('click', (evt) => SwitchNetworkModal_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                let dataset = evt.target.dataset;\r\n                this.selectedNetwork = NetworkInfo.getNetworkInfoByChainId(parseInt(dataset.chainid));\r\n                if (!this.selectedNetwork)\r\n                    throw new GeneralError('Could not find chainId:' + dataset.chainid);\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                let successAddingNetwork = yield walletHelper.switchNetwork(this.selectedNetwork)\r\n                    .catch((error) => {\r\n                    let jsSwitchNetworkNotWorking = document.getElementById('jsSwitchNetworkNotWorking');\r\n                    if (!jsSwitchNetworkNotWorking)\r\n                        throw error;\r\n                    jsSwitchNetworkNotWorking.classList.remove('d-none');\r\n                    let switchNetworkInfo = document.getElementById('switchNetworkInfo');\r\n                    switchNetworkInfo.classList.add('d-none');\r\n                    document.getElementById('switchChainId').value = dataset.chainid + ' or it might be: ' + '0x' + parseInt(dataset.chainid).toString(16);\r\n                    document.getElementById('switchChainName').value = this.selectedNetwork.Name;\r\n                    document.getElementById('switchCurrencyName').value = this.selectedNetwork.NativeCurrencyName;\r\n                    document.getElementById('switchSymbol').value = this.selectedNetwork.NativeSymbol;\r\n                    document.getElementById('switchDecimal').value = this.selectedNetwork.NativeDecimal.toString();\r\n                    document.getElementById('switchRpcUrl').value = this.selectedNetwork.RpcUrl;\r\n                });\r\n                if (successAddingNetwork) {\r\n                    modal.hideModal();\r\n                    let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n                    if (elements.length > 0) {\r\n                        elements[0].dispatchEvent(new MouseEvent('click'));\r\n                        return;\r\n                    }\r\n                }\r\n            }));\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/AuthenticateService.ts\nvar AuthenticateService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass AuthenticateService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    authenticateUser(provider, enableWeb3Callback, authenticatedCallback) {\r\n        return AuthenticateService_awaiter(this, void 0, void 0, function* () {\r\n            let moralis = this.moralis;\r\n            let chainId = NetworkInfo.getInstance().ChainId;\r\n            let web3Result = yield moralis.enableWeb3({\r\n                provider: provider,\r\n                chainId: chainId, appLogo: 'https://app.liminal.market/img/logos/default_logo.png'\r\n            })\r\n                .catch((reason) => AuthenticateService_awaiter(this, void 0, void 0, function* () {\r\n                throw new GeneralError(reason);\r\n            }));\r\n            if (enableWeb3Callback) {\r\n                enableWeb3Callback(web3Result);\r\n            }\r\n            let user = this.moralis.User.current();\r\n            if (user) {\r\n                if (authenticatedCallback)\r\n                    authenticatedCallback(user);\r\n                return;\r\n            }\r\n            if (web3Result.network.chainId != chainId) {\r\n                let userNetwork = NetworkInfo.getNetworkInfoByChainId(web3Result.network.chainId);\r\n                if (userNetwork) {\r\n                    NetworkInfo.setNetworkByChainId(web3Result.network.chainId);\r\n                }\r\n                else {\r\n                    let modal = new SwitchNetworkModal(this.moralis);\r\n                    modal.show();\r\n                    return;\r\n                }\r\n            }\r\n            let result = yield moralis.authenticate({\r\n                signingMessage: \"You are logging into Liminal.market.\\n\\n\",\r\n                provider: provider,\r\n                chainId: chainId\r\n            }).catch((reason) => {\r\n                console.log(reason);\r\n                throw new GeneralError(reason);\r\n            });\r\n            if (authenticatedCallback) {\r\n                authenticatedCallback(result);\r\n            }\r\n            else {\r\n                location.reload();\r\n            }\r\n        });\r\n    }\r\n    getUser() {\r\n        return this.moralis.User.current();\r\n    }\r\n    getEthAddress() {\r\n        let user = this.getUser();\r\n        if (!user)\r\n            return '';\r\n        let ethAddress = user.get('ethAddress');\r\n        return ethAddress;\r\n    }\r\n    isWalletConnected() {\r\n        return this.moralis.isWeb3Enabled();\r\n    }\r\n    isUserLoggedIn() {\r\n        return (this.moralis.User.current() !== null);\r\n    }\r\n    getChainId() {\r\n        if (!this.moralis.chainId)\r\n            return 0;\r\n        return parseInt(this.moralis.chainId, 16);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/enums/WalletType.ts\nvar WalletType;\r\n(function (WalletType) {\r\n    WalletType[\"Metamask\"] = \"metamask\";\r\n    WalletType[\"WalletConnect\"] = \"walletConnect\";\r\n    WalletType[\"CoinbaseWallet\"] = \"coinbase\";\r\n    WalletType[\"Unknown\"] = \"unknown\";\r\n})(WalletType || (WalletType = {}));\r\n\n;// CONCATENATED MODULE: ./src/wallet/ProviderInfo.ts\n\r\nclass ProviderInfo {\r\n    constructor(walletConnectionInfo) {\r\n        this.ProviderName = 'unknown';\r\n        this.WalletName = '';\r\n        this.WalletUrl = '';\r\n        this.WalletType = WalletType.Unknown;\r\n        this.ChainId = 0;\r\n        this.UserAddress = '';\r\n        if (!walletConnectionInfo || !walletConnectionInfo.provider)\r\n            return;\r\n        this.walletConnectionInfo = walletConnectionInfo;\r\n        if (this.walletConnectionInfo.connection && this.walletConnectionInfo.connection.url == 'metamask') {\r\n            this.loadMetamask(walletConnectionInfo);\r\n        }\r\n        else if (this.walletConnectionInfo.provider.wc) {\r\n            this.loadWalletConnect(walletConnectionInfo);\r\n        }\r\n        else {\r\n            console.error('Dont have provider for this', walletConnectionInfo);\r\n        }\r\n        ProviderInfo.Instance = this;\r\n    }\r\n    loadMetamask(walletConnectionInfo) {\r\n        this.ProviderName = 'metamask';\r\n        this.WalletName = \"Metamask\";\r\n        this.WalletUrl = 'https://metamask.io/';\r\n        this.WalletType = WalletType.Metamask;\r\n        this.ChainId = walletConnectionInfo.provider.chainId;\r\n        this.UserAddress = walletConnectionInfo.provider.selectedAddress;\r\n    }\r\n    loadWalletConnect(walletConnectionInfo) {\r\n        var _a;\r\n        let wc = walletConnectionInfo.provider.wc;\r\n        this.ProviderName = \"walletConnect\";\r\n        this.WalletName = wc._peerMeta.name;\r\n        this.WalletUrl = (_a = wc._peerMeta.url) !== null && _a !== void 0 ? _a : '';\r\n        this.WalletType = WalletType.WalletConnect;\r\n        this.ChainId = walletConnectionInfo.provider.chainId;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/UserService.ts\nvar UserService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass UserService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n    }\r\n    logIn() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.moralis.enableWeb3();\r\n                let user = this.moralis.User.current();\r\n                if (user)\r\n                    return Promise.resolve(user);\r\n                return this.moralis.authenticate();\r\n            }\r\n            catch (e) {\r\n                console.log(e);\r\n            }\r\n        });\r\n    }\r\n    logOut() {\r\n        return this.moralis.User.logOut();\r\n    }\r\n    isLoggedIn(loadingMessage) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = yield this.moralis.User.currentAsync();\r\n            if (user) {\r\n                let cookieHelper = new CookieHelper(document);\r\n                let providerName = cookieHelper.getCookieValue('provider');\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                if (walletHelper.isWebview(window.navigator.userAgent))\r\n                    providerName = ' ';\r\n                if (!providerName) {\r\n                    return undefined;\r\n                }\r\n                if (!this.moralis.isWeb3Enabled()) {\r\n                    let str = 'We are sending login request to your wallet. If you cancel we will simply log you out. You can always log again in.';\r\n                    str += '<button id=\"logoutButton\">Logout</button>';\r\n                    loadingMessage.innerHTML = str;\r\n                    let logoutButton = document.getElementById('logoutButton');\r\n                    if (logoutButton) {\r\n                        logoutButton.addEventListener('click', () => {\r\n                            this.moralis.User.logOut();\r\n                        });\r\n                    }\r\n                    let result = yield this.moralis.enableWeb3({ provider: providerName })\r\n                        .catch((reason) => UserService_awaiter(this, void 0, void 0, function* () {\r\n                        ErrorInfo.report(reason);\r\n                    }));\r\n                    if (!result)\r\n                        return;\r\n                }\r\n                let providerInfo = new ProviderInfo(null);\r\n                let authenticationService = new AuthenticateService(this.moralis);\r\n                yield authenticationService.authenticateUser(providerName, (walletConnectionInfo) => {\r\n                    providerInfo = new ProviderInfo(walletConnectionInfo);\r\n                });\r\n                user.providerInfo = providerInfo;\r\n                return user;\r\n            }\r\n            return undefined;\r\n        });\r\n    }\r\n    isMarketOpenOrUserOffHours() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let marketService = new MarketService(this.moralis);\r\n            let isOpen = yield marketService.isMarketOpen();\r\n            if (isOpen)\r\n                return true;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            //TODO: Remove on mainnet launch\r\n            if (!networkInfo.TestNetwork)\r\n                return false;\r\n            return false;\r\n        });\r\n    }\r\n    getUser() {\r\n        return this.moralis.User.current();\r\n    }\r\n    getAlpacaId() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.getUser();\r\n            if (!user)\r\n                return '';\r\n            return (yield user.fetch()).get('alpacaId').toString();\r\n        });\r\n    }\r\n    getAccount() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.getUser();\r\n            if (!user)\r\n                return;\r\n            return yield this.moralis.Cloud.run('account');\r\n        });\r\n    }\r\n    getEthAddress() {\r\n        var _a;\r\n        return (_a = this.getUser()) === null || _a === void 0 ? void 0 : _a.get('ethAddress');\r\n    }\r\n    kycActionRequired() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let kycResults = yield this.moralis.Cloud.run('kycActionRequired');\r\n            return kycResults;\r\n        });\r\n    }\r\n    updateName(given_name, middle_name, family_name) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateName', {\r\n                given_name: given_name,\r\n                middle_name: middle_name,\r\n                family_name: family_name\r\n            });\r\n        });\r\n    }\r\n    updateContact(data) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateContact', data);\r\n        });\r\n    }\r\n    updateTrustedContact(data) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateTrustedContact', data);\r\n        });\r\n    }\r\n    createAchRelationship(public_token, accountId) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('createAchRelationship', {\r\n                public_token: public_token,\r\n                account_id: accountId\r\n            });\r\n        });\r\n    }\r\n    getPlaidLinkToken() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('createPlaidLinkToken');\r\n        });\r\n    }\r\n    getBankRelationship() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('getBankRelationship');\r\n        });\r\n    }\r\n    getLatestTransfers(direction) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('getTransfers', { direction: direction });\r\n        });\r\n    }\r\n    createTransfer(amount, direction) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('createTransfer', { amount: amount, direction: direction });\r\n        });\r\n    }\r\n    deleteTransfer(id) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('deleteTransfer', { id: id });\r\n        });\r\n    }\r\n    registerWireTransferRelationship(params) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('createWireRelationship', params);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/localhost-contract-addresses.ts\nclass localhostContractAddresses {\r\n    constructor() {\r\n        this.NetworkName = \"localhost\";\r\n        this.KYC_ADDRESS = \"0x2856a0C8034bF887928845D05179847e0ADC2209\";\r\n        this.AUSD_ADDRESS = \"0x6aCE712D412e99727aDf2272BE24f8e45aF76270\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xbd1270f3f8175927Fe427a220b9253b360Be52Bd\";\r\n        this.MARKET_CALENDAR_ADDRESS = \"0x459239D96976440d68fd78e1401983376840d563\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/ContractAddresses.ts\nclass ContractAddresses {\r\n    constructor() {\r\n        this.KYC_ADDRESS = \"0xEBC688DaF0924D1A3b95B869717b987087A52156\";\r\n        this.AUSD_ADDRESS = \"0x8E32f274476CE23D64ae0037CE80CE8b8D670658\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xe8C8C9Ff944c04318f43FE1479A1d51EBAf2EBD8\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/rinkeby-contract-addresses.ts\n\r\nclass rinkebyContractAddresses extends ContractAddresses {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.KYC_ADDRESS = \"0x1d8AeaC4cEaBe985e1AD73B8F09ae57284834Fd7\";\r\n        this.AUSD_ADDRESS = \"0x4925f35Db2b3fB7FF2A5F0525Da29CB4F5F12cAc\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xFBaAb9F394F1aA80182dD6FFb5187E48cAFB9922\";\r\n        this.USDC_ADDRESS = \"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/mumbai-contract-addresses.ts\nclass mumbaiContractAddresses {\r\n    constructor() {\r\n        this.NetworkName = \"mumbai\";\r\n        this.KYC_ADDRESS = \"0x32D664603E45370E670BbB15bb40A4918468Bc93\";\r\n        this.AUSD_ADDRESS = \"0xfF14E9C44e1Bf3894AD3173F9490b8a4823F2c63\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xf9c4C08740Ca619feB03c14F9bE1df734CB53eca\";\r\n        this.MARKET_CALENDAR_ADDRESS = \"0x1c4e1F47Be6902ACE61E7C01C17901786B676ec8\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/fuji-contract-addresses.ts\nclass fujiContractAddresses {\r\n    constructor() {\r\n        this.NetworkName = \"fuji\";\r\n        this.KYC_ADDRESS = \"0x0594D04FDB5C98Fb7F777a799139424Ae2414AaD\";\r\n        this.AUSD_ADDRESS = \"0xbAc482aE0b0d652854df377be566445984A021ED\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0x098A512B017408008a23ECe22843788799CDebFd\";\r\n        this.MARKET_CALENDAR_ADDRESS = \"0x77E6A62Be8398B18d2dA81CDB6Eb097bD8132ccB\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/ContractInfo.ts\n\r\n\r\n\r\n\r\n\r\nclass ContractInfo {\r\n    static getContractInfo(networkName) {\r\n        let contractInfos = {\r\n            localhostContractAddresses: localhostContractAddresses, rinkebyContractAddresses: rinkebyContractAddresses,\r\n            mumbaiContractAddresses: mumbaiContractAddresses, fujiContractAddresses: fujiContractAddresses\r\n        };\r\n        if (!networkName) {\r\n            networkName = NetworkInfo.getInstance().Name;\r\n        }\r\n        const contractInfoType = contractInfos[networkName + 'ContractAddresses'];\r\n        return new contractInfoType();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/MarketIsClosed.html\n// Module\nvar MarketIsClosed_code = \"<div class=\\\"center\\\">\\r\\n    The stock market is currently closed.<br/>\\r\\nIt is usually open monday to friday between 9:30 AM and 4:00 PM EST (9:30 - 16:00 EST).\\r\\n    <br/><br/>\\r\\nToday is {{dayOfWeek}}\\r\\n<br /><br/>\\r\\nYour current time is {{currentTime}} ({{GMT}})\\r\\n    <br/><br/>\\r\\nThat means the market is open your time between\\r\\n{{openFrom}} - {{openTo}}\\r\\n</div>\";\n// Exports\n/* harmony default export */ const MarketIsClosed = (MarketIsClosed_code);\n;// CONCATENATED MODULE: ./src/util/DateHelper.ts\nclass DateHelper {\r\n    static isOlderThen(date, minutes) {\r\n        let currentTime = new Date().getTime();\r\n        return (currentTime > (date.getTime() + minutes * 60 * 1000));\r\n    }\r\n    ;\r\n    static getWeekday() {\r\n        const weekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        const d = new Date();\r\n        return weekday[d.getDay()];\r\n    }\r\n    static getOpenAndCloseHours() {\r\n        const d = new Date();\r\n        let openHour = 9 + 4 + (-1 * (d.getTimezoneOffset() / 60));\r\n        let closeHour = 16 + 4 + (-1 * (d.getTimezoneOffset() / 60));\r\n        return [openHour + ':30', closeHour + ':00'];\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/BlockchainError.ts\n\r\n\r\n\r\n\r\nclass BlockchainError extends GeneralError {\r\n    constructor(e) {\r\n        super(e);\r\n        this.message = e.toString();\r\n        if (this.userDeniedTransactionSignature()) {\r\n            this.code = BlockchainError.UserCancelled;\r\n        }\r\n        else if (this.addressIsNotValidKYC()) {\r\n            this.code = BlockchainError.AddressIsNotValidKYC;\r\n        }\r\n        else if (this.isMarketClosed()) {\r\n            this.code = BlockchainError.MarketIsClosed;\r\n            this.callback = this.marketIsClosedModal;\r\n        }\r\n        if (e.data && e.data.message) {\r\n            let msg = e.data.message;\r\n            let searchStr = 'reverted with reason string';\r\n            let idx = msg.indexOf(searchStr) + searchStr.length;\r\n            if (idx != -1) {\r\n                this.message = msg.substring(idx).trim().replace(/'/g, '');\r\n                this.code = BlockchainError.ErrorFromContract;\r\n            }\r\n        }\r\n    }\r\n    userDeniedTransactionSignature() {\r\n        return this.message.indexOf('denied transaction signature') !== -1;\r\n    }\r\n    addressIsNotValidKYC() {\r\n        return this.message.indexOf('address is not kyc valid') !== -1;\r\n    }\r\n    isMarketClosed() {\r\n        let searchStr = 'Market is closed';\r\n        return this.message.indexOf(searchStr) !== -1;\r\n    }\r\n    marketIsClosedModal() {\r\n        let [openHour, closeHour] = DateHelper.getOpenAndCloseHours();\r\n        let time = new Date().toTimeString().split(' ');\r\n        let obj = {\r\n            currentTime: time[0],\r\n            GMT: time[1],\r\n            dayOfWeek: DateHelper.getWeekday(),\r\n            openFrom: openHour,\r\n            openTo: closeHour\r\n        };\r\n        let modal = new Modal();\r\n        let template = Handlebars.compile(MarketIsClosed);\r\n        modal.showModal('Market is closed', template(obj));\r\n    }\r\n}\r\nBlockchainError.ErrorFromContract = -1;\r\nBlockchainError.UserCancelled = 1;\r\nBlockchainError.AddressIsNotValidKYC = 2;\r\nBlockchainError.MarketIsClosed = 3;\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/BlockchainService.ts\nvar BlockchainService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass BlockchainService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    executeFunction(options) {\r\n        return BlockchainService_awaiter(this, void 0, void 0, function* () {\r\n            if (typeof ethereum != 'undefined' && ethereum && ethereum.chainId) {\r\n                let networkInfo = NetworkInfo.getNetworkInfoByChainId(ethereum.chainId);\r\n                if (!networkInfo) {\r\n                    throw new GeneralError('chain not supported');\r\n                }\r\n            }\r\n            return yield this.moralis.executeFunction(options);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/LiminalMarketService.ts\nvar LiminalMarketService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass LiminalMarketService extends BlockchainService {\r\n    constructor(moralis) {\r\n        super(moralis);\r\n    }\r\n    getSymbolContractAddress(symbol) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            const options = yield this.getOptions(\"getSecurityToken\", {\r\n                symbol: symbol\r\n            });\r\n            let result = yield this.executeFunction(options)\r\n                .then((value) => {\r\n                return value.toString();\r\n            }).catch((reason) => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, params) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let abi = yield this.getLiminalMarketAbi();\r\n            const options = {\r\n                contractAddress: contractInfo.LIMINAL_MARKET_ADDRESS,\r\n                functionName: functionName,\r\n                abi: abi,\r\n                params: params,\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n    getLiminalMarketAbi() {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            if (LiminalMarketService.LiminalMarketInfo)\r\n                return LiminalMarketService.LiminalMarketInfo.abi;\r\n            let response = yield fetch('../abi/LiminalMarket.json');\r\n            LiminalMarketService.LiminalMarketInfo = yield response.json();\r\n            return LiminalMarketService.LiminalMarketInfo.abi;\r\n        });\r\n    }\r\n    createToken(symbol, creatingToken) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            let salt = (new Date().getTime() + (Math.random() * 100000)).toString();\r\n            salt = salt.substring(0, salt.indexOf('.'));\r\n            const liminalOptions = yield this.getOptions(\"createToken\", {\r\n                symbol: symbol,\r\n                salt: salt\r\n            });\r\n            let result = yield this.executeFunction(liminalOptions)\r\n                .then(result => {\r\n                return result;\r\n            }).catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                if (blockchainError.userDeniedTransactionSignature()) {\r\n                    return blockchainError;\r\n                }\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            if (result instanceof BlockchainError)\r\n                return result;\r\n            creatingToken();\r\n            yield result.wait();\r\n            return yield this.getSymbolContractAddress(symbol);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/SecuritiesList.html\n// Module\nvar SecuritiesList_code = \"<figure>\\r\\n    <table id=\\\"liminal_market_securities_table\\\" role=\\\"grid\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th colspan=\\\"2\\\"><input autocomplete=\\\"off\\\" type=\\\"search\\\" id=\\\"search_for_symbol\\\" placeholder=\\\"Search for name or symbol in {{securitiesCount}} stocks\\\"></th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody id=\\\"{{tbodyId}}\\\">\\r\\n    {{>securities}}\\r\\n    </tbody>\\r\\n</table>\\r\\n<span id=\\\"liminal_market_load_more\\\"></span>\\r\\n</figure>\";\n// Exports\n/* harmony default export */ const elements_SecuritiesList = (SecuritiesList_code);\n;// CONCATENATED MODULE: ./src/html/elements/Securities.html\n// Module\nvar Securities_code = \"{{#each securities}}\\r\\n<tr data-symbol=\\\"{{{Symbol}}}\\\" data-logo=\\\"{{LogoPath}}{{Logo}}\\\" data-name=\\\"{{Name}}\\\">\\r\\n    <td class=\\\"symbol_logo\\\"><img src=\\\"{{LogoPath}}{{Logo}}\\\"/></td>\\r\\n    <td class=\\\"security_information\\\">\\r\\n        <strong>{{Name}}</strong><br/>\\r\\n        <nav class=\\\"security_extra\\\">\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"https://strike.market/stocks/{{Symbol}}\\\" target=\\\"_blank\\\">{{Symbol}}</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"\\\" class=\\\"getAddress\\\" data-symbol=\\\"{{Symbol}}\\\">Get address</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"\\\" class=\\\"addToWallet\\\" data-symbol=\\\"{{Symbol}}\\\">Add to wallet</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </nav>\\r\\n    </td>\\r\\n</tr>\\r\\n{{/each}}\";\n// Exports\n/* harmony default export */ const Securities = (Securities_code);\n;// CONCATENATED MODULE: ./src/util/CopyHelper.ts\nvar CopyHelper_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass CopyHelper {\r\n    fallbackCopyTextToClipboard(text) {\r\n        let textArea = document.createElement(\"textarea\");\r\n        textArea.value = text;\r\n        // Avoid scrolling to bottom\r\n        textArea.style.top = \"0\";\r\n        textArea.style.left = \"0\";\r\n        textArea.style.position = \"fixed\";\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n        try {\r\n            let successful = document.execCommand('copy');\r\n            return successful;\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n            return false;\r\n        }\r\n        finally {\r\n            document.body.removeChild(textArea);\r\n        }\r\n    }\r\n    copyTextToClipboard(text) {\r\n        return CopyHelper_awaiter(this, void 0, void 0, function* () {\r\n            if (!navigator.clipboard) {\r\n                return this.fallbackCopyTextToClipboard(text);\r\n            }\r\n            let result = yield navigator.clipboard.writeText(text).then(ble => {\r\n                console.log('ble', ble);\r\n                return true;\r\n            }).\r\n                catch(function (err) {\r\n                console.info(err);\r\n                return false;\r\n            });\r\n            console.log(result);\r\n            return result;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/AddressInfo.html\n// Module\nvar AddressInfo_code = \"<article id=\\\"symbolInfoToCopy\\\">\\r\\n    This is the address for the symbol {{symbol}}.\\r\\n    <br/>\\r\\n    <input value=\\\"{{address}}\\\"/>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const AddressInfo = (AddressInfo_code);\n;// CONCATENATED MODULE: ./src/html/elements/ContractAddressNotFound.html\n// Module\nvar ContractAddressNotFound_code = \"<tr id=\\\"symbolInfoToCopy\\\">\\r\\n    <td colspan=\\\"4\\\">\\r\\n        <article>\\r\\n        This symbol has never been bought and does not exist. Buy this symbol and address will become available.\\r\\n        </article>\\r\\n    </td>\\r\\n</tr>\";\n// Exports\n/* harmony default export */ const ContractAddressNotFound = (ContractAddressNotFound_code);\n;// CONCATENATED MODULE: ./node_modules/bignumber.js/bignumber.mjs\n/*\r\n *      bignumber.js v9.1.0\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, P.lt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, P.gt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  function maxOrMin(args, method) {\r\n    var n,\r\n      i = 1,\r\n      m = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      n = new BigNumber(args[i]);\r\n\r\n      // If any number is NaN, return NaN.\r\n      if (!n.s) {\r\n        m = n;\r\n        break;\r\n      } else if (method.call(m, n)) {\r\n        m = n;\r\n      }\r\n    }\r\n\r\n    return m;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on ±Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = n / pows10[d - j - 1] % 10 | 0;\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and ±Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = ±Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return ±0, else return ±Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, ±Infinity or ±0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return ±Infinity if either is ±Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return ±0 if either is ±0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return ±Infinity if either ±Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nvar BigNumber = clone();\r\n\r\n/* harmony default export */ const bignumber = (BigNumber);\r\n\n;// CONCATENATED MODULE: ./src/util/Helper.ts\n\r\nconst showContainer = function (id) {\r\n    let containers = document.querySelectorAll('.container');\r\n    for (let i = 0; i < containers.length; i++) {\r\n        let element = containers[i];\r\n        if (element.id == id) {\r\n            element.classList.remove('d-none');\r\n            element.style.display = 'block';\r\n        }\r\n        else {\r\n            element.style.display = 'none';\r\n        }\r\n    }\r\n};\r\nconst roundNumber = function (number) {\r\n    return Math.round(number * 100) / 100;\r\n};\r\nconst roundNumberDecimal = function (number, decimal) {\r\n    let hundred = parseInt('1' + '0'.repeat(decimal));\r\n    return Math.round(number * hundred) / hundred;\r\n};\r\nconst roundBigNumber = function (number) {\r\n    return new bignumber(Math.round(number.toNumber() * 100) / 100);\r\n};\r\nconst roundBigNumberDecimal = function (number, decimal) {\r\n    let hundred = parseInt('1' + '0'.repeat(decimal));\r\n    return new bignumber(Math.round(number.toNumber() * hundred) / hundred);\r\n};\r\nconst AddressZero = \"0x0000000000000000000000000000000000000000\";\r\nconst isJSON = function (str) {\r\n    try {\r\n        JSON.parse(str);\r\n        return true;\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n};\r\nconst shortEth = function (ethAddress) {\r\n    if (!ethAddress)\r\n        return '';\r\n    return ethAddress.substring(0, 6) + \"...\" + ethAddress.substring(ethAddress.length - 4);\r\n};\r\nconst upperFirstLetter = function (text) {\r\n    return text[0].toUpperCase() + text.substring(1);\r\n};\r\n\n;// CONCATENATED MODULE: ./src/html/elements/AddToWallet.html\n// Module\nvar AddToWallet_code = \"<tr id=\\\"symbolInfoToCopy\\\">\\r\\n    <td colspan=\\\"4\\\">\\r\\n        <article>\\r\\n        Some wallets detect automatically the coins that are registered to your address.\\r\\n        Those that don't do automatic detection, you need to add them manually.\\r\\n        <br /><br />\\r\\n        This is the address for the symbol {{symbol}},\\r\\n        you need to copy it and import the token in your wallet\\r\\n        <br />\\r\\n        <input value=\\\"{{address}}\\\" />\\r\\n        </article>\\r\\n    </td>\\r\\n</tr>\";\n// Exports\n/* harmony default export */ const AddToWallet = (AddToWallet_code);\n;// CONCATENATED MODULE: ./src/ui/elements/SecuritiesList.ts\nvar SecuritiesList_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SecuritiesList {\r\n    constructor() {\r\n        this.tbodyId = 'liminal_market_securities_list';\r\n        this.onSelectSymbol = undefined;\r\n        this.page = 0;\r\n        this.loadmore = true;\r\n    }\r\n    render() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let securitiesCount = securitiesService.securitiesArray.length;\r\n            let securities = yield securitiesService.getPaginatingSecurities(this.page++);\r\n            Handlebars.registerPartial(\"securities\", Securities);\r\n            let template = Handlebars.compile(elements_SecuritiesList);\r\n            let obj = {\r\n                tbodyId: this.tbodyId,\r\n                securities: securities,\r\n                securitiesCount: securitiesCount\r\n            };\r\n            return template(obj);\r\n        });\r\n    }\r\n    bindEvents(onSelectSymbol) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            this.bindOnClickEvent(onSelectSymbol);\r\n            yield this.bindSearchEvent();\r\n            this.bindLoadMore();\r\n        });\r\n    }\r\n    bindOnClickEvent(onSelectSymbol) {\r\n        let table = document.getElementById('liminal_market_securities_table');\r\n        if (!table) {\r\n            ErrorInfo.report(new GeneralError(\"Page could not load correctly, try reloading\"));\r\n            return;\r\n        }\r\n        this.onSelectSymbol = onSelectSymbol;\r\n        table.onclick = (evt) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            yield this.handleClick(evt);\r\n        });\r\n    }\r\n    handleClick(evt) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let element = evt.target;\r\n            if (element.tagName.toLocaleLowerCase() === 'a') {\r\n                yield this.addToWalletOrGetAddress(evt, element);\r\n                return;\r\n            }\r\n            let parentTr = element.parentElement;\r\n            if (!parentTr)\r\n                return;\r\n            if (parentTr.tagName.toLocaleLowerCase() !== 'tr') {\r\n                parentTr = parentTr.parentElement;\r\n            }\r\n            let symbol = parentTr.dataset.symbol;\r\n            if (!symbol)\r\n                return;\r\n            let name = parentTr.dataset.name;\r\n            let logo = parentTr.dataset.logo;\r\n            if (this.onSelectSymbol) {\r\n                this.onSelectSymbol(symbol, name, logo);\r\n            }\r\n        });\r\n    }\r\n    bindSearchEvent() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let searchForSymbol = document.getElementById('search_for_symbol');\r\n            if (!searchForSymbol)\r\n                return;\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let timeout = null;\r\n            searchForSymbol.addEventListener('keyup', (evt) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n                if (timeout != null)\r\n                    clearTimeout(timeout);\r\n                timeout = setTimeout(() => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n                    let search = evt.target.value;\r\n                    if (!search || search.length < 2) {\r\n                        this.loadmore = true;\r\n                        yield this.showTopSecurities(securitiesService);\r\n                        return;\r\n                    }\r\n                    this.loadmore = false;\r\n                    let securities = yield securitiesService.find(search);\r\n                    this.loadSecuritiesToDom(securities);\r\n                }), 500);\r\n            }));\r\n        });\r\n    }\r\n    showTopSecurities(securitiesService) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield securitiesService.getTopSecurities();\r\n            this.loadSecuritiesToDom(securities);\r\n        });\r\n    }\r\n    loadSecuritiesToDom(securities) {\r\n        let tbody = document.getElementById(this.tbodyId);\r\n        if (!tbody)\r\n            return;\r\n        let template = Handlebars.compile(Securities);\r\n        let obj = {\r\n            securities: securities\r\n        };\r\n        let content = template(obj);\r\n        tbody.innerHTML = content;\r\n    }\r\n    bindLoadMore() {\r\n        const el = document.querySelector('#liminal_market_load_more');\r\n        const observer = new window.IntersectionObserver(([entry]) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (entry.isIntersecting) {\r\n                yield this.loadMore();\r\n            }\r\n        }), {\r\n            root: null,\r\n            threshold: 0.1, // set offset 0.1 means trigger if atleast 10% of element in viewport\r\n        });\r\n        observer.observe(el);\r\n    }\r\n    loadMore() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.loadmore)\r\n                return;\r\n            let tbody = document.getElementById(this.tbodyId);\r\n            if (!tbody)\r\n                return;\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let securities = yield securitiesService.getPaginatingSecurities(this.page++);\r\n            let template = Handlebars.compile(Securities);\r\n            let obj = {\r\n                securities: securities\r\n            };\r\n            let content = template(obj);\r\n            tbody.insertAdjacentHTML('beforeend', content);\r\n        });\r\n    }\r\n    addToWalletOrGetAddress(event, element) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let className = element.className;\r\n            if (className != 'getAddress' && className != 'addToWallet') {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            let symbol = element.dataset.symbol;\r\n            if (!symbol)\r\n                return;\r\n            LoadingHelper.setLoading(element);\r\n            let liminalMarketService = new LiminalMarketService(Moralis);\r\n            let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (className == 'getAddress') {\r\n                yield this.showGetAddress(element, symbol, address);\r\n            }\r\n            else {\r\n                yield this.showAddToWallet(element, symbol, address);\r\n            }\r\n            LoadingHelper.removeLoading();\r\n        });\r\n    }\r\n    showGetAddress(element, symbol, address) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (address !== AddressZero) {\r\n                let copyHelper = new CopyHelper();\r\n                let success = yield copyHelper.copyTextToClipboard(address);\r\n                if (success) {\r\n                    element.innerText = 'Copied';\r\n                    return;\r\n                }\r\n            }\r\n            this.renderContractInfoToString(element, address, symbol, AddressInfo);\r\n        });\r\n    }\r\n    showAddToWallet(element, symbol, address) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (address !== AddressZero) {\r\n                let walletHelper = new WalletHelper(Moralis);\r\n                let added = yield walletHelper.addTokenToWallet(address, symbol, () => {\r\n                    LoadingHelper.removeLoading();\r\n                    this.renderContractInfoToString(element, address, symbol, AddToWallet);\r\n                });\r\n                if (added) {\r\n                    return '';\r\n                }\r\n            }\r\n            this.renderContractInfoToString(element, address, symbol, AddToWallet);\r\n        });\r\n    }\r\n    renderContractInfoToString(element, address, symbol, template) {\r\n        let symbolInfoToCopy = document.getElementById('symbolInfoToCopy');\r\n        if (symbolInfoToCopy)\r\n            symbolInfoToCopy.remove();\r\n        let content = '';\r\n        if (address === AddressZero) {\r\n            let template = Handlebars.compile(ContractAddressNotFound);\r\n            content = template(null);\r\n        }\r\n        else {\r\n            let template = Handlebars.compile(AddressInfo);\r\n            let obj = {\r\n                symbol: symbol,\r\n                address: address\r\n            };\r\n            content = template(obj);\r\n        }\r\n        element.parentElement.parentElement.parentElement.insertAdjacentHTML('afterend', content);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/UserInfo.html\n// Module\nvar UserInfo_code = \"<div id=\\\"userMenuPanel\\\">\\r\\n    <a href=\\\"#\\\" id=\\\"userInfoAction\\\" aria-expanded=\\\"false\\\">\\r\\n        <img src=\\\"https://effigy.im/a/{{ethAddress}}.png\\\" width=\\\"24\\\">\\r\\n        <span id=\\\"user_info_ethAddress\\\">{{shortEthAddress}}</span>\\r\\n    </a>\\r\\n\\r\\n    <div id=\\\"userInfoDropdown\\\" class=\\\"d-none\\\">\\r\\n        <div class=\\\"grid account_info\\\">\\r\\n            <h6>Account</h6>\\r\\n            <a id=\\\"disconnectFromNetwork\\\" href=\\\"#\\\">Disconnect</a>\\r\\n\\r\\n        </div>\\r\\n        <div class=\\\"edit_account grid\\\">\\r\\n            <a id=\\\"editName\\\" href=\\\"#\\\">Edit name</a>\\r\\n            <a id=\\\"editContact\\\" href=\\\"#\\\">Edit contact info</a>\\r\\n        </div>\\r\\n        <div class=\\\"edit_account\\\">\\r\\n            <a id=\\\"editTrustedContact\\\" href=\\\"#\\\">Edit trusted contact</a>\\r\\n        </div>\\r\\n        <hr/>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <img src=\\\"https://effigy.im/a/{{ethAddress}}.png\\\">\\r\\n            </div>\\r\\n            <div>\\r\\n                <strong class=\\\"d-block\\\"><a href=\\\"{{blockchainExplorer}}{{ethAddress}}\\\" target=\\\"_blank\\\">{{shortEthAddress}}</a></strong>\\r\\n                <small>{{walletName}}</small>\\r\\n            </div>\\r\\n        </div>\\r\\n        <hr/>\\r\\n        <div class=\\\"hidden\\\" id=\\\"userInfoAUsdBalance\\\">\\r\\n            <div class=\\\"grid\\\">\\r\\n                <div><img src=\\\"https://app.liminal.market/img/ausd.png\\\"></div>\\r\\n                <div>\\r\\n                    <strong class=\\\"d-block\\\">aUSD <span id=\\\"user_info_ausd_balance\\\"></span></strong>\\r\\n\\r\\n                    <a href=\\\"#\\\" class=\\\"fund_account\\\">Fund my account</a>\\r\\n                    <a href=\\\"#\\\" id=\\\"withdraw_from_account\\\">Withdraw from account</a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <hr/>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <strong class=\\\"d-block\\\">Network</strong>\\r\\n            <small>{{networkName}}</small>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const elements_UserInfo = (UserInfo_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditName.html\n// Module\nvar KycEditName_code = \"<fieldset id=\\\"kycEditName\\\">\\r\\n    <div class=\\\"warningBar\\\">\\r\\n        <strong>Warning</strong><br/>\\r\\n        You can only change the name once. Be careful of what you change.\\r\\n        <br/><br/>\\r\\n        After you change this information a new KYC process will be started, and you will NOT be able to do any\\r\\n        trades\\r\\n        until it has been approved.\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"given_name\\\">Legal First name</label>\\r\\n        <input required id=\\\"given_name\\\" name=\\\"given_name\\\"\\r\\n               placeholder=\\\"Ron\\\"\\r\\n               value=\\\"{{given_name}}\\\" autocomplete=\\\"given-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"middle_name\\\">Legal Middle name</label>\\r\\n        <input id=\\\"middle_name\\\" name=\\\"middle_name\\\"\\r\\n               placeholder=\\\"\\\"\\r\\n               value=\\\"{{middle_name}}\\\" autocomplete=\\\"additional-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"family_name\\\">Legal Last name</label>\\r\\n        <input required id=\\\"family_name\\\" name=\\\"family_name\\\"\\r\\n               placeholder=\\\"Swanson\\\"\\r\\n               value=\\\"{{family_name}}\\\" autocomplete=\\\"family-name\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button id=\\\"kycEditNameConfirm\\\">Confirm</button>\\r\\n    </div>\\r\\n</fieldset>\\r\\n\\r\\n<fieldset class=\\\"hidden\\\" id=\\\"confirmNameFieldset\\\">\\r\\n    <div class=\\\"confirm_name\\\">\\r\\n        <label for=\\\"confirm_name\\\" id=\\\"label_confirm_name\\\">Please type</label>\\r\\n        <input name=\\\"confirm_name\\\" id=\\\"confirm_name\\\"/>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"input_error\\\" id=\\\"kycEditNameError\\\"></div>\\r\\n\\r\\n    <div class=\\\"buttons grid\\\">\\r\\n        <button id=\\\"kycEditNameBack\\\">Back</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"kycEditNameSave\\\">Confirm</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const KycEditName = (KycEditName_code);\n;// CONCATENATED MODULE: ./src/util/StringHelper.ts\nclass StringHelper {\r\n    static isNullOrEmpty(str) {\r\n        return !str || str.toString().trim().length == 0;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditNameForm.ts\nvar KycEditNameForm_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditNameForm {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            let kycEditNameError = document.getElementById('kycEditNameError');\r\n            if (kycEditNameError)\r\n                kycEditNameError.style.display = 'none';\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let given_name = account.identity.given_name;\r\n            let middle_name = account.identity.middle_name;\r\n            let family_name = account.identity.family_name;\r\n            let template = Handlebars.compile(KycEditName);\r\n            let content = template({ given_name: given_name, middle_name: middle_name, family_name: family_name });\r\n            this.modal.showModal('Edit name', content);\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let kycEditNameConfirm = document.getElementById('kycEditNameConfirm');\r\n        kycEditNameConfirm === null || kycEditNameConfirm === void 0 ? void 0 : kycEditNameConfirm.addEventListener('click', (evt) => KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            var _a, _b;\r\n            let given_name = document.getElementById('given_name');\r\n            let middle_name = document.getElementById('middle_name');\r\n            let family_name = document.getElementById('family_name');\r\n            if (StringHelper.isNullOrEmpty(given_name.value)) {\r\n                this.showError('Given name cannot be empty');\r\n                return;\r\n            }\r\n            if (StringHelper.isNullOrEmpty(family_name.value)) {\r\n                this.showError('Family name cannot be empty');\r\n                return;\r\n            }\r\n            let full_name = this.getFullName();\r\n            let label_confirm_name = document.getElementById('label_confirm_name');\r\n            if (!label_confirm_name) {\r\n                //TODO: report error in form\r\n                return;\r\n            }\r\n            label_confirm_name.innerHTML = 'Please type in the full name \"' + full_name + '\" in the box below to confirm. You WILL NOT be able to change it again.';\r\n            (_a = document.getElementById('confirmNameFieldset')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n            (_b = document.getElementById('kycEditName')) === null || _b === void 0 ? void 0 : _b.classList.add('hidden');\r\n        }));\r\n        let kycEditNameBack = document.getElementById('kycEditNameBack');\r\n        kycEditNameBack === null || kycEditNameBack === void 0 ? void 0 : kycEditNameBack.addEventListener('click', (evt) => {\r\n            var _a, _b;\r\n            (_a = document.getElementById('confirmNameFieldset')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n            (_b = document.getElementById('kycEditName')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        });\r\n        let confirm_name = document.getElementById('confirm_name');\r\n        if (!confirm_name) {\r\n            //TODO: report error in form\r\n            return;\r\n        }\r\n        let kycEditNameSave = document.getElementById('kycEditNameSave');\r\n        kycEditNameSave.disabled = true;\r\n        confirm_name.setAttribute('aria-invalid', 'true');\r\n        confirm_name.addEventListener('keyup', (evt) => {\r\n            if (confirm_name.value == this.getFullName()) {\r\n                confirm_name.setAttribute('aria-invalid', 'false');\r\n                kycEditNameSave.disabled = false;\r\n            }\r\n            else {\r\n                confirm_name.setAttribute('aria-invalid', 'true');\r\n                kycEditNameSave.disabled = true;\r\n            }\r\n        });\r\n        kycEditNameSave === null || kycEditNameSave === void 0 ? void 0 : kycEditNameSave.addEventListener('click', (evt) => KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            let confirm_name = document.getElementById('confirm_name');\r\n            if (confirm_name && confirm_name.value != this.getFullName()) {\r\n                alert(confirm_name.value + ' is not same as ' + this.getFullName() + '. Go over the name and make sure it is identical');\r\n                return;\r\n            }\r\n            let given_name = document.getElementById('given_name');\r\n            let middle_name = document.getElementById('middle_name');\r\n            let family_name = document.getElementById('family_name');\r\n            LoadingHelper.setLoading(kycEditNameSave);\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateName(given_name.value, middle_name.value, family_name.value)\r\n                .then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditNameError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n    getFullName() {\r\n        let given_name = document.getElementById('given_name');\r\n        let middle_name = document.getElementById('middle_name');\r\n        let family_name = document.getElementById('family_name');\r\n        return given_name.value + ' ' + (!StringHelper.isNullOrEmpty(middle_name.value) ? middle_name.value + ' ' : '') + family_name.value;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditContactForm.html\n// Module\nvar KycEditContactForm_code = \"<fieldset id=\\\"kycEditContactFieldset\\\">\\r\\n    <div class=\\\"warningBar\\\">\\r\\n        <strong>Warning</strong><br/>\\r\\n        After you change this information a new KYC process will be started, and you will NOT be able to do any\\r\\n        trades until it has been approved.\\r\\n    </div>\\r\\n    <form id=\\\"kycEditContactForm\\\">\\r\\n        <div>\\r\\n            <label for=\\\"email_address\\\">Email</label>\\r\\n            <input type=\\\"email\\\" required class=\\\"form-control\\\" id=\\\"email_address\\\" name=\\\"email_address\\\"\\r\\n                   placeholder=\\\"name@example.com\\\" autocomplete=\\\"email\\\"\\r\\n                   value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"phone_number\\\">Phone</label>\\r\\n            <input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"phone_number\\\" name=\\\"phone_number\\\"\\r\\n                   placeholder=\\\"+1-555-666-7788\\\" autocomplete=\\\"tel\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"street_address\\\">Permanent Residential Address</label>\\r\\n            <div class=\\\"explain\\\">It must be a physical address, not a PO box.</div>\\r\\n            <input required id=\\\"street_address\\\" name=\\\"street_address\\\"\\r\\n                   placeholder=\\\"20 N San Mateo Dr\\\" value=\\\"\\\" autocomplete=\\\"address-line1\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"unit\\\">Unit / Apt #</label>\\r\\n            <input id=\\\"unit\\\" name=\\\"unit\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"city\\\">City</label>\\r\\n            <input id=\\\"city\\\" name=\\\"city\\\" placeholder=\\\"Pawnee\\\"\\r\\n                   value=\\\"\\\" autocomplete=\\\"address-level2\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"postal_code\\\">Postal code</label>\\r\\n            <input required id=\\\"postal_code\\\" autocomplete=\\\"postal-code\\\" name=\\\"postal_code\\\"\\r\\n                   placeholder=\\\"94401\\\"\\r\\n                   value=\\\"\\\">\\r\\n        </div>\\r\\n        {{#if usa}}\\r\\n        <div id=\\\"state_div\\\">\\r\\n            <label for=\\\"state\\\">State (2 letters)</label>\\r\\n            <input required maxlength=\\\"2\\\" id=\\\"state\\\" name=\\\"state\\\" placeholder=\\\"NY\\\"\\r\\n                   value=\\\"\\\" autocomplete=\\\"address-level1\\\">\\r\\n        </div>\\r\\n        {{/if}}\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycEditContactError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"kycEditContactSave\\\">Save</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycEditContactForm = (KycEditContactForm_code);\n;// CONCATENATED MODULE: ./src/util/FormHelper.ts\n\r\nclass FormHelper {\r\n    static getParams(selector) {\r\n        let form = document.querySelector(selector);\r\n        if (!form)\r\n            return;\r\n        let data = new FormData(form);\r\n        return this.serialize(data);\r\n    }\r\n    static serialize(data) {\r\n        let obj = {};\r\n        for (let [key, value] of data) {\r\n            if (obj[key] !== undefined) {\r\n                if (!Array.isArray(obj[key])) {\r\n                    obj[key] = [obj[key]];\r\n                }\r\n                obj[key].push(value);\r\n            }\r\n            else {\r\n                obj[key] = value;\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n    static fillInputs(properties, item) {\r\n        properties.forEach((value) => {\r\n            let input = document.querySelector('input[name=' + value + ']');\r\n            if (input) {\r\n                if (input.type == 'radio') {\r\n                    console.log('checkbox', input, item[value]);\r\n                    input.value = item[value];\r\n                }\r\n                else {\r\n                    input.value = item[value];\r\n                }\r\n                input.dispatchEvent(new Event('change'));\r\n            }\r\n            else {\r\n                let select = document.querySelector('select[name=' + value + ']');\r\n                if (select) {\r\n                    select.value = item[value];\r\n                    select.dispatchEvent(new Event('change'));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    static validate(selector) {\r\n        let inputs = document.querySelectorAll(selector + ' input[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            input.setAttribute('aria-invalid', 'false');\r\n            if (StringHelper.isNullOrEmpty(input.value)) {\r\n                input.setAttribute('aria-invalid', 'true');\r\n                input.focus();\r\n                input.addEventListener('change', (evt) => {\r\n                    if (!StringHelper.isNullOrEmpty(input.value)) {\r\n                        input.setAttribute('aria-invalid', 'false');\r\n                    }\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditContactForm.ts\nvar KycEditContactForm_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditContactForm {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditContactForm_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let usa = account.identity.country_of_tax_residence == 'USA';\r\n            let template = Handlebars.compile(Kyc_KycEditContactForm);\r\n            this.modal.showModal('Edit contact information', template({ usa: usa }));\r\n            let contactProperties = Object.getOwnPropertyNames(account.contact);\r\n            FormHelper.fillInputs(contactProperties, account.contact);\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let kycEditContactSave = document.getElementById('kycEditContactSave');\r\n        kycEditContactSave === null || kycEditContactSave === void 0 ? void 0 : kycEditContactSave.addEventListener('click', (evt) => KycEditContactForm_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!this.validate())\r\n                return;\r\n            LoadingHelper.setLoading(kycEditContactSave);\r\n            let data = FormHelper.getParams('#kycEditContactForm');\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateContact(data).then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                let accountInfo = response;\r\n                let email_address = document.getElementById('email_address');\r\n                if (accountInfo.contact.email_address != (email_address === null || email_address === void 0 ? void 0 : email_address.value)) {\r\n                    this.showError('Email was not changed. The email ' + (email_address === null || email_address === void 0 ? void 0 : email_address.value) + ' is already registered under different account.');\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditContactError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n    validate() {\r\n        let inputs = document.querySelectorAll('#kycEditContactFieldset input[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (StringHelper.isNullOrEmpty(input.value)) {\r\n                input.setAttribute('aria-invalid', 'true');\r\n                input.addEventListener('change', (evt) => {\r\n                    if (!StringHelper.isNullOrEmpty(input.value)) {\r\n                        input.setAttribute('aria-invalid', 'false');\r\n                    }\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditTrustedContact.html\n// Module\nvar KycEditTrustedContact_code = \"<fieldset class=\\\"kycTrustedContact\\\">\\r\\n    <div class=\\\"warningBar\\\">\\r\\n        <strong>Warning</strong><br/>\\r\\n        After you change this information a new KYC process will be started, and you will NOT be able to do any\\r\\n        trades until it has been approved.\\r\\n    </div>\\r\\n\\r\\n    <form id=\\\"kycTrustedContactForm\\\" method=\\\"post\\\">\\r\\n        <div class=\\\"explain\\\">\\r\\n            A trusted contact is a person you authorize your financial firm to contact in limited circumstances,\\r\\n            such as if there is a concern about activity in your account and they have been unable to get in touch with\\r\\n            you.\\r\\n            <br/><br/>\\r\\n            A trusted contact may be a family member, attorney, accountant or another third-party who you believe would\\r\\n            respect your privacy and know how to handle the responsibility.\\r\\n            The trusted person should be 18 years old or older.\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"given_name\\\">Legal given name of trusted contact</label>\\r\\n            <input required id=\\\"given_name\\\" name=\\\"given_name\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"family_name\\\">Legal family name of trusted contact</label>\\r\\n            <input required id=\\\"family_name\\\" name=\\\"family_name\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            If you fill in name, you are required to fill in one of the following, email, phone or address\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"contact_missing_info\\\"></div>\\r\\n        <div>\\r\\n            <label for=\\\"email_address\\\">Email of trusted contact</label>\\r\\n            <input id=\\\"email_address\\\" type=\\\"email\\\" name=\\\"email_address\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"phone_number\\\">Phone of trusted contact</label>\\r\\n            <input id=\\\"phone_number\\\" type=\\\"tel\\\" name=\\\"phone_number\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"street_address\\\">Address of trusted contact</label>\\r\\n            <input id=\\\"street_address\\\" name=\\\"street_address\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"city\\\">City of trusted contact</label>\\r\\n            <input id=\\\"city\\\" name=\\\"city\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"state\\\">State of trusted contact</label>\\r\\n            <input id=\\\"state\\\" name=\\\"state\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"postal_code\\\">Postal code of trusted contact</label>\\r\\n            <input id=\\\"postal_code\\\" name=\\\"postal_code\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"country\\\">Country of trusted contact</label>\\r\\n            <select required id=\\\"country\\\" required name=\\\"country\\\">\\r\\n                <option value=\\\"\\\"></option>\\r\\n                {{#each countries}}\\r\\n                <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n                {{/each}}\\r\\n            </select>\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycEditNameError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"trustedContactSubmit\\\">Submit</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycEditTrustedContact = (KycEditTrustedContact_code);\n;// CONCATENATED MODULE: ./src/util/CountryHelper.ts\nclass CountryHelper {\r\n}\r\nCountryHelper.Countries = [\r\n    { \"name\": \"United States of America\", \"code\": \"USA\" },\r\n    { \"name\": \"United Kingdom\", \"code\": \"GBR\" },\r\n    { \"name\": \"Afghanistan\", \"code\": \"AFG\" }, { \"name\": \"Albania\", \"code\": \"ALB\" }, {\r\n        \"name\": \"Algeria\",\r\n        \"code\": \"DZA\"\r\n    }, { \"name\": \"American Samoa\", \"code\": \"ASM\" }, { \"name\": \"Andorra\", \"code\": \"AND\" }, {\r\n        \"name\": \"Angola\",\r\n        \"code\": \"AGO\"\r\n    }, { \"name\": \"Anguilla\", \"code\": \"AIA\" }, { \"name\": \"Antarctica\", \"code\": \"ATA\" }, {\r\n        \"name\": \"Antigua and Barbuda\",\r\n        \"code\": \"ATG\"\r\n    }, { \"name\": \"Argentina\", \"code\": \"ARG\" }, { \"name\": \"Armenia\", \"code\": \"ARM\" }, {\r\n        \"name\": \"Aruba\",\r\n        \"code\": \"ABW\"\r\n    }, { \"name\": \"Australia\", \"code\": \"AUS\" }, { \"name\": \"Austria\", \"code\": \"AUT\" }, {\r\n        \"name\": \"Azerbaijan\",\r\n        \"code\": \"AZE\"\r\n    }, { \"name\": \"Åland Islands\", \"code\": \"ALA\" }, { \"name\": \"Bahamas\", \"code\": \"BHS\" }, {\r\n        \"name\": \"Bahrain\",\r\n        \"code\": \"BHR\"\r\n    }, { \"name\": \"Bangladesh\", \"code\": \"BGD\" }, { \"name\": \"Barbados\", \"code\": \"BRB\" }, {\r\n        \"name\": \"Belarus\",\r\n        \"code\": \"BLR\"\r\n    }, { \"name\": \"Belgium\", \"code\": \"BEL\" }, { \"name\": \"Belize\", \"code\": \"BLZ\" }, {\r\n        \"name\": \"Benin\",\r\n        \"code\": \"BEN\"\r\n    }, { \"name\": \"Bermuda\", \"code\": \"BMU\" }, {\r\n        \"name\": \"Bhutan\",\r\n        \"code\": \"BTN\"\r\n    }, { \"name\": \"Bolivia (Plurinational State of)\", \"code\": \"BOL\" }, {\r\n        \"name\": \"Bonaire, Sint Eustatius and Saba\",\r\n        \"code\": \"BES\"\r\n    }, { \"name\": \"Bosnia and Herzegovina\", \"code\": \"BIH\" }, {\r\n        \"name\": \"Botswana\",\r\n        \"code\": \"BWA\"\r\n    }, { \"name\": \"Bouvet Island\", \"code\": \"BVT\" }, {\r\n        \"name\": \"Brazil\",\r\n        \"code\": \"BRA\"\r\n    }, { \"name\": \"British Indian Ocean Territory\", \"code\": \"IOT\" }, {\r\n        \"name\": \"Brunei Darussalam\",\r\n        \"code\": \"BRN\"\r\n    }, { \"name\": \"Bulgaria\", \"code\": \"BGR\" }, { \"name\": \"Burkina Faso\", \"code\": \"BFA\" }, {\r\n        \"name\": \"Burundi\",\r\n        \"code\": \"BDI\"\r\n    }, { \"name\": \"Cabo Verde\", \"code\": \"CPV\" }, { \"name\": \"Cambodia\", \"code\": \"KHM\" }, {\r\n        \"name\": \"Cameroon\",\r\n        \"code\": \"CMR\"\r\n    }, { \"name\": \"Canada\", \"code\": \"CAN\" }, {\r\n        \"name\": \"Cayman Islands\",\r\n        \"code\": \"CYM\"\r\n    }, { \"name\": \"Central African Republic\", \"code\": \"CAF\" }, { \"name\": \"Chad\", \"code\": \"TCD\" }, {\r\n        \"name\": \"Chile\",\r\n        \"code\": \"CHL\"\r\n    }, { \"name\": \"China\", \"code\": \"CHN\" }, {\r\n        \"name\": \"Christmas Island\",\r\n        \"code\": \"CXR\"\r\n    }, { \"name\": \"Cocos (Keeling) Islands\", \"code\": \"CCK\" }, { \"name\": \"Colombia\", \"code\": \"COL\" }, {\r\n        \"name\": \"Comoros\",\r\n        \"code\": \"COM\"\r\n    }, { \"name\": \"Congo (the Democratic Republic of the)\", \"code\": \"COD\" }, {\r\n        \"name\": \"Congo\",\r\n        \"code\": \"COG\"\r\n    }, { \"name\": \"Cook Islands\", \"code\": \"COK\" }, { \"name\": \"Costa Rica\", \"code\": \"CRI\" }, {\r\n        \"name\": \"Croatia\",\r\n        \"code\": \"HRV\"\r\n    }, { \"name\": \"Cuba\", \"code\": \"CUB\" }, { \"name\": \"Curaçao\", \"code\": \"CUW\" }, {\r\n        \"name\": \"Cyprus\",\r\n        \"code\": \"CYP\"\r\n    }, { \"name\": \"Czechia\", \"code\": \"CZE\" }, { \"name\": \"Côte d'Ivoire\", \"code\": \"CIV\" }, {\r\n        \"name\": \"Denmark\",\r\n        \"code\": \"DNK\"\r\n    }, { \"name\": \"Djibouti\", \"code\": \"DJI\" }, { \"name\": \"Dominica\", \"code\": \"DMA\" }, {\r\n        \"name\": \"Dominican Republic\",\r\n        \"code\": \"DOM\"\r\n    }, { \"name\": \"Ecuador\", \"code\": \"ECU\" }, { \"name\": \"Egypt\", \"code\": \"EGY\" }, {\r\n        \"name\": \"El Salvador\",\r\n        \"code\": \"SLV\"\r\n    }, { \"name\": \"Equatorial Guinea\", \"code\": \"GNQ\" }, { \"name\": \"Eritrea\", \"code\": \"ERI\" }, {\r\n        \"name\": \"Estonia\",\r\n        \"code\": \"EST\"\r\n    }, { \"name\": \"Eswatini\", \"code\": \"SWZ\" }, {\r\n        \"name\": \"Ethiopia\",\r\n        \"code\": \"ETH\"\r\n    }, { \"name\": \"Falkland Islands [Malvinas]\", \"code\": \"FLK\" }, {\r\n        \"name\": \"Faroe Islands\",\r\n        \"code\": \"FRO\"\r\n    }, { \"name\": \"Fiji\", \"code\": \"FJI\" }, { \"name\": \"Finland\", \"code\": \"FIN\" }, {\r\n        \"name\": \"France\",\r\n        \"code\": \"FRA\"\r\n    }, { \"name\": \"French Guiana\", \"code\": \"GUF\" }, {\r\n        \"name\": \"French Polynesia\",\r\n        \"code\": \"PYF\"\r\n    }, { \"name\": \"French Southern Territories\", \"code\": \"ATF\" }, { \"name\": \"Gabon\", \"code\": \"GAB\" }, {\r\n        \"name\": \"Gambia\",\r\n        \"code\": \"GMB\"\r\n    }, { \"name\": \"Georgia\", \"code\": \"GEO\" }, { \"name\": \"Germany\", \"code\": \"DEU\" }, {\r\n        \"name\": \"Ghana\",\r\n        \"code\": \"GHA\"\r\n    }, { \"name\": \"Gibraltar\", \"code\": \"GIB\" }, { \"name\": \"Greece\", \"code\": \"GRC\" }, {\r\n        \"name\": \"Greenland\",\r\n        \"code\": \"GRL\"\r\n    }, { \"name\": \"Grenada\", \"code\": \"GRD\" }, { \"name\": \"Guadeloupe\", \"code\": \"GLP\" }, {\r\n        \"name\": \"Guam\",\r\n        \"code\": \"GUM\"\r\n    }, { \"name\": \"Guatemala\", \"code\": \"GTM\" }, { \"name\": \"Guernsey\", \"code\": \"GGY\" }, {\r\n        \"name\": \"Guinea\",\r\n        \"code\": \"GIN\"\r\n    }, { \"name\": \"Guinea-Bissau\", \"code\": \"GNB\" }, { \"name\": \"Guyana\", \"code\": \"GUY\" }, {\r\n        \"name\": \"Haiti\",\r\n        \"code\": \"HTI\"\r\n    }, { \"name\": \"Heard Island and McDonald Islands\", \"code\": \"HMD\" }, {\r\n        \"name\": \"Holy See\",\r\n        \"code\": \"VAT\"\r\n    }, { \"name\": \"Honduras\", \"code\": \"HND\" }, { \"name\": \"Hong Kong\", \"code\": \"HKG\" }, {\r\n        \"name\": \"Hungary\",\r\n        \"code\": \"HUN\"\r\n    }, { \"name\": \"Iceland\", \"code\": \"ISL\" }, { \"name\": \"India\", \"code\": \"IND\" }, {\r\n        \"name\": \"Indonesia\",\r\n        \"code\": \"IDN\"\r\n    }, { \"name\": \"Iran (Islamic Republic of)\", \"code\": \"IRN\" }, { \"name\": \"Iraq\", \"code\": \"IRQ\" }, {\r\n        \"name\": \"Ireland\",\r\n        \"code\": \"IRL\"\r\n    }, { \"name\": \"Isle of Man\", \"code\": \"IMN\" }, { \"name\": \"Israel\", \"code\": \"ISR\" }, {\r\n        \"name\": \"Italy\",\r\n        \"code\": \"ITA\"\r\n    }, { \"name\": \"Jamaica\", \"code\": \"JAM\" }, { \"name\": \"Japan\", \"code\": \"JPN\" }, {\r\n        \"name\": \"Jersey\",\r\n        \"code\": \"JEY\"\r\n    }, { \"name\": \"Jordan\", \"code\": \"JOR\" }, { \"name\": \"Kazakhstan\", \"code\": \"KAZ\" }, {\r\n        \"name\": \"Kenya\",\r\n        \"code\": \"KEN\"\r\n    }, { \"name\": \"Kiribati\", \"code\": \"KIR\" }, {\r\n        \"name\": \"Korea (the Democratic People's Republic of)\",\r\n        \"code\": \"PRK\"\r\n    }, { \"name\": \"Korea (the Republic of)\", \"code\": \"KOR\" }, { \"name\": \"Kuwait\", \"code\": \"KWT\" }, {\r\n        \"name\": \"Kyrgyzstan\",\r\n        \"code\": \"KGZ\"\r\n    }, { \"name\": \"Lao People's Democratic Republic\", \"code\": \"LAO\" }, {\r\n        \"name\": \"Latvia\",\r\n        \"code\": \"LVA\"\r\n    }, { \"name\": \"Lebanon\", \"code\": \"LBN\" }, { \"name\": \"Lesotho\", \"code\": \"LSO\" }, {\r\n        \"name\": \"Liberia\",\r\n        \"code\": \"LBR\"\r\n    }, { \"name\": \"Libya\", \"code\": \"LBY\" }, { \"name\": \"Liechtenstein\", \"code\": \"LIE\" }, {\r\n        \"name\": \"Lithuania\",\r\n        \"code\": \"LTU\"\r\n    }, { \"name\": \"Luxembourg\", \"code\": \"LUX\" }, { \"name\": \"Macao\", \"code\": \"MAC\" }, {\r\n        \"name\": \"Madagascar\",\r\n        \"code\": \"MDG\"\r\n    }, { \"name\": \"Malawi\", \"code\": \"MWI\" }, { \"name\": \"Malaysia\", \"code\": \"MYS\" }, {\r\n        \"name\": \"Maldives\",\r\n        \"code\": \"MDV\"\r\n    }, { \"name\": \"Mali\", \"code\": \"MLI\" }, { \"name\": \"Malta\", \"code\": \"MLT\" }, {\r\n        \"name\": \"Marshall Islands\",\r\n        \"code\": \"MHL\"\r\n    }, { \"name\": \"Martinique\", \"code\": \"MTQ\" }, { \"name\": \"Mauritania\", \"code\": \"MRT\" }, {\r\n        \"name\": \"Mauritius\",\r\n        \"code\": \"MUS\"\r\n    }, { \"name\": \"Mayotte\", \"code\": \"MYT\" }, {\r\n        \"name\": \"Mexico\",\r\n        \"code\": \"MEX\"\r\n    }, { \"name\": \"Micronesia (Federated States of)\", \"code\": \"FSM\" }, {\r\n        \"name\": \"Moldova (the Republic of)\",\r\n        \"code\": \"MDA\"\r\n    }, { \"name\": \"Monaco\", \"code\": \"MCO\" }, { \"name\": \"Mongolia\", \"code\": \"MNG\" }, {\r\n        \"name\": \"Montenegro\",\r\n        \"code\": \"MNE\"\r\n    }, { \"name\": \"Montserrat\", \"code\": \"MSR\" }, { \"name\": \"Morocco\", \"code\": \"MAR\" }, {\r\n        \"name\": \"Mozambique\",\r\n        \"code\": \"MOZ\"\r\n    }, { \"name\": \"Myanmar\", \"code\": \"MMR\" }, { \"name\": \"Namibia\", \"code\": \"NAM\" }, {\r\n        \"name\": \"Nauru\",\r\n        \"code\": \"NRU\"\r\n    }, { \"name\": \"Nepal\", \"code\": \"NPL\" }, { \"name\": \"Netherlands\", \"code\": \"NLD\" }, {\r\n        \"name\": \"New Caledonia\",\r\n        \"code\": \"NCL\"\r\n    }, { \"name\": \"New Zealand\", \"code\": \"NZL\" }, { \"name\": \"Nicaragua\", \"code\": \"NIC\" }, {\r\n        \"name\": \"Niger\",\r\n        \"code\": \"NER\"\r\n    }, { \"name\": \"Nigeria\", \"code\": \"NGA\" }, { \"name\": \"Niue\", \"code\": \"NIU\" }, {\r\n        \"name\": \"Norfolk Island\",\r\n        \"code\": \"NFK\"\r\n    }, { \"name\": \"Northern Mariana Islands\", \"code\": \"MNP\" }, { \"name\": \"Norway\", \"code\": \"NOR\" }, {\r\n        \"name\": \"Oman\",\r\n        \"code\": \"OMN\"\r\n    }, { \"name\": \"Pakistan\", \"code\": \"PAK\" }, { \"name\": \"Palau\", \"code\": \"PLW\" }, {\r\n        \"name\": \"Palestine, State of\",\r\n        \"code\": \"PSE\"\r\n    }, { \"name\": \"Panama\", \"code\": \"PAN\" }, { \"name\": \"Papua New Guinea\", \"code\": \"PNG\" }, {\r\n        \"name\": \"Paraguay\",\r\n        \"code\": \"PRY\"\r\n    }, { \"name\": \"Peru\", \"code\": \"PER\" }, { \"name\": \"Philippines\", \"code\": \"PHL\" }, {\r\n        \"name\": \"Pitcairn\",\r\n        \"code\": \"PCN\"\r\n    }, { \"name\": \"Poland\", \"code\": \"POL\" }, { \"name\": \"Portugal\", \"code\": \"PRT\" }, {\r\n        \"name\": \"Puerto Rico\",\r\n        \"code\": \"PRI\"\r\n    }, { \"name\": \"Qatar\", \"code\": \"QAT\" }, { \"name\": \"Republic of North Macedonia\", \"code\": \"MKD\" }, {\r\n        \"name\": \"Romania\",\r\n        \"code\": \"ROU\"\r\n    }, { \"name\": \"Russian Federation\", \"code\": \"RUS\" }, { \"name\": \"Rwanda\", \"code\": \"RWA\" }, {\r\n        \"name\": \"Réunion\",\r\n        \"code\": \"REU\"\r\n    }, { \"name\": \"Saint Barthélemy\", \"code\": \"BLM\" }, {\r\n        \"name\": \"Saint Helena, Ascension and Tristan da Cunha\",\r\n        \"code\": \"SHN\"\r\n    }, { \"name\": \"Saint Kitts and Nevis\", \"code\": \"KNA\" }, {\r\n        \"name\": \"Saint Lucia\",\r\n        \"code\": \"LCA\"\r\n    }, { \"name\": \"Saint Martin (French part)\", \"code\": \"MAF\" }, {\r\n        \"name\": \"Saint Pierre and Miquelon\",\r\n        \"code\": \"SPM\"\r\n    }, { \"name\": \"Saint Vincent and the Grenadines\", \"code\": \"VCT\" }, {\r\n        \"name\": \"Samoa\",\r\n        \"code\": \"WSM\"\r\n    }, { \"name\": \"San Marino\", \"code\": \"SMR\" }, {\r\n        \"name\": \"Sao Tome and Principe\",\r\n        \"code\": \"STP\"\r\n    }, { \"name\": \"Saudi Arabia\", \"code\": \"SAU\" }, { \"name\": \"Senegal\", \"code\": \"SEN\" }, {\r\n        \"name\": \"Serbia\",\r\n        \"code\": \"SRB\"\r\n    }, { \"name\": \"Seychelles\", \"code\": \"SYC\" }, { \"name\": \"Sierra Leone\", \"code\": \"SLE\" }, {\r\n        \"name\": \"Singapore\",\r\n        \"code\": \"SGP\"\r\n    }, { \"name\": \"Sint Maarten (Dutch part)\", \"code\": \"SXM\" }, {\r\n        \"name\": \"Slovakia\",\r\n        \"code\": \"SVK\"\r\n    }, { \"name\": \"Slovenia\", \"code\": \"SVN\" }, { \"name\": \"Solomon Islands\", \"code\": \"SLB\" }, {\r\n        \"name\": \"Somalia\",\r\n        \"code\": \"SOM\"\r\n    }, { \"name\": \"South Africa\", \"code\": \"ZAF\" }, {\r\n        \"name\": \"South Georgia and the South Sandwich Islands\",\r\n        \"code\": \"SGS\"\r\n    }, { \"name\": \"South Sudan\", \"code\": \"SSD\" }, { \"name\": \"Spain\", \"code\": \"ESP\" }, {\r\n        \"name\": \"Sri Lanka\",\r\n        \"code\": \"LKA\"\r\n    }, { \"name\": \"Sudan\", \"code\": \"SDN\" }, { \"name\": \"Suriname\", \"code\": \"SUR\" }, {\r\n        \"name\": \"Svalbard and Jan Mayen\",\r\n        \"code\": \"SJM\"\r\n    }, { \"name\": \"Sweden\", \"code\": \"SWE\" }, { \"name\": \"Switzerland\", \"code\": \"CHE\" }, {\r\n        \"name\": \"Syrian Arab Republic\",\r\n        \"code\": \"SYR\"\r\n    }, { \"name\": \"Taiwan (Province of China)\", \"code\": \"TWN\" }, {\r\n        \"name\": \"Tajikistan\",\r\n        \"code\": \"TJK\"\r\n    }, { \"name\": \"Tanzania, United Republic of\", \"code\": \"TZA\" }, {\r\n        \"name\": \"Thailand\",\r\n        \"code\": \"THA\"\r\n    }, { \"name\": \"Timor-Leste\", \"code\": \"TLS\" }, { \"name\": \"Togo\", \"code\": \"TGO\" }, {\r\n        \"name\": \"Tokelau\",\r\n        \"code\": \"TKL\"\r\n    }, { \"name\": \"Tonga\", \"code\": \"TON\" }, { \"name\": \"Trinidad and Tobago\", \"code\": \"TTO\" }, {\r\n        \"name\": \"Tunisia\",\r\n        \"code\": \"TUN\"\r\n    }, { \"name\": \"Turkey\", \"code\": \"TUR\" }, {\r\n        \"name\": \"Turkmenistan\",\r\n        \"code\": \"TKM\"\r\n    }, { \"name\": \"Turks and Caicos Islands\", \"code\": \"TCA\" }, { \"name\": \"Tuvalu\", \"code\": \"TUV\" }, {\r\n        \"name\": \"Uganda\",\r\n        \"code\": \"UGA\"\r\n    }, { \"name\": \"Ukraine\", \"code\": \"UKR\" }, {\r\n        \"name\": \"United Arab Emirates\",\r\n        \"code\": \"ARE\"\r\n    }, {\r\n        \"name\": \"United Kingdom of Great Britain and Northern Ireland\",\r\n        \"code\": \"GBR\"\r\n    }, { \"name\": \"United States Minor Outlying Islands\", \"code\": \"UMI\" }, {\r\n        \"name\": \"United States of America\",\r\n        \"code\": \"USA\"\r\n    }, { \"name\": \"Uruguay\", \"code\": \"URY\" }, { \"name\": \"Uzbekistan\", \"code\": \"UZB\" }, {\r\n        \"name\": \"Vanuatu\",\r\n        \"code\": \"VUT\"\r\n    }, { \"name\": \"Venezuela (Bolivarian Republic of)\", \"code\": \"VEN\" }, {\r\n        \"name\": \"Viet Nam\",\r\n        \"code\": \"VNM\"\r\n    }, { \"name\": \"Virgin Islands (British)\", \"code\": \"VGB\" }, {\r\n        \"name\": \"Virgin Islands (U.S.)\",\r\n        \"code\": \"VIR\"\r\n    }, { \"name\": \"Wallis and Futuna\", \"code\": \"WLF\" }, { \"name\": \"Western Sahara\", \"code\": \"ESH\" }, {\r\n        \"name\": \"Yemen\",\r\n        \"code\": \"YEM\"\r\n    }, { \"name\": \"Zambia\", \"code\": \"ZMB\" }, { \"name\": \"Zimbabwe\", \"code\": \"ZWE\" }\r\n];\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditTrustedContact.ts\nvar KycEditTrustedContact_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditTrustedContact {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditTrustedContact_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let template = Handlebars.compile(Kyc_KycEditTrustedContact);\r\n            this.modal.showModal('Edit trusted contact', template({ countries: CountryHelper.Countries }));\r\n            if (account.trusted_contact) {\r\n                let contactProperties = Object.getOwnPropertyNames(account.trusted_contact);\r\n                FormHelper.fillInputs(contactProperties, account.trusted_contact);\r\n            }\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let trustedContactSubmit = document.getElementById('trustedContactSubmit');\r\n        trustedContactSubmit === null || trustedContactSubmit === void 0 ? void 0 : trustedContactSubmit.addEventListener('click', (evt) => KycEditTrustedContact_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!FormHelper.validate('#kycTrustedContactForm'))\r\n                return;\r\n            LoadingHelper.setLoading(trustedContactSubmit);\r\n            let params = FormHelper.getParams('#kycTrustedContactForm');\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateTrustedContact(params).then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditNameError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/AUSDService.ts\nvar AUSDService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AUSDService extends BlockchainService {\r\n    constructor(moralis) {\r\n        super(moralis);\r\n    }\r\n    getAUSDBalanceOf(ethAddress) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            if (AUSDService.lastUpdate && AUSDService.aUSDAmount &&\r\n                !DateHelper.isOlderThen(AUSDService.lastUpdate, 5)) {\r\n                return AUSDService.aUSDAmount;\r\n            }\r\n            let options = yield this.getOptions(\"balanceOf\", {\r\n                account: ethAddress\r\n            });\r\n            return yield this.executeFunction(options).then(balanceOf => {\r\n                let amount = this.moralis.Units.FromWei(balanceOf.toString(), 18);\r\n                AUSDService.aUSDAmount = new bignumber(amount);\r\n                AUSDService.lastUpdate = new Date();\r\n                return AUSDService.aUSDAmount;\r\n            }).catch((reason) => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                ErrorInfo.report(blockchainError);\r\n                return new bignumber(0);\r\n            });\r\n        });\r\n    }\r\n    transfer(symbolAddress, qty) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            const options = yield this.getOptions('transfer', {\r\n                to: symbolAddress,\r\n                amount: Moralis.Units.Token(qty.toString(), 18)\r\n            });\r\n            let result = yield this.executeFunction(options)\r\n                .then(result => {\r\n                return result;\r\n            })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            AUSDService.aUSDAmount = undefined;\r\n            AUSDService.lastUpdate = undefined;\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, params) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let abi = yield this.getAUsdAbi();\r\n            const options = {\r\n                contractAddress: contractInfo.AUSD_ADDRESS,\r\n                functionName: functionName,\r\n                abi: abi,\r\n                params: params,\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n    getAUsdAbi() {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            if (AUSDService.AUSDInfo)\r\n                return AUSDService.AUSDInfo.abi;\r\n            let response = yield fetch('../abi/aUSD.json');\r\n            AUSDService.AUSDInfo = yield response.json();\r\n            return AUSDService.AUSDInfo.abi;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/funding/FakeFunding.html\n// Module\nvar FakeFunding_code = \"<article>\\r\\n    <div id=\\\"beforeFunding\\\">\\r\\n        To use liminal.market you need some aUSD. aUSD is the same value as USD.\\r\\n        We can give you some aUSD (this is all fake money), so you can play with the system.\\r\\n\\r\\n        First, you need to add aUSD to you wallet.\\r\\n\\r\\n        <button id=\\\"addTokenToWallet\\\">Add aUSD to wallet</button>\\r\\n        <blockquote id=\\\"needToCopy\\\" class=\\\"d-none\\\">\\r\\n            If the button didn't work, you can copy the address here and import it into your wallet\\r\\n            <input value=\\\"{{aUSDAddress}}\\\"/>\\r\\n        </blockquote>\\r\\n        When you have aUSD to you wallet, you can request some money to trade with.\\r\\n\\r\\n        <button id=\\\"requestFakeAUSD\\\">Request some aUSD</button>\\r\\n        <div class=\\\"warningBar notificationBar d-none\\\" id=\\\"fundingError\\\"></div>\\r\\n    </div>\\r\\n    <div id=\\\"afterFunding\\\" class=\\\"d-none center\\\">\\r\\n        We have now sending aUSD to your wallet. This usually takes few minutes, so lets wait.\\r\\n<br /><br />\\r\\n        When you have the aUSD in you wallet, we will tell you.\\r\\n        <div>\\r\\n            <h3>Current aUSD balance</h3>\\r\\n            <div id=\\\"currentAUSDBalance\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"errorAfterTryFunding\\\" class=\\\"d-none\\\">\\r\\n        We had an error while trying to fund you. We'll be cracking at the issue soon to fix it.\\r\\n        Try again in few minutes. If not, try again in few hours.\\r\\n    </div>\\r\\n\\r\\n    <a href=\\\"#\\\" id=\\\"registerBankInfo\\\">Register bank information (not needed for Sandbox)</a>\\r\\n</article>\";\n// Exports\n/* harmony default export */ const FakeFunding = (FakeFunding_code);\n;// CONCATENATED MODULE: ./src/services/broker/FundingService.ts\nvar FundingService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass FundingService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    requestFakeFunding() {\r\n        return FundingService_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            return yield this.moralis.Cloud.run('fundUser', { chainId: networkInfo.ChainId });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/SelectFundingType.html\n// Module\nvar SelectFundingType_code = \"<p>Setup your bank relationship with Liminal.market. Please choose the type of transfer you want to make</p>\\r\\n<ul>\\r\\n    <li><label><input type=\\\"radio\\\" name=\\\"bank_transfer\\\" id=\\\"ach_transfer\\\" value=\\\"1\\\"/> ACH bank transfer (US)</label>\\r\\n    </li>\\r\\n    <li><label><input type=\\\"radio\\\" name=\\\"bank_transfer\\\" id=\\\"wire_transfer\\\" value=\\\"2\\\"/> Wire transfer\\r\\n        (International)</label></li>\\r\\n</ul>\\r\\n<div id=\\\"selectFundingTypeError\\\" class=\\\"input_error\\\"></div>\\r\\n<button id=\\\"next_bank_information\\\">Next: Bank information</button>\\r\\n\";\n// Exports\n/* harmony default export */ const Funding_SelectFundingType = (SelectFundingType_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/SelectFundingType.ts\n\r\nclass SelectFundingType {\r\n    constructor(aUsdFund) {\r\n        this.aUsdFund = aUsdFund;\r\n    }\r\n    show() {\r\n        let template = Handlebars.compile(Funding_SelectFundingType);\r\n        this.aUsdFund.modal.showModal('Select funding type', template({}));\r\n        this.bindEvent();\r\n    }\r\n    bindEvent() {\r\n        let next_bank_information = document.getElementById('next_bank_information');\r\n        next_bank_information === null || next_bank_information === void 0 ? void 0 : next_bank_information.addEventListener('click', (evt) => {\r\n            this.aUsdFund.hideError('selectFundingTypeError');\r\n            let ach_transfer = document.getElementById('ach_transfer');\r\n            if (ach_transfer === null || ach_transfer === void 0 ? void 0 : ach_transfer.checked) {\r\n                this.aUsdFund.achRelationship.show();\r\n            }\r\n            let wire_transfer = document.getElementById('wire_transfer');\r\n            if (wire_transfer === null || wire_transfer === void 0 ? void 0 : wire_transfer.checked) {\r\n                this.aUsdFund.wireTransfer.show();\r\n            }\r\n            this.aUsdFund.showError('selectFundingTypeError', 'Please select funding type');\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/ACHRelationship.html\n// Module\nvar ACHRelationship_code = \"<fieldset>\\r\\n    <p>Before you can transfer, you need to set up your bank information.\\r\\n        We use <a href=\\\"https://plaid.com\\\" target=\\\"_blank\\\">Plaid</a> to connect your account with the broker account\\r\\n        <br/><br/>\\r\\n        Plaid is a secure service that makes it easy for you to connect your bank account information.\\r\\n        We do not have access to transfer from you account or any other access to your bank account.\\r\\n    </p>\\r\\n    <form id=\\\"achForm\\\">\\r\\n        <div class=\\\"input_error\\\" id=\\\"achError\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <button id=\\\"ach_previous\\\">Previous: Funding type</button>\\r\\n            <button id=\\\"connectPlaid\\\">Connect using Plaid</button>\\r\\n        </div>\\r\\n\\r\\n    </form>\\r\\n\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Funding_ACHRelationship = (ACHRelationship_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/ACHRelationship.ts\nvar ACHRelationship_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass ACHRelationship {\r\n    constructor(aUsdFund) {\r\n        this.aUsdFund = aUsdFund;\r\n    }\r\n    show() {\r\n        let template = Handlebars.compile(Funding_ACHRelationship);\r\n        this.aUsdFund.modal.showModal('Bank information', template({}));\r\n        this.bindEvent();\r\n    }\r\n    bindEvent() {\r\n        let connectPlaid = document.getElementById('connectPlaid');\r\n        connectPlaid === null || connectPlaid === void 0 ? void 0 : connectPlaid.addEventListener('click', (evt) => ACHRelationship_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            yield this.connectPlaidAction();\r\n        }));\r\n        let ach_previous = document.getElementById('ach_previous');\r\n        ach_previous === null || ach_previous === void 0 ? void 0 : ach_previous.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            this.aUsdFund.selectFundingType.show();\r\n        });\r\n    }\r\n    connectPlaidAction() {\r\n        return ACHRelationship_awaiter(this, void 0, void 0, function* () {\r\n            let connectPlaid = document.getElementById('connectPlaid');\r\n            LoadingHelper.setLoading(connectPlaid);\r\n            this.aUsdFund.hideError('achError');\r\n            let userService = new UserService(this.aUsdFund.moralis);\r\n            yield userService.getPlaidLinkToken()\r\n                .catch((reason) => {\r\n                this.aUsdFund.showError('achError', reason);\r\n                LoadingHelper.removeLoading();\r\n            }).then((response) => {\r\n                console.log('response', response);\r\n                let plaidToken = JSON.parse(response);\r\n                let script = document.createElement('script');\r\n                script.src = 'https://cdn.plaid.com/link/v2/stable/link-initialize.js';\r\n                script.addEventListener('load', () => {\r\n                    this.createPlaidConnection(plaidToken);\r\n                });\r\n                let achForm = document.getElementById('achForm');\r\n                achForm.append(script);\r\n            });\r\n        });\r\n    }\r\n    createPlaidConnection(plaidToken) {\r\n        let linkHandler = Plaid.create({\r\n            token: plaidToken.link_token,\r\n            onSuccess: (public_token, metadata) => ACHRelationship_awaiter(this, void 0, void 0, function* () {\r\n                if (!metadata.account) {\r\n                    LoadingHelper.removeLoading();\r\n                    this.aUsdFund.showError('achError', \"Didn't receive any information from Plaid. Please try again. If it doesn't work. Please contact us at info@liminal.market\");\r\n                }\r\n                let userService = new UserService(this.aUsdFund.moralis);\r\n                yield userService.createAchRelationship(public_token, metadata.account.id)\r\n                    .catch((reason) => ACHRelationship_awaiter(this, void 0, void 0, function* () {\r\n                    if (reason.error.indexOf('only one active ach relationship') != -1) {\r\n                        let bankRelationship = yield userService.getBankRelationship();\r\n                        yield this.aUsdFund.transfer.show(bankRelationship);\r\n                    }\r\n                    else {\r\n                        this.aUsdFund.showError('achError', reason);\r\n                        LoadingHelper.removeLoading();\r\n                    }\r\n                })).then((response) => {\r\n                    console.log('createAchRelationship', response);\r\n                    this.aUsdFund.transfer.show(response);\r\n                });\r\n            }),\r\n            onExit: (err, metadata) => {\r\n                console.log(err, metadata);\r\n                LoadingHelper.removeLoading();\r\n            },\r\n        });\r\n        linkHandler.open();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/Transfer.html\n// Module\nvar Transfer_code = \"<fieldset>\\r\\n\\r\\n    <form>\\r\\n        <p>\\r\\n            To fill up your broker account, you need to notify Liminal.market first about your transfer,\\r\\n            we can then match it with your account.\\r\\n            <br/><br/>\\r\\n            Type in the amount you would like to transfer to you broker account.\\r\\n            {{#if bank_account_number}}\\r\\n            <br/><br/>\\r\\n            The money should come from <strong>{{bank_account_number}}</strong>\\r\\n            {{/if}}\\r\\n        </p>\\r\\n        <br/>\\r\\n        <label>\\r\\n            Amount in US dollars ($)\\r\\n            <input name=\\\"amount\\\" class=\\\"amount\\\" type=\\\"tel\\\" id=\\\"amount\\\" minlength=\\\"1\\\" required/>\\r\\n        </label>\\r\\n        <input type=\\\"hidden\\\" name=\\\"transfer_type\\\" id=\\\"transfer_type\\\" value=\\\"{{transfer_type}}\\\"/>\\r\\n        <input type=\\\"hidden\\\" name=\\\"relationship_id\\\" id=\\\"relationship_id\\\" value=\\\"{{relationshipId}}\\\"/>\\r\\n        <input type=\\\"hidden\\\" name=\\\"direction\\\" id=\\\"direction\\\" value=\\\"INCOMING\\\"/>\\r\\n        <div class=\\\"input_error\\\" id=\\\"transferError\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <button id=\\\"notifyTransfer\\\">Notify Liminal.market of incoming transfer</button>\\r\\n        </div>\\r\\n    </form>\\r\\n    {{{transfers}}}\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Funding_Transfer = (Transfer_code);\n;// CONCATENATED MODULE: ./src/enums/TransferDirectionEnum.ts\nvar TransferDirectionEnum;\r\n(function (TransferDirectionEnum) {\r\n    TransferDirectionEnum[\"Incoming\"] = \"INCOMING\";\r\n    TransferDirectionEnum[\"Outgoing\"] = \"OUTGOING\";\r\n})(TransferDirectionEnum || (TransferDirectionEnum = {}));\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/TransfersList.html\n// Module\nvar TransfersList_code = \"<hr/>\\r\\n<h3>{{Direction}} transfers</h3>\\r\\n{{#if transfers.length}}\\r\\n<p>Below is a list of transfers, confirmed and not confirmed.</p>\\r\\n<table>\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th>Amount</th>\\r\\n        <th>Status</th>\\r\\n        <th>Created</th>\\r\\n        <th>Expires</th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    {{#each transfers}}\\r\\n    <tr>\\r\\n        <td>${{amount}}</td>\\r\\n        <td id=\\\"status_{{id}}\\\">{{status}}</td>\\r\\n        <td>{{dateTimeFormat created_at}}</td>\\r\\n        <td>{{dateTimeFormat expires_at}}</td>\\r\\n        <td id=\\\"delete_{{id}}\\\" class=\\\"{{classByStatus status}}\\\"><a href=\\\"#\\\" class=\\\"deleteTransfer\\\" data-id=\\\"{{id}}\\\">Cancel</a>\\r\\n        </td>\\r\\n    </tr>\\r\\n    {{/each}}\\r\\n    </tbody>\\r\\n</table>\\r\\n{{else}}\\r\\n<p>No transfers registered</p>\\r\\n{{/if}}\";\n// Exports\n/* harmony default export */ const Funding_TransfersList = (TransfersList_code);\n;// CONCATENATED MODULE: ./src/util/HandlebarHelpers.ts\nclass HandlebarHelpers {\r\n    static registerHelpers() {\r\n        Handlebars.registerHelper('perc', function (number) {\r\n            return Math.round(parseFloat(number) * 10000) / 100 + '%';\r\n        });\r\n        Handlebars.registerHelper('round', function (number) {\r\n            return Math.round(parseFloat(number) * 100) / 100;\r\n        });\r\n        Handlebars.registerHelper('round2', function (number) {\r\n            return Math.round(parseFloat(number) * 10000) / 10000;\r\n        });\r\n        Handlebars.registerHelper('classColor', function (number) {\r\n            return (number > 0) ? \"green\" : \"red\";\r\n        });\r\n        Handlebars.registerHelper('dateTimeFormat', function (strDate) {\r\n            let date = new Date(strDate);\r\n            return date.toLocaleString();\r\n        });\r\n        Handlebars.registerHelper('classByStatus', function (status) {\r\n            return (status == 'QUEUED' || status == 'APPROVAL_PENDING') ? '' : 'hidden';\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/TransfersList.ts\nvar TransfersList_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass TransfersList {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.userService = new UserService(this.moralis);\r\n    }\r\n    render(direction) {\r\n        return TransfersList_awaiter(this, void 0, void 0, function* () {\r\n            HandlebarHelpers.registerHelpers();\r\n            let transfersTemplate = Handlebars.compile(Funding_TransfersList);\r\n            let transfers = yield this.userService.getLatestTransfers(direction);\r\n            return transfersTemplate({ Direction: direction, transfers: transfers });\r\n        });\r\n    }\r\n    bindEvents() {\r\n        var _a;\r\n        let deleteTransfers = document.querySelectorAll('.deleteTransfer');\r\n        for (let i = 0; i < deleteTransfers.length; i++) {\r\n            (_a = deleteTransfers[i]) === null || _a === void 0 ? void 0 : _a.addEventListener('click', (evt) => TransfersList_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                if (!confirm('Are you sure you want to cancel this withdraw request?')) {\r\n                    return;\r\n                }\r\n                let id = deleteTransfers[i].dataset['id'];\r\n                if (!id)\r\n                    return;\r\n                let userService = new UserService(this.moralis);\r\n                yield userService.deleteTransfer(id)\r\n                    .then(() => {\r\n                    let statusTd = document.getElementById('status_' + id);\r\n                    if (statusTd) {\r\n                        statusTd.innerText = 'CANCELED';\r\n                    }\r\n                    let deleteTd = document.getElementById('delete_' + id);\r\n                    deleteTd === null || deleteTd === void 0 ? void 0 : deleteTd.remove();\r\n                });\r\n            }));\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/Transfer.ts\nvar Transfer_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Transfer {\r\n    constructor(moralis, aUsdFund) {\r\n        this.moralis = moralis;\r\n        this.aUsdFund = aUsdFund;\r\n        this.transfersList = new TransfersList(this.moralis);\r\n    }\r\n    show(bankRelationship) {\r\n        return Transfer_awaiter(this, void 0, void 0, function* () {\r\n            if (!bankRelationship) {\r\n                this.aUsdFund.modal.showModal('No bank relationship exists', 'No bank relationship exists. You need to create this before you can transfer money. Close the window and try again.');\r\n                return;\r\n            }\r\n            this.bankRelationship = bankRelationship;\r\n            let template = Handlebars.compile(Funding_Transfer);\r\n            let transfersListHtml = yield this.transfersList.render(TransferDirectionEnum.Incoming);\r\n            let transfer_type = (StringHelper.isNullOrEmpty(bankRelationship.bank_account_number) && bankRelationship.bank_account_type != '') ? 'wire' : 'ach';\r\n            this.aUsdFund.modal.showModal('Create transfer notification', template({\r\n                transfers: transfersListHtml,\r\n                transfer_type: transfer_type,\r\n                relationshipId: bankRelationship.id\r\n            }));\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        this.transfersList.bindEvents();\r\n        let notifyTransfer = document.getElementById('notifyTransfer');\r\n        notifyTransfer === null || notifyTransfer === void 0 ? void 0 : notifyTransfer.addEventListener('click', (evt) => Transfer_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            this.aUsdFund.hideError('transferError');\r\n            let amount = document.getElementById('amount');\r\n            if (StringHelper.isNullOrEmpty(amount.value) || parseFloat(amount.value) < 10) {\r\n                this.aUsdFund.showError('amountError', 'Amount cannot be empty or below $10');\r\n            }\r\n            LoadingHelper.setLoading(notifyTransfer);\r\n            let userService = new UserService(this.moralis);\r\n            yield userService.createTransfer(amount.value, 'INCOMING')\r\n                .then(() => {\r\n                if (StringHelper.isNullOrEmpty(this.bankRelationship.processor_token)) {\r\n                    this.aUsdFund.wireTransferInfo.show(amount.value);\r\n                }\r\n                else {\r\n                    this.aUsdFund.achTransferInfo.show(amount.value);\r\n                }\r\n            })\r\n                .catch(reason => {\r\n                let httpError = JSON.parse(reason.message);\r\n                this.aUsdFund.showError('transferError', httpError.serverError.message);\r\n            })\r\n                .finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/WireTransfer.html\n// Module\nvar WireTransfer_code = \"<fieldset>\\r\\n    <p>Before you can transfer, you need to set up your bank information</p>\\r\\n    <form id=\\\"wireTransferForm\\\">\\r\\n        <label>Name of bank\\r\\n            <input name=\\\"name\\\" required id=\\\"name\\\"/>\\r\\n        </label>\\r\\n        <div class=\\\"input_error\\\" id=\\\"swift_error\\\">BIC/SWIFT code should be 8 or 11 characters</div>\\r\\n        <label>\\r\\n            Bank code (BIC/SWIFT)\\r\\n            <input name=\\\"bank_code\\\" maxlength=\\\"11\\\" id=\\\"bank_code\\\" required/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Account number (IBAN)\\r\\n            <input name=\\\"account_number\\\" id=\\\"account_number\\\" required/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Street address\\r\\n            <input name=\\\"street_address\\\" id=\\\"street_address\\\" required/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Postal code\\r\\n            <input name=\\\"postal_code\\\" id=\\\"postal_code\\\" required/>\\r\\n        </label>\\r\\n        <label>\\r\\n            City\\r\\n            <input name=\\\"city\\\" id=\\\"city\\\" required/>\\r\\n        </label>\\r\\n\\r\\n        <label>State\\r\\n            <input name=\\\"state_province\\\" id=\\\"state_province\\\" required/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Country where bank account is located\\r\\n            <select required id=\\\"country\\\" required name=\\\"country\\\">\\r\\n                <option value=\\\"\\\"></option>\\r\\n                {{#each countries}}\\r\\n                <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n                {{/each}}\\r\\n            </select>\\r\\n        </label>\\r\\n\\r\\n        <input type=\\\"hidden\\\" name=\\\"bank_code_type\\\" value=\\\"BIC\\\"/>\\r\\n        <div id=\\\"writeTransferError\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <button id=\\\"wire_transfer_previous\\\">Previous: Funding type</button>\\r\\n            <button id=\\\"save_international_bank_information\\\">Next: Transfer</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Funding_WireTransfer = (WireTransfer_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/WireTransfer.ts\nvar WireTransfer_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass WireTransfer {\r\n    constructor(aUsdFund) {\r\n        this.aUsdFund = aUsdFund;\r\n    }\r\n    show() {\r\n        return WireTransfer_awaiter(this, void 0, void 0, function* () {\r\n            let template = Handlebars.compile(Funding_WireTransfer);\r\n            this.aUsdFund.modal.showModal('Create bank information', template({ countries: CountryHelper.Countries }));\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let wire_transfer_previous = document.getElementById('wire_transfer_previous');\r\n        wire_transfer_previous === null || wire_transfer_previous === void 0 ? void 0 : wire_transfer_previous.addEventListener('click', (evt) => {\r\n            this.aUsdFund.selectFundingType.show();\r\n        });\r\n        let save_international_bank_information = document.getElementById('save_international_bank_information');\r\n        save_international_bank_information === null || save_international_bank_information === void 0 ? void 0 : save_international_bank_information.addEventListener('click', (evt) => WireTransfer_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!this.validate())\r\n                return;\r\n            let params = FormHelper.getParams('#wireTransferForm');\r\n            let userService = new UserService(this.aUsdFund.moralis);\r\n            yield userService.registerWireTransferRelationship(params)\r\n                .then(response => {\r\n                this.aUsdFund.transfer.show(response);\r\n            })\r\n                .catch((reason) => WireTransfer_awaiter(this, void 0, void 0, function* () {\r\n                let obj = JSON.parse(reason.message);\r\n                let writeTransferError = document.getElementById('writeTransferError');\r\n                if (writeTransferError) {\r\n                    if (obj.serverError.message.indexOf('only one bank association') != -1) {\r\n                        let bankRelationship = yield userService.getBankRelationship();\r\n                        if (!bankRelationship) {\r\n                            writeTransferError.innerText = 'We cannot create the bank connection. Something is not working as it should. Please contact us at <a href=\"mailto:info@liminal.market\">info@liminal.market</a>';\r\n                            writeTransferError.style.display = 'block';\r\n                        }\r\n                        else {\r\n                            yield this.aUsdFund.transfer.show(bankRelationship);\r\n                        }\r\n                    }\r\n                    else {\r\n                        writeTransferError.innerText = obj.serverError.message;\r\n                        writeTransferError.style.display = 'block';\r\n                    }\r\n                }\r\n            }));\r\n        }));\r\n    }\r\n    validate() {\r\n        let swift_error = document.getElementById('swift_error');\r\n        if (swift_error)\r\n            swift_error.style.display = 'none';\r\n        let writeTransferError = document.getElementById('writeTransferError');\r\n        if (writeTransferError)\r\n            writeTransferError.style.display = 'none';\r\n        if (!FormHelper.validate('#wireTransferForm'))\r\n            return false;\r\n        let bank_code = document.getElementById('bank_code');\r\n        if (bank_code.value.length != 8 && bank_code.value.length != 11) {\r\n            bank_code.setAttribute('aria-invalid', 'true');\r\n            let swift_error = document.getElementById('swift_error');\r\n            if (swift_error)\r\n                swift_error.style.display = 'block';\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/ACHTransferInfo.html\n// Module\nvar ACHTransferInfo_code = \"<h2>You need to transfer now</h2>\\r\\n<p>\\r\\n    Use this information to execute the transfer.\\r\\n    Alpaca...... information is needed.\\r\\n    ${{amount}}\\r\\n</p>\";\n// Exports\n/* harmony default export */ const Funding_ACHTransferInfo = (ACHTransferInfo_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/ACHTransferInfo.ts\n\r\nclass ACHTransferInfo {\r\n    constructor(aUsdFund) {\r\n        this.aUsdFund = aUsdFund;\r\n    }\r\n    show(amount) {\r\n        let template = Handlebars.compile(Funding_ACHTransferInfo);\r\n        this.aUsdFund.modal.showModal('Transfer information', template({ amount: amount }), false, () => {\r\n        }, false);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/WireTransferInfo.html\n// Module\nvar WireTransferInfo_code = \"<h2>You need to transfer now</h2>\\r\\n<p>\\r\\n    Use this information to execute the transfer.\\r\\n    Alpaca...... information is needed.\\r\\n    ${{amount}}\\r\\n</p>\";\n// Exports\n/* harmony default export */ const Funding_WireTransferInfo = (WireTransferInfo_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/WireTransferInfo.ts\n\r\nclass WireTransferInfo {\r\n    constructor(aUsdFund) {\r\n        this.aUsdFund = aUsdFund;\r\n    }\r\n    show(amount) {\r\n        let template = Handlebars.compile(Funding_WireTransferInfo);\r\n        this.aUsdFund.modal.showModal('Transfer information', template({ amount: amount }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/AUSDFund.ts\nvar AUSDFund_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AUSDFund {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.modal = new Modal();\r\n        this.selectFundingType = new SelectFundingType(this);\r\n        this.achRelationship = new ACHRelationship(this);\r\n        this.transfer = new Transfer(moralis, this);\r\n        this.wireTransfer = new WireTransfer(this);\r\n        this.achTransferInfo = new ACHTransferInfo(this);\r\n        this.wireTransferInfo = new WireTransferInfo(this);\r\n    }\r\n    show() {\r\n        return AUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(this.moralis);\r\n            let bankRelationship = yield userService.getBankRelationship();\r\n            if (bankRelationship) {\r\n                yield this.transfer.show(bankRelationship);\r\n            }\r\n            else {\r\n                this.selectFundingType.show();\r\n            }\r\n        });\r\n    }\r\n    showError(elementId, reason) {\r\n        let element = document.getElementById(elementId);\r\n        if (element) {\r\n            element.innerText = reason;\r\n            element.style.display = 'block';\r\n        }\r\n    }\r\n    hideError(elementId) {\r\n        let element = document.getElementById(elementId);\r\n        if (element) {\r\n            element.style.display = 'none';\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/FakeAUSDFund.ts\nvar FakeAUSDFund_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass FakeAUSDFund {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.currentBalance = new bignumber(-1);\r\n        this.modal = new Modal();\r\n    }\r\n    showAUSDFund(callback) {\r\n        //this is real instruction how to transfer to broker\r\n        callback();\r\n    }\r\n    showAUSDFakeFund(callback) {\r\n        let template = Handlebars.compile(FakeFunding);\r\n        let contractInfo = ContractInfo.getContractInfo();\r\n        let content = template({ aUSDAddress: contractInfo.AUSD_ADDRESS });\r\n        this.modal.showModal('Fund my account (Fake money)', content);\r\n        let addToWallet = document.getElementById('addTokenToWallet');\r\n        if (!addToWallet)\r\n            return;\r\n        addToWallet.addEventListener('click', (evt) => FakeAUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            let result = yield walletHelper.addTokenToWallet(contractInfo.AUSD_ADDRESS, 'aUSD', () => {\r\n                this.showCopyField();\r\n            });\r\n            if (!result)\r\n                this.showCopyField();\r\n        }));\r\n        let registerBankInfo = document.getElementById('registerBankInfo');\r\n        registerBankInfo === null || registerBankInfo === void 0 ? void 0 : registerBankInfo.addEventListener('click', (evt) => {\r\n            this.modal.hideModal();\r\n            let aUsdFund = new AUSDFund(this.moralis);\r\n            aUsdFund.show();\r\n        });\r\n        let requestFakeAUSD = document.getElementById('requestFakeAUSD');\r\n        requestFakeAUSD === null || requestFakeAUSD === void 0 ? void 0 : requestFakeAUSD.addEventListener('click', (evt) => FakeAUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            requestFakeAUSD.setAttribute('aria-busy', 'true');\r\n            let fundingService = new FundingService(this.moralis);\r\n            let result = yield fundingService.requestFakeFunding()\r\n                .catch((reason) => {\r\n                this.errorWhileFunding({});\r\n            });\r\n            console.log('success', result.success);\r\n            if (!result.success) {\r\n                console.log(result);\r\n                let fundingError = document.getElementById('fundingError');\r\n                if (fundingError) {\r\n                    requestFakeAUSD.removeAttribute('aria-busy');\r\n                    fundingError.classList.remove('d-none');\r\n                    fundingError.innerHTML = result.message;\r\n                    setTimeout(() => {\r\n                        fundingError.classList.add('d-none');\r\n                    }, 10 * 1000);\r\n                }\r\n            }\r\n            else if (result.success) {\r\n                let beforeFunding = document.getElementById('beforeFunding');\r\n                let afterFunding = document.getElementById('afterFunding');\r\n                if (!beforeFunding || !afterFunding)\r\n                    return;\r\n                yield this.loadAUSDBalance();\r\n                beforeFunding.classList.add('d-none');\r\n                afterFunding.classList.remove('d-none');\r\n            }\r\n            else {\r\n                this.errorWhileFunding(result);\r\n            }\r\n            //callback();\r\n        }));\r\n    }\r\n    loadAUSDBalance() {\r\n        return FakeAUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            let currentAUSDBalance = document.getElementById('currentAUSDBalance');\r\n            if (!currentAUSDBalance)\r\n                return;\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let userService = new UserService(this.moralis);\r\n            let ethAddress = userService.getEthAddress();\r\n            let amount = new bignumber(0);\r\n            if (ethAddress) {\r\n                amount = yield aUSDService.getAUSDBalanceOf(ethAddress);\r\n            }\r\n            currentAUSDBalance.innerHTML = '$' + roundBigNumber(amount).toString();\r\n            if (this.currentBalance.eq(-1)) {\r\n                this.currentBalance = amount;\r\n            }\r\n            if (this.currentBalance.eq(amount)) {\r\n                setTimeout(() => FakeAUSDFund_awaiter(this, void 0, void 0, function* () {\r\n                    yield this.loadAUSDBalance();\r\n                }), 5 * 1000);\r\n            }\r\n            else {\r\n                window.location.reload();\r\n            }\r\n        });\r\n    }\r\n    showCopyField() {\r\n        let needToCopy = document.getElementById('needToCopy');\r\n        if (!needToCopy)\r\n            return;\r\n        needToCopy.classList.remove('d-none');\r\n    }\r\n    errorWhileFunding(result) {\r\n        let beforeFunding = document.getElementById('beforeFunding');\r\n        let errorAfterFunding = document.getElementById('errorAfterTryFunding');\r\n        if (!beforeFunding || !errorAfterFunding)\r\n            return;\r\n        if (result.message) {\r\n            errorAfterFunding.innerHTML = result.message;\r\n        }\r\n        beforeFunding.classList.add('d-none');\r\n        errorAfterFunding.classList.remove('d-none');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Funding/WithdrawModal.html\n// Module\nvar WithdrawModal_code = \"<fieldset id=\\\"withdrawInput\\\">\\r\\n\\r\\n    {{#if bank.bank_code_type}}\\r\\n    Your money will be sent to {{bank.name}} to account number {{bank.account_number}}.\\r\\n    <br/><br/>\\r\\n    Outgoing International Wire Transfers cost is ${{transferCost}}.<br/>\\r\\n    Fees will be deducted from the amount.\\r\\n    {{/if}}\\r\\n    {{#unless bank.bank_code_type}}\\r\\n    Your money will be sent to account number {{bank.bank_account_number}}.\\r\\n    <br/><br/>\\r\\n    ACH transfer costs is ${{transferCost}}. Fees will be deducted from the amount.\\r\\n    {{/unless}}\\r\\n    <form id=\\\"withdrawForm\\\">\\r\\n        <label>Amount to withdraw\\r\\n            <input type=\\\"tel\\\" name=\\\"amount\\\" id=\\\"amount\\\"/>\\r\\n        </label>\\r\\n        <div class=\\\"input_error\\\" id=\\\"withdrawAmountError\\\">The amount is lower than the cost of transfer</div>\\r\\n        <button id=\\\"confirmWithdraw\\\">Confirm withdraw</button>\\r\\n    </form>\\r\\n    {{{Transfers}}}\\r\\n</fieldset>\\r\\n\\r\\n<fieldset id=\\\"withdrawConfirm\\\" class=\\\"hidden\\\">\\r\\n    You are about to withdraw $<span id=\\\"withdrawAmountText\\\"></span> from your account\\r\\n    <div class=\\\"warningBar\\\">\\r\\n        Warning: The fee of this transaction will be $<span id=\\\"feeWarning\\\"></span>\\r\\n        and is <span id=\\\"feePercentage\\\"></span>% of the amount.\\r\\n    </div>\\r\\n    <div class=\\\"input_error\\\" id=\\\"withdrawError\\\"></div>\\r\\n    <button id=\\\"confirmWithdrawButton\\\">Execute transfer</button>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Funding_WithdrawModal = (WithdrawModal_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Funding/WithdrawModal.ts\nvar WithdrawModal_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass WithdrawModal {\r\n    constructor(moralis) {\r\n        this.wireTransferCost = 50;\r\n        this.achTransferCost = 25;\r\n        this.moralis = moralis;\r\n        this.userService = new UserService(this.moralis);\r\n        this.transferCost = this.wireTransferCost;\r\n        this.transfersList = new TransfersList(this.moralis);\r\n    }\r\n    show() {\r\n        return WithdrawModal_awaiter(this, void 0, void 0, function* () {\r\n            let modal = new Modal();\r\n            let bankRelationships = yield this.userService.getBankRelationship();\r\n            if (!bankRelationships) {\r\n                modal.showModal('Withdraw information', \"You haven't setup bank connection. You cannot withdraw from without bank connection\");\r\n                return;\r\n            }\r\n            let transfersHtml = yield this.transfersList.render(TransferDirectionEnum.Outgoing);\r\n            let ethAddress = this.userService.getEthAddress();\r\n            let ausdService = new AUSDService(this.moralis);\r\n            this.currentBalance = new bignumber(0);\r\n            if (ethAddress) {\r\n                this.currentBalance = yield ausdService.getAUSDBalanceOf(ethAddress);\r\n            }\r\n            if (this.currentBalance.eq(0)) {\r\n                let tmp = Handlebars.compile(\"Your current balance is $0. There is nothing to withdraw. {{{transfers}}}\");\r\n                modal.showModal('Withdraw information', tmp({ transfers: transfersHtml }));\r\n                return;\r\n            }\r\n            let withdrawTemplate = Handlebars.compile(Funding_WithdrawModal);\r\n            this.bankInfo = bankRelationships;\r\n            this.transferCost = (this.bankInfo.bank_code_type) ? this.wireTransferCost : this.achTransferCost;\r\n            let obj = {\r\n                amount: this.currentBalance,\r\n                transferCost: this.transferCost,\r\n                Transfers: transfersHtml,\r\n                bank: this.bankInfo\r\n            };\r\n            modal.showModal('Withdraw information', withdrawTemplate(obj));\r\n            this.bindEvents();\r\n            this.transfersList.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let confirmWithdraw = document.getElementById('confirmWithdraw');\r\n        confirmWithdraw === null || confirmWithdraw === void 0 ? void 0 : confirmWithdraw.addEventListener('click', (evt) => WithdrawModal_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!this.bankInfo)\r\n                return;\r\n            let amount = document.getElementById('amount');\r\n            if (StringHelper.isNullOrEmpty(amount.value)) {\r\n                amount.setAttribute('aria-invalid', 'true');\r\n                return;\r\n            }\r\n            else if (parseFloat(amount.value) <= this.transferCost) {\r\n                let withdrawAmountError = document.getElementById('withdrawAmountError');\r\n                withdrawAmountError.style.display = 'block';\r\n                amount.setAttribute('aria-invalid', 'true');\r\n                return;\r\n            }\r\n            else {\r\n                amount.setAttribute('aria-invalid', 'false');\r\n            }\r\n            this.showWithdrawConfirmation();\r\n        }));\r\n    }\r\n    showWithdrawConfirmation() {\r\n        if (!this.bankInfo)\r\n            return;\r\n        let amount = document.getElementById('amount');\r\n        let withdrawInput = document.getElementById('withdrawInput');\r\n        withdrawInput === null || withdrawInput === void 0 ? void 0 : withdrawInput.classList.add('hidden');\r\n        let withdrawConfirm = document.getElementById('withdrawConfirm');\r\n        withdrawConfirm === null || withdrawConfirm === void 0 ? void 0 : withdrawConfirm.classList.remove('hidden');\r\n        let withdrawAmountText = document.getElementById('withdrawAmountText');\r\n        let feeWarning = document.getElementById('feeWarning');\r\n        let feePercentage = document.getElementById('feePercentage');\r\n        withdrawAmountText.innerText = amount.value;\r\n        feeWarning.innerText = this.transferCost.toString();\r\n        feePercentage.innerText = roundNumber((this.transferCost / parseFloat(amount.value)) * 100).toString();\r\n        let confirmWithdrawButton = document.getElementById('confirmWithdrawButton');\r\n        confirmWithdrawButton === null || confirmWithdrawButton === void 0 ? void 0 : confirmWithdrawButton.addEventListener('click', (evt) => WithdrawModal_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            yield this.userService.createTransfer(amount.value, TransferDirectionEnum.Outgoing)\r\n                .then((response) => WithdrawModal_awaiter(this, void 0, void 0, function* () {\r\n                withdrawConfirm.innerHTML = yield this.transfersList.render(TransferDirectionEnum.Outgoing);\r\n                this.transfersList.bindEvents();\r\n            }))\r\n                .catch(reason => {\r\n                let withdrawError = document.getElementById('withdrawError');\r\n                if (!withdrawError)\r\n                    return;\r\n                if (withdrawError && isJSON(reason.message)) {\r\n                    let error = JSON.parse(reason.message);\r\n                    withdrawError.innerText = error.serverError.message;\r\n                }\r\n                else {\r\n                    withdrawError.innerText = reason.toString();\r\n                }\r\n                withdrawError.style.display = 'block';\r\n            });\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/AUsdBalance.ts\nvar AUsdBalance_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AUsdBalance {\r\n    constructor(moralis, user) {\r\n        this.user = user;\r\n        this.moralis = moralis;\r\n    }\r\n    static forceLoadAUSDBalanceUI() {\r\n        return AUsdBalance_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let user = userService.getUser();\r\n            let ui = new AUsdBalance(Moralis, user);\r\n            AUSDService.lastUpdate = undefined;\r\n            yield ui.loadAUSDBalanceUI();\r\n        });\r\n    }\r\n    loadAUSDBalanceUI() {\r\n        return AUsdBalance_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.user)\r\n                return;\r\n            let userInfoAUsdBalance = document.getElementById('userInfoAUsdBalance');\r\n            let frontpageAUsdBalance = document.getElementById('frontpageAUsdBalance');\r\n            if (!userInfoAUsdBalance)\r\n                return;\r\n            if (!this.user.get('alpacaId')) {\r\n                frontpageAUsdBalance === null || frontpageAUsdBalance === void 0 ? void 0 : frontpageAUsdBalance.classList.add('hidden');\r\n                userInfoAUsdBalance === null || userInfoAUsdBalance === void 0 ? void 0 : userInfoAUsdBalance.classList.add('hidden');\r\n                return;\r\n            }\r\n            else {\r\n                frontpageAUsdBalance === null || frontpageAUsdBalance === void 0 ? void 0 : frontpageAUsdBalance.classList.remove('hidden');\r\n                userInfoAUsdBalance === null || userInfoAUsdBalance === void 0 ? void 0 : userInfoAUsdBalance.classList.remove('hidden');\r\n            }\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let aUsdValueWei = yield aUSDService.getAUSDBalanceOf(this.user.get('ethAddress'));\r\n            let aUsdValue = roundBigNumber(aUsdValueWei);\r\n            let frontpageAUSDBalance = document.getElementById('front_page_aUSD_balance');\r\n            if (frontpageAUSDBalance)\r\n                frontpageAUSDBalance.innerHTML = '$' + aUsdValue;\r\n            let user_info_ausd_balance = document.getElementById('user_info_ausd_balance');\r\n            if (user_info_ausd_balance)\r\n                user_info_ausd_balance.innerHTML = '$' + aUsdValue;\r\n            this.bindEvents();\r\n            let balance_value = document.querySelector('.balance_value');\r\n            if (balance_value) {\r\n                balance_value.innerHTML = '$' + aUsdValue;\r\n                balance_value.title = aUsdValueWei.toString();\r\n                balance_value.dataset['tooltip'] = aUsdValueWei.toString();\r\n            }\r\n            if (aUsdValue.isLessThan(10)) {\r\n                let frontpage_fund_account = document.getElementById('frontpage_fund_account');\r\n                frontpage_fund_account === null || frontpage_fund_account === void 0 ? void 0 : frontpage_fund_account.classList.remove('hidden');\r\n            }\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        let fund_accountButtons = document.querySelectorAll('.fund_account');\r\n        fund_accountButtons.forEach(element => {\r\n            let aUSDFundingModal = new FakeAUSDFund(this.moralis);\r\n            if (networkInfo.TestNetwork) {\r\n                element.innerHTML = 'Click for some aUSD';\r\n                element.addEventListener('click', (evt) => {\r\n                    evt.preventDefault();\r\n                    aUSDFundingModal.showAUSDFakeFund(() => {\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                element.addEventListener('click', (evt) => AUsdBalance_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    let aUsdFund = new AUSDFund(this.moralis);\r\n                    yield aUsdFund.show();\r\n                }));\r\n            }\r\n        });\r\n        let withdraw_from_account = document.getElementById('withdraw_from_account');\r\n        withdraw_from_account === null || withdraw_from_account === void 0 ? void 0 : withdraw_from_account.addEventListener('click', (evt) => AUsdBalance_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let withdrawModal = new WithdrawModal(this.moralis);\r\n            yield withdrawModal.show();\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/UserInfo.ts\nvar UserInfo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass UserInfo {\r\n    constructor(moralis, providerInfo, user) {\r\n        this.moralis = moralis;\r\n        this.user = user;\r\n        this.userService = new UserService(this.moralis);\r\n        this.providerInfo = providerInfo;\r\n    }\r\n    render(elementId) {\r\n        return UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.user)\r\n                return;\r\n            this.listenForWalletChanges();\r\n            this.loadUserMenuUI(elementId);\r\n            let aUsdBalance = new AUsdBalance(this.moralis, this.user);\r\n            yield aUsdBalance.loadAUSDBalanceUI();\r\n        });\r\n    }\r\n    listenForWalletChanges() {\r\n        this.moralis.onChainChanged(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onAccountChanged(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onDisconnect(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onConnect(function () {\r\n            location.reload();\r\n        });\r\n    }\r\n    loadUserMenuUI(elementId) {\r\n        if (!this.user)\r\n            return;\r\n        let userInfoDiv = document.getElementById(elementId);\r\n        if (!userInfoDiv)\r\n            return;\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        let obj = {\r\n            ethAddress: this.user.get('ethAddress'),\r\n            shortEthAddress: shortEth(this.user.get('ethAddress')),\r\n            walletName: this.providerInfo.WalletName,\r\n            networkName: networkInfo.ChainName + ((networkInfo.TestNetwork) ? ' - (Test network)' : ''),\r\n            blockchainExplorer: networkInfo.BlockExplorer + '/address/',\r\n            provider: ''\r\n        };\r\n        let template = Handlebars.compile(elements_UserInfo);\r\n        let html = template(obj);\r\n        userInfoDiv.innerHTML = html;\r\n        let userInfoAction = document.getElementById('userInfoAction');\r\n        userInfoAction === null || userInfoAction === void 0 ? void 0 : userInfoAction.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            let userInfoDropdown = document.getElementById('userInfoDropdown');\r\n            if (!userInfoDropdown)\r\n                return;\r\n            userInfoDropdown.classList.toggle('d-none');\r\n            userInfoDropdown.addEventListener('click', (evt) => {\r\n                evt.stopPropagation();\r\n            });\r\n        });\r\n        let disconnectFromNetwork = document.getElementById('disconnectFromNetwork');\r\n        disconnectFromNetwork === null || disconnectFromNetwork === void 0 ? void 0 : disconnectFromNetwork.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            this.moralis.User.logOut();\r\n            window.location.reload();\r\n        });\r\n        this.bindUserActionEvents();\r\n    }\r\n    bindUserActionEvents() {\r\n        let editName = document.getElementById('editName');\r\n        editName === null || editName === void 0 ? void 0 : editName.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditNameForm();\r\n            yield kycModal.show();\r\n        }));\r\n        let editContact = document.getElementById('editContact');\r\n        editContact === null || editContact === void 0 ? void 0 : editContact.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditContactForm();\r\n            yield kycModal.show();\r\n        }));\r\n        let editTrustedContact = document.getElementById('editTrustedContact');\r\n        editTrustedContact === null || editTrustedContact === void 0 ? void 0 : editTrustedContact.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditTrustedContact();\r\n            yield kycModal.show();\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/ConnectWalletButton.html\n// Module\nvar ConnectWalletButton_code = \"<button class=\\\"liminal_market_connect_wallet outline\\\">Connect wallet</button>\";\n// Exports\n/* harmony default export */ const ConnectWalletButton = (ConnectWalletButton_code);\n;// CONCATENATED MODULE: ./src/html/modal/SelectWalletProvider.html\n// Module\nvar SelectWalletProvider_code = \"\\r\\n<article id=\\\"tos_pp_cookie_panel\\\">\\r\\n    <p>\\r\\n        By connecting a wallet, I agree to liminal.market Terms of Use, Cookies Policy and Privacy Policy.\\r\\n    </p>\\r\\n    <ul>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"all\\\" value=\\\"1\\\">\\r\\n\\r\\n        I accept all\\r\\n\\r\\n    </label>\\r\\n        </li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"tos\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept <a href=\\\"https://www.liminal.market/terms-of-service\\\" target=\\\"_blank\\\">Terms of service</a>\\r\\n        <small>Things to note. You are taking a risk by buying stocks. You will be asked to do KYC/AML. You are responsible for any transaction you make.</small>\\r\\n      </span>\\r\\n    </label></li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"pp\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept the <a href=\\\"https://www.liminal.market/privacy-policy\\\" target=\\\"_blank\\\">Privacy Policy</a>\\r\\n        <small>Liminal.market doesn't store any personal data. Any KYC info is stored with the broker. If you register on our mailing list, that will be the only personal info we store.</small>\\r\\n      </span>\\r\\n    </label></li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"cookie\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept <a href=\\\"https://www.liminal.market/cookie-policy\\\" target=\\\"_blank\\\">Cookie policy</a>\\r\\n        <small>We use some cookies & services to improve our service. You don't have to accept but we will then just store essential cookies.</small>\\r\\n      </span>\\r\\n    </label>\\r\\n        </li>\\r\\n    </ul>\\r\\n</article>\\r\\n\\r\\n<div class=\\\"d-none\\\" id=\\\"wallet_connector_panel\\\">\\r\\n    <article class=\\\"provider\\\" id=\\\"connect_wallet_walletConnect\\\" data-provider=\\\"walletConnect\\\">\\r\\n\\r\\n        <h3>Connect using WalletConnect</h3>\\r\\n        <p>\\r\\n            Popular option to connect your mobile wallet.\\r\\n            For mobile we like <a href=\\\"https://www.tokenpocket.pro/\\\" target=\\\"_blank onclick='event.stopProgation();'\\\">Token\\r\\n            Poket</a>\\r\\n            as is support test network</p>\\r\\n\\r\\n    </article>\\r\\n    <div class=\\\"d-none\\\" id=\\\"walletConnectConnectionInfo\\\"></div>\\r\\n    <!--\\r\\n    <article class=\\\"provider\\\" id=\\\"connect_wallet_coinbaseWallet\\\" data-provider=\\\"coinbase\\\">\\r\\n\\r\\n        <h3>Coinbase wallet</h3>\\r\\n        <p>Connect using your Coinbase app</p>\\r\\n\\r\\n    </article>\\r\\n    -->\\r\\n    <article id=\\\"connect_wallet_metamask\\\" class=\\\"provider\\\" data-provider=\\\"metamask\\\">\\r\\n\\r\\n        <h3>Metamask</h3>\\r\\n        <p>Connect using your Metamask</p>\\r\\n\\r\\n    </article>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const SelectWalletProvider = (SelectWalletProvider_code);\n;// CONCATENATED MODULE: ./src/ui/modals/ConnectWallet.ts\nvar ConnectWallet_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ConnectWallet {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.modal = new Modal();\r\n        this.providerInfo = new ProviderInfo(null);\r\n    }\r\n    renderButton(elementId) {\r\n        if (!document.getElementById(elementId))\r\n            return;\r\n        document.getElementById(elementId).innerHTML = ConnectWalletButton;\r\n        let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n        elements.forEach(el => {\r\n            el.removeEventListener('click', () => this.chooseWalletProvider());\r\n            el.addEventListener('click', () => this.chooseWalletProvider());\r\n        });\r\n    }\r\n    chooseWalletProvider() {\r\n        this.modal.showModal('Connect to a wallet', SelectWalletProvider);\r\n        this.setupCheckboxes();\r\n        this.setupProviders();\r\n    }\r\n    setupCheckboxes() {\r\n        let checkboxes = { all: false, tos: false, pp: false, cookie: false };\r\n        let cookieHelper = new CookieHelper(document);\r\n        let tosConfirmed = cookieHelper.getCookieValue('tos');\r\n        if (tosConfirmed) {\r\n            checkboxes = { tos: true, pp: true };\r\n            this.toggleProviders(checkboxes);\r\n            document.getElementById('tos_pp_cookie_panel').classList.add('d-none');\r\n            return;\r\n        }\r\n        let inputs = document.querySelectorAll('#tos_pp_cookie_panel input');\r\n        inputs.forEach(input => {\r\n            let checkbox = input;\r\n            checkbox.addEventListener('click', () => {\r\n                let name = checkbox.getAttribute('name');\r\n                if (name == 'all') {\r\n                    let valueToSet = checkbox.checked;\r\n                    inputs.forEach(tmp => {\r\n                        let otherInput = tmp;\r\n                        checkboxes[otherInput.name] = valueToSet;\r\n                        otherInput.checked = valueToSet;\r\n                    });\r\n                }\r\n                else {\r\n                    checkboxes[name] = checkbox.checked;\r\n                }\r\n                this.toggleProviders(checkboxes);\r\n            });\r\n        });\r\n    }\r\n    setupProviders() {\r\n        let anchors = document.querySelectorAll('#wallet_connector_panel .provider');\r\n        anchors.forEach(element => {\r\n            element.addEventListener('click', (evt) => {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n                let provider = evt.currentTarget.dataset.provider;\r\n                this.connectWallet(provider);\r\n            }, { capture: true });\r\n        });\r\n    }\r\n    toggleProviders(checkboxes) {\r\n        let cookieHelper = new CookieHelper(document);\r\n        if (checkboxes.tos && checkboxes.pp) {\r\n            cookieHelper.setCookie('tos', new Date().toDateString());\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            if (walletHelper.isWebview(window.navigator.userAgent)) {\r\n                this.modal.hideModal();\r\n                this.connectWallet('');\r\n            }\r\n            else {\r\n                document.getElementById('wallet_connector_panel').classList.remove('d-none');\r\n            }\r\n        }\r\n        else {\r\n            cookieHelper.deleteCookie('tos');\r\n            document.getElementById('wallet_connector_panel').classList.add('d-none');\r\n        }\r\n    }\r\n    showUnsupportedNetworkMessage(connectionInfo) {\r\n        let str = 'The network you are connecting to is not supported.';\r\n        str += 'Following networks are supported. ';\r\n        let networks = NetworkInfo.getNetworks();\r\n        for (let i = 0; i < networks.length; i++) {\r\n            if (i != 0)\r\n                str += ', ';\r\n            str += networks[i].Name;\r\n        }\r\n        connectionInfo.innerHTML = str;\r\n    }\r\n    connectWallet(providerName) {\r\n        let authenticationService = new AuthenticateService(this.moralis);\r\n        let cookieHelper = new CookieHelper(document);\r\n        cookieHelper.setCookieProvider(providerName);\r\n        authenticationService.authenticateUser(providerName, (walletConnectionInfo) => {\r\n            this.web3EnabledResult(providerName, walletConnectionInfo);\r\n        }, (user) => ConnectWallet_awaiter(this, void 0, void 0, function* () {\r\n            this.modal.hideModal();\r\n            let userInfo = new UserInfo(this.moralis, this.providerInfo, user);\r\n            yield userInfo.render('user_header_info');\r\n            if (document.getElementById('liminal_market_execute_trade')) {\r\n                let page = new TradePage(this.moralis);\r\n                yield page.load();\r\n            }\r\n        }))\r\n            .catch((reason) => {\r\n            ErrorInfo.report(reason);\r\n        });\r\n    }\r\n    web3EnabledResult(providerName, walletConnectionInfo) {\r\n        this.providerInfo = new ProviderInfo(walletConnectionInfo);\r\n        let connectionInfo = document.getElementById(providerName + 'ConnectionInfo');\r\n        if (!connectionInfo)\r\n            return;\r\n        connectionInfo.classList.replace('alert-warning', 'alert-info');\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        if (this.providerInfo.ChainId != networkInfo.ChainId) {\r\n            let userNetwork = NetworkInfo.getNetworkInfoByChainId(this.providerInfo.ChainId);\r\n            if (!userNetwork) {\r\n                this.showUnsupportedNetworkMessage(connectionInfo);\r\n            }\r\n            else {\r\n                NetworkInfo.setNetworkByChainId(this.providerInfo.ChainId);\r\n            }\r\n        }\r\n        let str = 'Connecting to you wallet \"' + this.providerInfo.WalletName + '\" to address ' + shortEth(this.providerInfo.UserAddress);\r\n        str += '. Open ' + this.providerInfo.WalletName + ' and <strong>Confirm</strong> the sign in.';\r\n        connectionInfo.innerHTML = str;\r\n        connectionInfo.classList.remove('d-none');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/KYCService.ts\nvar KYCService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass KYCService extends BlockchainService {\r\n    constructor(moralis) {\r\n        super(moralis);\r\n    }\r\n    getKYCAbi() {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            if (KYCService.KYCInfo)\r\n                return KYCService.KYCInfo.abi;\r\n            const response = yield fetch(\"../abi/KYC.json\");\r\n            KYCService.KYCInfo = yield response.json();\r\n            return KYCService.KYCInfo.abi;\r\n        });\r\n    }\r\n    hasValidKYC() {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            if (KYCService.KycResponse && KYCService.KycResponse.isValidKyc)\r\n                return KYCService.KycResponse;\r\n            KYCService.KycResponse = (yield this.moralis.Cloud.run('isValidKyc', { chainId: this.moralis.chainId })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                if (blockchainError.addressIsNotValidKYC()) {\r\n                    return false;\r\n                }\r\n                ErrorInfo.report(blockchainError);\r\n                return false;\r\n            }));\r\n            if (KYCService.KycResponse.alpacaId) {\r\n                let user = this.moralis.User.current();\r\n                user === null || user === void 0 ? void 0 : user.set('alpacaId', KYCService.KycResponse.alpacaId);\r\n                let aUsdBalance = new AUsdBalance(this.moralis, user);\r\n                yield aUsdBalance.loadAUSDBalanceUI();\r\n            }\r\n            return KYCService.KycResponse;\r\n        });\r\n    }\r\n    saveKYCInfo(data) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"kycRegistration\", data);\r\n        });\r\n    }\r\n    updateKYCInfo(data) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"updateAccount\", data);\r\n        });\r\n    }\r\n    isValidAccountId(str) {\r\n        const regex = new RegExp('^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$');\r\n        return regex.test(str);\r\n    }\r\n    updateDocuments(params) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"kycActionRequiredUpdate\", params);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/SecurityTokenService.ts\nvar SecurityTokenService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SecurityTokenService extends BlockchainService {\r\n    constructor(moralis) {\r\n        super(moralis);\r\n    }\r\n    getQuantityByAddress(symbol, ethAddress) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let liminalMarketService = new LiminalMarketService(this.moralis);\r\n            let symbolAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (symbolAddress === AddressZero)\r\n                return new bignumber(0);\r\n            let options = yield this.getOptions('balanceOf', symbolAddress, {\r\n                account: ethAddress\r\n            });\r\n            return yield this.executeFunction(options)\r\n                .then(balanceOf => {\r\n                let amount = this.moralis.Units.FromWei(balanceOf.toString(), 18);\r\n                return new bignumber(amount);\r\n            }).catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                ErrorInfo.report(blockchainError);\r\n                return new bignumber(0);\r\n            });\r\n        });\r\n    }\r\n    transfer(symbolAddress, qty) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let options = yield this.getOptions('transfer', symbolAddress, {\r\n                recipient: contractInfo.AUSD_ADDRESS,\r\n                amount: Moralis.Units.Token(qty.toString(), 18)\r\n            });\r\n            let result = yield this.executeFunction(options)\r\n                .then(result => {\r\n                return result;\r\n            })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, symbolAddress, params) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let securitySymbolAbi = yield this.getSecurityTokenAbi();\r\n            const options = {\r\n                contractAddress: symbolAddress,\r\n                functionName: functionName,\r\n                abi: securitySymbolAbi,\r\n                params: params\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n    getSecurityTokenAbi() {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            if (SecurityTokenService.SecurityTokenInfo)\r\n                return SecurityTokenService.SecurityTokenInfo.abi;\r\n            let response = yield fetch('../abi/SecurityToken.json');\r\n            SecurityTokenService.SecurityTokenInfo = yield response.json();\r\n            return SecurityTokenService.SecurityTokenInfo.abi;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/Progress.ts\nclass Progress {\r\n    show(message, percentage, warning, hideElements) {\r\n        let progress = document.getElementById('progress');\r\n        if (!progress)\r\n            return;\r\n        if (hideElements) {\r\n            hideElements.forEach((el) => {\r\n                let element = document.getElementById(el);\r\n                if (!element)\r\n                    return;\r\n                element.style.display = 'none';\r\n            });\r\n        }\r\n        progress.style.display = 'block';\r\n        progress.innerHTML = '<div class=\"progress_text\">' + message + '</div>';\r\n        progress.style.width = percentage + '%';\r\n        progress.classList.toggle('progress-bar-striped', (percentage != 100));\r\n        progress.classList.toggle('progress-bar-animated', (percentage != 100));\r\n        if (warning) {\r\n            progress.classList.add('bg-warning');\r\n            progress.classList.add('progress_text_attn');\r\n        }\r\n        else {\r\n            progress.classList.remove('bg-warning');\r\n            progress.classList.remove('progress_text_attn');\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/Subscription.ts\nvar Subscription_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass Subscription {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getOrderBuyTablePrefix() {\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        return networkInfo.Name;\r\n    }\r\n    ;\r\n    subscribeToTable(tradeType, onUpdateCallback) {\r\n        return Subscription_awaiter(this, void 0, void 0, function* () {\r\n            let tableName = this.getOrderBuyTablePrefix() + 'Order' + tradeType;\r\n            console.log('subscribe to table:' + tableName);\r\n            let query = new this.moralis.Query(tableName);\r\n            let subscription = yield query.subscribe();\r\n            subscription.on('update', (response) => {\r\n                const object = response.toJSON();\r\n                console.log('object updated', JSON.stringify(object), object);\r\n                let ethLink = ' <a class=\"white-link\" target=\"_blank\" href=\"https://mumbai.polygonscan.com/tx/' + object.transaction_hash + '\">View transaction</a>';\r\n                onUpdateCallback(object);\r\n                console.log('status:', object.status);\r\n                let progress = new Progress();\r\n                if ((!object.status && object.confirmed) || object.status == 'money_sent') {\r\n                    progress.show('Blockchain has confirmed, money has been sent to broker.' + ethLink, 56);\r\n                    //blockchain has confirmed, money will arrive soon to broker\r\n                }\r\n                else if (object.status == 'money_arrived') {\r\n                    progress.show('Money has arrived, will now execute your buy order.' + ethLink, 70);\r\n                    //money has arrived to broker, we will now execute your order\r\n                }\r\n                else if (object.status == 'order_requested') {\r\n                    //order has been executed, we are waiting on response from the stock exchange\r\n                    progress.show('Buy order has been executed. We will update you when it has been filled.' + ethLink, 84);\r\n                }\r\n                else if (object.status == 'order_filled') {\r\n                    //order has been filled, you got object.filledQty of shares. You will see it soon in your wallet\r\n                    progress.show('Order has been filled, you will receive ' + object.filledQty + ' ' + Symbol + ' soon into your wallet.' + ethLink, 100);\r\n                }\r\n                else {\r\n                    progress.show('Waiting for blockchain to confirm transaction.', 99);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/enums/TradeType.ts\nvar TradeType;\r\n(function (TradeType) {\r\n    TradeType[\"Sell\"] = \"Sell\";\r\n    TradeType[\"Buy\"] = \"Buy\";\r\n})(TradeType || (TradeType = {}));\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/ExecuteTradeButton.html\n// Module\nvar ExecuteTradeButton_code = \"<button id=\\\"liminal_market_execute_trade\\\"></button>\";\n// Exports\n/* harmony default export */ const tradepanel_ExecuteTradeButton = (ExecuteTradeButton_code);\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeExecuted.html\n// Module\nvar TradeExecuted_code = \"\\r\\n<article class=\\\"trade_executed\\\">\\r\\n    <nav>\\r\\n    <ul>\\r\\n        <li>\\r\\n            <img src=\\\"{{sellingLogo}}\\\"><br />\\r\\n            {{sellingSymbol}}<br />\\r\\n            {{sellingAmount}}\\r\\n        </li>\\r\\n    </ul>\\r\\n    <ul>\\r\\n        <li> ----> </li>\\r\\n    </ul>\\r\\n    <ul>\\r\\n        <li>\\r\\n            <img src=\\\"{{buyingLogo}}\\\" /><br />\\r\\n            {{buyingSymbol}}<br />\\r\\n            <abbr title=\\\"{{buyingQuantity}}\\\" data-tooltip=\\\"{{buyingQuantity}}\\\">{{buyingRoundQuantity}}</abbr>\\r\\n        </li>\\r\\n    </ul>\\r\\n    </nav>\\r\\n    <div>\\r\\n        If you haven't already, add the {{buyingSymbol}} to your wallet.\\r\\n        <br /><br />\\r\\n        <button id=\\\"addTokenToWallet\\\" data-address=\\\"{{tokenAddress}}\\\">Add {{buyingSymbol}} to wallet</button>\\r\\n        <div id=\\\"addTokenToWalletFailed\\\" class=\\\"d-none\\\">\\r\\n            You can copy the address, to import the token\\r\\n            <input value=\\\"{{tokenAddress}}\\\" />\\r\\n        </div>\\r\\n        <br />\\r\\n        Should be visible in your {{walletName}} on address {{shortEthAddress}}.\\r\\n        <br /><br />\\r\\n        <small>You can view the <a href=\\\"{{blockExplorerLink}}\\\" target=\\\"_blank\\\">block transaction here</a></small>\\r\\n    </div>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const TradeExecuted = (TradeExecuted_code);\n;// CONCATENATED MODULE: ./src/html/modal/FakeNativeTokenNeeded.html\n// Module\nvar FakeNativeTokenNeeded_code = \"You need to have {{symbol}} currency in your wallet. You use {{symbol}} to pay for using the blockchain.\\r\\n\\r\\nTo get some {{symbol}} currency\\r\\n<ol>\\r\\n    <li>Copy your address shown below\\r\\n        <input value=\\\"{{ethAddress}}\\\" />\\r\\n    </li>\\r\\n    <li>Open <a href=\\\"{{faucetUrl}}\\\" id=\\\"getNativeTokens\\\" target=\\\"_blank\\\">{{faucetUrl}}</a></li>\\r\\n    <li>Paste in your address you just copied and click the submit button</li>\\r\\n</ol>\\r\\n\\r\\n<div class=\\\"infoBar d-none\\\" id=\\\"waitingForNativeToken\\\">Waiting for {{symbol}}. Window will close when you have some in\\r\\n    you wallet.\\r\\n    It might take few minutes after you requested it.\\r\\n    <progress></progress>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const FakeNativeTokenNeeded = (FakeNativeTokenNeeded_code);\n;// CONCATENATED MODULE: ./src/html/modal/NativeTokenNeeded.html\n// Module\nvar NativeTokenNeeded_code = \"You need to have {{symbol}} currency in your wallet. You use {{symbol}} to pay for using the blockchain.\\r\\n\\r\\nTo get some {{symbol}} currency\\r\\n<ol>\\r\\n    <li>Copy your address shown below\\r\\n        <input value=\\\"{{ethAddress}}\\\" />\\r\\n    </li>\\r\\n    <li>Open <a href=\\\"{{buyUrl}}\\\" target=\\\"_blank\\\">{{buyUrl}}</a></li>\\r\\n    <li>Paste in your address you just copied and click the submit button</li>\\r\\n</ol>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const modal_NativeTokenNeeded = (NativeTokenNeeded_code);\n;// CONCATENATED MODULE: ./src/ui/modals/NativeTokenNeeded.ts\nvar NativeTokenNeeded_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass NativeTokenNeeded {\r\n    constructor(moralis, onNativeTokenArrived) {\r\n        this.timeOut = undefined;\r\n        this.moralis = moralis;\r\n        this.onNativeTokenArrived = onNativeTokenArrived;\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        let userService = new UserService();\r\n        let ethAddress = userService.getEthAddress();\r\n        if (networkInfo.TestNetwork) {\r\n            let template = Handlebars.compile(FakeNativeTokenNeeded);\r\n            let content = template({ symbol: networkInfo.NativeSymbol, faucetUrl: networkInfo.FaucetUrl, ethAddress: ethAddress });\r\n            this.modal.showModal('Get some ' + networkInfo.NativeSymbol, content, false, () => {\r\n                this.cancelTimer();\r\n            });\r\n        }\r\n        else {\r\n            let template = Handlebars.compile(modal_NativeTokenNeeded);\r\n            let content = template({ symbol: networkInfo.NativeSymbol, buyUrl: networkInfo.BuyUrl, ethAddress: ethAddress });\r\n            this.modal.showModal('Get some ' + networkInfo.NativeSymbol, content, false, () => {\r\n                this.cancelTimer();\r\n            });\r\n        }\r\n        let link = document.getElementById('getNativeTokens');\r\n        if (!link)\r\n            return;\r\n        link.addEventListener('click', () => NativeTokenNeeded_awaiter(this, void 0, void 0, function* () {\r\n            let waitingForNativeToken = document.getElementById('waitingForNativeToken');\r\n            waitingForNativeToken === null || waitingForNativeToken === void 0 ? void 0 : waitingForNativeToken.classList.remove('d-none');\r\n            yield this.checkForNativeTokens();\r\n        }));\r\n    }\r\n    cancelTimer() {\r\n        if (this.timeOut)\r\n            clearTimeout(this.timeOut);\r\n    }\r\n    checkForNativeTokens() {\r\n        return NativeTokenNeeded_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let hasEnoughNativeTokens = yield networkInfo.hasEnoughNativeTokens(this.moralis);\r\n            if (hasEnoughNativeTokens) {\r\n                this.modal.hideModal();\r\n                this.onNativeTokenArrived();\r\n            }\r\n            else {\r\n                this.timeOut = setTimeout(() => this.checkForNativeTokens(), 5 * 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycActionRequired.html\n// Module\nvar KycActionRequired_code = \"<div id=\\\"kycActionRequiredDiv\\\">\\r\\n\\r\\n    {{#if Other}}\\r\\n    <strong>This is the message from KYC processor we received</strong>\\r\\n    <blockquote>\\r\\n        {{Other}}\\r\\n    </blockquote>\\r\\n    {{/if}}\\r\\n    <form novalidate id=\\\"kycActionRequiredForm\\\" name=\\\"kycActionRequiredForm\\\" onsubmit=\\\"return false;\\\">\\r\\n        {{{KycInfo}}}\\r\\n        {{#if SubmitData}}\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycActionRequiredError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"kycActionRequiredSubmit\\\">Send new information</button>\\r\\n        </div>\\r\\n        {{/if}}\\r\\n    </form>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"kycActionRequiredSubmittedDiv\\\" class=\\\"hidden center\\\">\\r\\n    <h3>You documents have been submitted.<br/>We will email you when your account is ready.</h3>\\r\\n    You can close this window.\\r\\n</div>\";\n// Exports\n/* harmony default export */ const Kyc_KycActionRequired = (KycActionRequired_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/WeDontKnowWhy.html\n// Module\nvar WeDontKnowWhy_code = \"<fieldset>\\r\\n    Your application has been rejected during KYC process.<br/><br/>\\r\\n    We don't have the information on why that happened, but you can email us at\\r\\n    <a href='mailto:info@liminal.market?subject=My application was rejected&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\\r\\n    and we can find out, and we should be able to solve it together.\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const WeDontKnowWhy = (WeDontKnowWhy_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/IDENTITY_VERIFICATION.html\n// Module\nvar IDENTITY_VERIFICATION_code = \"<fieldset>\\r\\n    <p>\\r\\n        Identity needs to be verified.\\r\\n        This means you need to upload\\r\\n        a new photo of your id. You might try another type of ID, such as\\r\\n        driver's license if you tried passport before\\r\\n    </p>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const IDENTITY_VERIFICATION = (IDENTITY_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/ADDRESS_VERIFICATION.html\n// Module\nvar ADDRESS_VERIFICATION_code = \"<fieldset>\\r\\n    <p>\\r\\n        Address needs to be verified. Please upload document that confirms your address.\\r\\n        A bill from the government or utility company in that last 30 days with your name it should work.\\r\\n    </p>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"address_verification\\\" \\\"Picture of address verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const ADDRESS_VERIFICATION = (ADDRESS_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/AFFILIATED.html\n// Module\nvar AFFILIATED_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is affiliated to finra or an exchange\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const AFFILIATED = (AFFILIATED_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/CONTROL_PERSON.html\n// Module\nvar CONTROL_PERSON_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is a control person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const CONTROL_PERSON = (CONTROL_PERSON_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/COUNTRY_NOT_SUPPORTED.html\n// Module\nvar COUNTRY_NOT_SUPPORTED_code = \"<fieldset>\\r\\n    The account owner’s country of tax residence is not supported by our KYC providers.\\r\\n    In this case, we’ll manually perform KYC on the user\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const COUNTRY_NOT_SUPPORTED = (COUNTRY_NOT_SUPPORTED_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/DATE_OF_BIRTH.html\n// Module\nvar DATE_OF_BIRTH_code = \"<fieldset>\\r\\n    Date of birth needs to be verified. Please upload document that confirms your date of birth.\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"date_of_birth_verification\\\" \\\"Date of birth verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const DATE_OF_BIRTH = (DATE_OF_BIRTH_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/FAMILY_MEMBER_PEP.html\n// Module\nvar FAMILY_MEMBER_PEP_code = \"<fieldset>\\r\\n    Further information needs to be submitted if family member is a politically exposed person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const FAMILY_MEMBER_PEP = (FAMILY_MEMBER_PEP_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/INVALID_IDENTITY_PASSPORT.html\n// Module\nvar INVALID_IDENTITY_PASSPORT_code = \"<fieldset>\\r\\n    Identity needs to be verified via a government issued ID.\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const INVALID_IDENTITY_PASSPORT = (INVALID_IDENTITY_PASSPORT_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/PEP.html\n// Module\nvar PEP_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is politically exposed person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const PEP = (PEP_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/SELFIE_VERIFICATION.html\n// Module\nvar SELFIE_VERIFICATION_code = \"<fieldset>\\r\\n    Identity needs to be verified via a live selfie of the account owner\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Live selfie verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const SELFIE_VERIFICATION = (SELFIE_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/TAX_IDENTIFICATION.html\n// Module\nvar TAX_IDENTIFICATION_code = \"<fieldset>\\r\\n    Tax ID number needs to be verified. Please upload document that confirms your Tax Id\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"tax_id_verification\\\" \\\"Tax id verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const TAX_IDENTIFICATION = (TAX_IDENTIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/VISA_TYPE_OTHER.html\n// Module\nvar VISA_TYPE_OTHER_code = \"<fieldset>\\r\\n    Further information needs to be submitted about account owner’s visa\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const VISA_TYPE_OTHER = (VISA_TYPE_OTHER_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/W8BEN_CORRECTION.html\n// Module\nvar W8BEN_CORRECTION_code = \"<fieldset>\\r\\n    Identifying information submitted by the user was incorrect so a new, corrected, W8BEN needs to be submitted\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const W8BEN_CORRECTION = (W8BEN_CORRECTION_code);\n;// CONCATENATED MODULE: ./src/html/elements/FileUpload.html\n// Module\nvar FileUpload_code = \"<div>\\r\\n    <label for=\\\"{{inputId}}\\\">{{label}}</label>\\r\\n    <input type=\\\"file\\\" required id=\\\"{{inputId}}\\\" accept=\\\"{{accept}}\\\" capture=\\\"{{capture}}\\\"/>\\r\\n    <input type=\\\"hidden\\\" id=\\\"{{inputId}}_base64\\\" name=\\\"{{inputId}}_base64\\\"/>\\r\\n    <div class=\\\"error hidden\\\" id=\\\"{{inputId}}_error\\\"></div>\\r\\n</div>\\r\\n<div id=\\\"{{inputId}}_preview\\\">\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const elements_FileUpload = (FileUpload_code);\n;// CONCATENATED MODULE: ./src/ui/elements/FileUpload.ts\n\r\nclass FileUpload {\r\n    constructor(inputId, label, accept = \"image/png,image/jpeg,.pdf\", capture = 'environment') {\r\n        this.maxFileSize = 8 * 1024 * 1024 * 10; //10MB\r\n        this.accept = \"image/*,.pdf\";\r\n        this.capture = 'environment';\r\n        this.inputId = inputId;\r\n        this.label = label;\r\n        this.accept = accept;\r\n        this.capture = capture;\r\n    }\r\n    render() {\r\n        let template = Handlebars.compile(elements_FileUpload);\r\n        return template(this);\r\n    }\r\n    bindEvents() {\r\n        let fileInput = document.getElementById(this.inputId);\r\n        fileInput === null || fileInput === void 0 ? void 0 : fileInput.addEventListener('change', (evt) => {\r\n            this.processFile(fileInput);\r\n        });\r\n    }\r\n    processFile(element) {\r\n        this.hideFileRelatedInfo(element.id);\r\n        let files = element.files;\r\n        if (!files)\r\n            return;\r\n        let file = files[0];\r\n        if (!file) {\r\n            this.showFileRelatedInfo(element.id, 'No file selected. Please select file.');\r\n            this.setBase64Input(element.id, '');\r\n            return;\r\n        }\r\n        if (file.size > this.maxFileSize) {\r\n            this.showFileRelatedInfo(element.id, 'File ' + file.name + ' is to large. Files cannot be larger then 10MB. You need to make it smaller before submitting your application');\r\n            this.setBase64Input(element.id, '');\r\n            return;\r\n        }\r\n        let reader = new FileReader();\r\n        reader.addEventListener('load', () => {\r\n            this.setBase64Input(element.id, reader.result);\r\n        });\r\n        reader.addEventListener('error', () => {\r\n            this.showFileRelatedInfo(element.id, 'Could not read file ' + file.name + '. Either the file is corrupt or your browser does not allow us to read it');\r\n        });\r\n        reader.readAsDataURL(file);\r\n    }\r\n    setBase64Input(elementId, value) {\r\n        let base64Input = document.getElementById(elementId + '_base64');\r\n        base64Input.value = value;\r\n        let previewElement = document.getElementById(elementId + '_preview');\r\n        if (!previewElement)\r\n            return;\r\n        if (value.indexOf('data:image') != -1) {\r\n            previewElement.innerHTML = '<img src=\"' + base64Input.value + '\" />';\r\n        }\r\n        else {\r\n            previewElement.innerHTML = '';\r\n        }\r\n    }\r\n    showFileRelatedInfo(elementId, text) {\r\n        let fileRelatedInfo = document.getElementById(elementId + '_error');\r\n        if (!fileRelatedInfo)\r\n            return;\r\n        fileRelatedInfo.innerHTML = text;\r\n        fileRelatedInfo.classList.remove('hidden');\r\n    }\r\n    hideFileRelatedInfo(elementId) {\r\n        let fileRelatedInfo = document.getElementById(elementId + '_error');\r\n        if (!fileRelatedInfo)\r\n            return;\r\n        fileRelatedInfo.classList.add('hidden');\r\n    }\r\n    static registerHandler() {\r\n        Handlebars.registerHelper('fileUpload', (id, label) => {\r\n            let fileUpload = new FileUpload(id, label);\r\n            FileUpload.fileUploads.push(fileUpload);\r\n            return fileUpload.render();\r\n        });\r\n    }\r\n}\r\nFileUpload.fileUploads = [];\r\n\n;// CONCATENATED MODULE: ./src/util/FormValidator.ts\n\r\nclass FormValidator {\r\n    constructor(selector) {\r\n        this.selector = selector;\r\n    }\r\n    validateRequiredFields() {\r\n        let inputs = document.querySelectorAll(this.selector + ' input[required], ' + this.selector + ' select[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (this.isMissingInputFromUser(input)) {\r\n                let obj = {\r\n                    message: 'You must fill into this field',\r\n                    inputName: input.id,\r\n                    labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                    pattern: input.pattern\r\n                };\r\n                this.handle(obj);\r\n                return false;\r\n            }\r\n            if (input.pattern) {\r\n                let pattern = input.pattern;\r\n                let matches = input.value.match(pattern);\r\n                if (matches == null) {\r\n                    let obj = {\r\n                        message: 'This is not valid date format, please use YYYY-MM-DD (year-month-date)',\r\n                        inputName: input.id,\r\n                        labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                        pattern: input.pattern\r\n                    };\r\n                    this.handle(obj);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    isMissingInputFromUser(input) {\r\n        return ((input.type == 'checkbox' && !input.checked) || StringHelper.isNullOrEmpty(input.value));\r\n    }\r\n    removeMissingInfo(errorDivId, focusElementId) {\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.style.display = 'none';\r\n        if (!focusElementId)\r\n            return;\r\n        let focusElement = document.getElementById(focusElementId);\r\n        if (focusElement) {\r\n            focusElement.removeAttribute('aria-invalid');\r\n        }\r\n    }\r\n    setMissingInfo(errorDivId, text, focusElementId) {\r\n        var _a, _b;\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n        if (text == '') {\r\n            element.style.display = 'none';\r\n        }\r\n        else {\r\n            element.style.display = 'block';\r\n            if (focusElementId) {\r\n                (_a = document.getElementById(focusElementId)) === null || _a === void 0 ? void 0 : _a.focus();\r\n                (_b = document.getElementById(focusElementId)) === null || _b === void 0 ? void 0 : _b.setAttribute('aria-invalid', 'true');\r\n            }\r\n        }\r\n    }\r\n    handle(obj) {\r\n        let input = document.getElementById(obj.inputName);\r\n        if (!input)\r\n            return;\r\n        let inputError = input.parentElement.querySelector('.input_error');\r\n        if (inputError) {\r\n            inputError.scrollIntoView({ block: 'center' });\r\n            return;\r\n        }\r\n        input.setAttribute('aria-invalid', 'true');\r\n        input.insertAdjacentHTML(\"beforebegin\", '<div class=\"input_error\" style=\"display: block\" id=\"input_error_' + obj.inputName + '\">' + obj.message + '</div>');\r\n        input.focus();\r\n        if (obj.pattern) {\r\n            input.setAttribute('pattern', obj.pattern);\r\n        }\r\n        input.addEventListener('blur', (evt) => {\r\n            evt.preventDefault();\r\n            setTimeout(() => {\r\n                let input = evt.target;\r\n                let pattern = input.getAttribute('pattern');\r\n                if ((pattern && input.value.match(pattern)) || (input.required && input.value) || input.checked) {\r\n                    input.removeAttribute('aria-invalid');\r\n                    let errorMessage = document.getElementById('input_error_' + obj.inputName);\r\n                    if (errorMessage)\r\n                        errorMessage.remove();\r\n                }\r\n            }, 800);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycActionRequired.ts\nvar KycActionRequired_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycActionRequired {\r\n    constructor(executeTradeButton) {\r\n        this.modal = new Modal();\r\n        this.templates = new Map();\r\n        this.executeTradeButton = executeTradeButton;\r\n        this.templates.set('WeDontKnowWhyHtml', WeDontKnowWhy);\r\n        this.templates.set('ADDRESS_VERIFICATION', ADDRESS_VERIFICATION);\r\n        this.templates.set('AFFILIATED', AFFILIATED);\r\n        this.templates.set('CONTROL_PERSON', CONTROL_PERSON);\r\n        this.templates.set('COUNTRY_NOT_SUPPORTED', COUNTRY_NOT_SUPPORTED);\r\n        this.templates.set('DATE_OF_BIRTH', DATE_OF_BIRTH);\r\n        this.templates.set('FAMILY_MEMBER_PEP', FAMILY_MEMBER_PEP);\r\n        this.templates.set('IDENTITY_VERIFICATION', IDENTITY_VERIFICATION);\r\n        this.templates.set('INVALID_IDENTITY_PASSPORT', INVALID_IDENTITY_PASSPORT);\r\n        this.templates.set('PEP', PEP);\r\n        this.templates.set('SELFIE_VERIFICATION', SELFIE_VERIFICATION);\r\n        this.templates.set('TAX_IDENTIFICATION', TAX_IDENTIFICATION);\r\n        this.templates.set('VISA_TYPE_OTHER', VISA_TYPE_OTHER);\r\n        this.templates.set('W8BEN_CORRECTION', W8BEN_CORRECTION);\r\n        FileUpload.registerHandler();\r\n    }\r\n    show() {\r\n        return KycActionRequired_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let kycResult = yield userService.kycActionRequired();\r\n            if (!kycResult)\r\n                return;\r\n            let kycInfo = this.getKycMessages(kycResult.messages);\r\n            let template = Handlebars.compile(Kyc_KycActionRequired);\r\n            let content = template({\r\n                json: JSON.stringify(kycResult),\r\n                KycInfo: kycInfo,\r\n                Other: kycResult.additional_information,\r\n                SubmitData: kycInfo.indexOf('<input') != -1\r\n            });\r\n            this.modal.showModal('Action required', content, false, () => {\r\n            }, false);\r\n            let kycActionRequiredForm = document.getElementById('kycActionRequiredForm');\r\n            kycActionRequiredForm === null || kycActionRequiredForm === void 0 ? void 0 : kycActionRequiredForm.addEventListener('submit', (evt) => KycActionRequired_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                this.hideError();\r\n                let submitBtn = document.getElementById('kycActionRequiredSubmit');\r\n                LoadingHelper.setLoading(submitBtn);\r\n                let formValidator = new FormValidator('#kycActionRequiredForm');\r\n                if (!formValidator.validateRequiredFields())\r\n                    return;\r\n                let params = FormHelper.getParams('#kycActionRequiredForm');\r\n                let kycService = new KYCService(Moralis);\r\n                yield kycService.updateDocuments(params)\r\n                    .then(() => {\r\n                    let kycActionRequiredDiv = document.getElementById('kycActionRequiredDiv');\r\n                    kycActionRequiredDiv === null || kycActionRequiredDiv === void 0 ? void 0 : kycActionRequiredDiv.classList.add('hidden');\r\n                    let kycActionRequiredSubmittedDiv = document.getElementById('kycActionRequiredSubmittedDiv');\r\n                    kycActionRequiredSubmittedDiv === null || kycActionRequiredSubmittedDiv === void 0 ? void 0 : kycActionRequiredSubmittedDiv.classList.remove('hidden');\r\n                    this.executeTradeButton.checkKycIsDone();\r\n                    this.executeTradeButton.renderButton();\r\n                })\r\n                    .catch(reason => {\r\n                    this.showError(reason);\r\n                }).finally(() => {\r\n                    LoadingHelper.removeLoading();\r\n                });\r\n            }));\r\n            for (let i = 0; i < FileUpload.fileUploads.length; i++) {\r\n                FileUpload.fileUploads[i].bindEvents();\r\n            }\r\n        });\r\n    }\r\n    getKycMessages(messages) {\r\n        let kycInfo = '';\r\n        for (let i = 0; i < messages.length; i++) {\r\n            let htmlTemplate = this.templates.get(messages[i].key);\r\n            if (!htmlTemplate) {\r\n                //TODO: Here we should to logger, critical that we dont know why\r\n                continue;\r\n            }\r\n            let template = Handlebars.compile(htmlTemplate);\r\n            kycInfo += template({ message: messages[i].message });\r\n        }\r\n        if (kycInfo == '') {\r\n            let html = this.templates.get('WeDontKnowWhyHtml');\r\n            let template = Handlebars.compile(html);\r\n            kycInfo = template({});\r\n        }\r\n        return kycInfo;\r\n    }\r\n    hideError() {\r\n        let kycActionRequiredError = document.getElementById('kycActionRequiredError');\r\n        if (!kycActionRequiredError)\r\n            return;\r\n        kycActionRequiredError.style.display = 'none';\r\n    }\r\n    showError(reason) {\r\n        let kycActionRequiredError = document.getElementById('kycActionRequiredError');\r\n        if (!kycActionRequiredError)\r\n            return;\r\n        kycActionRequiredError.innerHTML = 'Error occurred while saving your documents. Reason:' + reason;\r\n        kycActionRequiredError.style.display = 'block';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/KYCModal.html\n// Module\nvar KYCModal_code = \"<div id=\\\"kyc_reg\\\">\\r\\n\\r\\n    <form id=\\\"kyc_wizard_form\\\" name=\\\"kyc_wizard_form\\\" novalidate onsubmit=\\\"return false\\\">\\r\\n        {{{KycContactHtml}}}\\r\\n        {{{KycIdentityHtml}}}\\r\\n        {{{KycTrustedContactHtml}}}\\r\\n        {{{KycDisclosureHtml}}}\\r\\n        {{{KycUploadHtml}}}\\r\\n        {{{KycAccountAgreementHtml}}}\\r\\n    </form>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"waiting_for_kyc_reg\\\" class=\\\"hidden\\\">\\r\\n    KYC is being processed. This may take about 4-5 minutes. Window will close when it's done.\\r\\n    <br/><br/>\\r\\n    You can close the window, we will email you when KYC is finished.\\r\\n\\r\\n    <progress></progress>\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const KYCModal = (KYCModal_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycContact.html\n// Module\nvar KycContact_code = \"<fieldset class=\\\"kycContact hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"explain\\\">\\r\\n        To be able to trade on the stock market, we need to get your information.\\r\\n        This is a requirement from the financial regulators.\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"email_address\\\">Email</label>\\r\\n        <input type=\\\"email\\\" required class=\\\"form-control\\\" id=\\\"email_address\\\" name=\\\"email_address\\\"\\r\\n               placeholder=\\\"name@example.com\\\" autocomplete=\\\"email\\\"\\r\\n               value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"phone_number\\\">Phone</label>\\r\\n        <input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"phone_number\\\" name=\\\"phone_number\\\"\\r\\n               placeholder=\\\"+1-555-666-7788\\\" autocomplete=\\\"tel\\\" value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"street_address\\\">Permanent Residential Address</label>\\r\\n        <div class=\\\"explain\\\">It must be a physical address, not a PO box.</div>\\r\\n        <input required id=\\\"street_address\\\" name=\\\"street_address\\\"\\r\\n               placeholder=\\\"20 N San Mateo Dr\\\" value=\\\"\\\" autocomplete=\\\"address-line1\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"unit\\\">Unit / Apt #</label>\\r\\n        <input id=\\\"unit\\\" name=\\\"unit\\\" value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"city\\\">City</label>\\r\\n        <input id=\\\"city\\\" name=\\\"city\\\" placeholder=\\\"Pawnee\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"address-level2\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"postal_code\\\">Postal code</label>\\r\\n        <input required id=\\\"postal_code\\\" autocomplete=\\\"postal-code\\\" name=\\\"postal_code\\\"\\r\\n               placeholder=\\\"94401\\\"\\r\\n               value=\\\"\\\">\\r\\n    </div>\\r\\n    <div id=\\\"state_div\\\">\\r\\n        <label for=\\\"state\\\">State (2 letters)</label>\\r\\n        <input maxlength=\\\"2\\\" id=\\\"state\\\" name=\\\"state\\\" placeholder=\\\"NY\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"address-level1\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"country_of_tax_residence\\\">Country of tax residence</label>\\r\\n        {{#if edit}}\\r\\n        <input name=\\\"country_of_tax_residence\\\" readonly id=\\\"country_of_tax_residence\\\"/>\\r\\n        {{/if}}\\r\\n        {{#unless edit}}\\r\\n        <select required id=\\\"country_of_tax_residence\\\" name=\\\"country_of_tax_residence\\\" autocomplete=\\\"country\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n        {{/unless}}\\r\\n    </div>\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"contact_next\\\">Next: Identity</button>\\r\\n    </div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycContact = (KycContact_code);\n;// CONCATENATED MODULE: ./src/errors/cloud/KycValidatorError.ts\nvar KycValidatorError_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass KycValidatorError {\r\n    constructor(error, kycForm) {\r\n        var _a, _b;\r\n        this.validValues = '';\r\n        this.inputName = '';\r\n        this.labelText = '';\r\n        this.pattern = '';\r\n        let obj = {};\r\n        try {\r\n            if (!error.inputName) {\r\n                obj = JSON.parse(error);\r\n            }\r\n            else {\r\n                obj = error;\r\n            }\r\n            this.message = (_a = obj.message) === null || _a === void 0 ? void 0 : _a.replace(/_/g, ' ');\r\n            this.validValues = (_b = obj.validValues) === null || _b === void 0 ? void 0 : _b.replace(/_/g, ' ');\r\n            this.inputName = obj.inputName;\r\n            this.labelText = obj.labelText;\r\n            this.pattern = obj.pattern;\r\n            this.onshow = obj.onshow;\r\n        }\r\n        catch (e) {\r\n            this.message = error.messsage;\r\n        }\r\n        this.kycForm = kycForm;\r\n    }\r\n    handle() {\r\n        if (StringHelper.isNullOrEmpty(this.inputName)) {\r\n            let activeFieldset = document.querySelector(this.kycForm.activeFieldsetSelector);\r\n            let inputError = activeFieldset.querySelector('.input_error');\r\n            if (inputError) {\r\n                if (this.validValues) {\r\n                    inputError.innerHTML = this.validValues.toString();\r\n                }\r\n                else {\r\n                    if (this.message && this.message.indexOf('Invalid function') != -1 || this.message.indexOf('Unable to connect to the Parse API') != -1) {\r\n                        inputError.innerHTML = 'We just deployed new version of our website. This can cause interruption. Please wait 30 seconds and submit again';\r\n                    }\r\n                    else {\r\n                        inputError.innerHTML = this.message;\r\n                    }\r\n                }\r\n                inputError.style.display = 'block';\r\n                inputError.scrollIntoView();\r\n            }\r\n            return;\r\n        }\r\n        let input = document.getElementById(this.inputName);\r\n        if (!input)\r\n            return;\r\n        let inputError = input.parentElement.querySelector('.input_error');\r\n        if (inputError) {\r\n            inputError.scrollIntoView({ block: 'center' });\r\n            return;\r\n        }\r\n        input.setAttribute('aria-invalid', 'true');\r\n        let errorInput = '<div class=\"input_error\" style=\"display: block\" id=\"input_error_' + this.inputName + '\">' + this.message + '</div>';\r\n        if (input.clientWidth < 300) {\r\n            let div = this.getDivToDisplayErrorMessage(input);\r\n            div.insertAdjacentHTML(\"beforebegin\", errorInput);\r\n        }\r\n        else {\r\n            input.insertAdjacentHTML(\"beforebegin\", errorInput);\r\n        }\r\n        input.focus();\r\n        if (this.pattern) {\r\n            input.setAttribute('pattern', this.pattern);\r\n        }\r\n        input.addEventListener('blur', (evt) => {\r\n            evt.preventDefault();\r\n            setTimeout(() => {\r\n                let input = evt.target;\r\n                let pattern = input.getAttribute('pattern');\r\n                if ((pattern && input.value.match(pattern)) || (input.type != 'checkbox' && input.type != 'radio' && input.required && input.value) || input.checked) {\r\n                    input.removeAttribute('aria-invalid');\r\n                    let errorMessage = document.getElementById('input_error_' + this.inputName);\r\n                    if (errorMessage)\r\n                        errorMessage.remove();\r\n                }\r\n            }, 800);\r\n        });\r\n        let fieldsetElement = input.closest('fieldset[data-form=\"1\"]');\r\n        if (fieldsetElement) {\r\n            let className = fieldsetElement.className.replace('hidden', '').trim();\r\n            this.kycForm.show(className);\r\n            input.scrollIntoView(false);\r\n        }\r\n        if (this.onshow) {\r\n            let link = document.getElementById(this.onshow.id);\r\n            if (!link)\r\n                return;\r\n            link.addEventListener('click', (evt) => KycValidatorError_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                yield Moralis.Cloud.run(this.onshow.functionName, this.onshow.params);\r\n                document.getElementById('input_error_' + this.inputName).innerHTML = 'Email has been sent to ' + this.onshow.params.email;\r\n            }));\r\n        }\r\n    }\r\n    getDivToDisplayErrorMessage(input, counter = 1) {\r\n        let div = input.parentElement.closest('div');\r\n        if (!div)\r\n            return input;\r\n        if (div.clientWidth > 300 || counter > 5) {\r\n            return div;\r\n        }\r\n        return this.getDivToDisplayErrorMessage(div, ++counter);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycBase.ts\n\r\n\r\n\r\nclass KycBase {\r\n    constructor(kycForm) {\r\n        this.kycForm = kycForm;\r\n        FileUpload.registerHandler();\r\n    }\r\n    showFieldset(selector, header) {\r\n        var _a;\r\n        this.hideFieldsets();\r\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n        document.querySelector('#liminal_market_modal_div > article > header > span').innerHTML = header;\r\n        document.querySelector('#liminal_market_modal_div > article').scrollTop = 0;\r\n        this.kycForm.activeFieldsetSelector = selector;\r\n    }\r\n    showRequiredMarker() {\r\n        let inputs = document.querySelectorAll('input, select');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (!input.id)\r\n                continue;\r\n            let label = document.querySelector('label[for=' + input.id + ']');\r\n            if (!label)\r\n                continue;\r\n            if (input.required) {\r\n                if (label.innerHTML.indexOf('*') == -1) {\r\n                    label.innerHTML += '*';\r\n                }\r\n            }\r\n            else {\r\n                if (label.innerHTML.indexOf('*') != -1) {\r\n                    label.innerHTML = label.innerHTML.replace('*', '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    setRequired(inputId) {\r\n        var _a;\r\n        (_a = document.getElementById(inputId)) === null || _a === void 0 ? void 0 : _a.setAttribute('required', 'required');\r\n    }\r\n    removeRequired(inputId) {\r\n        var _a;\r\n        (_a = document.getElementById(inputId)) === null || _a === void 0 ? void 0 : _a.removeAttribute('required');\r\n    }\r\n    bind(selector, eventName, action) {\r\n        let elements = document.querySelectorAll(selector);\r\n        for (let i = 0; i < elements.length; i++) {\r\n            elements[i].addEventListener(eventName, (evt) => {\r\n                action(evt);\r\n            });\r\n        }\r\n    }\r\n    bindFileUploads() {\r\n        for (let i = 0; i < FileUpload.fileUploads.length; i++) {\r\n            FileUpload.fileUploads[i].bindEvents();\r\n        }\r\n    }\r\n    hideFieldsets() {\r\n        let fieldsets = document.querySelectorAll('#kyc_wizard_form > fieldset');\r\n        for (let i = 0; i < fieldsets.length; i++) {\r\n            fieldsets[i].classList.add('hidden');\r\n        }\r\n    }\r\n    validateRequiredFields(selector) {\r\n        let inputs = document.querySelectorAll(selector + ' input[required], ' + selector + ' select[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (this.isMissingInputFromUser(input)) {\r\n                let obj = {\r\n                    message: 'You must fill into this field',\r\n                    inputName: input.id,\r\n                    labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                    pattern: input.pattern\r\n                };\r\n                let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n                kycValidationError.handle();\r\n                return false;\r\n            }\r\n            if (input.pattern) {\r\n                let pattern = input.pattern;\r\n                let matches = input.value.match(pattern);\r\n                if (matches == null) {\r\n                    let obj = {\r\n                        message: 'This is not valid date format, please use YYYY-MM-DD (year-month-date)',\r\n                        inputName: input.id,\r\n                        labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                        pattern: input.pattern\r\n                    };\r\n                    let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n                    kycValidationError.handle();\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    showElement(elementId) {\r\n        var _a;\r\n        (_a = document.getElementById(elementId)) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n    }\r\n    hideElement(elementId) {\r\n        var _a;\r\n        (_a = document.getElementById(elementId)) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n    }\r\n    setLabel(elementId, text) {\r\n        let element = document.getElementById('tax_id_label');\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n    }\r\n    isMissingInputFromUser(input) {\r\n        return ((input.type == 'checkbox' && !input.checked) || StringHelper.isNullOrEmpty(input.value));\r\n    }\r\n    removeMissingInfo(errorDivId, focusElementId) {\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.style.display = 'none';\r\n        if (!focusElementId)\r\n            return;\r\n        let focusElement = document.getElementById(focusElementId);\r\n        if (focusElement) {\r\n            focusElement.removeAttribute('aria-invalid');\r\n        }\r\n    }\r\n    setMissingInfo(errorDivId, text, focusElementId) {\r\n        var _a, _b;\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n        if (text == '') {\r\n            element.style.display = 'none';\r\n        }\r\n        else {\r\n            element.style.display = 'block';\r\n            if (focusElementId) {\r\n                (_a = document.getElementById(focusElementId)) === null || _a === void 0 ? void 0 : _a.focus();\r\n                (_b = document.getElementById(focusElementId)) === null || _b === void 0 ? void 0 : _b.setAttribute('aria-invalid', 'true');\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycContact.ts\n\r\n\r\n\r\nclass KycContact extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.usTaxResidence = false;\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycContact);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycContact', 'Contact information');\r\n    }\r\n    bindEvents() {\r\n        this.bind('#country_of_tax_residence', 'change', (evt) => {\r\n            var _a, _b;\r\n            let input = evt.target;\r\n            this.usTaxResidence = (input.value.toUpperCase() == 'USA');\r\n            if (this.usTaxResidence) {\r\n                (_a = document.getElementById('state_div')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n                this.kycForm.setSteps(5);\r\n                this.setRequired('state');\r\n            }\r\n            else {\r\n                this.kycForm.setSteps(6);\r\n                this.removeRequired('state');\r\n                (_b = document.getElementById('state_div')) === null || _b === void 0 ? void 0 : _b.classList.add('hidden');\r\n            }\r\n        });\r\n        let showIdentityButton = document.getElementById('contact_next');\r\n        if (showIdentityButton) {\r\n            showIdentityButton.addEventListener('click', (evt) => {\r\n                if (!this.validateRequiredFields('.kycContact'))\r\n                    return;\r\n                this.kycForm.kycIdentity.show();\r\n            });\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycIdentity.html\n// Module\nvar KycIdentity_code = \"<fieldset class=\\\"kycIdentity hidden\\\" data-form=\\\"1\\\">\\r\\n    <div>\\r\\n        <label for=\\\"given_name\\\">Legal First name</label>\\r\\n        <input required id=\\\"given_name\\\" name=\\\"given_name\\\"\\r\\n               placeholder=\\\"Ron\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"given-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"middle_name\\\">Legal Middle name</label>\\r\\n        <input id=\\\"middle_name\\\" name=\\\"middle_name\\\"\\r\\n               placeholder=\\\"\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"additional-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"family_name\\\">Legal Last name</label>\\r\\n        <input required id=\\\"family_name\\\" name=\\\"family_name\\\"\\r\\n               placeholder=\\\"Swanson\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"family-name\\\">\\r\\n    </div>\\r\\n    {{#unless edit}}\\r\\n    <div>\\r\\n        <label for=\\\"date_of_birth\\\">Date of birth</label>\\r\\n        <input type=\\\"date\\\" required id=\\\"date_of_birth\\\" name=\\\"date_of_birth\\\"\\r\\n               placeholder=\\\"1978-11-24\\\" pattern=\\\"\\\\d{4}-\\\\d{2}-\\\\d{2}\\\" value=\\\"\\\" autocomplete=\\\"bday\\\">\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"citizen_of_usa_question\\\" class=\\\"hidden\\\">\\r\\n        <label for=\\\"citizen_yes\\\">Are you a citizen of the United States?</label>\\r\\n        <fieldset>\\r\\n            <label>\\r\\n                <input type=\\\"radio\\\" id=\\\"citizen_yes\\\"\\r\\n                       name=\\\"citizen\\\" value=\\\"1\\\"> Yes\\r\\n            </label>\\r\\n            <label>\\r\\n                <input type=\\\"radio\\\" id=\\\"citizen_no\\\"\\r\\n                       name=\\\"citizen\\\" value=\\\"0\\\"> No\\r\\n            </label>\\r\\n            <fieldset id=\\\"citizen_no_type_options\\\" class=\\\"hidden\\\">\\r\\n                <label>\\r\\n                    <input type=\\\"radio\\\" name=\\\"permanent_resident\\\" id=\\\"citizen_no_type_options_1\\\" value=\\\"1\\\"/> Green Card\\r\\n                    / Permanent Resident\\r\\n                </label>\\r\\n                <label><input type=\\\"radio\\\" name=\\\"permanent_resident\\\" id=\\\"citizen_no_type_options_2\\\" value=\\\"0\\\"/>\\r\\n                    Visa</label>\\r\\n            </fieldset>\\r\\n        </fieldset>\\r\\n    </div>\\r\\n    <div id=\\\"tax_id_type_options\\\">\\r\\n        <label for=\\\"tax_id_type\\\">Tax Id Type</label>\\r\\n        <select required id=\\\"tax_id_type\\\" name=\\\"tax_id_type\\\" placeholder=\\\"USA_SSN\\\">\\r\\n            <option value=\\\"USA_SSN\\\"></option>\\r\\n            <option value=\\\"ARG_AR_CUIT\\\">Argentina CUIT</option>\\r\\n            <option value=\\\"AUS_TFN\\\">Australian Tax File Number</option>\\r\\n            <option value=\\\"AUS_ABN\\\">Australian Business Number</option>\\r\\n            <option value=\\\"BOL_NIT\\\">Bolivia NIT</option>\\r\\n            <option value=\\\"BRA_CPF\\\">Brazil CPF</option>\\r\\n            <option value=\\\"CHL_RUT\\\">Chile RUT</option>\\r\\n            <option value=\\\"COL_NIT\\\">Colombia NIT</option>\\r\\n            <option value=\\\"CRI_NITE\\\">Costa Rica NITE</option>\\r\\n            <option value=\\\"DEU_TAX_ID\\\">Germany Tax ID (Identifikationsnummer)</option>\\r\\n            <option value=\\\"DOM_RNC\\\">Dominican Republic RNC</option>\\r\\n            <option value=\\\"ECU_RUC\\\">Ecuador RUC</option>\\r\\n            <option value=\\\"FRA_SPI\\\">France SPI (Reference Tax Number)</option>\\r\\n            <option value=\\\"GBR_UTR\\\">UK UTR (Unique Taxpayer Reference)</option>\\r\\n            <option value=\\\"GBR_NINO\\\">UK NINO (National Insurance Number)</option>\\r\\n            <option value=\\\"GTM_NIT\\\">Guatemala NIT</option>\\r\\n            <option value=\\\"HND_RTN\\\">Honduras RTN</option>\\r\\n            <option value=\\\"HUN_TIN\\\">Hungary TIN Number</option>\\r\\n            <option value=\\\"IDN_KTP\\\">Indonesia KTP</option>\\r\\n            <option value=\\\"IND_PAN\\\">India PAN Number</option>\\r\\n            <option value=\\\"ISR_TAX_ID\\\">Israel Tax ID (Teudat Zehut)</option>\\r\\n            <option value=\\\"ITA_TAX_ID\\\">Italy Tax ID (Codice Fiscale)</option>\\r\\n            <option value=\\\"JPN_TAX_ID\\\">Japan Tax ID (Koijin Bango)</option>\\r\\n            <option value=\\\"MEX_RFC\\\">Mexico RFC</option>\\r\\n            <option value=\\\"NIC_RUC\\\">Nicaragua RUC</option>\\r\\n            <option value=\\\"NLD_TIN\\\">Netherlands TIN Number</option>\\r\\n            <option value=\\\"PAN_RUC\\\">Panama RUC</option>\\r\\n            <option value=\\\"PER_RUC\\\">Peru RUC</option>\\r\\n            <option value=\\\"PRY_RUC\\\">Paraguay RUC</option>\\r\\n            <option value=\\\"SGP_NRIC\\\">Singapore NRIC</option>\\r\\n            <option value=\\\"SGP_FIN\\\">Singapore FIN</option>\\r\\n            <option value=\\\"SGP_ASGD\\\">Singapore ASGD</option>\\r\\n            <option value=\\\"SGP_ITR\\\">Singapore ITR</option>\\r\\n            <option value=\\\"SLV_NIT\\\">El Salvador NIT</option>\\r\\n            <option value=\\\"SWE_TAX_ID\\\">Sweden Tax ID (Personnummer)</option>\\r\\n            <option value=\\\"URY_RUT\\\">Uruguay RUT</option>\\r\\n            <option value=\\\"VEN_RIF\\\">Venezuela RIF</option>\\r\\n            <option value=\\\"NOT_SPECIFIED\\\">Other Tax IDs</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label id=\\\"tax_id_label\\\" for=\\\"tax_id\\\">Tax Id (SSN)</label>\\r\\n        <input required id=\\\"tax_id\\\" name=\\\"tax_id\\\"\\r\\n               placeholder=\\\"666-55-4321\\\"\\r\\n               value=\\\"\\\">\\r\\n    </div>\\r\\n    <div id=\\\"country_of_birth_option\\\">\\r\\n        <label for=\\\"country_of_birth\\\">Country of birth</label>\\r\\n        <select id=\\\"country_of_birth\\\" name=\\\"country_of_birth\\\">\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div id=\\\"country_of_citizenship_option\\\">\\r\\n        <label for=\\\"country_of_citizenship\\\">Country of citizenship</label>\\r\\n        <select required id=\\\"country_of_citizenship\\\" name=\\\"country_of_citizenship\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div id=\\\"visa_type_option\\\" class=\\\"hidden\\\">\\r\\n        <div>\\r\\n            <label for=\\\"visa_type\\\">Visa type - <a\\r\\n                    href=\\\"https://travel.state.gov/content/travel/en/us-visas/visa-information-resources/all-visa-categories.html\\\"\\r\\n                    target=\\\"_blank\\\">Visa\\r\\n                information</a></label>\\r\\n            <select id=\\\"visa_type\\\" name=\\\"visa_type\\\">\\r\\n                <option value=\\\"\\\"></option>\\r\\n                <option value=\\\"B1\\\" selected>USA Visa Category B-1</option>\\r\\n                <option value=\\\"B2\\\">USA Visa Category B-2</option>\\r\\n                <option value=\\\"DACA\\\">USA Visa Category DACA</option>\\r\\n                <option value=\\\"E1\\\">USA Visa Category E-1</option>\\r\\n                <option value=\\\"E2\\\">USA Visa Category E-2</option>\\r\\n                <option value=\\\"E3\\\">USA Visa Category E-3</option>\\r\\n                <option value=\\\"F1\\\">USA Visa Category F-1</option>\\r\\n                <option value=\\\"G4\\\">USA Visa Category G-4</option>\\r\\n                <option value=\\\"H1B\\\">USA Visa Category H-1B</option>\\r\\n                <option value=\\\"J1\\\">USA Visa Category J-1</option>\\r\\n                <option value=\\\"L1\\\">USA Visa Category L-1</option>\\r\\n                <option value=\\\"OTHER\\\">Any other USA Visa Category</option>\\r\\n                <option value=\\\"O1\\\">USA Visa Category O-1</option>\\r\\n                <option value=\\\"TN1\\\">USA Visa Category TN-1</option>\\r\\n            </select>\\r\\n        </div>\\r\\n        <div id=\\\"visa_expiration_date_option\\\">\\r\\n            <label for=\\\"visa_expiration_date\\\">Visa expiration date</label>\\r\\n            <input type=\\\"date\\\" id=\\\"visa_expiration_date\\\"\\r\\n                   name=\\\"visa_expiration_date\\\" placeholder=\\\"2028-05-01\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div id=\\\"date_of_departure_from_usa_option\\\">\\r\\n            <label for=\\\"date_of_departure_from_usa\\\">Date of departure from USA</label>\\r\\n            <input type=\\\"date\\\" id=\\\"date_of_departure_from_usa\\\"\\r\\n                   name=\\\"date_of_departure_from_usa\\\" placeholder=\\\"2028-05-01\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"annual_income\\\">Annual Household Income</label>\\r\\n        <div class=\\\"explain\\\">\\r\\n            Annual household income includes income from sources such as employment, alimony, social security,\\r\\n            investment income, etc.\\r\\n        </div>\\r\\n        <select name=\\\"annual_income\\\" id=\\\"annual_income\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"1\\\">0 - $20,000</option>\\r\\n            <option value=\\\"2\\\">$20,000 - $49,999</option>\\r\\n            <option value=\\\"3\\\">$50,000 - $99,999</option>\\r\\n            <option value=\\\"4\\\">$100,000 - $499,999</option>\\r\\n            <option value=\\\"5\\\">$500,000 - $999,999</option>\\r\\n            <option value=\\\"6\\\">$1,000,000 - $9,999,999</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"liquid_net_worth\\\">Liquid Assets</label>\\r\\n        <div class=\\\"explain\\\">Liquid assets is your net worth minus assets that cannot be\\r\\n            converted quickly and easily into cash, such as real estate, business equity,\\r\\n            personal property and automobiles, expected inheritances, assets earmarked for\\r\\n            other purposes, and investments or accounts subject to substantial penalties\\r\\n            if they were sold or if assets were withdrawn from them.\\r\\n        </div>\\r\\n        <select name=\\\"liquid_net_worth\\\" required id=\\\"liquid_net_worth\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"1\\\">0 - $20,000</option>\\r\\n            <option value=\\\"2\\\">$20,000 - $49,999</option>\\r\\n            <option value=\\\"3\\\">$50,000 - $99,999</option>\\r\\n            <option value=\\\"4\\\">$100,000 - $499,999</option>\\r\\n            <option value=\\\"5\\\">$500,000 - $999,999</option>\\r\\n            <option value=\\\"1\\\">$1,000,000 - $9,999,999</option>\\r\\n        </select>\\r\\n    </div>\\r\\n\\r\\n    <div>\\r\\n        <label for=\\\"funding_source\\\">Funding source</label>\\r\\n        <select required id=\\\"funding_source\\\" name=\\\"funding_source\\\"\\r\\n                multiple size=\\\"4\\\" aria-label=\\\"size 3 select\\\">\\r\\n            <option value=\\\"employment_income\\\">Employment income</option>\\r\\n            <option value=\\\"investments\\\">Investments</option>\\r\\n            <option value=\\\"inheritance\\\">Inheritance</option>\\r\\n            <option value=\\\"business_income\\\">Business income</option>\\r\\n            <option value=\\\"savings\\\">Savings</option>\\r\\n            <option value=\\\"family\\\">Family</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"identity_prev\\\">Previous: Contact</button>\\r\\n        <button type=\\\"button\\\" id=\\\"identity_next\\\">Next: Trusted contacts</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycIdentity = (KycIdentity_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycIdentity.ts\n\r\n\r\n\r\n\r\nclass KycIdentity extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.edit = false;\r\n    }\r\n    render(edit = false) {\r\n        this.edit = edit;\r\n        let template = Handlebars.compile(Kyc_KycIdentity);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        if (this.kycForm.kycContact.usTaxResidence) {\r\n            this.showElement('citizen_of_usa_question');\r\n            this.hideElement('tax_id_type_options');\r\n            this.setLabel('tax_id_label', 'SSN');\r\n        }\r\n        else {\r\n            this.hideElement('citizen_of_usa_question');\r\n            this.setLabel('tax_id_label', 'National Tax Id (SSN)');\r\n            this.showElement('tax_id_type_options');\r\n        }\r\n        this.showFieldset('.kycIdentity', 'Identity');\r\n        this.showElement('country_of_citizenship_option');\r\n        let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n        if (country_of_citizenship) {\r\n            country_of_citizenship.options[1].disabled = false;\r\n        }\r\n    }\r\n    bindEvents() {\r\n        this.bind('#citizen_yes', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                let taxIdType = document.getElementById('tax_id_type');\r\n                if (taxIdType)\r\n                    taxIdType.value = 'USA_SSN';\r\n                let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n                country_of_citizenship.options[1].disabled = false;\r\n                country_of_citizenship.value = 'USA';\r\n                this.hideElement('citizen_no_type_options');\r\n                this.hideElement('visa_type_option');\r\n                this.hideElement('country_of_citizenship_option');\r\n                this.removeRequired('country_of_birth');\r\n                this.removeRequired('visa_type');\r\n                this.removeRequired('visa_expiration_date');\r\n                this.removeRequired('date_of_departure_from_usa');\r\n                document.getElementById('tax_id_label').innerHTML = 'SSN';\r\n                this.hideCitizenErrorMessage();\r\n            }\r\n        });\r\n        this.bind('#citizen_no', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('citizen_no_type_options');\r\n                this.showElement('country_of_citizenship_option');\r\n                this.setRequired('country_of_birth');\r\n                document.getElementById('tax_id_label').innerHTML = 'SSN';\r\n                let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n                country_of_citizenship.options[0].selected = true;\r\n                country_of_citizenship.options[1].disabled = true;\r\n                this.hideCitizenErrorMessage();\r\n            }\r\n        });\r\n        this.bind('#citizen_no_type_options_1', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('country_of_citizenship_option');\r\n                this.hideElement('visa_type_option');\r\n                this.setRequired('country_of_birth');\r\n                this.removeRequired('visa_type');\r\n                this.removeRequired('visa_expiration_date');\r\n                this.removeRequired('date_of_departure_from_usa');\r\n            }\r\n        });\r\n        this.bind('#citizen_no_type_options_2', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('visa_type_option');\r\n                this.showElement('country_of_citizenship_option');\r\n                this.setRequired('country_of_birth');\r\n                this.setRequired('country_of_citizenship');\r\n                this.setRequired('visa_type');\r\n                this.setRequired('visa_expiration_date');\r\n                this.setRequired('date_of_departure_from_usa');\r\n            }\r\n        });\r\n        this.bind('#visa_type', 'change', (evt) => {\r\n            let input = evt.target;\r\n            if (input.value == 'B1' || input.value == 'B2') {\r\n                this.showElement('date_of_departure_from_usa_option');\r\n            }\r\n            else {\r\n                this.hideElement('date_of_departure_from_usa_option');\r\n            }\r\n        });\r\n        this.bindButtons();\r\n    }\r\n    hideCitizenErrorMessage() {\r\n        document.getElementById('citizen_yes').removeAttribute('aria-invalid');\r\n        let errorMessage = document.getElementById('input_error_citizen_yes');\r\n        if (errorMessage)\r\n            errorMessage.remove();\r\n    }\r\n    bindButtons() {\r\n        let showContactButton = document.getElementById('identity_prev');\r\n        showContactButton === null || showContactButton === void 0 ? void 0 : showContactButton.addEventListener('click', (evt) => {\r\n            this.kycForm.kycContact.show();\r\n        });\r\n        let showDisclosuresButton = document.getElementById('identity_next');\r\n        showDisclosuresButton === null || showDisclosuresButton === void 0 ? void 0 : showDisclosuresButton.addEventListener('click', (evt) => {\r\n            if (!this.validateInputs())\r\n                return;\r\n            if (!this.validateRequiredFields('.kycIdentity'))\r\n                return;\r\n            this.kycForm.kycTrustedContact.show();\r\n        });\r\n    }\r\n    validateInputs() {\r\n        if (this.edit)\r\n            return true;\r\n        let citizen_yes = document.getElementById('citizen_yes');\r\n        let citizen_no = document.getElementById('citizen_no');\r\n        if (!this.kycForm.kycContact.usTaxResidence) {\r\n            citizen_yes.checked = false;\r\n            citizen_no.checked = false;\r\n            return true;\r\n        }\r\n        if (!citizen_yes.checked && !citizen_no.checked) {\r\n            let obj = {\r\n                message: 'You must select either option',\r\n                inputName: 'citizen_yes',\r\n                labelText: document.querySelector('label[for=citizen_yes]').innerHTML\r\n            };\r\n            let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n            kycValidationError.handle();\r\n            return false;\r\n        }\r\n        let greenCardOption = document.getElementById('citizen_no_type_options_1');\r\n        let visaOption = document.getElementById('citizen_no_type_options_2');\r\n        if (citizen_no.checked && !greenCardOption.checked && !visaOption.checked) {\r\n            let obj = {\r\n                message: 'You must select either option, \"Green Card / Permanent Resident\" or \"Visa\"',\r\n                inputName: 'citizen_no',\r\n                labelText: ''\r\n            };\r\n            let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n            kycValidationError.handle();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycDisclosures.html\n// Module\nvar KycDisclosures_code = \"<fieldset class=\\\"kycDisclosures hidden\\\" data-form=\\\"1\\\">\\r\\n    {{#unless edit}}\\r\\n    <div>\\r\\n        <label for=\\\"employment_status\\\">Employment status</label>\\r\\n        <select id=\\\"employment_status\\\" required name=\\\"employment_status\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"employed\\\">Employed</option>\\r\\n            <option value=\\\"unemployed\\\">Unemployed</option>\\r\\n            <option value=\\\"retired\\\">Retired</option>\\r\\n            <option value=\\\"student\\\">Student</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employer_name\\\">Employer name</label>\\r\\n        <input name=\\\"employer_name\\\" id=\\\"employer_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employer_address\\\">Employer address</label>\\r\\n        <input name=\\\"employer_address\\\" id=\\\"employer_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employment_position\\\">Occupation / Job title</label>\\r\\n        <input name=\\\"employment_position\\\" id=\\\"employment_position\\\" autocomplete=\\\"organization-title\\\"/>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    <div class=\\\"disclosure_selections\\\">\\r\\n        Do any of the following apply to you or a member of your immediate family?\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_affiliated_exchange_or_finra\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_affiliated_exchange_or_finra\\\" name=\\\"is_affiliated_exchange_or_finra\\\"\\r\\n                           role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                Affiliated or work with a US registered broker-dealer or\\r\\n                FINRA.\\r\\n                <small class=\\\"explain\\\">Are you or an immediate family member affiliated with or employed by a stock\\r\\n                    exchange, regulatory body, member firm of an exchange, FINRA or a municipal securities\\r\\n                    broker-dealer?</small>\\r\\n\\r\\n                <div id=\\\"is_affiliated_exchange_or_finra_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_control_person\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_control_person\\\" name=\\\"is_control_person\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n\\r\\n                Senior executive at or a 10% or greater shareholder of a publicly traded company.\\r\\n                <small class=\\\"explain\\\">Are you or an immediate family member an officer or 10% or greater shareholder of\\r\\n                    a publicly traded company, subject to the US Securities Exchange Act 1934?</small>\\r\\n                <div id=\\\"is_control_person_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_politically_exposed\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_politically_exposed\\\" name=\\\"is_politically_exposed\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                I am a senior political figure.\\r\\n                <small class=\\\"explain\\\">Are you currently or formerly a Politically Exposed Person or Public Official\\r\\n                    (PEP)? <a href=\\\"https://www.google.com/search?q=%E2%80%9CPolitically+Exposed+Person%E2%80%9D+(PEP)\\\"\\r\\n                              target=\\\"_blank\\\">What is PEP?</a> </a></small>\\r\\n                <div id=\\\"is_politically_exposed_extra\\\"></div>\\r\\n            </div>\\r\\n            </label>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"immediate_family_exposed\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"immediate_family_exposed\\\" name=\\\"immediate_family_exposed\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                I am a family member or relative of a senior political figure.\\r\\n                <small class=\\\"explain\\\">Are you an immediate family member currently or formerly a Politically Exposed\\r\\n                    Person or Public Official (PEP)? <a\\r\\n                            href=\\\"https://www.google.com/search?q=%E2%80%9CPolitically+Exposed+Person%E2%80%9D+(PEP)\\\"\\r\\n                            target=\\\"_blank\\\">What is PEP?</a></small>\\r\\n                <div id=\\\"immediate_family_exposed_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"none_above\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"none_above\\\" name=\\\"none_above\\\" role=\\\"switch\\\"></label>\\r\\n            </div>\\r\\n            <div>\\r\\n                None of the above apply to me or my family.\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"none_above_error\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"disclosures_prev\\\">Previous: Trusted contact</button>\\r\\n        <button type=\\\"button\\\" id=\\\"disclosures_next\\\">Next: Agreements</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycDisclosures = (KycDisclosures_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycAffiliateOrControlled.html\n// Module\nvar KycAffiliateOrControlled_code = \"<fieldset id=\\\"affiliate_or_controlled\\\">\\r\\n    <div>You need to fill in the following information</div>\\r\\n    <div>\\r\\n        <label for=\\\"company_name\\\">Company name</label>\\r\\n        <input name=\\\"company_name\\\" required id=\\\"company_name\\\" autocomplete=\\\"organization\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_street_address\\\">Company street address</label>\\r\\n        <input name=\\\"company_street_address\\\" required id=\\\"company_street_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_city\\\">Company city</label>\\r\\n        <input name=\\\"company_city\\\" required id=\\\"company_city\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_state\\\">Company state</label>\\r\\n        <input name=\\\"company_state\\\" required id=\\\"company_state\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_country\\\">Company country</label>\\r\\n        <select required id=\\\"company_country\\\" required name=\\\"company_country\\\">\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_compliance_email\\\">Company compliance officer email</label>\\r\\n        <input name=\\\"company_compliance_email\\\" required id=\\\"company_compliance_email\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <div class=\\\"explain\\\">\\r\\n            In accordance with applicable FINRA rules, user will need to obtain a letter written\\r\\n            and signed by a compliance officer on company letterhead explicitly granting permission for\\r\\n            the applicant to carry the account and explicitly stating whether or not the firm requires\\r\\n            access to duplicate account statements and/or trade confirmations.\\r\\n\\r\\n            If the firm would like online access your duplicate account statements and/or trade confirmations,\\r\\n            include in the letter the applicant's full name and the following information for the interested\\r\\n            party: First and last name, title, email address, telephone number.\\r\\n\\r\\n        </div>\\r\\n        {{{fileUpload \\\"account_approval_letter\\\" \\\"Account approval letter\\\"}}}\\r\\n\\r\\n    </div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycAffiliateOrControlled = (KycAffiliateOrControlled_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycAffiliateOrControlled.ts\n\r\n\r\n\r\nclass KycAffiliateOrControlled extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let kycAffiliateOrControlledTemplate = Handlebars.compile(Kyc_KycAffiliateOrControlled);\r\n        return kycAffiliateOrControlledTemplate({ countries: CountryHelper.Countries });\r\n    }\r\n    bindEvents() {\r\n        this.bindFileUploads();\r\n        let company_country = document.getElementById('company_country');\r\n        company_country === null || company_country === void 0 ? void 0 : company_country.addEventListener('change', (evt) => {\r\n            let select = evt.target;\r\n            if (select.value === 'USA') {\r\n                this.setRequired('company_state');\r\n            }\r\n            else {\r\n                this.removeRequired('company_state');\r\n            }\r\n        });\r\n    }\r\n    validate() {\r\n        let company_name = document.getElementById('company_name');\r\n        if (!company_name)\r\n            return true;\r\n        return this.validateRequiredFields('#affiliate_or_controlled');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycImmediateFamily.html\n// Module\nvar KycImmediateFamily_code = \"<fieldset id=\\\"immediate_family\\\">\\r\\n    <div>Since you chose that your immediate family member, you need to fill in the following information</div>\\r\\n    <div>\\r\\n        <label for=\\\"disclosure_given_name\\\">Given name of political person</label>\\r\\n        <input name=\\\"disclosure_given_name\\\" id=\\\"disclosure_given_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"disclosure_family_name\\\">Family name of political person</label>\\r\\n        <input name=\\\"disclosure_family_name\\\" id=\\\"disclosure_family_name\\\"/>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycImmediateFamily = (KycImmediateFamily_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycImmediateFamily.ts\n\r\n\r\nclass KycImmediateFamily extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let kycImmediateFamilyTemplate = Handlebars.compile(Kyc_KycImmediateFamily);\r\n        return kycImmediateFamilyTemplate({});\r\n    }\r\n    bindEvents() {\r\n    }\r\n    validate() {\r\n        let disclosure_given_name = document.getElementById('disclosure_given_name');\r\n        if (!disclosure_given_name)\r\n            return true;\r\n        return this.validateRequiredFields('#immediate_family');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycDisclosures.ts\n\r\n\r\n\r\n\r\nclass KycDisclosures extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.kycAffiliatedOrControlled = new KycAffiliateOrControlled(this.kycForm);\r\n        this.kycImmediateFamily = new KycImmediateFamily(this.kycForm);\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycDisclosures);\r\n        return template({ edit: edit });\r\n    }\r\n    show() {\r\n        if (this.kycForm.steps == 5) {\r\n            document.getElementById('disclosures_next').innerText = 'Next: Agreements';\r\n        }\r\n        else {\r\n            document.getElementById('disclosures_next').innerText = 'Next: Upload documents';\r\n        }\r\n        this.showFieldset('.kycDisclosures', 'Disclosures');\r\n    }\r\n    bindEvents() {\r\n        let is_affiliated_exchange_or_finra = document.getElementById('is_affiliated_exchange_or_finra');\r\n        is_affiliated_exchange_or_finra === null || is_affiliated_exchange_or_finra === void 0 ? void 0 : is_affiliated_exchange_or_finra.addEventListener('click', (evt) => {\r\n            this.loadAffiliatedOrControlComponent('is_affiliated_exchange_or_finra');\r\n        });\r\n        let is_control_person = document.getElementById('is_control_person');\r\n        is_control_person === null || is_control_person === void 0 ? void 0 : is_control_person.addEventListener('click', (evt) => {\r\n            this.loadAffiliatedOrControlComponent('is_control_person');\r\n        });\r\n        let immediate_family_exposed = document.getElementById('immediate_family_exposed');\r\n        immediate_family_exposed === null || immediate_family_exposed === void 0 ? void 0 : immediate_family_exposed.addEventListener('click', (evt) => {\r\n            this.loadPep('immediate_family_exposed');\r\n        });\r\n        let is_politically_exposed = document.getElementById('is_politically_exposed');\r\n        is_politically_exposed === null || is_politically_exposed === void 0 ? void 0 : is_politically_exposed.addEventListener('click', (evt) => {\r\n            this.uncheck('immediate_family_exposed');\r\n        });\r\n        let none_above = document.getElementById('none_above');\r\n        none_above === null || none_above === void 0 ? void 0 : none_above.addEventListener('click', (evt) => {\r\n            this.removeMissingInfo('none_above_error');\r\n            none_above.removeAttribute('aria-invalid');\r\n        });\r\n        let prev = document.getElementById('disclosures_prev');\r\n        prev === null || prev === void 0 ? void 0 : prev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycTrustedContact.show();\r\n        });\r\n        let next = document.getElementById('disclosures_next');\r\n        next === null || next === void 0 ? void 0 : next.addEventListener('click', (evt) => {\r\n            if (!this.validateFields())\r\n                return;\r\n            if (this.kycForm.steps == 5) {\r\n                this.kycForm.kycAccountAgreement.show();\r\n            }\r\n            else {\r\n                this.kycForm.kycUpload.show();\r\n            }\r\n        });\r\n    }\r\n    loadAffiliatedOrControlComponent(elementId) {\r\n        if (elementId == 'is_affiliated_exchange_or_finra') {\r\n            this.uncheck('is_control_person');\r\n        }\r\n        else {\r\n            this.uncheck('is_affiliated_exchange_or_finra');\r\n        }\r\n        let element = document.getElementById(elementId);\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        if (!extra)\r\n            return;\r\n        if (element.checked) {\r\n            extra.innerHTML = this.kycAffiliatedOrControlled.render();\r\n            this.kycAffiliatedOrControlled.bindEvents();\r\n        }\r\n        else {\r\n            extra.innerHTML = '';\r\n        }\r\n    }\r\n    loadPep(elementId) {\r\n        if (elementId == 'immediate_family_exposed') {\r\n            this.uncheck('is_politically_exposed');\r\n        }\r\n        else {\r\n            this.uncheck('immediate_family_exposed');\r\n        }\r\n        let element = document.getElementById(elementId);\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        if (!extra)\r\n            return;\r\n        if (element.checked) {\r\n            extra.innerHTML = this.kycImmediateFamily.render();\r\n            this.kycImmediateFamily.bindEvents();\r\n        }\r\n        else {\r\n            extra.innerHTML = '';\r\n        }\r\n    }\r\n    uncheck(elementId) {\r\n        let element = document.getElementById(elementId);\r\n        element.checked = false;\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        extra.innerHTML = '';\r\n    }\r\n    validateFields() {\r\n        if (!this.validateRequiredFields('.kycDisclosures'))\r\n            return false;\r\n        if (!this.kycImmediateFamily.validate())\r\n            return false;\r\n        if (!this.kycAffiliatedOrControlled.validate())\r\n            return false;\r\n        let is_affiliated_exchange_or_finra = document.getElementById('is_affiliated_exchange_or_finra');\r\n        let is_control_person = document.getElementById('is_control_person');\r\n        let is_politically_exposed = document.getElementById('is_politically_exposed');\r\n        let immediate_family_exposed = document.getElementById('immediate_family_exposed');\r\n        let none_above = document.getElementById('none_above');\r\n        if (!none_above.checked && !is_affiliated_exchange_or_finra.checked && !is_control_person.checked\r\n            && !is_politically_exposed.checked && !immediate_family_exposed.checked) {\r\n            this.setMissingInfo('none_above_error', 'You must select, \"None of the above apply to me or my family.\" if nothing is selected', 'none_above');\r\n            return false;\r\n        }\r\n        if (none_above.checked && (is_affiliated_exchange_or_finra.checked || is_control_person.checked\r\n            || is_politically_exposed.checked || immediate_family_exposed.checked)) {\r\n            this.setMissingInfo('none_above_error', 'You cannot have \"None of the above apply to me or my family.\" selected and other options selected. Please select only one', 'none_above');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycAccountAgreement.html\n// Module\nvar KycAccountAgreement_code = \"<fieldset class=\\\"kycAccountAgreement hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"kycAccountAgreementGrid\\\">\\r\\n        <div id=\\\"account_agreement_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"account_agreement\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"account_agreement\\\" id=\\\"account_agreement\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"account_agreement\\\">\\r\\n                    I agree to <a href=\\\"https://files.alpaca.markets/disclosures/library/AcctAppMarginAndCustAgmt.pdf\\\"\\r\\n                                  target=\\\"_blank\\\">Alpaca Customer Agreement</a>\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"customer_agreement_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"customer_agreement\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"customer_agreement\\\" id=\\\"customer_agreement\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"customer_agreement\\\">\\r\\n                    Customer Agreement Acknowledgement</label>\\r\\n                <div class=\\\"explain\\\">\\r\\n                    I have read, understood, and agree to be bound by Alpaca Securities LLC and Liminal.market Inc.\\r\\n                    account\\r\\n                    terms,\\r\\n                    and all other terms, disclosures and disclaimers applicable to me, as referenced in the Alpaca\\r\\n                    Customer\\r\\n                    Agreement.\\r\\n                    I also acknowledge that the Alpaca Customer Agreement contains a pre-dispute arbitration clause\\r\\n                    in\\r\\n                    Section\\r\\n                    43.\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n        <div id=\\\"digital_signature_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"digital_signature\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"digital_signature\\\" id=\\\"digital_signature\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"digital_signature\\\">\\r\\n                    Digital Signature Acknowledgement</label>\\r\\n                <div class=\\\"explain\\\">\\r\\n                    I understand I am signing this agreement electronically,\\r\\n                    and that my electronic signature will have the same effect as physically signing and returning\\r\\n                    the\\r\\n                    Application Agreement.\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid hidden\\\" id=\\\"w8disclosure_div\\\">\\r\\n            <div>\\r\\n                <label for=\\\"w8disclosure\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"w8disclosure\\\" id=\\\"w8disclosure\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div><label for=\\\"w8disclosure\\\">\\r\\n                I certify that I am not a US citizen, US resident alien or other US person for US tax purposes,\\r\\n                and I am submitting the applicable Form W-8 BEN with this form to certify my foreign status and,\\r\\n                if applicable, claim tax treaty benefits. </label>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"account_agreement_prev\\\">Previous: Upload documents</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"submitKYC\\\">Confirm identity</button>\\r\\n    </div>\\r\\n    <div class=\\\"alert alert-danger\\\" id=\\\"kycError\\\" role=\\\"alert\\\"></div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycAccountAgreement = (KycAccountAgreement_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycAccountAgreement.ts\nvar KycAccountAgreement_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycAccountAgreement extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycAccountAgreement);\r\n        return template({ edit: edit });\r\n    }\r\n    show() {\r\n        var _a, _b;\r\n        this.showFieldset('.kycAccountAgreement', 'Agreements');\r\n        if (this.kycForm.steps == 5) {\r\n            document.getElementById('account_agreement_prev').innerText = 'Previous: Disclosure';\r\n        }\r\n        else {\r\n            document.getElementById('account_agreement_prev').innerText = 'Previous: Upload documents';\r\n        }\r\n        if (this.kycForm.kycContact.usTaxResidence) {\r\n            (_a = document.getElementById('w8disclosure_div')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n        }\r\n        else {\r\n            (_b = document.getElementById('w8disclosure_div')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        }\r\n    }\r\n    bindEvents() {\r\n        let account_agreement_prev = document.getElementById('account_agreement_prev');\r\n        account_agreement_prev === null || account_agreement_prev === void 0 ? void 0 : account_agreement_prev.addEventListener('click', (evt) => {\r\n            if (this.kycForm.steps == 5) {\r\n                this.kycForm.kycDisclosures.show();\r\n            }\r\n            else {\r\n                this.kycForm.kycUpload.show();\r\n            }\r\n        });\r\n        this.bindSubmitKyc();\r\n    }\r\n    bindSubmitKyc(edit = false) {\r\n        let submitKYC = document.getElementById('submitKYC');\r\n        if (!submitKYC)\r\n            return;\r\n        submitKYC.addEventListener('click', (evt) => KycAccountAgreement_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!edit && !this.validate())\r\n                return;\r\n            let account_agreement_prev = document.getElementById('account_agreement_prev');\r\n            //if (account_agreement_prev) account_agreement_prev.classList.add('hidden');\r\n            let liminal_market_modal_close = document.getElementById('liminal_market_modal_close');\r\n            // if (liminal_market_modal_close) liminal_market_modal_close.style.display = 'none';\r\n            let submitBtn = evt.target;\r\n            LoadingHelper.setLoading(submitBtn);\r\n            let params = FormHelper.getParams('#kyc_wizard_form');\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            params.chainId = networkInfo.ChainId;\r\n            let kycService = new KYCService(Moralis);\r\n            let result = yield kycService.saveKYCInfo(params)\r\n                .catch((reason) => {\r\n                if (account_agreement_prev)\r\n                    account_agreement_prev.classList.remove('hidden');\r\n                LoadingHelper.removeLoading();\r\n                if (reason.message) {\r\n                    let kycError = new KycValidatorError(reason.message, this.kycForm);\r\n                    kycError.handle();\r\n                }\r\n                else {\r\n                    console.log(reason);\r\n                }\r\n            });\r\n            if (result) {\r\n                this.kycForm.kycWaiting.show();\r\n                ExecuteTradeButton.Instance.renderButton();\r\n            }\r\n            else {\r\n                if (account_agreement_prev)\r\n                    account_agreement_prev.classList.remove('hidden');\r\n                LoadingHelper.removeLoading();\r\n            }\r\n        }));\r\n    }\r\n    validate() {\r\n        let account_agreement = document.getElementById('account_agreement');\r\n        if (!(account_agreement === null || account_agreement === void 0 ? void 0 : account_agreement.checked)) {\r\n            this.setMissingInfo('account_agreement_error', 'You need to agree to agreements', 'account_agreement');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('account_agreement_error', 'account_agreement');\r\n        }\r\n        let customer_agreement = document.getElementById('customer_agreement');\r\n        if (!(customer_agreement === null || customer_agreement === void 0 ? void 0 : customer_agreement.checked)) {\r\n            this.setMissingInfo('customer_agreement_error', 'You need to agree to customer agrement', 'customer_agreement');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('customer_agreement_error', 'customer_agreement');\r\n        }\r\n        let digital_signature = document.getElementById('digital_signature');\r\n        if (!(digital_signature === null || digital_signature === void 0 ? void 0 : digital_signature.checked)) {\r\n            this.setMissingInfo('digital_signature_error', 'You need to sign', 'digital_signature');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('digital_signature_error', 'digital_signature');\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycTrustedContact.html\n// Module\nvar KycTrustedContact_code = \"<fieldset class=\\\"kycTrustedContact hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"explain\\\">\\r\\n        A trusted contact is a person you authorize your financial firm to contact in limited circumstances,\\r\\n        such as if there is a concern about activity in your account and they have been unable to get in touch with you.\\r\\n        <br/><br/>\\r\\n        A trusted contact may be a family member, attorney, accountant or another third-party who you believe would\\r\\n        respect your privacy and know how to handle the responsibility.\\r\\n        The trusted person should be 18 years old or older.\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_first_name\\\">Legal first name of trusted contact</label>\\r\\n        <input id=\\\"trusted_first_name\\\" name=\\\"trusted_first_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_last_name\\\">Legal last name of trusted contact</label>\\r\\n        <input id=\\\"trusted_last_name\\\" name=\\\"trusted_last_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        If you fill in name, you are required to fill in one of the following, email, phone or address\\r\\n    </div>\\r\\n    <div class=\\\"input_error\\\" id=\\\"trusted_contact_missing_info\\\"></div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_email\\\">Email of trusted contact</label>\\r\\n        <input id=\\\"trusted_email\\\" type=\\\"email\\\" name=\\\"trusted_email\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_phone\\\">Phone of trusted contact</label>\\r\\n        <input id=\\\"trusted_phone\\\" type=\\\"tel\\\" name=\\\"trusted_phone\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_street_address\\\">Address of trusted contact</label>\\r\\n        <input id=\\\"trusted_street_address\\\" name=\\\"trusted_street_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_city\\\">City of trusted contact</label>\\r\\n        <input id=\\\"trusted_city\\\" name=\\\"trusted_city\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_state\\\">State of trusted contact</label>\\r\\n        <input id=\\\"trusted_state\\\" name=\\\"trusted_state\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_postal_code\\\">Postal code of trusted contact</label>\\r\\n        <input id=\\\"trusted_postal_code\\\" name=\\\"trusted_postal_code\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_country\\\">Country of trusted contact</label>\\r\\n        <select required id=\\\"trusted_country\\\" required name=\\\"trusted_country\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    {{#unless edit}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_prev\\\">Previous: Identity</button>\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_next\\\">Next: Disclosures</button>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    {{#if edit}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_prev\\\">Previous: Identity</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"submitKYC\\\">Update account</button>\\r\\n    </div>\\r\\n    <div class=\\\"alert alert-danger\\\" id=\\\"kycError\\\" role=\\\"alert\\\"></div>\\r\\n    {{/if}}\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycTrustedContact = (KycTrustedContact_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycTrustedContact.ts\n\r\n\r\n\r\n\r\n\r\nclass KycTrustedContact extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.edit = false;\r\n    }\r\n    render(edit = false) {\r\n        this.edit = edit;\r\n        let template = Handlebars.compile(Kyc_KycTrustedContact);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycTrustedContact', 'Trusted contact');\r\n    }\r\n    bindEvents() {\r\n        let showPrev = document.getElementById('trustedContact_prev');\r\n        showPrev === null || showPrev === void 0 ? void 0 : showPrev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycIdentity.show();\r\n        });\r\n        let showNext = document.getElementById('trustedContact_next');\r\n        showNext === null || showNext === void 0 ? void 0 : showNext.addEventListener('click', (evt) => {\r\n            if (!this.validate())\r\n                return;\r\n            this.kycForm.kycDisclosures.show();\r\n        });\r\n        if (this.edit) {\r\n            let kycAccount = new KycAccountAgreement(this.kycForm);\r\n            if (!this.validate())\r\n                return;\r\n            kycAccount.bindSubmitKyc(this.edit);\r\n        }\r\n    }\r\n    validate() {\r\n        this.setMissingInfo('trusted_contact_missing_info', '');\r\n        let trusted_first_name = document.getElementById('trusted_first_name');\r\n        if (trusted_first_name && !StringHelper.isNullOrEmpty(trusted_first_name.value)) {\r\n            let trusted_email = document.getElementById('trusted_email');\r\n            let trusted_phone = document.getElementById('trusted_phone');\r\n            let trusted_street_address = document.getElementById('trusted_street_address');\r\n            let trusted_city = document.getElementById('trusted_city');\r\n            let trusted_postal_code = document.getElementById('trusted_postal_code');\r\n            let trusted_country = document.getElementById('trusted_country');\r\n            if (StringHelper.isNullOrEmpty(trusted_email.value) && StringHelper.isNullOrEmpty(trusted_phone.value)\r\n                && StringHelper.isNullOrEmpty(trusted_street_address.value)) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'You need to fill in either email, phone or address');\r\n                return;\r\n            }\r\n            if (!StringHelper.isNullOrEmpty(trusted_email.value) && trusted_email.value.indexOf('@') == -1) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'Email is not valid. It must contain @ sign');\r\n                return;\r\n            }\r\n            if (!StringHelper.isNullOrEmpty(trusted_street_address.value) &&\r\n                (StringHelper.isNullOrEmpty(trusted_city.value) ||\r\n                    StringHelper.isNullOrEmpty(trusted_postal_code.value) ||\r\n                    StringHelper.isNullOrEmpty(trusted_country.value))) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'You need fill inn into City, Postal code and Country when filling the street address');\r\n                return;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycUpload.html\n// Module\nvar KycUpload_code = \"<fieldset class=\\\"kycUpload hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"address_verification\\\" \\\"Picture of address verification\\\"}}}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"upload_prev\\\">Previous: Disclosures</button>\\r\\n        <button type=\\\"button\\\" id=\\\"upload_next\\\">Next: Agreements</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycUpload = (KycUpload_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycUpload.ts\n\r\n\r\nclass KycUpload extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let template = Handlebars.compile(Kyc_KycUpload);\r\n        return template({});\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycUpload', 'Upload documents');\r\n    }\r\n    bindEvents() {\r\n        this.bindFileUploads();\r\n        let upload_prev = document.getElementById('upload_prev');\r\n        upload_prev === null || upload_prev === void 0 ? void 0 : upload_prev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycDisclosures.show();\r\n        });\r\n        let upload_next = document.getElementById('upload_next');\r\n        upload_next === null || upload_next === void 0 ? void 0 : upload_next.addEventListener('click', (evt) => {\r\n            if (!this.validateRequiredFields('.kycUpload'))\r\n                return;\r\n            this.kycForm.kycAccountAgreement.show();\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycWaiting.ts\nvar KycWaiting_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass KycWaiting extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    show() {\r\n        var _a, _b;\r\n        (_a = document.getElementById('kyc_reg')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n        (_b = document.getElementById('waiting_for_kyc_reg')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        document.querySelector('#liminal_market_modal_div > article > header > span').innerHTML = 'Waiting for KYC to be approved';\r\n        this.kycForm.timeout = setTimeout(() => KycWaiting_awaiter(this, void 0, void 0, function* () {\r\n            yield this.checkKycStatus();\r\n        }), 5 * 1000);\r\n    }\r\n    checkKycStatus() {\r\n        return KycWaiting_awaiter(this, void 0, void 0, function* () {\r\n            let kycService = new KYCService(Moralis);\r\n            let kycResponse = yield kycService.hasValidKYC();\r\n            if (kycResponse.isValidKyc) {\r\n                clearTimeout(this.kycForm.timeout);\r\n                this.kycForm.modal.hideModal();\r\n            }\r\n            else {\r\n                this.kycForm.timeout = setTimeout(() => {\r\n                    this.checkKycStatus();\r\n                }, 5 * 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYCForm.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KYCForm {\r\n    constructor(onHide) {\r\n        this.steps = 5;\r\n        this.timeout = undefined;\r\n        this.activeFieldsetSelector = '.kycContact';\r\n        this.modal = new Modal();\r\n        this.onHide = onHide;\r\n        this.kycContact = new KycContact(this);\r\n        this.kycIdentity = new KycIdentity(this);\r\n        this.kycTrustedContact = new KycTrustedContact(this);\r\n        this.kycDisclosures = new KycDisclosures(this);\r\n        this.kycAccountAgreement = new KycAccountAgreement(this);\r\n        this.kycUpload = new KycUpload(this);\r\n        this.kycWaiting = new KycWaiting(this);\r\n    }\r\n    show(className) {\r\n        let kycForm = new KYCForm(() => {\r\n        });\r\n        const ble = className;\r\n        this[ble].show();\r\n        this.activeFieldsetSelector = className;\r\n    }\r\n    showKYCForm(edit = false) {\r\n        let template = Handlebars.compile(KYCModal);\r\n        let obj = {\r\n            KycContactHtml: this.kycContact.render(),\r\n            KycIdentityHtml: this.kycIdentity.render(),\r\n            KycDisclosureHtml: this.kycDisclosures.render(),\r\n            KycTrustedContactHtml: this.kycTrustedContact.render(),\r\n            KycAccountAgreementHtml: this.kycAccountAgreement.render(),\r\n            KycUploadHtml: this.kycUpload.render()\r\n        };\r\n        let content = template(obj);\r\n        let newModal = this.modal.showModal('KYC & AML', content, true, () => {\r\n            this.clearTimeout();\r\n            this.onHide();\r\n        }, false);\r\n        let taxResidence = document.getElementById('country_of_tax_residence');\r\n        if (taxResidence) {\r\n            this.steps = (taxResidence.value == 'USA') ? 5 : 6;\r\n        }\r\n        if (newModal) {\r\n            this.kycContact.bindEvents();\r\n            this.kycIdentity.bindEvents();\r\n            this.kycTrustedContact.bindEvents();\r\n            this.kycDisclosures.bindEvents();\r\n            this.kycUpload.bindEvents();\r\n            this.kycAccountAgreement.bindEvents();\r\n            document.getElementById('kyc_wizard_form').addEventListener('keyup', (evt) => {\r\n                if (evt.key == 'Enter') {\r\n                    evt.preventDefault();\r\n                    evt.stopPropagation();\r\n                }\r\n            });\r\n        }\r\n        this.kycContact.show();\r\n    }\r\n    setSteps(steps) {\r\n        this.steps = steps;\r\n    }\r\n    clearTimeout() {\r\n        if (this.timeout)\r\n            clearTimeout(this.timeout);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycStatusHandler.ts\nvar KycStatusHandler_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass KycStatusHandler {\r\n    constructor(kycResponse, executeTradeButton) {\r\n        this.kycResponse = kycResponse;\r\n        this.executeTradeButton = executeTradeButton;\r\n    }\r\n    getButtonText() {\r\n        let txt = 'Finish KYC';\r\n        switch (this.kycResponse.status) {\r\n            case 'SUBMITTED':\r\n            case 'ONBOARDING':\r\n            case 'INACTIVE':\r\n            case 'APPROVED':\r\n            case 'EDITED':\r\n            case 'APPROVAL_PENDING':\r\n                txt = 'Submitted to KYC processor';\r\n                break;\r\n            case 'ACTION_REQUIRED':\r\n                txt = 'Action required. Click to continue';\r\n                break;\r\n            case 'REJECTED':\r\n                txt = 'Your application was rejected';\r\n                break;\r\n            case 'DISABLED':\r\n                txt = 'Your account has been disabled';\r\n                break;\r\n            case 'ACTIVE':\r\n            case 'ACCOUNT_UPDATED':\r\n                txt = 'You are approved. KYC is being sent to blockchain. Give it few minutes';\r\n                break;\r\n            case 'ACCOUNT_CLOSED':\r\n                txt = 'Your account has been closed';\r\n                break;\r\n        }\r\n        return txt + '<small>Click for more info</small>';\r\n    }\r\n    getButtonClickEvent(executeTradeButton) {\r\n        switch (this.kycResponse.status) {\r\n            case 'SUBMITTED':\r\n            case 'ONBOARDING':\r\n            case 'INACTIVE':\r\n            case 'APPROVED':\r\n            case 'EDITED':\r\n            case 'APPROVAL_PENDING':\r\n                return this.showModal('Application is being processed', \"You need to wait for KYC to be approved. Then you'll be able to do trades. \" +\r\n                    \"This usually takes few minutes. We will email you when you are approved or if there are problems<br /><br />\" +\r\n                    \"If this status has been for more than 1 day, and you haven't gotten any email from us. Please email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application is being processed for to long&body=Hi, can you help me to find out what the problem is, the KYC process has not changed for some time? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\");\r\n            case 'ACTION_REQUIRED':\r\n                return () => KycStatusHandler_awaiter(this, void 0, void 0, function* () {\r\n                    let kycActionRequired = new KycActionRequired(executeTradeButton);\r\n                    yield kycActionRequired.show();\r\n                });\r\n            case 'REJECTED':\r\n                return this.showModal('Application was rejected', \"Your application has been rejected during KYC process.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was rejected&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'DISABLED':\r\n                return this.showModal('Application was disabled', \"Your account has been disabled.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was disabled&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'ACCOUNT_CLOSED':\r\n                return this.showModal('Application was closed', \"Your account has been closed.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was closed&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'ACCOUNT_UPDATED':\r\n            case 'ACTIVE':\r\n                return this.showModal('Account soon ready', 'Your account has been approved...<br /><br/>' +\r\n                    '..but, after we approve your account, we write the information to the blockchain.' +\r\n                    ' This usually takes just few(2-3) minutes.<br /><br/> If this is taking longer, ' +\r\n                    'please email us at <a target=\"_blank\" href=\"mailto:info@liminal.market?subject=KYC is being written to blockchain&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market\">info@liminal.market</a>');\r\n        }\r\n        return () => {\r\n            let kycForm = new KYCForm(() => KycStatusHandler_awaiter(this, void 0, void 0, function* () {\r\n                yield this.executeTradeButton.renderButton();\r\n            }));\r\n            kycForm.showKYCForm();\r\n        };\r\n    }\r\n    showModal(title, content) {\r\n        return () => {\r\n            let modal = new Modal();\r\n            modal.showModal(title, content);\r\n        };\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycApproved.html\n// Module\nvar KycApproved_code = \"<h2>You are account has been approved</h2>\\r\\n<p>We have approved your account. You can now fund your account and start to trade.\\r\\n\\r\\n    <button id=\\\"kycApprovedFund\\\">Fund account</button>\\r\\n</p>\";\n// Exports\n/* harmony default export */ const KycApproved = (KycApproved_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/ExecuteTradeButton.ts\nvar ExecuteTradeButton_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ExecuteTradeButton {\r\n    constructor(moralis, sellTradeInput, buyTradeInput) {\r\n        this.hasBuyingPower = false;\r\n        this.moralis = moralis;\r\n        this.sellTradeInput = sellTradeInput;\r\n        this.buyTradeInput = buyTradeInput;\r\n        this.authenticateService = new AuthenticateService(this.moralis);\r\n        this.template = Handlebars.compile(tradepanel_ExecuteTradeButton);\r\n        this.button = document.getElementById('liminal_market_execute_trade');\r\n        ExecuteTradeButton.Instance = this;\r\n    }\r\n    renderButton() {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            this.button = document.getElementById('liminal_market_execute_trade');\r\n            //this.button.replaceWith(this.button.cloneNode(true));\r\n            // document.getElementById('liminal_market_execute_trade')!.outerHTML = this.button.outerHTML;\r\n            this.loadingButton(this.button);\r\n            //wallet connected\r\n            if (!this.walletIsConnected(this.button)) {\r\n                return;\r\n            }\r\n            //user logged in\r\n            if (!this.userIsLoggedIn(this.button)) {\r\n                return;\r\n            }\r\n            //chain id correct\r\n            if (!this.chainIdIsCorrect(this.button)) {\r\n                return;\r\n            }\r\n            //native token is available\r\n            if (!(yield this.userHasNativeToken(this.button))) {\r\n                return;\r\n            }\r\n            //kyc is done\r\n            if (!(yield this.kycIsDone(this.button))) {\r\n                return;\r\n            }\r\n            //ausd is setup\r\n            if (!(yield this.userHasAUSD(this.button))) {\r\n                return;\r\n            }\r\n            //ausd > buy amount\r\n            if (!(yield this.userHasEnoughQty(this.button))) {\r\n                return;\r\n            }\r\n            if (!this.hasQuantityAndSymbol(this.button)) {\r\n                return;\r\n            }\r\n            if (!(yield this.isMarketOpen(this.button))) {\r\n                return;\r\n            }\r\n            this.enableExecuteTrade(this.button);\r\n        });\r\n    }\r\n    enableExecuteTrade(button) {\r\n        //if (this.sellTradeInput.quantity.eq(0)) return;\r\n        //execute trade can be done\r\n        button.innerHTML = 'Execute trade';\r\n        button.classList.replace('disabled', 'enabled');\r\n        this.stopLoadingButton(button);\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            this.loadingButton(button);\r\n            let providerInfo = ProviderInfo.Instance;\r\n            button.innerHTML = 'Confirm transaction in your ' + providerInfo.WalletName + ' wallet';\r\n            if (this.sellTradeInput.symbol == 'aUSD') {\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let symbolAddress = yield liminalMarketService.getSymbolContractAddress(this.buyTradeInput.symbol);\r\n                if (symbolAddress === AddressZero) {\r\n                    let result = yield liminalMarketService.createToken(this.buyTradeInput.symbol, () => {\r\n                        button.innerHTML = 'Creating token. Give it few seconds';\r\n                    }).finally(() => {\r\n                        this.stopLoadingButton(button);\r\n                        button.innerHTML = 'Execute trade';\r\n                    });\r\n                    if (result instanceof BlockchainError)\r\n                        return;\r\n                    symbolAddress = result;\r\n                }\r\n                yield this.executeTransfer(symbolAddress, button);\r\n            }\r\n            else {\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let symbolAddress = yield liminalMarketService.getSymbolContractAddress(this.sellTradeInput.symbol);\r\n                let securityTokenService = new SecurityTokenService(this.moralis);\r\n                yield securityTokenService.transfer(symbolAddress, this.sellTradeInput.quantity)\r\n                    .catch(reason => {\r\n                    console.log('CATCH - securityTokenService.transfer', reason);\r\n                })\r\n                    .then(transaction => {\r\n                    console.log('THEN - securityTokenService.transfer', transaction);\r\n                    if (!transaction)\r\n                        return;\r\n                    this.monitorExecuteTrade(transaction, TradeType.Sell);\r\n                }).finally(() => {\r\n                    this.stopLoadingButton(button);\r\n                    button.innerHTML = 'Execute trade';\r\n                });\r\n            }\r\n        }));\r\n    }\r\n    executeTransfer(symbolAddress, button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let aUsdService = new AUSDService(this.moralis);\r\n            yield aUsdService.transfer(symbolAddress, this.sellTradeInput.quantity)\r\n                .catch(reason => {\r\n                console.log('CATCH - aUsdService.transfer', reason);\r\n            }).then(transaction => {\r\n                if (!transaction)\r\n                    return;\r\n                this.monitorExecuteTrade(transaction, TradeType.Buy);\r\n                this.setProgressText('Sending to blockchain', transaction.hash);\r\n            }).finally(() => {\r\n                this.stopLoadingButton(button);\r\n                button.innerHTML = 'Execute trade';\r\n            });\r\n        });\r\n    }\r\n    getBuyingSharesObj(object) {\r\n        let ethAddress = object.walletAddress;\r\n        let tokenAddress = object.tokenAddress;\r\n        let buyingQuantity = object.filled_qty;\r\n        let sellingAmount = '$' + new bignumber(object.amount).div(Math.pow(10, 18)).toFixed();\r\n        return {\r\n            sellingLogo: '/img/logos/aUSD.png',\r\n            sellingSymbol: 'aUSD',\r\n            sellingAmount: sellingAmount,\r\n            buyingLogo: '/img/logos/' + object.symbol + '.png',\r\n            buyingSymbol: object.symbol,\r\n            buyingQuantity: buyingQuantity,\r\n            buyingRoundQuantity: roundNumberDecimal(buyingQuantity, 6) + ' shares',\r\n            shortEthAddress: shortEth(ethAddress),\r\n            tokenAddress: tokenAddress\r\n        };\r\n    }\r\n    getSellSharesObj(object) {\r\n        let ethAddress = object.sender;\r\n        let tokenAddress = object.recipient;\r\n        let buyingQuantity = new bignumber(object.filled_avg_price).multipliedBy(new bignumber(object.filled_qty));\r\n        let sellingAmount = object.filled_qty;\r\n        return {\r\n            sellingLogo: '/img/logos/' + object.symbol + '.png',\r\n            sellingSymbol: object.symbol,\r\n            sellingAmount: sellingAmount + ' shares',\r\n            buyingLogo: '/img/logos/aUSD.png',\r\n            buyingSymbol: 'aUSD',\r\n            buyingQuantity: buyingQuantity.toFixed(),\r\n            buyingRoundQuantity: '$' + roundBigNumberDecimal(buyingQuantity, 6).toFixed(),\r\n            shortEthAddress: shortEth(ethAddress),\r\n            tokenAddress: tokenAddress\r\n        };\r\n    }\r\n    showTradeExecuted(object) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let providerInfo = ProviderInfo.Instance;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let isBuy = (object.side == 'buy');\r\n            let obj = (isBuy) ? this.getBuyingSharesObj(object) : this.getSellSharesObj(object);\r\n            obj.walletName = providerInfo.WalletName;\r\n            obj.blockExplorerLink = networkInfo.BlockExplorer + '/tx/' + object.transaction_hash;\r\n            let template = Handlebars.compile(TradeExecuted);\r\n            let content = template(obj);\r\n            let modal = new Modal();\r\n            modal.showModal('Trade executed', content);\r\n            let addTokenToWallet = document.getElementById('addTokenToWallet');\r\n            if (!addTokenToWallet)\r\n                return;\r\n            addTokenToWallet.addEventListener('click', (evt) => {\r\n                let address = evt.target.dataset.address;\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                walletHelper.addTokenToWallet(address, this.buyTradeInput.symbol, () => {\r\n                    let addTokenToWalletFailed = document.getElementById('addTokenToWalletFailed');\r\n                    if (!addTokenToWalletFailed)\r\n                        return;\r\n                    addTokenToWalletFailed.classList.remove('d-none');\r\n                });\r\n            });\r\n        });\r\n    }\r\n    monitorExecuteTrade(transaction, tradeType) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let subscription = new Subscription(this.moralis);\r\n            yield subscription.subscribeToTable(tradeType, (object) => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n                let user = this.moralis.User.current();\r\n                if (!user)\r\n                    return;\r\n                if (object.walletAddress != user.get('ethAddress')) {\r\n                    console.log('obj.walletAddress:' + object.walletAddress + ' user:' + user.get('ethAddress'));\r\n                    return;\r\n                }\r\n                if (object.status == 'order_filled') {\r\n                    yield this.showTradeExecuted(object);\r\n                    yield AUsdBalance.forceLoadAUSDBalanceUI();\r\n                    let executingTrade = document.getElementById('executing-trade-progress');\r\n                    if (!executingTrade)\r\n                        return;\r\n                    executingTrade.classList.add('d-none');\r\n                }\r\n                else if (object.status == 'order_failed') {\r\n                    let modal = new Modal();\r\n                    modal.showModal('Order failed', 'We could not finish your order.');\r\n                }\r\n                else if (!object.status) {\r\n                    this.setProgressText('Received order sending to stock exchange', object.transaction_hash);\r\n                }\r\n                else if (object.status == 'order_requested') {\r\n                    this.setProgressText('Sent to stock exchange', object.transaction_hash);\r\n                    yield AUsdBalance.forceLoadAUSDBalanceUI();\r\n                }\r\n            }));\r\n            let executingTrade = document.getElementById('executing-trade-progress');\r\n            if (!executingTrade)\r\n                return;\r\n            executingTrade.classList.remove('d-none');\r\n        });\r\n    }\r\n    loadingButton(button) {\r\n        button.setAttribute('aria-busy', 'true');\r\n    }\r\n    stopLoadingButton(button) {\r\n        button.removeAttribute('aria-busy');\r\n    }\r\n    walletIsConnected(button) {\r\n        let walletConnected = this.authenticateService.isWalletConnected();\r\n        if (walletConnected)\r\n            return true;\r\n        this.removeClickEvent(button);\r\n        button.innerHTML = 'Connect wallet';\r\n        button.addEventListener('click', () => {\r\n            let connectWallet = new ConnectWallet(this.moralis);\r\n            connectWallet.chooseWalletProvider();\r\n        });\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    userIsLoggedIn(button) {\r\n        let userLoggedIn = this.authenticateService.isUserLoggedIn();\r\n        if (userLoggedIn)\r\n            return true;\r\n        button.innerHTML = 'Login';\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield this.authenticateService.authenticateUser(ConnectWallet.Provider);\r\n        }));\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    chainIdIsCorrect(button) {\r\n        let chainId = this.authenticateService.getChainId();\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        if (chainId === networkInfo.ChainId)\r\n            return true;\r\n        let usersWalletNetwork = NetworkInfo.getNetworkInfoByChainId(chainId);\r\n        if (usersWalletNetwork) {\r\n            NetworkInfo.setNetworkByChainId(chainId);\r\n            return true;\r\n        }\r\n        button.innerHTML = 'Switch Network';\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield networkInfo.addNetworkToWallet(this.moralis);\r\n        }));\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    userHasNativeToken(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let hasEnoughNativeTokens = yield networkInfo.hasEnoughNativeTokens(this.moralis);\r\n            if (hasEnoughNativeTokens)\r\n                return true;\r\n            button.classList.replace('enabled', 'disabled');\r\n            button.innerHTML = 'You need ' + networkInfo.NativeCurrencyName + ' tokens. Click me for some tokens';\r\n            button.addEventListener('click', () => {\r\n                let nativeTokenNeededModal = new NativeTokenNeeded(this.moralis, () => {\r\n                    this.renderButton();\r\n                });\r\n                nativeTokenNeededModal.show();\r\n            });\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    kycIsDone(button, intervalCheck = false) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let kycService = new KYCService(this.moralis);\r\n            let ethAddress = this.authenticateService.getEthAddress();\r\n            if (ethAddress === '') {\r\n                console.log('no ETH address, kyc check failed');\r\n                return false;\r\n            }\r\n            let kycResponse = yield kycService.hasValidKYC();\r\n            if (!kycResponse.isValidKyc && kycResponse.status == 'ACTIVE') {\r\n                this.kycIdDoneTimeout = setInterval(() => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n                    kycResponse = yield kycService.hasValidKYC();\r\n                    if (kycResponse.isValidKyc) {\r\n                        this.hasBuyingPower = kycResponse.hasBuyingPower;\r\n                        clearInterval(this.kycIdDoneTimeout);\r\n                        yield this.renderButton();\r\n                    }\r\n                }), 10 * 1000);\r\n            }\r\n            if (kycResponse.isValidKyc) {\r\n                if (intervalCheck) {\r\n                    clearInterval(this.kycIdDoneTimeout);\r\n                    let template = Handlebars.compile(KycApproved);\r\n                    let modal = new Modal();\r\n                    modal.showModal('Account approved', template({}));\r\n                    let fundAccount = document.getElementById('kycApprovedFund');\r\n                    fundAccount === null || fundAccount === void 0 ? void 0 : fundAccount.addEventListener('click', (evt) => {\r\n                        modal.hideModal();\r\n                        let ausdFund = new FakeAUSDFund(this.moralis);\r\n                        ausdFund.showAUSDFakeFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    });\r\n                }\r\n                return true;\r\n            }\r\n            let kycStatusHandler = new KycStatusHandler(kycResponse, this);\r\n            button.innerHTML = kycStatusHandler.getButtonText();\r\n            button.addEventListener('click', kycStatusHandler.getButtonClickEvent(this));\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    checkKycIsDone() {\r\n        if (this.kycIdDoneTimeout)\r\n            return;\r\n        this.kycIdDoneTimeout = setInterval(() => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield this.kycIsDone(this.button, true);\r\n        }), 10 * 1000);\r\n    }\r\n    userHasAUSD(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let ausdService = new AUSDService(this.moralis);\r\n            let balance = yield ausdService.getAUSDBalanceOf(this.authenticateService.getEthAddress());\r\n            if (balance.isGreaterThan(0))\r\n                return true;\r\n            if (this.hasBuyingPower) {\r\n                button.innerHTML = 'We are funding you aUSD token';\r\n                this.checkBalanceInterval = setInterval(() => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n                    AUSDService.lastUpdate = undefined;\r\n                    let balance = yield ausdService.getAUSDBalanceOf(this.authenticateService.getEthAddress());\r\n                    if (balance.isGreaterThan(0)) {\r\n                        yield AUsdBalance.forceLoadAUSDBalanceUI();\r\n                        clearInterval(this.checkBalanceInterval);\r\n                        yield this.renderButton();\r\n                    }\r\n                }), 10 * 1000);\r\n                return false;\r\n            }\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            if (networkInfo.TestNetwork) {\r\n                button.innerHTML = 'You need aUSD. Click here to get some';\r\n                button.addEventListener('click', () => {\r\n                    let ausdFund = new FakeAUSDFund(this.moralis);\r\n                    ausdFund.showAUSDFakeFund(() => {\r\n                        this.renderButton();\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                button.innerHTML = 'You need aUSD. Click here for instructions';\r\n                button.addEventListener('click', () => {\r\n                    let ausdFund = new FakeAUSDFund(this.moralis);\r\n                    ausdFund.showAUSDFund(() => {\r\n                        this.renderButton();\r\n                    });\r\n                });\r\n            }\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    userHasEnoughQty(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let ausdService = new AUSDService(this.moralis);\r\n            if (this.sellTradeInput.symbol == 'aUSD') {\r\n                let balance = yield ausdService.getAUSDBalanceOf(this.authenticateService.getEthAddress());\r\n                if (balance.isGreaterThanOrEqualTo(this.sellTradeInput.quantity))\r\n                    return true;\r\n                button.innerHTML = \"You don't have enough aUSD. Click for more funding\";\r\n                button.addEventListener('click', () => {\r\n                    let networkInfo = NetworkInfo.getInstance();\r\n                    let ausdFund = new FakeAUSDFund(this.moralis);\r\n                    if (networkInfo.TestNetwork) {\r\n                        ausdFund.showAUSDFakeFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    }\r\n                    else {\r\n                        ausdFund.showAUSDFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                let securityTokenService = new SecurityTokenService(this.moralis);\r\n                let authenticateService = new AuthenticateService(this.moralis);\r\n                let ethAddress = authenticateService.getEthAddress();\r\n                let userQuantity = yield securityTokenService.getQuantityByAddress(this.sellTradeInput.symbol, ethAddress);\r\n                if (this.sellTradeInput.quantity <= userQuantity)\r\n                    return true;\r\n                button.innerHTML = \"You don't have enough \" + this.sellTradeInput.symbol;\r\n                button.classList.replace('disable', 'enable');\r\n            }\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    isMarketOpen(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(this.moralis);\r\n            let isMarketOpen = yield userService.isMarketOpenOrUserOffHours();\r\n            if (isMarketOpen)\r\n                return true;\r\n            button.innerHTML = 'Market is closed';\r\n            button.classList.replace('enabled', 'disabled');\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    removeClickEvent(button) {\r\n        let f = (event) => button.onclick ? (event) : undefined;\r\n        if (f) {\r\n            button.removeEventListener('click', f);\r\n        }\r\n    }\r\n    hasQuantityAndSymbol(button) {\r\n        if (this.sellTradeInput.quantity.eq(0)) {\r\n            button.innerHTML = 'Type in quantity';\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        }\r\n        if (this.buyTradeInput.name == '') {\r\n            button.innerHTML = 'Select stock to buy';\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    setProgressText(text, hash) {\r\n        let progressText = document.getElementById('progress-text');\r\n        if (progressText) {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            progressText.innerHTML = text + '<br /><a href=\"' + networkInfo.BlockExplorer + '/tx/' + hash + '\" target=\"_blank\" style=\"font-size:10px\">View</a>';\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeInput.html\n// Module\nvar TradeInput_code = \"<article class=\\\"{{tradeType}}Inputs tradeInputArticle\\\">\\r\\n    <div class=\\\"grid tradeInput\\\">\\r\\n        <div class=\\\"select_token\\\">\\r\\n            <a id=\\\"{{tradeType}}SelectStock\\\" href=\\\"#\\\" role=\\\"button\\\">\\r\\n                <img src=\\\"{{logo}}\\\"/>\\r\\n                {{symbol}}\\r\\n            </a>\\r\\n        </div>\\r\\n        <div class=\\\"trade_input\\\"><input autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" type=\\\"tel\\\" spellcheck=\\\"false\\\"\\r\\n                                        value=\\\"{{strQuantity}}\\\" placeholder=\\\"0.0\\\"/></div>\\r\\n        <div class=\\\"balance\\\">Balance : <abbr title=\\\"{{balance}}\\\" data-tooltip=\\\"{{balance}}\\\" class=\\\"balance_value\\\">{{abbrBalance}}</abbr>\\r\\n            <a href=\\\"\\\" class=\\\"balance_max\\\">Max</a></div>\\r\\n        <div class=\\\"price_per_share\\\"></div>\\r\\n    </div>\\r\\n    <progress class=\\\"progress d-none\\\" value=\\\"0\\\" max=\\\"1\\\"></progress>\\r\\n    <div class=\\\"exceeds_wallet_balance d-none\\\">Exceeds wallet balance</div>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const TradeInput = (TradeInput_code);\n;// CONCATENATED MODULE: ./src/ui/modals/SecuritiesListModal.ts\nvar SecuritiesListModal_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass SecuritiesListModal {\r\n    constructor() {\r\n        this.tbodyId = 'liminal_market_securities_list';\r\n        this.page = 0;\r\n        this.loadmore = true;\r\n        this.modal = new Modal();\r\n    }\r\n    showModal(onSelectSymbol) {\r\n        return SecuritiesListModal_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesList = new SecuritiesList();\r\n            let content = yield securitiesList.render();\r\n            let newInstance = this.modal.showModal('Select stock to buy', content, true);\r\n            //if (newInstance)\r\n            {\r\n                yield securitiesList.bindEvents(onSelectSymbol);\r\n            }\r\n        });\r\n    }\r\n    hideModal() {\r\n        this.modal.hideModal();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/TradeInfo.ts\nclass TradeInfo {\r\n    constructor(price, lastTrade) {\r\n        this.price = price;\r\n        this.lastTrade = lastTrade;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/cloud/HttpError.ts\n\r\n\r\nclass HttpError {\r\n    constructor(obj) {\r\n        this.method = obj.method;\r\n        this.url = obj.url;\r\n        this.body = obj.body;\r\n        this.serverError = obj.serverError;\r\n    }\r\n    handle() {\r\n        console.log(this);\r\n        ErrorInfo.report(new GeneralError('Error doing request. Server response was:' + this.serverError.data.message));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/CloudError.ts\n\r\n\r\n\r\nclass CloudError extends GeneralError {\r\n    constructor(e) {\r\n        super(e);\r\n        try {\r\n            let obj = JSON.parse(e.message);\r\n            if (obj.name) {\r\n                let errorHandler = CloudError.getActionInstance(obj.name, obj);\r\n                if (errorHandler) {\r\n                    errorHandler.handle();\r\n                    return;\r\n                }\r\n            }\r\n            ErrorInfo.error(obj);\r\n        }\r\n        catch (jsonError) {\r\n            ErrorInfo.error(e);\r\n        }\r\n    }\r\n    static getActionInstance(action, obj) {\r\n        let tmp = undefined;\r\n        for (let i = 0; i < CloudError.Errors.length; i++) {\r\n            if (CloudError.Errors[i].name === action) {\r\n                let errorHandler = CloudError.Errors[i];\r\n                return new errorHandler(obj);\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n}\r\nCloudError.Errors = [\r\n    HttpError\r\n];\r\n\n;// CONCATENATED MODULE: ./src/services/backend/StockPriceService.ts\nvar StockPriceService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass StockPriceService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getSymbolPrice(symbol, tradeType) {\r\n        return StockPriceService_awaiter(this, void 0, void 0, function* () {\r\n            const params = {\r\n                symbol: symbol\r\n            };\r\n            let result = yield this.moralis.Cloud.run(\"getSymbolPrice\", params)\r\n                .catch((e) => {\r\n                throw new CloudError(e);\r\n            });\r\n            let quote = result.quote;\r\n            let price = (tradeType == TradeType.Sell) ? quote.ap : quote.bp;\r\n            let tradeInfo = new TradeInfo(price, quote.t);\r\n            return tradeInfo;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/PricePerShare.html\n// Module\nvar PricePerShare_code = \"<abbr title=\\\"Last trade was {{lastTraded}}\\\" data-tooltip=\\\"Last trade was {{lastTraded}}\\\">{{text}}</abbr>\";\n// Exports\n/* harmony default export */ const PricePerShare = (PricePerShare_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/TradePanelInput.ts\nvar TradePanelInput_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TradePanelInput {\r\n    constructor(moralis, symbol, name, logo, address, tradeType) {\r\n        this.isDirty = false;\r\n        this.moralis = moralis;\r\n        this.symbol = symbol;\r\n        this.name = name;\r\n        this.logo = logo;\r\n        this.address = address;\r\n        this.tradeType = tradeType;\r\n        this.quantity = new bignumber(0);\r\n        this.strQuantity = '';\r\n        this.balance = new bignumber(0);\r\n        this.lastPrice = 0;\r\n        this.qtyPerDollar = 0;\r\n        this.lastTraded = '';\r\n        this.template = Handlebars.compile(TradeInput);\r\n        this.pricePerShareTemplate = Handlebars.compile(PricePerShare);\r\n    }\r\n    setOtherTradePanelInput(tradePanelInput) {\r\n        this.otherTradePanelInput = tradePanelInput;\r\n    }\r\n    renderToString() {\r\n        return this.template(this);\r\n    }\r\n    render(bindEvents = true) {\r\n        let element = document.querySelector('.' + this.tradeType + 'Inputs');\r\n        element.outerHTML = this.renderToString();\r\n        if (bindEvents) {\r\n            this.bindEvents();\r\n        }\r\n    }\r\n    bindEvents() {\r\n        this.bindQuantityListener();\r\n        this.bindSelectStockButton();\r\n        this.bindMaxLink();\r\n    }\r\n    setSymbol(symbol, name, logo) {\r\n        this.symbol = symbol;\r\n        this.name = name;\r\n        this.logo = logo;\r\n        this.isDirty = true;\r\n    }\r\n    bindSelectStockButton() {\r\n        let selectStock = document.querySelector('#' + this.tradeType + 'SelectStock');\r\n        if (!selectStock)\r\n            return;\r\n        selectStock.addEventListener('click', (evt) => TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let securityList = new SecuritiesListModal();\r\n            yield securityList.showModal((symbol, name, logo) => TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n                securityList.hideModal();\r\n                if (this.otherTradePanelInput && this.symbol == 'aUSD' && symbol != this.symbol) {\r\n                    this.otherTradePanelInput.setSymbol(this.symbol, this.name, this.logo);\r\n                }\r\n                this.symbol = symbol;\r\n                this.name = name;\r\n                this.logo = logo;\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                this.address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                this.render();\r\n                this.loadBalance().then();\r\n                yield this.loadLastTrade();\r\n                if (this.onUpdate)\r\n                    this.onUpdate();\r\n            }));\r\n        }));\r\n    }\r\n    bindQuantityListener() {\r\n        let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n        if (!qtyInput)\r\n            return;\r\n        let inputTimer;\r\n        qtyInput.addEventListener('keyup', (evt) => {\r\n            if (inputTimer)\r\n                clearTimeout(inputTimer);\r\n            inputTimer = setTimeout(() => {\r\n                let inputValue = evt.target.value;\r\n                this.setQuantity(inputValue);\r\n                this.loadProgressbar();\r\n                if (this.otherTradePanelInput)\r\n                    this.otherTradePanelInput.updateQuantity();\r\n                if (this.onUpdate)\r\n                    this.onUpdate();\r\n            }, 300);\r\n        });\r\n    }\r\n    bindMaxLink() {\r\n        let maxBalanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_max');\r\n        if (!maxBalanceDom)\r\n            return;\r\n        maxBalanceDom.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n            if (!qtyInput)\r\n                return;\r\n            qtyInput.value = this.balance.toFixed();\r\n            this.setQuantity(qtyInput.value);\r\n            this.loadProgressbar();\r\n            if (this.otherTradePanelInput)\r\n                this.otherTradePanelInput.updateQuantity();\r\n            if (this.onUpdate)\r\n                this.onUpdate();\r\n        });\r\n    }\r\n    loadBalance() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            this.balance = new bignumber(0);\r\n            let userService = new UserService(this.moralis);\r\n            let ethAddress = userService.getEthAddress();\r\n            let balanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_value');\r\n            if (!balanceDom)\r\n                return;\r\n            if (this.symbol === 'aUSD') {\r\n                if (ethAddress) {\r\n                    let aUsdService = new AUSDService(this.moralis);\r\n                    this.balance = yield aUsdService.getAUSDBalanceOf(ethAddress);\r\n                }\r\n                balanceDom.innerHTML = '$' + roundBigNumber(this.balance).toString();\r\n            }\r\n            else if (this.name !== '') {\r\n                this.balance = new bignumber(0);\r\n                if (ethAddress) {\r\n                    let securityTokenService = new SecurityTokenService(this.moralis);\r\n                    this.balance = yield securityTokenService.getQuantityByAddress(this.symbol, ethAddress);\r\n                }\r\n                balanceDom.innerHTML = roundBigNumberDecimal(this.balance, 6).toString();\r\n            }\r\n            balanceDom.dataset.tooltip = this.balance.toString();\r\n            balanceDom.title = this.balance.toString();\r\n            this.loadProgressbar();\r\n            this.toggleMaxBalanceLink();\r\n        });\r\n    }\r\n    loadLastTrade() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            if (this.symbol === 'aUSD') {\r\n                this.lastPrice = 1;\r\n                this.qtyPerDollar = 1;\r\n                return;\r\n            }\r\n            if (!this.otherTradePanelInput || this.name == '')\r\n                return;\r\n            let aUsdPricePerShare = document.querySelector('.' + this.otherTradePanelInput.tradeType + 'Inputs .price_per_share');\r\n            if (!aUsdPricePerShare)\r\n                return;\r\n            let pricePerShare = document.querySelector('.' + this.tradeType + 'Inputs .price_per_share');\r\n            if (!pricePerShare)\r\n                return;\r\n            aUsdPricePerShare.setAttribute('aria-busy', 'true');\r\n            pricePerShare.setAttribute('aria-busy', 'true');\r\n            let stockPriceService = new StockPriceService(this.moralis);\r\n            let tradeInfo = yield stockPriceService.getSymbolPrice(this.symbol, this.otherTradePanelInput.tradeType);\r\n            this.lastPrice = tradeInfo.price;\r\n            this.lastTraded = tradeInfo.lastTrade.toString();\r\n            this.qtyPerDollar = 1 / this.lastPrice;\r\n            let pricePerShareHtml = {\r\n                lastTraded: this.lastTraded,\r\n                text: '≈ $' + this.lastPrice + ' per share'\r\n            };\r\n            pricePerShare.innerHTML = this.pricePerShareTemplate(pricePerShareHtml);\r\n            let pricePerAUsdHtml = {\r\n                lastTraded: this.lastTraded,\r\n                text: '1 aUSD ≈ ' + roundNumberDecimal(this.qtyPerDollar, 6) + ' ' + this.symbol\r\n            };\r\n            aUsdPricePerShare.innerHTML = this.pricePerShareTemplate(pricePerAUsdHtml);\r\n            this.updateQuantity();\r\n            aUsdPricePerShare.removeAttribute('aria-busy');\r\n            pricePerShare.removeAttribute('aria-busy');\r\n        });\r\n    }\r\n    updateQuantity() {\r\n        if (!this.otherTradePanelInput)\r\n            return;\r\n        let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n        if (!qtyInput)\r\n            return;\r\n        if (this.symbol === 'aUSD') {\r\n            qtyInput.value = this.otherTradePanelInput.quantity.div(this.otherTradePanelInput.qtyPerDollar).toString();\r\n        }\r\n        else {\r\n            qtyInput.value = this.otherTradePanelInput.quantity.multipliedBy(this.qtyPerDollar).toString();\r\n        }\r\n        this.setQuantity(qtyInput.value);\r\n        this.loadProgressbar();\r\n    }\r\n    loadProgressbar() {\r\n        if (this.quantity.eq(0) || this.balance.eq(0) || this.tradeType == TradeType.Buy)\r\n            return;\r\n        let progressDom = document.querySelector('.' + this.tradeType + 'Inputs .progress');\r\n        if (!progressDom)\r\n            return;\r\n        let percentage = this.quantity.div(this.balance).toNumber();\r\n        progressDom.value = percentage;\r\n        progressDom.classList.remove('d-none');\r\n        let exceedsBalance = document.querySelector('.' + this.tradeType + 'Inputs .exceeds_wallet_balance');\r\n        if (percentage > 1) {\r\n            exceedsBalance.classList.remove('d-none');\r\n            progressDom.setAttribute('aria-invalid', 'true');\r\n        }\r\n        else {\r\n            exceedsBalance.classList.add('d-none');\r\n        }\r\n    }\r\n    static switchPanels(sellTradePanelInput, buyTradePanelInput) {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            let sellSymbol = sellTradePanelInput.symbol;\r\n            let sellName = sellTradePanelInput.name;\r\n            let sellLogo = sellTradePanelInput.logo;\r\n            let sellQuantity = sellTradePanelInput.quantity;\r\n            sellTradePanelInput.setSymbol(buyTradePanelInput.symbol, buyTradePanelInput.name, buyTradePanelInput.logo);\r\n            sellTradePanelInput.quantity = buyTradePanelInput.quantity;\r\n            buyTradePanelInput.setSymbol(sellSymbol, sellName, sellLogo);\r\n            buyTradePanelInput.quantity = sellQuantity;\r\n            yield sellTradePanelInput.updatePanel();\r\n            yield buyTradePanelInput.updatePanel();\r\n            return [sellTradePanelInput, buyTradePanelInput];\r\n        });\r\n    }\r\n    setQuantity(value) {\r\n        if (value == '' || value == '0')\r\n            return;\r\n        this.quantity = new bignumber(value);\r\n        this.strQuantity = value;\r\n    }\r\n    quantityFormatted() {\r\n        return (this.symbol === 'aUSD') ? '$' + this.quantity : this.quantity;\r\n    }\r\n    updatePanel() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            this.updateQuantity();\r\n            this.render(true);\r\n            yield this.loadBalance();\r\n            yield this.loadLastTrade();\r\n        });\r\n    }\r\n    toggleMaxBalanceLink() {\r\n        let maxBalanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_max');\r\n        if (!maxBalanceDom)\r\n            return;\r\n        if (this.balance.eq(0)) {\r\n            maxBalanceDom.classList.add('d-none');\r\n        }\r\n        else {\r\n            maxBalanceDom.classList.remove('d-none');\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeSwitch.html\n// Module\nvar TradeSwitch_code = \"<div class=\\\"grid tradeSwitch\\\">\\r\\n    <a title=\\\"Switch the trade\\\" href=\\\"\\\" class=\\\"switchBtn\\\" class=\\\"outline\\\"></a>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const tradepanel_TradeSwitch = (TradeSwitch_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/TradeSwitch.ts\nvar TradeSwitch_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass TradeSwitch {\r\n    constructor() {\r\n        this.template = undefined;\r\n        this.template = Handlebars.compile(tradepanel_TradeSwitch);\r\n    }\r\n    renderToString() {\r\n        return this.template();\r\n    }\r\n    render() {\r\n        let dom = document.querySelector('.tradeSwitch');\r\n        if (!dom)\r\n            return;\r\n        dom.outerHTML = this.renderToString();\r\n    }\r\n    bindEvents(sellTradePanelInput, buyTradePanelInput, executeTradeButton) {\r\n        let dom = document.querySelector('.switchBtn');\r\n        if (!dom)\r\n            return;\r\n        dom.addEventListener('click', (evt) => TradeSwitch_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            [sellTradePanelInput, buyTradePanelInput] = yield TradePanelInput.switchPanels(sellTradePanelInput, buyTradePanelInput);\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/TradePanel.ts\nvar TradePanel_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass TradePanel {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.quantity = 0;\r\n    }\r\n    render(elementId, symbol, name, logo, address) {\r\n        return TradePanel_awaiter(this, void 0, void 0, function* () {\r\n            let element = document.getElementById(elementId);\r\n            if (!element)\r\n                return;\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let sellTradeInput = new TradePanelInput(this.moralis, \"aUSD\", \"aUSD at Broker\", \"/img/ausd.png\", contractInfo.AUSD_ADDRESS, TradeType.Sell);\r\n            let buyTradeInput;\r\n            if (!symbol) {\r\n                buyTradeInput = new TradePanelInput(this.moralis, \"Select stock\", \"\", \"\", \"\", TradeType.Buy);\r\n            }\r\n            else {\r\n                buyTradeInput = new TradePanelInput(this.moralis, symbol, name, logo, address, TradeType.Buy);\r\n            }\r\n            sellTradeInput.setOtherTradePanelInput(buyTradeInput);\r\n            buyTradeInput.setOtherTradePanelInput(sellTradeInput);\r\n            let tradeSwitch = new TradeSwitch();\r\n            let sellInput = sellTradeInput.renderToString();\r\n            let buyInput = buyTradeInput.renderToString();\r\n            let switchHtml = tradeSwitch.renderToString();\r\n            element.innerHTML = sellInput + switchHtml + buyInput;\r\n            yield sellTradeInput.loadBalance();\r\n            yield buyTradeInput.loadBalance();\r\n            if (symbol) {\r\n                yield buyTradeInput.loadLastTrade();\r\n            }\r\n            sellTradeInput.bindEvents();\r\n            buyTradeInput.bindEvents();\r\n            let executeTradeButton = new ExecuteTradeButton(this.moralis, sellTradeInput, buyTradeInput);\r\n            yield executeTradeButton.renderButton();\r\n            tradeSwitch.bindEvents(sellTradeInput, buyTradeInput, executeTradeButton);\r\n            sellTradeInput.onUpdate = () => {\r\n                if (buyTradeInput.isDirty)\r\n                    buyTradeInput.updatePanel();\r\n                executeTradeButton.renderButton();\r\n            };\r\n            buyTradeInput.onUpdate = () => {\r\n                if (sellTradeInput.isDirty)\r\n                    sellTradeInput.updatePanel();\r\n                executeTradeButton.renderButton();\r\n            };\r\n        });\r\n    }\r\n    formatBuyPanel(symbol, name, logo, tradeType, contractAddress) {\r\n        document.getElementById('liminal_market_select_symbol').innerHTML = symbol;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/trade.html\n// Module\nvar trade_code = \"<div id=\\\"tradingPanel\\\">\\r\\n    <a href=\\\"#use_wallet_for_orders\\\" id=\\\"use_wallet_for_orders_link\\\" class=\\\"not_visible\\\">Trade in your wallet instead of\\r\\n        here</a>\\r\\n    <article id=\\\"liminal_market_trade_panel\\\"></article>\\r\\n    <div id=\\\"executing-trade-progress\\\" class=\\\"d-none\\\">\\r\\n        <div id=\\\"progress-text\\\"></div>\\r\\n        <progress></progress>\\r\\n    </div>\\r\\n    <button id=\\\"liminal_market_execute_trade\\\"></button>\\r\\n\\r\\n    <article id=\\\"use_wallet_for_orders\\\">\\r\\n\\r\\n        <h3>How to buy in wallet</h3>\\r\\n        <ul>\\r\\n            <li>If you haven't added aUSD to your wallet, now is the time - <small><a href=\\\"\\\" id=\\\"addAUSDToWallet\\\">Click\\r\\n                here to add aUSD to wallet</a></small></li>\\r\\n            <li><a href=\\\"\\\" class=\\\"findSymbol\\\">Find symbol</a> you want to buy & click \\\"Get address\\\"</li>\\r\\n            <li>Go to your wallet and find the aUSD token, click \\\"Send\\\"</li>\\r\\n            <li>Paste in the address you just copied for the Receiver.\\r\\n                <ul>\\r\\n                    <li><em>Note: If you can, save the address to your contact list for easy access next time</em></li>\\r\\n                </ul>\\r\\n            </li>\\r\\n\\r\\n            <li>Type in the amount & click Confirm</li>\\r\\n            <li>You have now bought the shares, don't forget to <a href=\\\"\\\" class=\\\"findSymbol\\\">add the token to wallet</a>. &#127881;</li>\\r\\n        </ul>\\r\\n        <div style=\\\"text-align: center;\\\">\\r\\n            <!--\\r\\n                        <iframe width=\\\"380\\\" height=\\\"500\\\" src=\\\"https://www.youtube.com/embed/m1iNotgaic4?autoplay=1&cc_load_policy=1&playlist=m1iNotgaic4&loop=1\\\" title=\\\"YouTube video player\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\\" allowfullscreen></iframe>\\r\\n            -->\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <h3>Sell your securities</h3>\\r\\n\\r\\n        <ul>\\r\\n            <li>Find the token you want so sell in you wallet and click Send</li>\\r\\n            <li>Put the in the aUSD address<br/><input id=\\\"aUsdAddress\\\" value=\\\"{{AUSDAddress}}\\\">\\r\\n                <ul>\\r\\n                    <li><em>Note: If you can, save the address to your contact list for easy access next time</em></li>\\r\\n                </ul>\\r\\n            </li>\\r\\n            <li>Type in the quantity of shares you want to sell & click Confirm</li>\\r\\n            <li>You have now sold the shares &#127881;</li>\\r\\n        </ul>\\r\\n\\r\\n    </article>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const trade = (trade_code);\n;// CONCATENATED MODULE: ./src/html/modal/CopyTokenAddressToAddToWallet.html\n// Module\nvar CopyTokenAddressToAddToWallet_code = \"\\r\\n\\r\\n    You can copy the address of {{symbol}} and import it into your wallet\\r\\n    <input id=\\\"tokenAddress\\\" value=\\\"{{tokenAddress}}\\\" />\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const CopyTokenAddressToAddToWallet = (CopyTokenAddressToAddToWallet_code);\n;// CONCATENATED MODULE: ./src/ui/pages/TradePage.ts\nvar TradePage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TradePage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    load(symbol, name, logo, address) {\r\n        return TradePage_awaiter(this, void 0, void 0, function* () {\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let template = Handlebars.compile(trade);\r\n            mainContainer.innerHTML = template({ AUSDAddress: contractInfo.AUSD_ADDRESS });\r\n            let tradePanel = new TradePanel(this.moralis);\r\n            yield tradePanel.render('liminal_market_trade_panel');\r\n            if (symbol) {\r\n                yield this.selectSymbol(symbol, name, logo, address);\r\n            }\r\n            let user = new UserService(this.moralis);\r\n            let ethAddress = user.getEthAddress();\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let ausdAmount = new bignumber(0);\r\n            if (ethAddress) {\r\n                ausdAmount = yield aUSDService.getAUSDBalanceOf(ethAddress);\r\n            }\r\n            let userWallet = document.getElementById('use_wallet_for_orders');\r\n            let userWalletLink = document.getElementById('use_wallet_for_orders_link');\r\n            if (ausdAmount.eq(0)) {\r\n                userWallet === null || userWallet === void 0 ? void 0 : userWallet.classList.add('hidden');\r\n                userWalletLink === null || userWalletLink === void 0 ? void 0 : userWalletLink.classList.add('not_visible');\r\n            }\r\n            else {\r\n                userWallet === null || userWallet === void 0 ? void 0 : userWallet.classList.remove('hidden');\r\n                userWalletLink === null || userWalletLink === void 0 ? void 0 : userWalletLink.classList.remove('not_visible');\r\n            }\r\n            let findSymbols = document.querySelectorAll('.findSymbol');\r\n            findSymbols === null || findSymbols === void 0 ? void 0 : findSymbols.forEach(findSymbol => {\r\n                findSymbol.addEventListener('click', (evt) => {\r\n                    evt.preventDefault();\r\n                    let securitiesModal = new SecuritiesListModal();\r\n                    securitiesModal.showModal(() => {\r\n                        securitiesModal.hideModal();\r\n                    });\r\n                });\r\n            });\r\n            let addAUSDToWallet = document.getElementById('addAUSDToWallet');\r\n            addAUSDToWallet === null || addAUSDToWallet === void 0 ? void 0 : addAUSDToWallet.addEventListener('click', (evt) => {\r\n                evt.preventDefault();\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                walletHelper.addTokenToWallet(contractInfo.AUSD_ADDRESS, 'aUSD', () => {\r\n                    let modal = new Modal();\r\n                    let template = Handlebars.compile(CopyTokenAddressToAddToWallet);\r\n                    let content = template({ symbol: 'aUSD', tokenAddress: contractInfo.AUSD_ADDRESS });\r\n                    modal.showModal('Add aUSD to wallet', content);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    ;\r\n    selectSymbol(symbol, name, logo, address) {\r\n        return TradePage_awaiter(this, void 0, void 0, function* () {\r\n            let tradePanel = new TradePanel(this.moralis);\r\n            yield tradePanel.render('liminal_market_trade_panel', symbol, name, logo, address);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/stockspage.html\n// Module\nvar stockspage_code = \"\\r\\n<article id=\\\"stockList\\\">\\r\\n <div id=\\\"ua\\\"></div>\\r\\n <div id=\\\"list_of_securities\\\">{{{securities}}}</div>\\r\\n\\r\\n</article>\";\n// Exports\n/* harmony default export */ const stockspage = (stockspage_code);\n;// CONCATENATED MODULE: ./src/ui/pages/StocksPage.ts\nvar StocksPage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass StocksPage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    load() {\r\n        return StocksPage_awaiter(this, void 0, void 0, function* () {\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let securitiesList = new SecuritiesList();\r\n            let securities = yield securitiesList.render();\r\n            let template = Handlebars.compile(stockspage);\r\n            mainContainer.innerHTML = template({ securities: securities });\r\n            yield securitiesList.loadMore();\r\n            yield securitiesList.bindEvents((symbol, name, logo) => StocksPage_awaiter(this, void 0, void 0, function* () {\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                let tradePage = new TradePage(this.moralis);\r\n                window.scrollTo(0, 0);\r\n                history.pushState(null, 'Buy stocks', '#/trade');\r\n                yield tradePage.load(symbol, name, logo, address);\r\n            }));\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/documents.html\n// Module\nvar documents_code = \"<h3>Documents</h3>\\r\\n<p>These are your documents for your trades, generated by the broker. These documents are trade confirmation & monthly statements.\\r\\n\\tThey are generated at the end of the day, between 06:30PM-07:30PM EST.\\r\\n</p>\\r\\n{{#if result}}\\r\\n<table class=\\\"table table-hover\\\">\\r\\n\\t<thead>\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<th>Type</th>\\r\\n\\t\\t\\t<th>Date</th>\\r\\n\\t\\t\\t<th>Download</th>\\r\\n\\t\\t</tr>\\r\\n\\t</thead>\\r\\n\\t<tbody>\\r\\n\\t\\t{{#each result}}\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td title=\\\"{{id}}\\\">{{type}}</a></td>\\r\\n\\t\\t\\t<td>{{date}}</td>\\r\\n\\t\\t\\t<td><a href=\\\"\\\" class=\\\"downloadDoc\\\" data-docid=\\\"{{id}}\\\">Download</a></td>\\r\\n\\t\\t</tr>\\r\\n\\t\\t{{/each}}\\r\\n\\t</tbody>\\r\\n</table>\\r\\n{{/if}}\";\n// Exports\n/* harmony default export */ const elements_documents = (documents_code);\n;// CONCATENATED MODULE: ./src/services/backend/DocumentService.ts\nvar DocumentService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass DocumentService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getDocuments() {\r\n        return DocumentService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('documents');\r\n        });\r\n    }\r\n    getDocument(documentId) {\r\n        return DocumentService_awaiter(this, void 0, void 0, function* () {\r\n            const params = {\r\n                documentId: documentId\r\n            };\r\n            return yield this.moralis.Cloud.run(\"download\", params);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/CreateToken.html\n// Module\nvar CreateToken_code = \"Token for {{symbol}} does not exist. You can click the button below to create the token. This will cost a bit of gas.\\r\\n<br /><br />\\r\\nAfter the token has been created we will try to add it to your wallet.\\r\\n<br /><br />\\r\\n<button id=\\\"createTokenBtn\\\">Create token</button>\\r\\n\\r\\n<div class=\\\"d-none\\\" id=\\\"copyAddressInfo\\\">\\r\\n    You can copy the address of the token and import it into your wallet\\r\\n    <input id=\\\"tokenAddress\\\" />\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const modal_CreateToken = (CreateToken_code);\n;// CONCATENATED MODULE: ./src/ui/modals/CreateToken.ts\nvar CreateToken_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreateToken {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    show(symbol) {\r\n        let modal = new Modal();\r\n        let template = Handlebars.compile(modal_CreateToken);\r\n        modal.showModal(\"Token \" + symbol + \" doesn't exist\", template({ symbol: symbol }));\r\n        let btn = document.getElementById('createTokenBtn');\r\n        if (!btn)\r\n            return;\r\n        btn.addEventListener('click', () => CreateToken_awaiter(this, void 0, void 0, function* () {\r\n            LoadingHelper.setLoading(btn);\r\n            let liminalMarketService = new LiminalMarketService(this.moralis);\r\n            let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (address === AddressZero) {\r\n                let result = yield liminalMarketService.createToken(symbol, () => {\r\n                    btn.innerHTML = 'Creating token. Give it few seconds';\r\n                });\r\n                if (result instanceof BlockchainError && result.code == BlockchainError.UserCancelled) {\r\n                    LoadingHelper.removeLoading();\r\n                    return;\r\n                }\r\n                address = result;\r\n            }\r\n            LoadingHelper.removeLoading();\r\n            btn.innerHTML = 'Add token to wallet';\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            yield walletHelper.addTokenToWallet(address, symbol, () => {\r\n                let tokenAddressInput = document.getElementById('tokenAddress');\r\n                if (!tokenAddressInput)\r\n                    return;\r\n                tokenAddressInput.innerHTML = address;\r\n                document.getElementById('copyAddressInfo').classList.remove('d-none');\r\n            });\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/positions.html\n// Module\nvar positions_code = \"<article class=\\\"loaded-content2\\\">\\r\\n\\t<h3>Positions<!-- <a href=\\\"\\\" role=\\\"button\\\" id=\\\"syncWallet\\\">Sync wallet</a>--></h3>\\r\\n\\t<p>These are your positions registered with the broker. These would be registered to you on the stock exchange if we weren't running on\\r\\n\\t\\ta sandbox at the broker. Want to know when we open for live trading? <a href=\\\"https://liminal.market\\\" target=\\\"_blank\\\">Register your email with us</a>\\r\\n\\r\\n\\t</p>\\r\\n\\t<figure>\\r\\n\\t<table>\\r\\n\\t\\t<thead>\\r\\n\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t<th></th>\\r\\n\\t\\t\\t\\t<th>Symbol</th>\\r\\n\\t\\t\\t\\t<th>Current price</th>\\r\\n\\t\\t\\t\\t<th>Avg. entry value</th>\\r\\n\\t\\t\\t\\t<th>Quantity</th>\\r\\n\\t\\t\\t\\t<th>Market value</th>\\r\\n\\t\\t\\t\\t<th>Unrealize PL</th>\\r\\n\\t\\t\\t\\t<th>Trade</th>\\r\\n\\t\\t\\t\\t<th>Add to wallet</th>\\r\\n\\t\\t\\t</tr>\\r\\n\\t\\t</thead>\\r\\n\\t\\t<tbody>\\r\\n\\t\\t\\t{{#if result}}\\r\\n\\t\\t\\t{{#each result}}\\r\\n\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t<td class=\\\"symbol_logo\\\"><img id=\\\"symbol_logo_{{symbol}}\\\" src=\\\"/img/logos/default_logo.png\\\" /></td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"https://strike.market/stocks/{{symbol}}\\\" target=\\\"_blank\\\">{{symbol}}</a></td>\\r\\n\\t\\t\\t\\t<td>{{current_price}}</td>\\r\\n\\t\\t\\t\\t<td>{{round2 avg_entry_price}}</td>\\r\\n\\t\\t\\t\\t<td>{{round2 qty}}</td>\\r\\n\\t\\t\\t\\t<td>${{round market_value}}</td>\\r\\n\\t\\t\\t\\t<td class=\\\"{{classColor unrealized_pl}}\\\">${{round unrealized_pl}} ({{perc unrealized_plpc}})</td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"#\\\" class=\\\"tradeSecurity\\\" data-symbol=\\\"{{symbol}}\\\" data-qty={{qty}}>Trade</a></td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"\\\" class=\\\"addToWallet\\\" data-symbol=\\\"{{symbol}}\\\">Add</a></td>\\r\\n\\t\\t\\t</tr>\\r\\n\\t\\t\\t{{/each}}\\r\\n\\t\\t\\t{{/if}}\\r\\n\\t\\t</tbody>\\r\\n\\t</table>\\r\\n\\t</figure>\\r\\n\\t<div id=\\\"documents\\\"></div>\\r\\n\\r\\n</article>\";\n// Exports\n/* harmony default export */ const pages_positions = (positions_code);\n;// CONCATENATED MODULE: ./src/html/modal/SyncStock.html\n// Module\nvar SyncStock_code = \"<article>\\r\\n    If your wallet is out of sync with your position you can sync it here. This happens when you move from\\r\\n    one chain to another. If you like to switch to new chain click the button below.\\r\\n    <br/><br/>\\r\\n    You will be asked to confirm a transaction of {{totalCost}} {{NativeSymbol}} (${{priceInNativeToken}}).\\r\\n    Each stock costs {{costPerShare}} {{NativeSymbol}} to sync. You have total of {{shareCount}} share.\\r\\n    <br/><br/>\\r\\n    <button id=\\\"syncAllPositions\\\">Sync stock to my wallet</button>\\r\\n</article>\";\n// Exports\n/* harmony default export */ const SyncStock = (SyncStock_code);\n;// CONCATENATED MODULE: ./src/services/backend/PositionsService.ts\nvar PositionsService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass PositionsService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getPositions() {\r\n        return PositionsService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('positions');\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/pages/PositionsPage.ts\nvar PositionsPage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PositionsPage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.documentService = new DocumentService(this.moralis);\r\n    }\r\n    load() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let positionService = new PositionsService(this.moralis);\r\n            let positions = yield positionService.getPositions();\r\n            HandlebarHelpers.registerHelpers();\r\n            let template = Handlebars.compile(pages_positions);\r\n            mainContainer.innerHTML = template({ result: positions });\r\n            let syncWalletBtn = document.getElementById('syncWallet');\r\n            if (syncWalletBtn) {\r\n                syncWalletBtn.addEventListener('click', (evt) => {\r\n                    evt.preventDefault();\r\n                    this.syncAllTokens();\r\n                });\r\n            }\r\n            let symbols = new Array();\r\n            const sellLinks = document.getElementsByClassName('tradeSecurity');\r\n            for (let i = 0; i < sellLinks.length; i++) {\r\n                let element = sellLinks[i];\r\n                let symbol = element.dataset.symbol;\r\n                if (!symbol)\r\n                    continue;\r\n                symbols.push(symbol);\r\n                sellLinks[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    let element = evt.target;\r\n                    let symbol = element.dataset.symbol;\r\n                    if (!symbol)\r\n                        return;\r\n                    let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                    let contractAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                    let securitiesService = yield SecuritiesService.getInstance();\r\n                    let security = yield securitiesService.getSecurityBySymbol(symbol);\r\n                    let tradePage = new TradePage(this.moralis);\r\n                    yield tradePage.load(symbol, security.Name, security.LogoPath + security.Logo, contractAddress);\r\n                    window.scrollTo(0, 0);\r\n                }));\r\n            }\r\n            const addToWalletLinks = document.getElementsByClassName('addToWallet');\r\n            for (let i = 0; i < addToWalletLinks.length; i++) {\r\n                addToWalletLinks[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    console.log(evt.target);\r\n                    let element = addToWalletLinks[i];\r\n                    let symbol = element.dataset.symbol;\r\n                    let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                    let contractAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                    if (contractAddress.toString() == AddressZero) {\r\n                        let createToken = new CreateToken(this.moralis);\r\n                        createToken.show(symbol);\r\n                        return;\r\n                    }\r\n                    let walletHelper = new WalletHelper(this.moralis);\r\n                    yield walletHelper.addTokenToWallet(contractAddress.toString(), symbol, () => {\r\n                        let modal = new Modal();\r\n                        let template = Handlebars.compile(AddressInfo);\r\n                        let content = template({ symbol: symbol, address: contractAddress });\r\n                        modal.showModal('Import token to wallet', content);\r\n                    });\r\n                }));\r\n            }\r\n            yield this.renderSymbolLogos(symbols);\r\n            let docTemplate = Handlebars.compile(elements_documents);\r\n            let documents = yield this.documentService.getDocuments();\r\n            let documentDom = document.getElementById('documents');\r\n            if (!documentDom)\r\n                return;\r\n            documentDom.innerHTML = docTemplate({ result: documents });\r\n            yield this.initDocuments();\r\n        });\r\n    }\r\n    renderSymbolLogos(symbols) {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            const assets = yield securitiesService.getSecurities();\r\n            let asset;\r\n            for (let i = 0; i < symbols.length; i++) {\r\n                asset = assets.get(symbols[i]);\r\n                if (asset) {\r\n                    document.getElementById('symbol_logo_' + symbols[i]).setAttribute('src', '/img/logos/' + asset.Logo);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    syncAllTokens() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let costOfSync = yield this.moralis.Cloud.run('costOfSync');\r\n            let template = Handlebars.compile(SyncStock);\r\n            let content = template({\r\n                shareCount: costOfSync.shareCount,\r\n                costPerShare: Moralis.Units.FromWei(costOfSync.costPerShare, 18),\r\n                priceInNativeToken: costOfSync.priceInNativeToken,\r\n                totalCost: Moralis.Units.FromWei(costOfSync.cost, 18),\r\n                NativeSymbol: networkInfo.NativeSymbol\r\n            });\r\n            let modal = new Modal();\r\n            modal.showModal('Sync all stock to wallet', content);\r\n            let syncAllPositions = document.getElementById('syncAllPositions');\r\n            if (syncAllPositions) {\r\n                syncAllPositions.addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    initDocuments() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            const links = document.getElementsByClassName('downloadDoc');\r\n            const user = this.moralis.User.current();\r\n            if (!user)\r\n                return;\r\n            for (let i = 0; i < links.length; i++) {\r\n                links[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    let documentId = links[i].dataset.docid;\r\n                    if (!documentId)\r\n                        return;\r\n                    let locationUrl = yield this.documentService.getDocument(documentId);\r\n                    if (locationUrl == '') {\r\n                        alert('Could not find document. Please contact us if you should have gotten a document');\r\n                        return;\r\n                    }\r\n                    window.location = locationUrl;\r\n                }));\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/routing/Routing.ts\nvar Routing_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass Routing {\r\n    constructor(moralis) {\r\n        this.settings = {\r\n            show_trade: this.showTrade,\r\n            show_positions: this.showPositions,\r\n            show_stocks: this.showStocks,\r\n            show_kyc_action_required: this.showKycActionRequired,\r\n            show_funding: this.showFunding,\r\n            show_kyc: this.showKyc\r\n        };\r\n        this.moralis = moralis;\r\n    }\r\n    loadRoutes() {\r\n        var _a;\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            let path = window.location.hash.replace('#', '').replace('/', '');\r\n            if (window.location.search !== '')\r\n                path = window.location.search.replace('?', '');\r\n            if (path === '')\r\n                path = 'stocks';\r\n            this.attachNavLinks();\r\n            let fn = (_a = this.settings['show_' + path]) !== null && _a !== void 0 ? _a : this.settings['show_stocks'];\r\n            if (typeof fn === 'function') {\r\n                yield fn(this);\r\n            }\r\n        });\r\n    }\r\n    showKycActionRequired(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/kyc_action_required');\r\n            let button = document.getElementById('liminal_market_execute_trade');\r\n            button === null || button === void 0 ? void 0 : button.dispatchEvent(new MouseEvent('click'));\r\n        });\r\n    }\r\n    showKyc(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/kyc');\r\n            let button = document.getElementById('liminal_market_execute_trade');\r\n            button === null || button === void 0 ? void 0 : button.dispatchEvent(new MouseEvent('click'));\r\n        });\r\n    }\r\n    showFunding(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/funding');\r\n            let aUSDFundingModal = new FakeAUSDFund(this.moralis);\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            if (networkInfo.TestNetwork) {\r\n                aUSDFundingModal.showAUSDFakeFund(() => {\r\n                });\r\n            }\r\n            else {\r\n                aUSDFundingModal.showAUSDFund(() => {\r\n                });\r\n            }\r\n        });\r\n    }\r\n    showTrade(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/trade');\r\n        });\r\n    }\r\n    showStocks(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new StocksPage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Stocks', '#/stocks');\r\n        });\r\n    }\r\n    showPositions(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new PositionsPage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Positions', '#/positions');\r\n        });\r\n    }\r\n    attachNavLinks() {\r\n        let router = this;\r\n        let tradeNavLinks = document.querySelectorAll('.tradeNavLink');\r\n        tradeNavLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showTrade(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n        let investLinks = document.querySelectorAll('.investNavLink');\r\n        investLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showStocks(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n        let positionLinks = document.querySelectorAll('.positionNavLink');\r\n        positionLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showPositions(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/Header.ts\nclass Header {\r\n    static loadImage() {\r\n        let header = document.querySelector('body > header');\r\n        if (!header)\r\n            return;\r\n        let random = Math.floor(Math.random() * 10);\r\n        header.style.backgroundImage = \"url(/img/header/\" + random + \".jpg)\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/main.ts\nvar main_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst start = function () {\r\n    return main_awaiter(this, void 0, void 0, function* () {\r\n        let slowServerTimer = setTimeout(slowServer, 5 * 1000);\r\n        let connectionService = new ConnectionService();\r\n        connectionService.start().then(function () {\r\n            return main_awaiter(this, void 0, void 0, function* () {\r\n                clearTimeout(slowServerTimer);\r\n                let loadingMessage = document.querySelector('.loading');\r\n                let userService = new UserService(Moralis);\r\n                let loggedInUser = yield userService.isLoggedIn(loadingMessage);\r\n                console.log('loggedInUser', loggedInUser);\r\n                if (loggedInUser) {\r\n                    let userInfo = new UserInfo(Moralis, loggedInUser.providerInfo, loggedInUser);\r\n                    yield userInfo.render('user_header_info');\r\n                }\r\n                else {\r\n                    //show Connect Wallet button\r\n                    let connectWallet = new ConnectWallet(Moralis);\r\n                    connectWallet.renderButton('user_header_info');\r\n                }\r\n                let routing = new Routing(Moralis);\r\n                yield routing.loadRoutes();\r\n            });\r\n        }).catch((reason) => {\r\n            ErrorInfo.report(new GeneralError(\"Server is down. Please try again later.<br /><br />\" + reason));\r\n        });\r\n        document.body.addEventListener('click', (evt) => {\r\n            let userInfoDropdown = document.getElementById('userInfoDropdown');\r\n            if (userInfoDropdown && !userInfoDropdown.classList.contains('d-none')) {\r\n                userInfoDropdown.classList.add('d-none');\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n            }\r\n        });\r\n        let walletHelper = new WalletHelper(Moralis);\r\n        if (walletHelper.isWebview(window.navigator.userAgent)) {\r\n            //console = ErrorInfo as any;\r\n        }\r\n        function slowServer() {\r\n            let loading = document.querySelector('.loading');\r\n            if (!loading) {\r\n                clearTimeout(slowServerTimer);\r\n                return;\r\n            }\r\n            loading.innerHTML = 'Hmmm.... our servers are slow and might be down. Give it few minutes.';\r\n        }\r\n        Header.loadImage();\r\n    });\r\n};\r\nstart().then();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsU0FBUztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLEtBQUs7QUFDN0MsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixLQUFLO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLEVBQUU7QUFDL0MsMENBQTBDLEdBQUcsU0FBUyxFQUFFO0FBQ3hEO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsS0FBSztBQUN2QjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixLQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE1BQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFD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LE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzFFLE1BQU0sRUFBRSxNQUFNO1FBQ2QsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDMUUsTUFBTSxFQUFFLFFBQVE7UUFDaEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDNUUsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLG1DQUFtQyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUM3RCxNQUFNLEVBQUUsVUFBVTtRQUNsQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUMxRSxNQUFNLEVBQUUsU0FBUztRQUNqQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNyRSxNQUFNLEVBQUUsV0FBVztRQUNuQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZGLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzFFLE1BQU0sRUFBRSxPQUFPO1FBQ2YsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDckUsTUFBTSxFQUFFLFFBQVE7UUFDaEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDekUsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDcEMsTUFBTSxFQUFFLDZDQUE2QztRQUNyRCxNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLHlCQUF5QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3RGLE1BQU0sRUFBRSxZQUFZO1FBQ3BCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzVELE1BQU0sRUFBRSxRQUFRO1FBQ2hCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZFLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzNFLE1BQU0sRUFBRSxXQUFXO1FBQ25CLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3hFLE1BQU0sRUFBRSxZQUFZO1FBQ3BCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZFLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2xFLE1BQU0sRUFBRSxrQkFBa0I7UUFDMUIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDN0UsTUFBTSxF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UUFDTCxDQUFDLENBQUM7UUFFRixJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3QyxJQUFJLFlBQVksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFDdEQ7WUFDSSw2QkFBNkI7U0FDaEM7UUFHRCxTQUFTLFVBQVU7WUFDZixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2pELElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1YsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM5QixPQUFPO2FBQ1Y7WUFFRCxPQUFPLENBQUMsU0FBUyxHQUFHLHVFQUF1RTtRQUUvRixDQUFDO1FBQ0QsZ0JBQWdCLEVBQUUsQ0FBQztJQUV2QixDQUFDO0NBQUE7QUFFRCxLQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL25ldHdvcmtzL05ldHdvcmsudHM/YmNkYyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9uZXR3b3Jrcy9sb2NhbGhvc3QtbmV0d29yay50cz85M2NiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL25ldHdvcmtzL211bWJhaS1uZXR3b3JrLnRzPzUyN2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Db29raWVIZWxwZXIudHM/ZDhkNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9uZXR3b3Jrcy9OZXR3b3JrSW5mby50cz9hMWM2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvQ29ubmVjdGlvblNlcnZpY2UudHM/NDMwMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9icm9rZXIvTWFya2V0U2VydmljZS50cz9iNjE4Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2Vycm9ycy9HZW5lcmFsRXJyb3IudHM/MWQ2NyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL1dyb25nTmV0d29yay5odG1sPzFiODEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9Nb2RhbC5odG1sPzMwZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL01vZGFsLnRzP2I5ZTYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYnJva2VyL1NlY3VyaXR5LnRzPzAxMzEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYnJva2VyL1NlY3VyaXRpZXNTZXJ2aWNlLnRzPzE4YzIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Mb2FkaW5nSGVscGVyLnRzPzY1MmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvSW5mb0JhclR5cGUudHM/ODgwNyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9JbmZvQmFyLnRzPzYxMzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9XYWxsZXRNaXNzaW5nLmh0bWw/ZmYyNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvUHJlZGVmaW5lZEVycm9ySGFuZGxlcnMudHM/N2Q4ZiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvRXJyb3JJbmZvLnRzPzM3ZmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9XYWxsZXRIZWxwZXIudHM/YTMxNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvU3dpdGNoTmV0d29ya01vZGFsLnRzP2MzZDUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYmFja2VuZC9BdXRoZW50aWNhdGVTZXJ2aWNlLnRzP2UyNTAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvZW51bXMvV2FsbGV0VHlwZS50cz81OWNhIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3dhbGxldC9Qcm92aWRlckluZm8udHM/NDg0YyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlLnRzP2JiYWEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvY29udHJhY3RzL2xvY2FsaG9zdC1jb250cmFjdC1hZGRyZXNzZXMudHM/M2M1MiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvQ29udHJhY3RBZGRyZXNzZXMudHM/MTRjZSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvcmlua2VieS1jb250cmFjdC1hZGRyZXNzZXMudHM/ZTg2MSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvbXVtYmFpLWNvbnRyYWN0LWFkZHJlc3Nlcy50cz9iMDc5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2NvbnRyYWN0cy9mdWppLWNvbnRyYWN0LWFkZHJlc3Nlcy50cz9lNTY2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2NvbnRyYWN0cy9Db250cmFjdEluZm8udHM/YjIwYSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL01hcmtldElzQ2xvc2VkLmh0bWw/YzBiNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0RhdGVIZWxwZXIudHM/MzQ0ZiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvQmxvY2tjaGFpbkVycm9yLnRzP2ZkNWEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYmxvY2tjaGFpbi9CbG9ja2NoYWluU2VydmljZS50cz8yZDQzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2UudHM/N2I4MiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL1NlY3VyaXRpZXNMaXN0Lmh0bWw/N2ZkMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL1NlY3VyaXRpZXMuaHRtbD84ZTg1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3V0aWwvQ29weUhlbHBlci50cz8yY2IzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvQWRkcmVzc0luZm8uaHRtbD9mYjc1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvQ29udHJhY3RBZGRyZXNzTm90Rm91bmQuaHRtbD9iN2U0Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vbm9kZV9tb2R1bGVzL2JpZ251bWJlci5qcy9iaWdudW1iZXIubWpzP2Y4Y2MiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9IZWxwZXIudHM/ZGFlNyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL0FkZFRvV2FsbGV0Lmh0bWw/NTZkNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9TZWN1cml0aWVzTGlzdC50cz9mNjEyIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvVXNlckluZm8uaHRtbD8zNTA5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0VkaXROYW1lLmh0bWw/NDlhMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL1N0cmluZ0hlbHBlci50cz80YjE1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljRWRpdE5hbWVGb3JtLnRzPzhhYjciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljRWRpdENvbnRhY3RGb3JtLmh0bWw/NDEzMCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0Zvcm1IZWxwZXIudHM/YTE3MSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0VkaXRDb250YWN0Rm9ybS50cz9kNzQzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0VkaXRUcnVzdGVkQ29udGFjdC5odG1sPzZjNmIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Db3VudHJ5SGVscGVyLnRzPzE4YjYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNFZGl0VHJ1c3RlZENvbnRhY3QudHM/OTQ5OSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlLnRzP2QwYzQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9mdW5kaW5nL0Zha2VGdW5kaW5nLmh0bWw/OTNlNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9icm9rZXIvRnVuZGluZ1NlcnZpY2UudHM/ZTY5YyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0Z1bmRpbmcvU2VsZWN0RnVuZGluZ1R5cGUuaHRtbD9lZTYyIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9GdW5kaW5nL1NlbGVjdEZ1bmRpbmdUeXBlLnRzPzBhYTAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GdW5kaW5nL0FDSFJlbGF0aW9uc2hpcC5odG1sPzU3Y2EiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Z1bmRpbmcvQUNIUmVsYXRpb25zaGlwLnRzP2RhMjgiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GdW5kaW5nL1RyYW5zZmVyLmh0bWw/MDc3ZSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lbnVtcy9UcmFuc2ZlckRpcmVjdGlvbkVudW0udHM/NTUxMSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0Z1bmRpbmcvVHJhbnNmZXJzTGlzdC5odG1sPzI2ODMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9IYW5kbGViYXJIZWxwZXJzLnRzP2M5YzMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Z1bmRpbmcvVHJhbnNmZXJzTGlzdC50cz8wZGNiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9GdW5kaW5nL1RyYW5zZmVyLnRzP2Q2NWYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GdW5kaW5nL1dpcmVUcmFuc2Zlci5odG1sP2Y1OWEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Z1bmRpbmcvV2lyZVRyYW5zZmVyLnRzPzVhM2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GdW5kaW5nL0FDSFRyYW5zZmVySW5mby5odG1sPzQ2Y2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Z1bmRpbmcvQUNIVHJhbnNmZXJJbmZvLnRzPzg4ZjYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GdW5kaW5nL1dpcmVUcmFuc2ZlckluZm8uaHRtbD8zOTk5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9GdW5kaW5nL1dpcmVUcmFuc2ZlckluZm8udHM/YWJlMSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvRnVuZGluZy9BVVNERnVuZC50cz9mOTBjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9GdW5kaW5nL0Zha2VBVVNERnVuZC50cz9lMzlhIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvRnVuZGluZy9XaXRoZHJhd01vZGFsLmh0bWw/NWU3OCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvRnVuZGluZy9XaXRoZHJhd01vZGFsLnRzP2NmZWQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvQVVzZEJhbGFuY2UudHM/NWIzYiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9Vc2VySW5mby50cz8yZjA3Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvQ29ubmVjdFdhbGxldEJ1dHRvbi5odG1sPzlmOTMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9TZWxlY3RXYWxsZXRQcm92aWRlci5odG1sP2MxNDUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Nvbm5lY3RXYWxsZXQudHM/MGZiYyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2UudHM/YWM5OCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL1NlY3VyaXR5VG9rZW5TZXJ2aWNlLnRzP2MyY2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvUHJvZ3Jlc3MudHM/NGMyYiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1N1YnNjcmlwdGlvbi50cz8xZTY0Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2VudW1zL1RyYWRlVHlwZS50cz85MDIzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24uaHRtbD9mMTllIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZUV4ZWN1dGVkLmh0bWw/YjYyMCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0Zha2VOYXRpdmVUb2tlbk5lZWRlZC5odG1sP2FkMTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9OYXRpdmVUb2tlbk5lZWRlZC5odG1sP2ExYjEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL05hdGl2ZVRva2VuTmVlZGVkLnRzPzRmODciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWN0aW9uUmVxdWlyZWQuaHRtbD9kMmFiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1dlRG9udEtub3dXaHkuaHRtbD8wMTdiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0lERU5USVRZX1ZFUklGSUNBVElPTi5odG1sPzA1NmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvQUREUkVTU19WRVJJRklDQVRJT04uaHRtbD8xY2UzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0FGRklMSUFURUQuaHRtbD85MjM5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0NPTlRST0xfUEVSU09OLmh0bWw/ZWExNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9DT1VOVFJZX05PVF9TVVBQT1JURUQuaHRtbD8zNjljIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0RBVEVfT0ZfQklSVEguaHRtbD8yNjg1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0ZBTUlMWV9NRU1CRVJfUEVQLmh0bWw/N2E3YiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9JTlZBTElEX0lERU5USVRZX1BBU1NQT1JULmh0bWw/YTkwNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9QRVAuaHRtbD82NDU3Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1NFTEZJRV9WRVJJRklDQVRJT04uaHRtbD8yYmZjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1RBWF9JREVOVElGSUNBVElPTi5odG1sPzkwNzYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvVklTQV9UWVBFX09USEVSLmh0bWw/NTE5NCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9XOEJFTl9DT1JSRUNUSU9OLmh0bWw/OGQ4MCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL0ZpbGVVcGxvYWQuaHRtbD8zNTg2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL2VsZW1lbnRzL0ZpbGVVcGxvYWQudHM/NjI4YyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0Zvcm1WYWxpZGF0b3IudHM/N2M4ZCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0FjdGlvblJlcXVpcmVkLnRzPzNiMGUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LWUNNb2RhbC5odG1sPzUwYjkiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQ29udGFjdC5odG1sPzAzMzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yLnRzPzM1NzkiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNCYXNlLnRzPzZiN2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNDb250YWN0LnRzPzg2MTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljSWRlbnRpdHkuaHRtbD8zZDk5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljSWRlbnRpdHkudHM/ZGU2OCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNEaXNjbG9zdXJlcy5odG1sPzMwYTgiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkLmh0bWw/NzIxMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZC50cz8zODcxIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0ltbWVkaWF0ZUZhbWlseS5odG1sPzE1MmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNJbW1lZGlhdGVGYW1pbHkudHM/NjFhNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0Rpc2Nsb3N1cmVzLnRzP2RmMDIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWNjb3VudEFncmVlbWVudC5odG1sPzQxM2IiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNBY2NvdW50QWdyZWVtZW50LnRzPzMyMDAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljVHJ1c3RlZENvbnRhY3QuaHRtbD9hNTFjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljVHJ1c3RlZENvbnRhY3QudHM/MGY4YSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNVcGxvYWQuaHRtbD83MjE2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljVXBsb2FkLnRzP2JmZTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNXYWl0aW5nLnRzP2VjZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQ0Zvcm0udHM/Yzk4NiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y1N0YXR1c0hhbmRsZXIudHM/NGY1MiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNBcHByb3ZlZC5odG1sP2UyYjEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24udHM/NTA3YiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVJbnB1dC5odG1sP2UwMzYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL1NlY3VyaXRpZXNMaXN0TW9kYWwudHM/YTc2OSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1RyYWRlSW5mby50cz8wNTkzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2Vycm9ycy9jbG91ZC9IdHRwRXJyb3IudHM/MzNkNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvQ2xvdWRFcnJvci50cz85YjYzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvU3RvY2tQcmljZVNlcnZpY2UudHM/YWU5NCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvUHJpY2VQZXJTaGFyZS5odG1sPzYzYTAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZVBhbmVsSW5wdXQudHM/NjhjYSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVTd2l0Y2guaHRtbD8wNjJjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVTd2l0Y2gudHM/YzQyMSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9UcmFkZVBhbmVsLnRzP2ZhNDQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy90cmFkZS5odG1sP2Y2ZjYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9Db3B5VG9rZW5BZGRyZXNzVG9BZGRUb1dhbGxldC5odG1sP2RkYzMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvcGFnZXMvVHJhZGVQYWdlLnRzPzBmOTQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy9zdG9ja3NwYWdlLmh0bWw/YTJjNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9wYWdlcy9TdG9ja3NQYWdlLnRzPzM4MzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9lbGVtZW50cy9kb2N1bWVudHMuaHRtbD8zOWNiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvRG9jdW1lbnRTZXJ2aWNlLnRzPzgwYjciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9DcmVhdGVUb2tlbi5odG1sPzQ5NmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0NyZWF0ZVRva2VuLnRzPzI0ZDYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy9wb3NpdGlvbnMuaHRtbD82ZmE5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvU3luY1N0b2NrLmh0bWw/MGMxNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1Bvc2l0aW9uc1NlcnZpY2UudHM/OGEzOCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9wYWdlcy9Qb3NpdGlvbnNQYWdlLnRzP2JhZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvcm91dGluZy9Sb3V0aW5nLnRzP2Q2NjQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvSGVhZGVyLnRzP2UyMzAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvbWFpbi50cz9jZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmsge1xyXG5cdFNlcnZlclVybCA9IFwiXCI7XHJcblx0QXBwSWQgPSBcIlwiO1xyXG5cdENoYWluSWQgPSAwO1xyXG5cdE5hbWUgPSBcIlwiO1xyXG5cdENoYWluTmFtZSA9ICcnO1xyXG5cdE5hdGl2ZUN1cnJlbmN5TmFtZSA9IFwiXCI7XHJcblx0TmF0aXZlU3ltYm9sID0gXCJcIjtcclxuXHROYXRpdmVEZWNpbWFsID0gMTg7XHJcblx0UnBjVXJsID0gJyc7XHJcblx0QmxvY2tFeHBsb3JlciA9ICcnO1xyXG5cdFRlc3ROZXR3b3JrID0gdHJ1ZTtcclxuXHRGYXVjZXRVcmwgPSAnJztcclxuXHRCdXlVcmwgPScnO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdGlmICh3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCdsb2NhbGhvc3QnKSAhPSAtMSkge1xyXG5cdFx0XHR0aGlzLlNlcnZlclVybCA9IFwiaHR0cHM6Ly9kcWV0OGRmeW12emoudXNlbW9yYWxpcy5jb206MjA1My9zZXJ2ZXJcIjtcclxuXHRcdFx0dGhpcy5BcHBJZCA9IFwiVFhSNlllc0s5OVZnUkN4U2VjbnlTUk1wMUtJNXJMbkNmSWV0UXV1VVwiO1xyXG5cdFx0fVxyXG5cdFx0Ly9lbHNlXHJcblx0XHR7XHJcblx0XHRcdHRoaXMuU2VydmVyVXJsID0gXCJodHRwczovL2Y4dDF2cnJ3dGJvYS51c2Vtb3JhbGlzLmNvbToyMDUzL3NlcnZlclwiO1xyXG5cdFx0XHR0aGlzLkFwcElkID0gXCJYWmhwM3dRb2JyS2lDaWIwQmY0RlBWS0FVaGJITTlTdlRMS09LdkJiXCI7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgYWRkTmV0d29ya1RvV2FsbGV0KG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG5cdFx0Y29uc3Qgd2ViMyA9IGF3YWl0IG1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cdFx0aWYgKCF3ZWIzIHx8ICF3ZWIzLnByb3ZpZGVyLnJlcXVlc3QpIHJldHVybjtcclxuXHJcblx0XHR3ZWIzLnByb3ZpZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRtZXRob2Q6ICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXHJcblx0XHRcdHBhcmFtczogW3tcclxuXHRcdFx0XHRjaGFpbklkOiAnMHgnICsgdGhpcy5DaGFpbklkLnRvU3RyaW5nKDE2KSxcclxuXHRcdFx0XHRjaGFpbk5hbWU6IHRoaXMuQ2hhaW5OYW1lLFxyXG5cdFx0XHRcdG5hdGl2ZUN1cnJlbmN5OiB7XHJcblx0XHRcdFx0XHRuYW1lOiB0aGlzLk5hdGl2ZUN1cnJlbmN5TmFtZSxcclxuXHRcdFx0XHRcdHN5bWJvbDogdGhpcy5OYXRpdmVTeW1ib2wsXHJcblx0XHRcdFx0XHRkZWNpbWFsczogdGhpcy5OYXRpdmVEZWNpbWFsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRycGNVcmxzOiBbdGhpcy5ScGNVcmxdLFxyXG5cdFx0XHRcdGJsb2NrRXhwbG9yZXJVcmxzOiBbdGhpcy5CbG9ja0V4cGxvcmVyXVxyXG5cdFx0XHR9XVxyXG5cdFx0fSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBoYXNFbm91Z2hOYXRpdmVUb2tlbnMobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSA6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG5cdFx0Ly9UT0RPOiByZW1vdmUgbGF0ZXIsIE1vcmFsaXMgZG9lc250IHN1cHBvcnQgZ2V0TmF0aXZlQmFsYW5jZSBvbiBsb2NhbGhvc3Qgc28gaXQncyBhbHdheXMgdHJ1ZVxyXG5cdFx0aWYgKHRoaXMuTmFtZSA9PSAnbG9jYWxob3N0Jykge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IG9wdGlvbnM6IGFueSA9IHtjaGFpbjogJzB4JyArIHRoaXMuQ2hhaW5JZC50b1N0cmluZygxNil9O1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBtb3JhbGlzLldlYjNBUEkuYWNjb3VudC5nZXROYXRpdmVCYWxhbmNlKG9wdGlvbnMpO1xyXG5cclxuXHRcdFx0Y29uc3QgYmFsYW5jZSA9IHBhcnNlRmxvYXQoTW9yYWxpcy5Vbml0cy5Gcm9tV2VpKHJlc3VsdC5iYWxhbmNlLCAxOCkpO1xyXG5cdFx0XHRpZiAoYmFsYW5jZSA8IDAuMDA1KSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fTtcclxufVxyXG5cclxuIiwiaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9OZXR3b3JrJztcclxuLy9sb2NhbGhvc3RcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbG9jYWxob3N0TmV0d29yayBleHRlbmRzIE5ldHdvcmsge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHJcblx0XHR0aGlzLkNoYWluSWQgPSAzMTMzNztcclxuXHRcdHRoaXMuTmFtZSA9IFwibG9jYWxob3N0XCI7XHJcblx0XHR0aGlzLkNoYWluTmFtZSA9ICdsb2NhbGhvc3QgdGVzdCc7XHJcblx0XHR0aGlzLk5hdGl2ZUN1cnJlbmN5TmFtZSA9IFwiRXRoZXJldW1cIjtcclxuXHRcdHRoaXMuTmF0aXZlU3ltYm9sID0gXCJFVEhcIjtcclxuXHRcdHRoaXMuTmF0aXZlRGVjaW1hbCA9IDE4O1xyXG5cdFx0dGhpcy5ScGNVcmwgPSAnaHR0cHM6Ly9yaW5rZWJ5LmluZnVyYS5pby92My85YWEzZDk1YjNiYzQ0MGZhODhlYTEyZWFhNDQ1NjE2MSc7XHJcblx0XHR0aGlzLkJsb2NrRXhwbG9yZXIgPSAnaHR0cHM6Ly9yaW5rZWJ5LmV0aGVyc2Nhbi5pbyc7XHJcblxyXG5cdH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuIiwiXHJcblxyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL05ldHdvcmsnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbXVtYmFpTmV0d29yayBleHRlbmRzIE5ldHdvcmsge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5DaGFpbklkID0gODAwMDE7XHJcbiAgICAgICAgICAgIHRoaXMuTmFtZSA9IFwibXVtYmFpXCI7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hhaW5OYW1lID0gJ1BvbHlnb24gTXVtYmFpJztcclxuICAgICAgICAgICAgdGhpcy5OYXRpdmVDdXJyZW5jeU5hbWUgPSBcIk1hdGljXCI7XHJcbiAgICAgICAgICAgIHRoaXMuTmF0aXZlU3ltYm9sID0gXCJNQVRJQ1wiO1xyXG4gICAgICAgICAgICB0aGlzLk5hdGl2ZURlY2ltYWwgPSAxODtcclxuICAgICAgICAgICAgdGhpcy5ScGNVcmwgPSAnaHR0cHM6Ly9tYXRpYy1tdW1iYWkuY2hhaW5zdGFja2xhYnMuY29tLyc7XHJcbiAgICAgICAgICAgIHRoaXMuQmxvY2tFeHBsb3JlciA9ICdodHRwczovL211bWJhaS5wb2x5Z29uc2Nhbi5jb20vJztcclxuICAgICAgICAgICAgdGhpcy5GYXVjZXRVcmwgPSAnaHR0cHM6Ly9mYXVjZXQucG9seWdvbi50ZWNobm9sb2d5Lyc7XHJcbiAgICAgICAgICAgIHRoaXMuQnV5VXJsID0gJ2h0dHBzOi8vd3d3Lm1vb25wYXkuY29tL2J1eS9tYXRpYyc7XHJcblx0fVxyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvb2tpZUhlbHBlciB7XHJcbiAgICBkb2N1bWVudDogRG9jdW1lbnRcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudDogRG9jdW1lbnQpIHtcclxuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENvb2tpZShuYW1lIDogc3RyaW5nLCB2YWx1ZSA6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgXCI7IGV4cGlyZXM9TW9uLCAyIERlYyAyMDI0IDEyOjAwOjAwIFVUQztwYXRoPS87U2FtZVNpdGU9U3RyaWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENvb2tpZU5ldHdvcmsgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRDb29raWUoXCJuZXR3b3JrXCIsIG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb29raWVWYWx1ZShuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jb29raWUubWF0Y2goJyhefDspXFxcXHMqJyArIG5hbWUgKyAnXFxcXHMqPVxcXFxzKihbXjtdKyknKT8ucG9wKCkgfHwgJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENvb2tpZVByb3ZpZGVyKHByb3ZpZGVyTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICB0aGlzLnNldENvb2tpZShcInByb3ZpZGVyXCIsIHByb3ZpZGVyTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbGV0ZUNvb2tpZShuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj0wOyBleHBpcmVzPU1vbiwgMiBEZWMgMjAyMCAxMjowMDowMCBVVEM7cGF0aD0vXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgbG9jYWxob3N0TmV0d29yayBmcm9tICcuL2xvY2FsaG9zdC1uZXR3b3JrJztcclxuaW1wb3J0IG11bWJhaU5ldHdvcmsgZnJvbSAnLi9tdW1iYWktbmV0d29yayc7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gXCIuL05ldHdvcmtcIjtcclxuaW1wb3J0IENvb2tpZUhlbHBlciBmcm9tIFwiLi4vdXRpbC9Db29raWVIZWxwZXJcIjtcclxuaW1wb3J0IGZ1amlOZXR3b3JrIGZyb20gXCIuL2Z1amktbmV0d29ya1wiO1xyXG5pbXBvcnQgTW9yYWxpcyBmcm9tIFwibW9yYWxpc1wiO1xyXG5pbXBvcnQgR2VuZXJhbEVycm9yIGZyb20gXCIuLi9lcnJvcnMvR2VuZXJhbEVycm9yXCI7XHJcblxyXG5cclxuY29uc3QgbmV0d29ya0luZm9zID0gW2xvY2FsaG9zdE5ldHdvcmssIG11bWJhaU5ldHdvcmtdO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmtJbmZvIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBOZXR3b3JrO1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBOZXR3b3JrIHtcclxuICAgICAgICBpZiAoTmV0d29ya0luZm8uaW5zdGFuY2UpIHJldHVybiBOZXR3b3JrSW5mby5pbnN0YW5jZTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBldGhlcmV1bSAhPSAndW5kZWZpbmVkJyAmJiBldGhlcmV1bSAmJiBldGhlcmV1bS5jaGFpbklkKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IHRoaXMuZ2V0TmV0d29ya0luZm9CeUNoYWluSWQoZXRoZXJldW0uY2hhaW5JZCk7XHJcbiAgICAgICAgICAgIGlmIChuZXR3b3JrSW5mbykge1xyXG4gICAgICAgICAgICAgICAgTmV0d29ya0luZm8uaW5zdGFuY2UgPSBuZXR3b3JrSW5mbztcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXR3b3JrSW5mby5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgTmV0d29ya0luZm8uaW5zdGFuY2UgPSB0aGlzLmdldE5ldHdvcmtJbmZvKCk7XHJcbiAgICAgICAgcmV0dXJuIE5ldHdvcmtJbmZvLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZE5ldHdvcmsobmV0d29ya05hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIE5ldHdvcmtJbmZvLmluc3RhbmNlID0gdGhpcy5nZXROZXR3b3JrSW5mbyhuZXR3b3JrTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXROZXR3b3JrQnlDaGFpbklkKGNoYWluSWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCBuZXR3b3JrID0gdGhpcy5nZXROZXR3b3JrSW5mb0J5Q2hhaW5JZChjaGFpbklkKTtcclxuICAgICAgICBpZiAobmV0d29yaykge1xyXG4gICAgICAgICAgICBOZXR3b3JrSW5mby5pbnN0YW5jZSA9IG5ldHdvcms7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmV0d29ya3MoKTogQXJyYXk8TmV0d29yaz4ge1xyXG4gICAgICAgIGxldCBuZXR3b3JrcyA9IG5ldyBBcnJheTxOZXR3b3JrPigpO1xyXG4gICAgICAgIGxldCBpc0xvY2FsaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoJ2xvY2FsaG9zdCcpICE9IC0xO1xyXG4gICAgICAgIG5ldHdvcmtJbmZvcy5mb3JFYWNoKG5ldHdvcmtJbmZvVHlwZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0bXAgPSBuZXcgbmV0d29ya0luZm9UeXBlKCk7XHJcbiAgICAgICAgICAgIGlmICghaXNMb2NhbGhvc3QgJiYgdG1wLk5hbWUgPT0gXCJsb2NhbGhvc3RcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbmV0d29ya3MucHVzaCh0bXApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXR3b3JrcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5ldHdvcmtJbmZvQnlDaGFpbklkKGNoYWluSWQ6IG51bWJlcik6IE5ldHdvcmsgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBsZXQgbmV0d29ya0luZm86IE5ldHdvcmsgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIG5ldHdvcmtJbmZvcy5mb3JFYWNoKG5ldHdvcmtJbmZvVHlwZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0bXAgPSBuZXcgbmV0d29ya0luZm9UeXBlKCk7XHJcbiAgICAgICAgICAgIGlmICh0bXAuQ2hhaW5JZCA9PSBjaGFpbklkKSB7XHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrSW5mbyA9IHRtcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXR3b3JrSW5mbztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0TmV0d29ya0luZm8obmV0d29ya05hbWU/OiBzdHJpbmcpOiBOZXR3b3JrIHtcclxuICAgICAgICBsZXQgY29va2llSGVscGVyID0gbmV3IENvb2tpZUhlbHBlcihkb2N1bWVudCk7XHJcbiAgICAgICAgLy9pZiAod2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZignbG9jYWxob3N0JykpIG5ldHdvcmtOYW1lID0gJ2xvY2FsaG9zdCdcclxuICAgICAgICBpZiAoIW5ldHdvcmtOYW1lKSBuZXR3b3JrTmFtZSA9IGNvb2tpZUhlbHBlci5nZXRDb29raWVWYWx1ZSgnbmV0d29yaycpO1xyXG4gICAgICAgIGlmICghbmV0d29ya05hbWUpIG5ldHdvcmtOYW1lID0gJ211bWJhaSc7XHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IG51bGw7XHJcbiAgICAgICAgbmV0d29ya0luZm9zLmZvckVhY2gobmV0d29ya0luZm9UeXBlID0+IHtcclxuICAgICAgICAgICAgbGV0IHRtcCA9IG5ldyBuZXR3b3JrSW5mb1R5cGUoKTtcclxuICAgICAgICAgICAgaWYgKHRtcC5OYW1lID09IG5ldHdvcmtOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrSW5mbyA9IHRtcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChuZXR3b3JrSW5mbykgcmV0dXJuIG5ldHdvcmtJbmZvO1xyXG5cclxuICAgICAgICBjb29raWVIZWxwZXIuc2V0Q29va2llTmV0d29yaygnbXVtYmFpJyk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk5ldHdvcmsgJ1wiICsgbmV0d29ya05hbWUgKyBcIicgY291bGQgbm90IGJlIGZvdW5kLiBEZWZhdWx0aW5nIHRvIE11bWJhaSBuZXR3b3JrLlwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBtdW1iYWlOZXR3b3JrKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi8uLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29ubmVjdGlvblNlcnZpY2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgb3B0aW9ucyA6IHtzZXJ2ZXJVcmw6c3RyaW5nLCBhcHBJZDpzdHJpbmd9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM/IDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICBpZighbW9yYWxpcykgbW9yYWxpcyA9IE1vcmFsaXM7XHJcblxyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge3NlcnZlclVybDonJywgYXBwSWQ6Jyd9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0T3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzdGFydCgpIHtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtzZXJ2ZXJVcmw6bmV0d29ya0luZm8uU2VydmVyVXJsLCBhcHBJZDpuZXR3b3JrSW5mby5BcHBJZH07XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMubW9yYWxpcy5zdGFydCh0aGlzLm9wdGlvbnMpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVyci5tZXNzYWdlLmluZGV4T2YoJ0ludmFsaWQgc2Vzc2lvbiB0b2tlbicpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBNb3JhbGlzLlVzZXIubG9nT3V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtldFNlcnZpY2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICBpZiAoIW1vcmFsaXMpIG1vcmFsaXMgPSBNb3JhbGlzO1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGlzTWFya2V0T3BlbigpIDogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2lzT3BlbicpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29kZSA6IG51bWJlcjtcclxuICAgIG1lc3NhZ2UgOiBzdHJpbmc7XHJcbiAgICBoZWFkZXJzIDogYW55O1xyXG4gICAgZXJyb3IgOiBhbnk7XHJcbiAgICBzdGFjayA6IHN0cmluZztcclxuICAgIGNhbGxiYWNrPyA6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZSA6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jb2RlID0gMDtcclxuICAgICAgICB0aGlzLnN0YWNrID0gXCJcIjtcclxuICAgICAgICBpZiAoIWUubWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLm1lc3NhZ2UuZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBlLm1lc3NhZ2UuZGF0YS5jb2RlO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlLm1lc3NhZ2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXJzID0gZS5tZXNzYWdlLmhlYWRlcnM7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBlLnN0YWNrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGUuZGF0YSkgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlID0gZS5kYXRhLmNvZGU7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGUuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gZS5zdGFjaztcclxuICAgICAgICB9IGVsc2UgaWYgKGUubWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxkaXYgaWQ9XFxcInN3aXRjaE5ldHdvcmtJbmZvXFxcIj5cXHJcXG4gICAgWW91IGFyZSB1c2luZyB3cm9uZyBuZXR3b3JrIGluIHlvdXIgd2FsbGV0LlxcclxcbiAgICBZb3UgY2FuIGNob29zZSBhbnkgb2YgdGhlc2UgbmV0d29ya3MuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3sjZWFjaCBuZXR3b3Jrc319XFxyXFxuICAgICAgICA8YnV0dG9uIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcInNldE5ldHdvcmtcXFwiXFxyXFxuICAgICAgICAgICAgICAgIGRhdGEtY2hhaW5pZD1cXFwie3tDaGFpbklkfX1cXFwiPnt7Q2hhaW5OYW1lfX1cXHJcXG4gICAgICAgIDwvYnV0dG9uPlxcclxcbiAgICAgICAge3svZWFjaH19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcbjxkaXYgaWQ9XFxcImpzU3dpdGNoTmV0d29ya05vdFdvcmtpbmdcXFwiIGNsYXNzPVxcXCJkLW5vbmVcXFwiPlxcclxcbiAgICBJdCBzZWVtIGFzIHdlIGNhbid0IGFkZCB0aGUgbmV0d29yayBhdXRvbWF0aWNhbGx5IGZvciB5b3VyLCBzbyB5b3UgbmVlZCB0byBhZGQgaXQgeW91ciBzZWxmLlxcclxcbiAgICBUaGlzIGlzIHRoZSBpbmZvcm1hdGlvbiB5b3UgbmVlZCB0byBhZGQgdGhlIG5ldHdvcmsuIFlvdSB3aWxsIG5lZWQgdG8gZmlndXJlIG91dCB3aGVyZSB0b1xcclxcbiAgICBhZGQgbmV3IG5ldHdvcmsgZm9yIHlvdXIgd2FsbGV0LCBhcyBpdCBkaWZmZXJlbmNlIGJldHdlZW4gd2FsbGV0cy5cXHJcXG4gICAgPGZvcm0+XFxyXFxuICAgICAgICA8bGFiZWw+Q2hhaW5JZDpcXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN3aXRjaENoYWluSWRcXFwiLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8bGFiZWw+Q2hhaW4gbmFtZVxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwic3dpdGNoQ2hhaW5OYW1lXFxcIi8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGxhYmVsPkN1cnJlbmN5IG5hbWVcXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN3aXRjaEN1cnJlbmN5TmFtZVxcXCIvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICBTeW1ib2xcXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN3aXRjaFN5bWJvbFxcXCIvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5EZWNpbWFsXFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzd2l0Y2hEZWNpbWFsXFxcIi8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGxhYmVsPlJwYyBVcmxcXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN3aXRjaFJwY1VybFxcXCIvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgPC9mb3JtPlxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGlhbG9nIGlkPVxcXCJsaW1pbmFsX21hcmtldF9tb2RhbF9kaXZcXFwiIGRhdGEtdGl0bGU9XFxcInt7e3RpdGxlfX19XFxcIj5cXHJcXG4gICAgPGFydGljbGU+XFxyXFxuICAgICAgICA8aGVhZGVyPlxcclxcbiAgICAgICAgICAgIDxzcGFuPnt7dGl0bGV9fTwvc3Bhbj5cXHJcXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIjY2xvc2VcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGlkPVxcXCJsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZVxcXCI+PC9hPlxcclxcbiAgICAgICAgPC9oZWFkZXI+XFxyXFxuICAgICAgICB7e3tjb250ZW50fX19XFxyXFxuICAgIDwvYXJ0aWNsZT5cXHJcXG5cXHJcXG48L2RpYWxvZz5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IE1vZGFsSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL01vZGFsLmh0bWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gICAgbW9kYWxJZCA9ICdsaW1pbmFsX21hcmtldF9tb2RhbF9kaXYnO1xyXG4gICAgb25IaWRlPyA6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGhpZGVNb2RhbCgpIHtcclxuICAgICAgICBsZXQgbW9kYWxEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm1vZGFsSWQpITtcclxuICAgICAgICBtb2RhbERpdi5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICBpZiAodGhpcy5vbkhpZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dNb2RhbCh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHJldXNlTW9kYWxJZlNhbWVUaXRsZTogYm9vbGVhbiA9IGZhbHNlLCBvbkhpZGU/OiAoKSA9PiB2b2lkLCBoaWRlT25PdXRzaWRlQ2xpY2sgPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IG1vZGFsRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5tb2RhbElkKTtcclxuICAgICAgICBpZiAobW9kYWxEaXYpIHtcclxuICAgICAgICAgICAgbGV0IG1vZGFsVGl0bGUgPSBtb2RhbERpdi5kYXRhc2V0LnRpdGxlO1xyXG4gICAgICAgICAgICBpZiAocmV1c2VNb2RhbElmU2FtZVRpdGxlICYmIG1vZGFsVGl0bGUgJiYgbW9kYWxUaXRsZSA9PT0gdGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsRGl2LnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKE1vZGFsSHRtbCk7XHJcblxyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCBjb250ZW50OiBjb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBodG1sID0gdGVtcGxhdGUob2JqKTtcclxuXHJcbiAgICAgICAgaWYgKG1vZGFsRGl2KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobW9kYWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaHRtbCk7XHJcblxyXG4gICAgICAgIG1vZGFsRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5tb2RhbElkKSE7XHJcbiAgICAgICAgbW9kYWxEaXYuc2V0QXR0cmlidXRlKCdvcGVuJywgJycpO1xyXG5cclxuICAgICAgICBpZiAoaGlkZU9uT3V0c2lkZUNsaWNrKSB7XHJcbiAgICAgICAgICAgIG1vZGFsRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ICYmIChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCA9PT0gJ2xpbWluYWxfbWFya2V0X21vZGFsX2RpdicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlJylcclxuICAgICAgICBpZiAobGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2UpIGxpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2UnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vbkhpZGUgPSBvbkhpZGU7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3VyaXR5IHtcclxuICAgIENsYXNzIDogc3RyaW5nID0gXCJcIjtcclxuICAgIEV4Y2hhbmdlIDogc3RyaW5nID0gXCJcIjtcclxuICAgIFN5bWJvbCA6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBOYW1lIDogc3RyaW5nID0gXCJcIjtcclxuICAgIFN0YXR1cyA6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBUcmFkYWJsZSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIEZyYWN0aW9uYWJsZSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIExvZ28gOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgRmF2b3JpdGUgOiBudW1iZXIgPSAwO1xyXG4gICAgTG9nb1BhdGggOiBzdHJpbmcgPSBcIi9pbWcvbG9nb3MvXCIgO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dvUGF0aCA9IFwiL2ltZy9sb2dvcy9cIiA7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBTZWN1cml0eSBmcm9tIFwiLi9TZWN1cml0eVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdXJpdGllc1NlcnZpY2Uge1xyXG5cclxuICAgIHNlY3VyaXRpZXMgPSBuZXcgTWFwPHN0cmluZywgU2VjdXJpdHk+KCk7XHJcbiAgICBzZWN1cml0aWVzQXJyYXkgOiBhbnk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZSA6IFNlY3VyaXRpZXNTZXJ2aWNlO1xyXG4gICAgcGFnZTogbnVtYmVyO1xyXG4gICAgc3ltYm9scyA9IFtcIk1TRlRcIiwgXCJBQVBMXCIsIFwiQU1aTlwiLCBcIlRTTEFcIiwgXCJHT09HTFwiLCBcIkdPT0dcIiwgXCJHTUVcIiwgXCJNRVRBXCIsIFwiTlZEQVwiLCBcIkJSSy5CXCIsIFwiSlBNXCIsIFwiSERcIiwgXCJKTkpcIiwgXCJVTkhcIiwgXCJQR1wiLCBcIkJBQ1wiLCBcIlZcIiwgXCJBREJFXCIsIFwiTkZMWFwiLCBcIkNSTVwiLCBcIlBGRVwiLCBcIkRJU1wiLCBcIk1BXCIsIFwiWE9NXCIsIFwiVE1PXCIsIFwiQ09TVFwiXVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZWN1cml0aWVzID0gbmV3IE1hcDxzdHJpbmcsIFNlY3VyaXR5PigpO1xyXG4gICAgICAgIHRoaXMucGFnZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBnZXRJbnN0YW5jZSgpOiBQcm9taXNlPFNlY3VyaXRpZXNTZXJ2aWNlPiB7XHJcbiAgICAgICAgaWYgKCFTZWN1cml0aWVzU2VydmljZS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBTZWN1cml0aWVzU2VydmljZS5pbnN0YW5jZSA9IG5ldyBTZWN1cml0aWVzU2VydmljZSgpO1xyXG4gICAgICAgICAgICBTZWN1cml0aWVzU2VydmljZS5pbnN0YW5jZS5zZWN1cml0aWVzID0gYXdhaXQgU2VjdXJpdGllc1NlcnZpY2UuaW5zdGFuY2UuZ2V0U2VjdXJpdGllcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU2VjdXJpdGllc1NlcnZpY2UuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFNlY3VyaXRpZXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VjdXJpdGllcy5zaXplICE9IDApIHJldHVybiB0aGlzLnNlY3VyaXRpZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9zZWN1cml0aWVzL3NlY3VyaXRpZXMuanNvbicpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNlY3VyaXRpZXMuc2V0KHJlc3VsdHNbaV0uU3ltYm9sLCBPYmplY3QuYXNzaWduKG5ldyBTZWN1cml0eSwgcmVzdWx0c1tpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlY3VyaXRpZXNBcnJheSA9IEFycmF5LmZyb20odGhpcy5zZWN1cml0aWVzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VjdXJpdGllcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0U2VjdXJpdHlCeVN5bWJvbChzeW1ib2wgOiBzdHJpbmcpIDogUHJvbWlzZTxTZWN1cml0eT4ge1xyXG4gICAgICAgIGxldCBzZWN1cml0aWVzID0gYXdhaXQgdGhpcy5nZXRTZWN1cml0aWVzKCk7XHJcblxyXG4gICAgICAgIGxldCBzZWN1cml0eSA9IHNlY3VyaXRpZXMuZ2V0KHN5bWJvbCk7XHJcbiAgICAgICAgcmV0dXJuIChzZWN1cml0eSkgPyBzZWN1cml0eSA6IG5ldyBTZWN1cml0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRUb3BTZWN1cml0aWVzKCkge1xyXG4gICAgICAgIGxldCBzZWN1cml0aWVzID0gYXdhaXQgdGhpcy5nZXRTZWN1cml0aWVzKCk7XHJcbiAgICAgICAgbGV0IHRvcFNlY3VyaXRpZXMgPSBuZXcgQXJyYXk8U2VjdXJpdHk+KCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sIG9mIHRoaXMuc3ltYm9scykge1xyXG4gICAgICAgICAgICBsZXQgc2VjdXJpdHkgPSBzZWN1cml0aWVzLmdldChzeW1ib2wpO1xyXG4gICAgICAgICAgICBpZiAoc2VjdXJpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRvcFNlY3VyaXRpZXMucHVzaChzZWN1cml0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvcFNlY3VyaXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFBhZ2luYXRpbmdTZWN1cml0aWVzKHBhZ2UgOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAocGFnZSA9PSAwKSByZXR1cm4gdGhpcy5nZXRUb3BTZWN1cml0aWVzKCk7XHJcblxyXG4gICAgICAgIGxldCBzZWN1cml0aWVzT25QYWdlID0gbmV3IEFycmF5PFNlY3VyaXR5PigpO1xyXG4gICAgICAgIGxldCBpID0gcGFnZSAqIHRoaXMuc3ltYm9scy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHBhZ2VDb3VudCA9IGkgKyAxMDtcclxuICAgICAgICBmb3IgKDtpPHBhZ2VDb3VudCAmJiBpPHRoaXMuc2VjdXJpdGllc0FycmF5Lmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgc2VjdXJpdGllc09uUGFnZS5wdXNoKHRoaXMuc2VjdXJpdGllc0FycmF5W2ldWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlY3VyaXRpZXNPblBhZ2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBmaW5kKHNlYXJjaDogc3RyaW5nKSA6IFByb21pc2U8QXJyYXk8U2VjdXJpdHk+PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBuZXcgQXJyYXk8U2VjdXJpdHk+KCk7XHJcbiAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VjdXJpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChzZWN1cml0eSkge1xyXG4gICAgICAgICAgICBpZiAoc2VjdXJpdHkuU3ltYm9sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gpICE9IC0xIHx8XHJcbiAgICAgICAgICAgICAgICBzZWN1cml0eS5OYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc2VjdXJpdHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nSGVscGVyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxhc3RFbGVtZW50PyA6IEhUTUxFbGVtZW50ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9hZGluZyhlbGVtZW50PzogSFRNTEVsZW1lbnQgfCBudWxsKSB7XHJcbiAgICAgICAgaWYgKExvYWRpbmdIZWxwZXIubGFzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5sYXN0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtYnVzeScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcbiAgICAgICAgTG9hZGluZ0hlbHBlci5sYXN0RWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZW1vdmVMb2FkaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGVudW0gSW5mb0JhclR5cGUge1xyXG4gICAgSW5mbyA9ICdpbmZvQmFyJyxcclxuICAgIFdhcm5pbmcgPSAnd2FybmluZ0JhcicsXHJcbiAgICBFcnJvciA9ICdlcnJvckJhcidcclxufSIsImltcG9ydCB7SW5mb0JhclR5cGV9IGZyb20gXCIuL0luZm9CYXJUeXBlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZvQmFyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNob3cobWVzc2FnZSA6IHN0cmluZywgdHlwZSA6IEluZm9CYXJUeXBlLCB0aW1lb3V0SW5TZWNvbmRzIDogbnVtYmVyID0gNCkge1xyXG4gICAgICAgIGxldCBpbmZvQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm9CYXInKTtcclxuICAgICAgICBpZiAoIWluZm9CYXIpIHtcclxuICAgICAgICAgICAgaW5mb0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbkJhcicpO1xyXG4gICAgICAgICAgICBpbmZvQmFyLmlkID0gJ2luZm9CYXInO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIGluZm9CYXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGluZm9CYXIuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGluZm9CYXIuY2xhc3NMaXN0LnJlbW92ZShJbmZvQmFyVHlwZS5JbmZvKTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5yZW1vdmUoSW5mb0JhclR5cGUuV2FybmluZyk7XHJcbiAgICAgICAgaW5mb0Jhci5jbGFzc0xpc3QucmVtb3ZlKEluZm9CYXJUeXBlLkVycm9yKTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5hZGQodHlwZSlcclxuICAgICAgICBpZiAodGltZW91dEluU2Vjb25kcyA+IDApIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbmZvQmFyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgfSwgdGltZW91dEluU2Vjb25kcyAqIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIlxcclxcbllvdSBuZWVkIHRvIHNldCB1cCBhIHdhbGxldCBpbiB5b3VyIGJyb3dzZXIgYmVmb3JlIHlvdSBjYW4gdXNlIGxpbWluYWwubWFya2V0Llxcclxcbjxici8+PGJyLz5cXHJcXG5UbyBtYWtlIGl0IHNpbXBsZSwgd2Ugd291bGQgbGlrZSB0byBzdWdnZXN0IHR3byBvcHRpb25zLiBJbiB5b3VyIGJyb3dzZXIgb3IgeW91ciBwaG9uZS5cXHJcXG48dWw+XFxyXFxuICAgIDxsaT5Gb3IgdGhlIGJyb3dzZXIgd2UgcmVjb21tZW5kIDxhIGhyZWY9XFxcImh0dHBzOi8vbWV0YW1hc2suaW8vZG93bmxvYWQvXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWV0YW1hc2s8L2E+LlxcclxcbiAgICA8L2xpPlxcclxcbiAgICA8bGk+XFxyXFxuICAgICAgICBGb3IgeW91ciBwaG9uZSwgd2UgbGlrZSA8YSBocmVmPVxcXCJodHRwczovL3d3dy50b2tlbnBvY2tldC5wcm8vZW4vZG93bmxvYWQvYXBwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+VG9rZW4gUG9rZXQ8L2E+XFxyXFxuICAgIDwvbGk+XFxyXFxuPC91bD5cXHJcXG48YnIvPlxcclxcbkJ1dCwgeW91IGhhdmUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9ldGhlcmV1bS5vcmcvZW4vd2FsbGV0cy9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5tYW55IG9wdGlvbnM8L2E+IGlmIHlvdSB3YW50IHRvIGxlYXJuIG1vcmUuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBJbmZvQmFyIGZyb20gXCIuLi91aS9lbGVtZW50cy9JbmZvQmFyXCI7XHJcbmltcG9ydCB7SW5mb0JhclR5cGV9IGZyb20gXCIuLi91aS9lbGVtZW50cy9JbmZvQmFyVHlwZVwiO1xyXG5pbXBvcnQgV2FsbGV0TWlzc2luZ0h0bWwgZnJvbSAnLi4vaHRtbC9tb2RhbC9XYWxsZXRNaXNzaW5nLmh0bWwnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL3VpL21vZGFscy9Nb2RhbFwiO1xyXG5pbXBvcnQgU3dpdGNoTmV0d29ya01vZGFsIGZyb20gXCIuLi91aS9tb2RhbHMvU3dpdGNoTmV0d29ya01vZGFsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVkZWZpbmVkRXJyb3JIYW5kbGVycyB7XHJcblxyXG4gICAgZXJyb3JNZXNzYWdlTWFwcGluZyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XHJcbiAgICBTZW50TG9naW5SZXF1ZXN0ID0gXCJXZSBoYXZlIHNlbnQgcmVxdWVzdCB0byB5b3Ugd2FsbGV0IHRvIGxvZ2luLiBPcGVuIHlvdXIgd2FsbGV0IHRvIGxvZ2luXCI7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTWFwcGluZy5zZXQoJ2NoYWluIG5vdCBzdXBwb3J0ZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkaXYgPSAnTmV0d29yayBpcyBub3Qgc3VwcG9ydGVkLiA8YSBocmVmPVwiXCIgaWQ9XCJzd2l0Y2hOZXR3b3JrTGlua1wiPkNsaWNrIG1lIHRvIHN3aXRjaCB0byBzdXBwb3J0ZWQgbmV0d29yazwvYT4nO1xyXG5cclxuICAgICAgICAgICAgSW5mb0Jhci5zaG93KGRpdiwgSW5mb0JhclR5cGUuV2FybmluZywgMTIwKVxyXG5cclxuICAgICAgICAgICAgbGV0IHN3aXRjaE5ldHdvcmtMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaE5ldHdvcmtMaW5rJyk7XHJcbiAgICAgICAgICAgIHN3aXRjaE5ldHdvcmtMaW5rPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IFN3aXRjaE5ldHdvcmtNb2RhbChNb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLnNob3coKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuc2V0KCdhbHJlYWR5IHByb2Nlc3NpbmcgZXRoX3JlcXVlc3RhY2NvdW50cycsIHRoaXMuU2VudExvZ2luUmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgncmVxdWVzdCBvZiB0eXBlIFxcJ3dhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnNcXCcgYWxyZWFkeSBwZW5kaW5nJywgdGhpcy5TZW50TG9naW5SZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuc2V0KCdhbHJlYWR5IGhhcyBiZWVuIGNhbGxlZCwgYnV0IGlzIG5vdCBmaW5pc2hlZCB5ZXQnLCB0aGlzLlNlbnRMb2dpblJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTWFwcGluZy5zZXQoJ3JlcXVlc3QgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycsIHRoaXMuU2VudExvZ2luUmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgnd2ViMyBpbnN0YW5jZScsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5saW1pbmFsX21hcmtldF9jb25uZWN0X3dhbGxldFwiKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzWzBdLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuc2V0KCd1c2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBNb3JhbGlzLlVzZXIubG9nT3V0KCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuc2V0KCdOb24gZXRoZXJldW0gZW5hYmxlZCBicm93c2VyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFdhbGxldE1pc3NpbmdIdG1sKTtcclxuICAgICAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdOZXcgdG8gYmxvY2tjaGFpbj8nLCB0ZW1wbGF0ZShudWxsKSwgZmFsc2UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFuZGxlKG1lc3NhZ2UgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTWFwcGluZy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaGFuZGxlZCAmJiBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihrZXkudG9Mb3dlckNhc2UoKSkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBJbmZvQmFyLnNob3codmFsdWUudG9TdHJpbmcoKSwgSW5mb0JhclR5cGUuV2FybmluZywgMTApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4uL3V0aWwvTG9hZGluZ0hlbHBlclwiO1xyXG5pbXBvcnQgR2VuZXJhbEVycm9yIGZyb20gXCIuL0dlbmVyYWxFcnJvclwiO1xyXG5pbXBvcnQgUHJlZGVmaW5lZEVycm9ySGFuZGxlcnMgZnJvbSBcIi4vUHJlZGVmaW5lZEVycm9ySGFuZGxlcnNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVycm9ySW5mbyB7XHJcblxyXG4gICAgZXJyb3JJbmZvOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXJyb3JJbmZvOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmVycm9ySW5mbyA9IGVycm9ySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXJyb3JJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlcG9ydChlcnJvcjogR2VuZXJhbEVycm9yKSB7XHJcbiAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgaWYgKCFlcnJvcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgZXJyb3JIYW5kbGVyID0gbmV3IFByZWRlZmluZWRFcnJvckhhbmRsZXJzKCk7XHJcbiAgICAgICAgaWYgKGVycm9ySGFuZGxlci5oYW5kbGUoZXJyb3IubWVzc2FnZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVycm9yLmNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGVycm9yLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vSW5mb0Jhci5zaG93KGVycm9yLm1lc3NhZ2UsIEluZm9CYXJUeXBlLkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvZyhvYmo6IGFueSkge1xyXG4gICAgICAgIEVycm9ySW5mby5yZXBvcnQobmV3IEdlbmVyYWxFcnJvcihvYmopKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluZm8ob2JqOiBhbnkpIHtcclxuICAgICAgICBFcnJvckluZm8ucmVwb3J0KG5ldyBHZW5lcmFsRXJyb3Iob2JqKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBlcnJvcihvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG9iaik7XHJcbiAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChuZXcgR2VuZXJhbEVycm9yKG9iaikpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNlY3VyaXRpZXNTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9icm9rZXIvU2VjdXJpdGllc1NlcnZpY2VcIjtcclxuaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4vTG9hZGluZ0hlbHBlclwiO1xyXG5pbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBHZW5lcmFsRXJyb3IgZnJvbSBcIi4uL2Vycm9ycy9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4uL25ldHdvcmtzL05ldHdvcmtcIjtcclxuaW1wb3J0ICogYXMgbmV0IGZyb20gXCJuZXRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGxldEhlbHBlciB7XHJcbiAgICBzdGF0aWMgYWRkVG9rZW5GYWxsYmFja0xvYWRlZD86IGJvb2xlYW4gPSB1bmRlZmluZWQ7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFVc2RBc3NldCgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBMb2dvOiAnLi4vYXVzZC5wbmcnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgYWRkVG9rZW5Ub1dhbGxldChhZGRyZXNzOiBzdHJpbmcsIHN5bWJvbDogc3RyaW5nLCBmYWxsYmFja1RpbWVvdXQ6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllc1NlcnZpY2UgPSBhd2FpdCBTZWN1cml0aWVzU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBhc3NldCA9IChzeW1ib2wgPT0gJ2FVU0QnKSA/IHRoaXMuZ2V0QVVzZEFzc2V0KCkgOiBhd2FpdCBzZWN1cml0aWVzU2VydmljZS5nZXRTZWN1cml0eUJ5U3ltYm9sKHN5bWJvbCk7XHJcbiAgICAgICAgbGV0IHdlYjMgPSB0aGlzLm1vcmFsaXMud2ViMyBhcyBhbnk7XHJcbiAgICAgICAgaWYgKCF3ZWIzKSB7XHJcbiAgICAgICAgICAgIHdlYjMgPSBhd2FpdCB0aGlzLm1vcmFsaXMuZW5hYmxlV2ViMygpLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBFcnJvckluZm8ucmVwb3J0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIH0pIGFzIGFueTtcclxuICAgICAgICAgICAgaWYgKCF3ZWIzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF3ZWIzLnByb3ZpZGVyLnJlcXVlc3QpIHJldHVybjtcclxuICAgICAgICBsZXQgdGltZW91dCA9IChXYWxsZXRIZWxwZXIuYWRkVG9rZW5GYWxsYmFja0xvYWRlZCA9PT0gdW5kZWZpbmVkKSA/IDIgKiAxMDAwIDogMjAwO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoV2FsbGV0SGVscGVyLmFkZFRva2VuRmFsbGJhY2tMb2FkZWQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBXYWxsZXRIZWxwZXIuYWRkVG9rZW5GYWxsYmFja0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tUaW1lb3V0KSBmYWxsYmFja1RpbWVvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LCB0aW1lb3V0KTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2FzQWRkZWQgPSBhd2FpdCB3ZWIzLnByb3ZpZGVyLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfd2F0Y2hBc3NldCcsXHJcbiAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0VSQzIwJyxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiAxOCxcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogJ2h0dHBzOi8vYXBwLmxpbWluYWwubWFya2V0L2ltZy9sb2dvcy8nICsgYXNzZXQuTG9nbyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkudGhlbigocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgV2FsbGV0SGVscGVyLmFkZFRva2VuRmFsbGJhY2tMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHdhc0FkZGVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgaXNXZWJ2aWV3KHVhOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBpZiBpdCBzYXlzIGl0J3MgYSB3ZWJ2aWV3LCBsZXQncyBnbyB3aXRoIHRoYXRcclxuICAgICAgICBsZXQgcnVsZXMgPSBbJ1dlYlZpZXcnLFxyXG4gICAgICAgICAgICAvLyBpT1Mgd2VidmlldyB3aWxsIGJlIHRoZSBzYW1lIGFzIHNhZmFyaSBidXQgbWlzc2luZyBcIlNhZmFyaVwiXHJcbiAgICAgICAgICAgICcoaVBob25lfGlQb2R8aVBhZCkoPyEuKlNhZmFyaSknLFxyXG4gICAgICAgICAgICAvLyBBbmRyb2lkIExvbGxpcG9wIGFuZCBBYm92ZTogd2VidmlldyB3aWxsIGJlIHRoZSBzYW1lIGFzIG5hdGl2ZSBidXQgaXQgd2lsbCBjb250YWluIFwid3ZcIlxyXG4gICAgICAgICAgICAvLyBBbmRyb2lkIEtpdEthdCB0byBsb2xsaXBvcCB3ZWJ2aWV3IHdpbGwgcHV0IHt2ZXJzaW9ufS4wLjAuMFxyXG4gICAgICAgICAgICAnQW5kcm9pZC4qKHd2fC4wLjAuMCknLFxyXG4gICAgICAgICAgICAvLyBvbGQgY2hyb21lIGFuZHJvaWQgd2VidmlldyBhZ2VudFxyXG4gICAgICAgICAgICAnTGludXg7IFU7IEFuZHJvaWQnLFxyXG4gICAgICAgICAgICAnU0RLJ1xyXG4gICAgICAgIF1cclxuICAgICAgICBsZXQgd2Vidmlld1JlZ0V4cCA9IG5ldyBSZWdFeHAoJygnICsgcnVsZXMuam9pbignfCcpICsgJyknLCAnaWcnKTtcclxuICAgICAgICByZXR1cm4gISF1YS5tYXRjaCh3ZWJ2aWV3UmVnRXhwKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzd2l0Y2hOZXR3b3JrKG5ldHdvcms6IE5ldHdvcmspIDogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgbGV0IHdlYjMgPSB0aGlzLm1vcmFsaXMud2ViMyBhcyBhbnk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB3ZWIzLnByb3ZpZGVyLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXHJcbiAgICAgICAgICAgIHBhcmFtczogW3tjaGFpbklkOiAnMHgnICsgbmV0d29yay5DaGFpbklkLnRvU3RyaW5nKDE2KX1dXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3dpdGNoIHJlc3VsdDonLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChhc3luYyAoZXJyOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGUgY2hhaW4gaGFzIG5vdCBiZWVuIGFkZGVkIHRvIE1ldGFNYXNrXHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IDQ5MDIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgd2ViMy5wcm92aWRlci5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6IG5ldHdvcmsuQ2hhaW5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcweCcgKyBuZXR3b3JrLkNoYWluSWQudG9TdHJpbmcoMTYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUN1cnJlbmN5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ldHdvcmsuTmF0aXZlQ3VycmVuY3lOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogbmV0d29yay5OYXRpdmVEZWNpbWFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IG5ldHdvcmsuTmF0aXZlU3ltYm9sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycGNVcmxzOiBbbmV0d29yay5ScGNVcmxdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGRDaGFpbiByZXN1bHQ6JyArIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBvbiBhZGROZXR3b3JrOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVyYWxFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFdyb25nTmV0d29ya0h0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9Xcm9uZ05ldHdvcmsuaHRtbCc7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBHZW5lcmFsRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3aXRjaE5ldHdvcmtNb2RhbCB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIHNlbGVjdGVkTmV0d29yaz8gOiBOZXR3b3JrO1xyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShXcm9uZ05ldHdvcmtIdG1sKTtcclxuICAgICAgICBsZXQgbmV0d29ya3MgPSBOZXR3b3JrSW5mby5nZXROZXR3b3JrcygpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUoe25ldHdvcmtzOiBuZXR3b3Jrc30pO1xyXG5cclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ1N3aXRjaCBuZXR3b3JrJywgY29udGVudCwgZmFsc2UsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkTmV0d29yaykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgd2FsbGV0SGVscGVyLnN3aXRjaE5ldHdvcmsodGhpcy5zZWxlY3RlZE5ldHdvcmspXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBzZXROZXR3b3JrTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2V0TmV0d29yaycpO1xyXG4gICAgICAgIHNldE5ldHdvcmtMaW5rcy5mb3JFYWNoKHNldE5ldHdvcmtMaW5rID0+IHtcclxuICAgICAgICAgICAgc2V0TmV0d29ya0xpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YXNldCA9IChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE5ldHdvcmsgPSBOZXR3b3JrSW5mby5nZXROZXR3b3JrSW5mb0J5Q2hhaW5JZChwYXJzZUludChkYXRhc2V0LmNoYWluaWQhKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWROZXR3b3JrKSB0aHJvdyBuZXcgR2VuZXJhbEVycm9yKCdDb3VsZCBub3QgZmluZCBjaGFpbklkOicgKyBkYXRhc2V0LmNoYWluaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0FkZGluZ05ldHdvcmsgPSBhd2FpdCB3YWxsZXRIZWxwZXIuc3dpdGNoTmV0d29yayh0aGlzLnNlbGVjdGVkTmV0d29yaylcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yIDogR2VuZXJhbEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc1N3aXRjaE5ldHdvcmtOb3RXb3JraW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzU3dpdGNoTmV0d29ya05vdFdvcmtpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqc1N3aXRjaE5ldHdvcmtOb3RXb3JraW5nKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzU3dpdGNoTmV0d29ya05vdFdvcmtpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzd2l0Y2hOZXR3b3JrSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2hOZXR3b3JrSW5mbycpITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoTmV0d29ya0luZm8uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaENoYWluSWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGRhdGFzZXQuY2hhaW5pZCEgKyAnIG9yIGl0IG1pZ2h0IGJlOiAnICsgJzB4JyArIHBhcnNlSW50KGRhdGFzZXQuY2hhaW5pZCEpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2hDaGFpbk5hbWUnKSEgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSB0aGlzLnNlbGVjdGVkTmV0d29yayEuTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2hDdXJyZW5jeU5hbWUnKSEgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSB0aGlzLnNlbGVjdGVkTmV0d29yayEuTmF0aXZlQ3VycmVuY3lOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaFN5bWJvbCcpISBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IHRoaXMuc2VsZWN0ZWROZXR3b3JrIS5OYXRpdmVTeW1ib2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoRGVjaW1hbCcpICEgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSB0aGlzLnNlbGVjdGVkTmV0d29yayEuTmF0aXZlRGVjaW1hbC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaFJwY1VybCcpISBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IHRoaXMuc2VsZWN0ZWROZXR3b3JrIS5ScGNVcmw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQWRkaW5nTmV0d29yaykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmhpZGVNb2RhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxpbWluYWxfbWFya2V0X2Nvbm5lY3Rfd2FsbGV0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzWzBdLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBNb3JhbGlzIGZyb20gXCJtb3JhbGlzXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0dlbmVyYWxFcnJvclwiO1xyXG5pbXBvcnQgU3dpdGNoTmV0d29ya01vZGFsIGZyb20gXCIuLi8uLi91aS9tb2RhbHMvU3dpdGNoTmV0d29ya01vZGFsXCI7XHJcbmltcG9ydCBNb3JhbGlzV2ViM1Byb3ZpZGVyID0gTW9yYWxpcy5Nb3JhbGlzV2ViM1Byb3ZpZGVyO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aGVudGljYXRlU2VydmljZSB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpc1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGF1dGhlbnRpY2F0ZVVzZXIocHJvdmlkZXI6IGFueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVdlYjNDYWxsYmFjaz86ICh3YWxsZXRDb25uZWN0aW9uSW5mbzogTW9yYWxpc1dlYjNQcm92aWRlcikgPT4gdm9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWRDYWxsYmFjaz86ICh1c2VyOiBNb3JhbGlzLkF0dHJpYnV0ZXMpID0+IHZvaWRcclxuICAgICkge1xyXG4gICAgICAgIGxldCBtb3JhbGlzID0gdGhpcy5tb3JhbGlzO1xyXG4gICAgICAgIGxldCBjaGFpbklkID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKS5DaGFpbklkO1xyXG5cclxuICAgICAgICBsZXQgd2ViM1Jlc3VsdCA9IGF3YWl0IG1vcmFsaXMuZW5hYmxlV2ViMyh7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlcixcclxuICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZCwgYXBwTG9nbzogJ2h0dHBzOi8vYXBwLmxpbWluYWwubWFya2V0L2ltZy9sb2dvcy9kZWZhdWx0X2xvZ28ucG5nJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChhc3luYyAocmVhc29uKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVyYWxFcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGVuYWJsZVdlYjNDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBlbmFibGVXZWIzQ2FsbGJhY2sod2ViM1Jlc3VsdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRlZENhbGxiYWNrKSBhdXRoZW50aWNhdGVkQ2FsbGJhY2sodXNlcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3ZWIzUmVzdWx0Lm5ldHdvcmsuY2hhaW5JZCAhPSBjaGFpbklkKSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyTmV0d29yayA9IE5ldHdvcmtJbmZvLmdldE5ldHdvcmtJbmZvQnlDaGFpbklkKHdlYjNSZXN1bHQubmV0d29yay5jaGFpbklkKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJOZXR3b3JrKSB7XHJcbiAgICAgICAgICAgICAgICBOZXR3b3JrSW5mby5zZXROZXR3b3JrQnlDaGFpbklkKHdlYjNSZXN1bHQubmV0d29yay5jaGFpbklkKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IFN3aXRjaE5ldHdvcmtNb2RhbCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbW9yYWxpcy5hdXRoZW50aWNhdGUoe1xyXG4gICAgICAgICAgICBzaWduaW5nTWVzc2FnZTogXCJZb3UgYXJlIGxvZ2dpbmcgaW50byBMaW1pbmFsLm1hcmtldC5cXG5cXG5cIixcclxuICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxyXG4gICAgICAgICAgICBjaGFpbklkOiBjaGFpbklkXHJcbiAgICAgICAgfSkuY2F0Y2goKHJlYXNvbjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbik7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXJyb3IocmVhc29uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0ZWRDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGVkQ2FsbGJhY2socmVzdWx0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXRoQWRkcmVzcygpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCB1c2VyID0gdGhpcy5nZXRVc2VyKCk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSByZXR1cm4gJyc7XHJcblxyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdXNlci5nZXQoJ2V0aEFkZHJlc3MnKTtcclxuICAgICAgICByZXR1cm4gZXRoQWRkcmVzcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNXYWxsZXRDb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9yYWxpcy5pc1dlYjNFbmFibGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVXNlckxvZ2dlZEluKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpICE9PSBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2hhaW5JZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5tb3JhbGlzLmNoYWluSWQpIHJldHVybiAwO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5tb3JhbGlzLmNoYWluSWQsIDE2KTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZW51bSBXYWxsZXRUeXBlIHtcclxuICAgIE1ldGFtYXNrID0gJ21ldGFtYXNrJyxcclxuICAgIFdhbGxldENvbm5lY3QgPSAnd2FsbGV0Q29ubmVjdCcsXHJcbiAgICBDb2luYmFzZVdhbGxldCA9ICdjb2luYmFzZScsXHJcbiAgICBVbmtub3duID0gJ3Vua25vd24nXHJcbn0iLCJpbXBvcnQge1dhbGxldFR5cGV9IGZyb20gXCIuLi9lbnVtcy9XYWxsZXRUeXBlXCI7XHJcbmltcG9ydCBNb3JhbGlzIGZyb20gXCJtb3JhbGlzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlckluZm8ge1xyXG5cclxuICAgIHdhbGxldENvbm5lY3Rpb25JbmZvIDogYW55O1xyXG5cclxuICAgIFByb3ZpZGVyTmFtZSA6IHN0cmluZyA9ICd1bmtub3duJztcclxuICAgIFdhbGxldE5hbWUgOiBzdHJpbmcgPSAnJztcclxuICAgIFdhbGxldFVybCA6IHN0cmluZyA9ICcnO1xyXG4gICAgV2FsbGV0VHlwZSA6IFdhbGxldFR5cGUgPSBXYWxsZXRUeXBlLlVua25vd247XHJcbiAgICBDaGFpbklkIDogbnVtYmVyID0gMDtcclxuICAgIFVzZXJBZGRyZXNzIDogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgc3RhdGljIEluc3RhbmNlIDogUHJvdmlkZXJJbmZvO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHdhbGxldENvbm5lY3Rpb25JbmZvIDogYW55KSB7XHJcbiAgICAgICAgaWYgKCF3YWxsZXRDb25uZWN0aW9uSW5mbyB8fCAhd2FsbGV0Q29ubmVjdGlvbkluZm8ucHJvdmlkZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy53YWxsZXRDb25uZWN0aW9uSW5mbyA9IHdhbGxldENvbm5lY3Rpb25JbmZvO1xyXG5cclxuICAgICAgICBpZiAodGhpcy53YWxsZXRDb25uZWN0aW9uSW5mby5jb25uZWN0aW9uICYmIHRoaXMud2FsbGV0Q29ubmVjdGlvbkluZm8uY29ubmVjdGlvbi51cmwgPT0gJ21ldGFtYXNrJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRNZXRhbWFzayh3YWxsZXRDb25uZWN0aW9uSW5mbyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLndhbGxldENvbm5lY3Rpb25JbmZvLnByb3ZpZGVyLndjKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFdhbGxldENvbm5lY3Qod2FsbGV0Q29ubmVjdGlvbkluZm8pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RvbnQgaGF2ZSBwcm92aWRlciBmb3IgdGhpcycsIHdhbGxldENvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUHJvdmlkZXJJbmZvLkluc3RhbmNlID0gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgbG9hZE1ldGFtYXNrKHdhbGxldENvbm5lY3Rpb25JbmZvIDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5Qcm92aWRlck5hbWUgPSAnbWV0YW1hc2snO1xyXG4gICAgICAgIHRoaXMuV2FsbGV0TmFtZSA9IFwiTWV0YW1hc2tcIjtcclxuICAgICAgICB0aGlzLldhbGxldFVybCA9ICdodHRwczovL21ldGFtYXNrLmlvLyc7XHJcbiAgICAgICAgdGhpcy5XYWxsZXRUeXBlID0gV2FsbGV0VHlwZS5NZXRhbWFzaztcclxuICAgICAgICB0aGlzLkNoYWluSWQgPSB3YWxsZXRDb25uZWN0aW9uSW5mby5wcm92aWRlci5jaGFpbklkO1xyXG4gICAgICAgIHRoaXMuVXNlckFkZHJlc3MgPSB3YWxsZXRDb25uZWN0aW9uSW5mby5wcm92aWRlci5zZWxlY3RlZEFkZHJlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkV2FsbGV0Q29ubmVjdCh3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueSkge1xyXG4gICAgICAgIGxldCB3YyA9IHdhbGxldENvbm5lY3Rpb25JbmZvLnByb3ZpZGVyLndjO1xyXG5cclxuICAgICAgICB0aGlzLlByb3ZpZGVyTmFtZSA9IFwid2FsbGV0Q29ubmVjdFwiO1xyXG4gICAgICAgIHRoaXMuV2FsbGV0TmFtZSA9IHdjLl9wZWVyTWV0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuV2FsbGV0VXJsID0gd2MuX3BlZXJNZXRhLnVybCA/PyAnJztcclxuICAgICAgICB0aGlzLldhbGxldFR5cGUgPSBXYWxsZXRUeXBlLldhbGxldENvbm5lY3Q7XHJcbiAgICAgICAgdGhpcy5DaGFpbklkID0gd2FsbGV0Q29ubmVjdGlvbkluZm8ucHJvdmlkZXIuY2hhaW5JZDtcclxuICAgIH1cclxufSIsImltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uL2Jyb2tlci9NYXJrZXRTZXJ2aWNlXCI7XHJcbmltcG9ydCBDb29raWVIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvQ29va2llSGVscGVyXCI7XHJcbmltcG9ydCBBdXRoZW50aWNhdGVTZXJ2aWNlIGZyb20gXCIuL0F1dGhlbnRpY2F0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IFByb3ZpZGVySW5mbyBmcm9tIFwiLi4vLi4vd2FsbGV0L1Byb3ZpZGVySW5mb1wiO1xyXG5pbXBvcnQgV2FsbGV0SGVscGVyIGZyb20gXCIuLi8uLi91dGlsL1dhbGxldEhlbHBlclwiO1xyXG5pbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi8uLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBLeWNSZXN1bHQgZnJvbSBcIi4uLy4uL2R0by9LeWNSZXN1bHRcIjtcclxuaW1wb3J0IHtCYW5rUmVsYXRpb25zaGlwfSBmcm9tIFwiLi4vLi4vZHRvL2FscGFjYS9CYW5rUmVsYXRpb25zaGlwXCI7XHJcbmltcG9ydCB7VHJhbnNmZXJ9IGZyb20gXCIuLi8uLi9kdG8vYWxwYWNhL1RyYW5zZmVyXCI7XHJcbmltcG9ydCB7VHJhbnNmZXJEaXJlY3Rpb25FbnVtfSBmcm9tIFwiLi4vLi4vZW51bXMvVHJhbnNmZXJEaXJlY3Rpb25FbnVtXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlclNlcnZpY2Uge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcz86IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgaWYgKCFtb3JhbGlzKSBtb3JhbGlzID0gTW9yYWxpc1xyXG5cclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvZ0luKCkge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9yYWxpcy5hdXRoZW50aWNhdGUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9nT3V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vcmFsaXMuVXNlci5sb2dPdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaXNMb2dnZWRJbihsb2FkaW5nTWVzc2FnZTogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnRBc3luYygpO1xyXG5cclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICBsZXQgY29va2llSGVscGVyID0gbmV3IENvb2tpZUhlbHBlcihkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIGxldCBwcm92aWRlck5hbWUgPSBjb29raWVIZWxwZXIuZ2V0Q29va2llVmFsdWUoJ3Byb3ZpZGVyJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgd2FsbGV0SGVscGVyID0gbmV3IFdhbGxldEhlbHBlcih0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBpZiAod2FsbGV0SGVscGVyLmlzV2Vidmlldyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpIHByb3ZpZGVyTmFtZSA9ICcgJztcclxuXHJcbiAgICAgICAgICAgIGlmICghcHJvdmlkZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9yYWxpcy5pc1dlYjNFbmFibGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHIgPSAnV2UgYXJlIHNlbmRpbmcgbG9naW4gcmVxdWVzdCB0byB5b3VyIHdhbGxldC4gSWYgeW91IGNhbmNlbCB3ZSB3aWxsIHNpbXBseSBsb2cgeW91IG91dC4gWW91IGNhbiBhbHdheXMgbG9nIGFnYWluIGluLic7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gJzxidXR0b24gaWQ9XCJsb2dvdXRCdXR0b25cIj5Mb2dvdXQ8L2J1dHRvbj4nXHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nTWVzc2FnZS5pbm5lckhUTUwgPSBzdHI7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvdXRCdXR0b24nKTtcclxuICAgICAgICAgICAgICAgIGlmIChsb2dvdXRCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dvdXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9yYWxpcy5Vc2VyLmxvZ091dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMubW9yYWxpcy5lbmFibGVXZWIzKHtwcm92aWRlcjogcHJvdmlkZXJOYW1lIGFzIGFueX0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGFzeW5jIHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQocmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwcm92aWRlckluZm86IFByb3ZpZGVySW5mbyA9IG5ldyBQcm92aWRlckluZm8obnVsbCk7XHJcbiAgICAgICAgICAgIGxldCBhdXRoZW50aWNhdGlvblNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCBhdXRoZW50aWNhdGlvblNlcnZpY2UuYXV0aGVudGljYXRlVXNlcihwcm92aWRlck5hbWUsICh3YWxsZXRDb25uZWN0aW9uSW5mbykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJJbmZvID0gbmV3IFByb3ZpZGVySW5mbyh3YWxsZXRDb25uZWN0aW9uSW5mbyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAodXNlciBhcyBhbnkpLnByb3ZpZGVySW5mbyA9IHByb3ZpZGVySW5mbztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFzeW5jIGlzTWFya2V0T3Blbk9yVXNlck9mZkhvdXJzKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCBtYXJrZXRTZXJ2aWNlID0gbmV3IE1hcmtldFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgaXNPcGVuID0gYXdhaXQgbWFya2V0U2VydmljZS5pc01hcmtldE9wZW4oKTtcclxuICAgICAgICBpZiAoaXNPcGVuKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICAvL1RPRE86IFJlbW92ZSBvbiBtYWlubmV0IGxhdW5jaFxyXG4gICAgICAgIGlmICghbmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRVc2VyKCkgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRBbHBhY2FJZCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGxldCB1c2VyID0gdGhpcy5nZXRVc2VyKCk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSByZXR1cm4gJyc7XHJcblxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgdXNlci5mZXRjaCgpKS5nZXQoJ2FscGFjYUlkJykudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QWNjb3VudCgpIHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMuZ2V0VXNlcigpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignYWNjb3VudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEV0aEFkZHJlc3MoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRVc2VyKCk/LmdldCgnZXRoQWRkcmVzcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBreWNBY3Rpb25SZXF1aXJlZCgpOiBQcm9taXNlPEt5Y1Jlc3VsdD4ge1xyXG4gICAgICAgIGxldCBreWNSZXN1bHRzID0gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigna3ljQWN0aW9uUmVxdWlyZWQnKSBhcyBLeWNSZXN1bHQ7XHJcbiAgICAgICAgcmV0dXJuIGt5Y1Jlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZU5hbWUoZ2l2ZW5fbmFtZTogc3RyaW5nLCBtaWRkbGVfbmFtZTogc3RyaW5nLCBmYW1pbHlfbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ3VwZGF0ZU5hbWUnLCB7XHJcbiAgICAgICAgICAgIGdpdmVuX25hbWU6IGdpdmVuX25hbWUsXHJcbiAgICAgICAgICAgIG1pZGRsZV9uYW1lOiBtaWRkbGVfbmFtZSxcclxuICAgICAgICAgICAgZmFtaWx5X25hbWU6IGZhbWlseV9uYW1lXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlQ29udGFjdChkYXRhOiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigndXBkYXRlQ29udGFjdCcsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVUcnVzdGVkQ29udGFjdChkYXRhOiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigndXBkYXRlVHJ1c3RlZENvbnRhY3QnLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlQWNoUmVsYXRpb25zaGlwKHB1YmxpY190b2tlbjogc3RyaW5nLCBhY2NvdW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCdjcmVhdGVBY2hSZWxhdGlvbnNoaXAnLCB7XHJcbiAgICAgICAgICAgIHB1YmxpY190b2tlbjogcHVibGljX3Rva2VuLFxyXG4gICAgICAgICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQbGFpZExpbmtUb2tlbigpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignY3JlYXRlUGxhaWRMaW5rVG9rZW4nKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRCYW5rUmVsYXRpb25zaGlwKCk6IFByb21pc2U8QmFua1JlbGF0aW9uc2hpcD4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCdnZXRCYW5rUmVsYXRpb25zaGlwJykgYXMgQmFua1JlbGF0aW9uc2hpcFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRMYXRlc3RUcmFuc2ZlcnMoZGlyZWN0aW9uOiBUcmFuc2ZlckRpcmVjdGlvbkVudW0pIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignZ2V0VHJhbnNmZXJzJywge2RpcmVjdGlvbjogZGlyZWN0aW9ufSkgYXMgVHJhbnNmZXJbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlVHJhbnNmZXIoYW1vdW50OiBzdHJpbmcsIGRpcmVjdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2NyZWF0ZVRyYW5zZmVyJyxcclxuICAgICAgICAgICAge2Ftb3VudDogYW1vdW50LCBkaXJlY3Rpb246IGRpcmVjdGlvbn0pXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlVHJhbnNmZXIoaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCdkZWxldGVUcmFuc2ZlcicsIHtpZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXJXaXJlVHJhbnNmZXJSZWxhdGlvbnNoaXAocGFyYW1zOiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignY3JlYXRlV2lyZVJlbGF0aW9uc2hpcCcsIHBhcmFtcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29udHJhY3RBZGRyZXNzZXMgZnJvbSBcIi4vQ29udHJhY3RBZGRyZXNzZXNcIjtcclxuaW1wb3J0IG11bWJhaUNvbnRyYWN0QWRkcmVzc2VzIGZyb20gXCIuL211bWJhaS1jb250cmFjdC1hZGRyZXNzZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGxvY2FsaG9zdENvbnRyYWN0QWRkcmVzc2VzIGltcGxlbWVudHMgbXVtYmFpQ29udHJhY3RBZGRyZXNzZXMge1xyXG5cclxuICAgIE5ldHdvcmtOYW1lID0gXCJsb2NhbGhvc3RcIlxyXG4gICAgS1lDX0FERFJFU1MgPSBcIjB4Mjg1NmEwQzgwMzRiRjg4NzkyODg0NUQwNTE3OTg0N2UwQURDMjIwOVwiO1xyXG4gICAgQVVTRF9BRERSRVNTID0gXCIweDZhQ0U3MTJENDEyZTk5NzI3YURmMjI3MkJFMjRmOGU0NWFGNzYyNzBcIjtcclxuICAgIExJTUlOQUxfTUFSS0VUX0FERFJFU1MgPSBcIjB4YmQxMjcwZjNmODE3NTkyN0ZlNDI3YTIyMGI5MjUzYjM2MEJlNTJCZFwiO1xyXG4gICAgTUFSS0VUX0NBTEVOREFSX0FERFJFU1MgPSBcIjB4NDU5MjM5RDk2OTc2NDQwZDY4ZmQ3OGUxNDAxOTgzMzc2ODQwZDU2M1wiO1xyXG5cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBDb250cmFjdEFkZHJlc3NlcyB7XHJcblxyXG4gICAgS1lDX0FERFJFU1MgPSBcIjB4RUJDNjg4RGFGMDkyNEQxQTNiOTVCODY5NzE3Yjk4NzA4N0E1MjE1NlwiO1xyXG4gICAgQVVTRF9BRERSRVNTID0gXCIweDhFMzJmMjc0NDc2Q0UyM0Q2NGFlMDAzN0NFODBDRThiOEQ2NzA2NThcIjtcclxuICAgIExJTUlOQUxfTUFSS0VUX0FERFJFU1MgPSBcIjB4ZThDOEM5RmY5NDRjMDQzMThmNDNGRTE0NzlBMWQ1MUVCQWYyRUJEOFwiO1xyXG59IiwiaW1wb3J0IENvbnRyYWN0QWRkcmVzc2VzIGZyb20gXCIuL0NvbnRyYWN0QWRkcmVzc2VzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyByaW5rZWJ5Q29udHJhY3RBZGRyZXNzZXMgZXh0ZW5kcyBDb250cmFjdEFkZHJlc3Nlc3tcclxuXHJcblx0S1lDX0FERFJFU1MgPSBcIjB4MWQ4QWVhQzRjRWFCZTk4NWUxQUQ3M0I4RjA5YWU1NzI4NDgzNEZkN1wiO1xyXG5cdEFVU0RfQUREUkVTUyA9IFwiMHg0OTI1ZjM1RGIyYjNmQjdGRjJBNUYwNTI1RGEyOUNCNEY1RjEyY0FjXCI7XHJcblx0TElNSU5BTF9NQVJLRVRfQUREUkVTUyA9IFwiMHhGQmFBYjlGMzk0RjFhQTgwMTgyZEQ2RkZiNTE4N0U0OGNBRkI5OTIyXCI7XHJcblx0VVNEQ19BRERSRVNTID0gXCIweDREQkNkRjlCNjJlODkxYTdjZWM1QTI1NjhDM0Y0RkFGOUU4QWJlMmJcIjtcclxufSIsImltcG9ydCBDb250cmFjdEFkZHJlc3NlcyBmcm9tIFwiLi9Db250cmFjdEFkZHJlc3Nlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbXVtYmFpQ29udHJhY3RBZGRyZXNzZXMgaW1wbGVtZW50cyBDb250cmFjdEFkZHJlc3NlcyB7XHJcblxyXG4gICAgTmV0d29ya05hbWUgPSBcIm11bWJhaVwiXHJcbiAgICBLWUNfQUREUkVTUyA9IFwiMHgzMkQ2NjQ2MDNFNDUzNzBFNjcwQmJCMTViYjQwQTQ5MTg0NjhCYzkzXCI7XHJcbiAgICBBVVNEX0FERFJFU1MgPSBcIjB4ZkYxNEU5QzQ0ZTFCZjM4OTRBRDMxNzNGOTQ5MGI4YTQ4MjNGMmM2M1wiO1xyXG4gICAgTElNSU5BTF9NQVJLRVRfQUREUkVTUyA9IFwiMHhmOWM0QzA4NzQwQ2E2MTlmZUIwM2MxNEY5YkUxZGY3MzRDQjUzZWNhXCI7XHJcbiAgICBNQVJLRVRfQ0FMRU5EQVJfQUREUkVTUyA9IFwiMHgxYzRlMUY0N0JlNjkwMkFDRTYxRTdDMDFDMTc5MDE3ODZCNjc2ZWM4XCI7XHJcblxyXG59IiwiaW1wb3J0IENvbnRyYWN0QWRkcmVzc2VzIGZyb20gXCIuL0NvbnRyYWN0QWRkcmVzc2VzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBmdWppQ29udHJhY3RBZGRyZXNzZXMgaW1wbGVtZW50cyBDb250cmFjdEFkZHJlc3NlcyB7XHJcblxyXG4gICAgTmV0d29ya05hbWUgPSBcImZ1amlcIlxyXG4gICAgS1lDX0FERFJFU1MgPSBcIjB4MDU5NEQwNEZEQjVDOThGYjdGNzc3YTc5OTEzOTQyNEFlMjQxNEFhRFwiO1xyXG4gICAgQVVTRF9BRERSRVNTID0gXCIweGJBYzQ4MmFFMGIwZDY1Mjg1NGRmMzc3YmU1NjY0NDU5ODRBMDIxRURcIjtcclxuICAgIExJTUlOQUxfTUFSS0VUX0FERFJFU1MgPSBcIjB4MDk4QTUxMkIwMTc0MDgwMDhhMjNFQ2UyMjg0Mzc4ODc5OUNEZWJGZFwiO1xyXG4gICAgTUFSS0VUX0NBTEVOREFSX0FERFJFU1MgPSBcIjB4NzdFNkE2MkJlODM5OEIxOGQyZEE4MUNEQjZFYjA5N2JEODEzMmNjQlwiO1xyXG5cclxufSIsImltcG9ydCBsb2NhbGhvc3RDb250cmFjdEFkZHJlc3NlcyBmcm9tICcuL2xvY2FsaG9zdC1jb250cmFjdC1hZGRyZXNzZXMnO1xyXG5pbXBvcnQgcmlua2VieUNvbnRyYWN0QWRkcmVzc2VzIGZyb20gJy4vcmlua2VieS1jb250cmFjdC1hZGRyZXNzZXMnO1xyXG5pbXBvcnQgbXVtYmFpQ29udHJhY3RBZGRyZXNzZXMgZnJvbSAnLi9tdW1iYWktY29udHJhY3QtYWRkcmVzc2VzJztcclxuaW1wb3J0IGZ1amlDb250cmFjdEFkZHJlc3NlcyBmcm9tICcuL2Z1amktY29udHJhY3QtYWRkcmVzc2VzJztcclxuaW1wb3J0IENvbnRyYWN0QWRkcmVzc2VzIGZyb20gXCIuL0NvbnRyYWN0QWRkcmVzc2VzXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cmFjdEluZm8ge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldENvbnRyYWN0SW5mbyhuZXR3b3JrTmFtZT86IHN0cmluZyk6IENvbnRyYWN0QWRkcmVzc2VzIHtcclxuICAgICAgICBsZXQgY29udHJhY3RJbmZvczogYW55ID0ge1xyXG4gICAgICAgICAgICBsb2NhbGhvc3RDb250cmFjdEFkZHJlc3Nlcywgcmlua2VieUNvbnRyYWN0QWRkcmVzc2VzLFxyXG4gICAgICAgICAgICBtdW1iYWlDb250cmFjdEFkZHJlc3NlcywgZnVqaUNvbnRyYWN0QWRkcmVzc2VzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKCFuZXR3b3JrTmFtZSkge1xyXG4gICAgICAgICAgICBuZXR3b3JrTmFtZSA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCkuTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udHJhY3RJbmZvVHlwZSA9IGNvbnRyYWN0SW5mb3NbbmV0d29ya05hbWUgKyAnQ29udHJhY3RBZGRyZXNzZXMnXTtcclxuICAgICAgICByZXR1cm4gbmV3IGNvbnRyYWN0SW5mb1R5cGUoKTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxkaXYgY2xhc3M9XFxcImNlbnRlclxcXCI+XFxyXFxuICAgIFRoZSBzdG9jayBtYXJrZXQgaXMgY3VycmVudGx5IGNsb3NlZC48YnIvPlxcclxcbkl0IGlzIHVzdWFsbHkgb3BlbiBtb25kYXkgdG8gZnJpZGF5IGJldHdlZW4gOTozMCBBTSBhbmQgNDowMCBQTSBFU1QgKDk6MzAgLSAxNjowMCBFU1QpLlxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuVG9kYXkgaXMge3tkYXlPZldlZWt9fVxcclxcbjxiciAvPjxici8+XFxyXFxuWW91ciBjdXJyZW50IHRpbWUgaXMge3tjdXJyZW50VGltZX19ICh7e0dNVH19KVxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuVGhhdCBtZWFucyB0aGUgbWFya2V0IGlzIG9wZW4geW91ciB0aW1lIGJldHdlZW5cXHJcXG57e29wZW5Gcm9tfX0gLSB7e29wZW5Ub319XFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGVIZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNPbGRlclRoZW4oZGF0ZSA6IERhdGUsIG1pbnV0ZXMgOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICByZXR1cm4gKGN1cnJlbnRUaW1lID4gKGRhdGUuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwICogMTAwMCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFdlZWtkYXkoKSB7XHJcbiAgICAgICAgY29uc3Qgd2Vla2RheSA9IFtcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdO1xyXG5cclxuICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICByZXR1cm4gd2Vla2RheVtkLmdldERheSgpXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE9wZW5BbmRDbG9zZUhvdXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICBsZXQgb3BlbkhvdXIgPSA5ICsgNCArICgtMSAqIChkLmdldFRpbWV6b25lT2Zmc2V0KCkvNjApKTtcclxuICAgICAgICBsZXQgY2xvc2VIb3VyID0gMTYgKyA0ICsgKC0xICogKGQuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCkpO1xyXG4gICAgICAgIHJldHVybiBbb3BlbkhvdXIgKyAnOjMwJywgY2xvc2VIb3VyICsgJzowMCddXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi91aS9tb2RhbHMvTW9kYWxcIjtcclxuaW1wb3J0IE1hcmtldElzQ2xvc2VkSHRtbCBmcm9tIFwiLi4vaHRtbC9tb2RhbC9NYXJrZXRJc0Nsb3NlZC5odG1sXCI7XHJcbmltcG9ydCBEYXRlSGVscGVyIGZyb20gXCIuLi91dGlsL0RhdGVIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsb2NrY2hhaW5FcnJvciBleHRlbmRzIEdlbmVyYWxFcnJvciB7XHJcbiAgICBzdGF0aWMgRXJyb3JGcm9tQ29udHJhY3QgPSAtMTtcclxuICAgIHN0YXRpYyBVc2VyQ2FuY2VsbGVkID0gMTtcclxuICAgIHN0YXRpYyBBZGRyZXNzSXNOb3RWYWxpZEtZQyA9IDI7XHJcbiAgICBzdGF0aWMgTWFya2V0SXNDbG9zZWQgPSAzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGUgOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihlKTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJEZW5pZWRUcmFuc2FjdGlvblNpZ25hdHVyZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IEJsb2NrY2hhaW5FcnJvci5Vc2VyQ2FuY2VsbGVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hZGRyZXNzSXNOb3RWYWxpZEtZQygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IEJsb2NrY2hhaW5FcnJvci5BZGRyZXNzSXNOb3RWYWxpZEtZQztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNNYXJrZXRDbG9zZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBCbG9ja2NoYWluRXJyb3IuTWFya2V0SXNDbG9zZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSB0aGlzLm1hcmtldElzQ2xvc2VkTW9kYWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZS5kYXRhICYmIGUuZGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGxldCBtc2cgOiBzdHJpbmcgPSBlLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgbGV0IHNlYXJjaFN0ciA9ICdyZXZlcnRlZCB3aXRoIHJlYXNvbiBzdHJpbmcnO1xyXG4gICAgICAgICAgICBsZXQgaWR4ID0gbXNnLmluZGV4T2Yoc2VhcmNoU3RyKSArIHNlYXJjaFN0ci5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG1zZy5zdWJzdHJpbmcoaWR4KS50cmltKCkucmVwbGFjZSgvJy9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvZGUgPSBCbG9ja2NoYWluRXJyb3IuRXJyb3JGcm9tQ29udHJhY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZXJEZW5pZWRUcmFuc2FjdGlvblNpZ25hdHVyZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlLmluZGV4T2YoJ2RlbmllZCB0cmFuc2FjdGlvbiBzaWduYXR1cmUnKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZHJlc3NJc05vdFZhbGlkS1lDKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuaW5kZXhPZignYWRkcmVzcyBpcyBub3Qga3ljIHZhbGlkJykgIT09IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc01hcmtldENsb3NlZCgpIHtcclxuICAgICAgICBsZXQgc2VhcmNoU3RyID0gJ01hcmtldCBpcyBjbG9zZWQnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuaW5kZXhPZihzZWFyY2hTdHIpICE9PSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFya2V0SXNDbG9zZWRNb2RhbCgpIHtcclxuICAgICAgICBsZXQgW29wZW5Ib3VyLCBjbG9zZUhvdXJdID0gRGF0ZUhlbHBlci5nZXRPcGVuQW5kQ2xvc2VIb3VycygpO1xyXG4gICAgICAgIGxldCB0aW1lID0gbmV3IERhdGUoKS50b1RpbWVTdHJpbmcoKS5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiB0aW1lWzBdLFxyXG4gICAgICAgICAgICBHTVQ6IHRpbWVbMV0sXHJcbiAgICAgICAgICAgIGRheU9mV2VlayA6IERhdGVIZWxwZXIuZ2V0V2Vla2RheSgpLFxyXG4gICAgICAgICAgICBvcGVuRnJvbSA6IG9wZW5Ib3VyLFxyXG4gICAgICAgICAgICBvcGVuVG8gOiBjbG9zZUhvdXJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShNYXJrZXRJc0Nsb3NlZEh0bWwpO1xyXG4gICAgICAgIG1vZGFsLnNob3dNb2RhbCgnTWFya2V0IGlzIGNsb3NlZCcsIHRlbXBsYXRlKG9iaikpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi8uLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBHZW5lcmFsRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi8uLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2tjaGFpblNlcnZpY2Uge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBleGVjdXRlRnVuY3Rpb24ob3B0aW9uczogYW55KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldGhlcmV1bSAhPSAndW5kZWZpbmVkJyAmJiBldGhlcmV1bSAmJiBldGhlcmV1bS5jaGFpbklkKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldE5ldHdvcmtJbmZvQnlDaGFpbklkKGV0aGVyZXVtLmNoYWluSWQpO1xyXG4gICAgICAgICAgICBpZiAoIW5ldHdvcmtJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEVycm9yKCdjaGFpbiBub3Qgc3VwcG9ydGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKG9wdGlvbnMpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29udHJhY3RJbmZvIGZyb20gXCIuLi8uLi9jb250cmFjdHMvQ29udHJhY3RJbmZvXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IEJsb2NrY2hhaW5FcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0Jsb2NrY2hhaW5FcnJvclwiO1xyXG5pbXBvcnQgQmxvY2tjaGFpblNlcnZpY2UgZnJvbSBcIi4vQmxvY2tjaGFpblNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbWluYWxNYXJrZXRTZXJ2aWNlIGV4dGVuZHMgQmxvY2tjaGFpblNlcnZpY2Uge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIExpbWluYWxNYXJrZXRJbmZvOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICBzdXBlcihtb3JhbGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5nZXRPcHRpb25zKFwiZ2V0U2VjdXJpdHlUb2tlblwiLCB7XHJcbiAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sXHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlRnVuY3Rpb24ob3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRPcHRpb25zKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwYXJhbXM6IGFueSkge1xyXG4gICAgICAgIGxldCBjb250cmFjdEluZm8gPSBDb250cmFjdEluZm8uZ2V0Q29udHJhY3RJbmZvKCk7XHJcbiAgICAgICAgbGV0IGFiaSA9IGF3YWl0IHRoaXMuZ2V0TGltaW5hbE1hcmtldEFiaSgpO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6IGNvbnRyYWN0SW5mby5MSU1JTkFMX01BUktFVF9BRERSRVNTLFxyXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcclxuICAgICAgICAgICAgYWJpOiBhYmksXHJcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldExpbWluYWxNYXJrZXRBYmkoKSB7XHJcbiAgICAgICAgaWYgKExpbWluYWxNYXJrZXRTZXJ2aWNlLkxpbWluYWxNYXJrZXRJbmZvKSByZXR1cm4gTGltaW5hbE1hcmtldFNlcnZpY2UuTGltaW5hbE1hcmtldEluZm8uYWJpO1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnLi4vYWJpL0xpbWluYWxNYXJrZXQuanNvbicpO1xyXG4gICAgICAgIExpbWluYWxNYXJrZXRTZXJ2aWNlLkxpbWluYWxNYXJrZXRJbmZvID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHJldHVybiBMaW1pbmFsTWFya2V0U2VydmljZS5MaW1pbmFsTWFya2V0SW5mby5hYmk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZVRva2VuKHN5bWJvbDogc3RyaW5nLCBjcmVhdGluZ1Rva2VuIDogKCkgPT4gdm9pZCk6IFByb21pc2U8c3RyaW5nIHwgQmxvY2tjaGFpbkVycm9yPiB7XHJcbiAgICAgICAgbGV0IHNhbHQgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgc2FsdCA9IHNhbHQuc3Vic3RyaW5nKDAsIHNhbHQuaW5kZXhPZignLicpKTtcclxuICAgICAgICBjb25zdCBsaW1pbmFsT3B0aW9ucyA9IGF3YWl0IHRoaXMuZ2V0T3B0aW9ucyhcImNyZWF0ZVRva2VuXCIsIHtcclxuICAgICAgICAgICAgc3ltYm9sOiBzeW1ib2wsXHJcbiAgICAgICAgICAgIHNhbHQgOiBzYWx0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVGdW5jdGlvbihsaW1pbmFsT3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgYXMgdHlwZW9mIEV4ZWN1dGVGdW5jdGlvbkNhbGxSZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2tjaGFpbkVycm9yID0gbmV3IEJsb2NrY2hhaW5FcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrY2hhaW5FcnJvci51c2VyRGVuaWVkVHJhbnNhY3Rpb25TaWduYXR1cmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9ja2NoYWluRXJyb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvckluZm8ucmVwb3J0KGJsb2NrY2hhaW5FcnJvcik7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEJsb2NrY2hhaW5FcnJvcikgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgY3JlYXRpbmdUb2tlbigpO1xyXG4gICAgICAgIGF3YWl0IChyZXN1bHQgYXMgdHlwZW9mIEV4ZWN1dGVGdW5jdGlvbkNhbGxSZXN1bHQpLndhaXQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbCk7XHJcbiAgICB9XHJcblxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWd1cmU+XFxyXFxuICAgIDx0YWJsZSBpZD1cXFwibGltaW5hbF9tYXJrZXRfc2VjdXJpdGllc190YWJsZVxcXCIgcm9sZT1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgIDx0aGVhZD5cXHJcXG4gICAgPHRyPlxcclxcbiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjJcXFwiPjxpbnB1dCBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgdHlwZT1cXFwic2VhcmNoXFxcIiBpZD1cXFwic2VhcmNoX2Zvcl9zeW1ib2xcXFwiIHBsYWNlaG9sZGVyPVxcXCJTZWFyY2ggZm9yIG5hbWUgb3Igc3ltYm9sIGluIHt7c2VjdXJpdGllc0NvdW50fX0gc3RvY2tzXFxcIj48L3RoPlxcclxcbiAgICA8L3RyPlxcclxcbiAgICA8L3RoZWFkPlxcclxcbiAgICA8dGJvZHkgaWQ9XFxcInt7dGJvZHlJZH19XFxcIj5cXHJcXG4gICAge3s+c2VjdXJpdGllc319XFxyXFxuICAgIDwvdGJvZHk+XFxyXFxuPC90YWJsZT5cXHJcXG48c3BhbiBpZD1cXFwibGltaW5hbF9tYXJrZXRfbG9hZF9tb3JlXFxcIj48L3NwYW4+XFxyXFxuPC9maWd1cmU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcInt7I2VhY2ggc2VjdXJpdGllc319XFxyXFxuPHRyIGRhdGEtc3ltYm9sPVxcXCJ7e3tTeW1ib2x9fX1cXFwiIGRhdGEtbG9nbz1cXFwie3tMb2dvUGF0aH19e3tMb2dvfX1cXFwiIGRhdGEtbmFtZT1cXFwie3tOYW1lfX1cXFwiPlxcclxcbiAgICA8dGQgY2xhc3M9XFxcInN5bWJvbF9sb2dvXFxcIj48aW1nIHNyYz1cXFwie3tMb2dvUGF0aH19e3tMb2dvfX1cXFwiLz48L3RkPlxcclxcbiAgICA8dGQgY2xhc3M9XFxcInNlY3VyaXR5X2luZm9ybWF0aW9uXFxcIj5cXHJcXG4gICAgICAgIDxzdHJvbmc+e3tOYW1lfX08L3N0cm9uZz48YnIvPlxcclxcbiAgICAgICAgPG5hdiBjbGFzcz1cXFwic2VjdXJpdHlfZXh0cmFcXFwiPlxcclxcbiAgICAgICAgICAgIDx1bD5cXHJcXG4gICAgICAgICAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9zdHJpa2UubWFya2V0L3N0b2Nrcy97e1N5bWJvbH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tTeW1ib2x9fTwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICA8L3VsPlxcclxcbiAgICAgICAgICAgIDx1bD5cXHJcXG4gICAgICAgICAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiZ2V0QWRkcmVzc1xcXCIgZGF0YS1zeW1ib2w9XFxcInt7U3ltYm9sfX1cXFwiPkdldCBhZGRyZXNzPC9hPlxcclxcbiAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDwvdWw+XFxyXFxuICAgICAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgICAgICA8bGk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJhZGRUb1dhbGxldFxcXCIgZGF0YS1zeW1ib2w9XFxcInt7U3ltYm9sfX1cXFwiPkFkZCB0byB3YWxsZXQ8L2E+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGk+XFxyXFxuICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgIDwvbmF2PlxcclxcbiAgICA8L3RkPlxcclxcbjwvdHI+XFxyXFxue3svZWFjaH19XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvcHlIZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBmYWxsYmFja0NvcHlUZXh0VG9DbGlwYm9hcmQodGV4dCA6IHN0cmluZykge1xyXG4gICAgICAgIGxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcclxuICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XHJcblxyXG4gICAgICAgIC8vIEF2b2lkIHNjcm9sbGluZyB0byBib3R0b21cclxuICAgICAgICB0ZXh0QXJlYS5zdHlsZS50b3AgPSBcIjBcIjtcclxuICAgICAgICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcbiAgICAgICAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xyXG4gICAgICAgIHRleHRBcmVhLmZvY3VzKCk7XHJcbiAgICAgICAgdGV4dEFyZWEuc2VsZWN0KCk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NmdWw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBjb3B5VGV4dFRvQ2xpcGJvYXJkKHRleHQgOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIW5hdmlnYXRvci5jbGlwYm9hcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tDb3B5VGV4dFRvQ2xpcGJvYXJkKHRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpLnRoZW4oYmxlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2JsZScsIGJsZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSkuXHJcbiAgICAgICAgY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxhcnRpY2xlIGlkPVxcXCJzeW1ib2xJbmZvVG9Db3B5XFxcIj5cXHJcXG4gICAgVGhpcyBpcyB0aGUgYWRkcmVzcyBmb3IgdGhlIHN5bWJvbCB7e3N5bWJvbH19LlxcclxcbiAgICA8YnIvPlxcclxcbiAgICA8aW5wdXQgdmFsdWU9XFxcInt7YWRkcmVzc319XFxcIi8+XFxyXFxuPC9hcnRpY2xlPlxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8dHIgaWQ9XFxcInN5bWJvbEluZm9Ub0NvcHlcXFwiPlxcclxcbiAgICA8dGQgY29sc3Bhbj1cXFwiNFxcXCI+XFxyXFxuICAgICAgICA8YXJ0aWNsZT5cXHJcXG4gICAgICAgIFRoaXMgc3ltYm9sIGhhcyBuZXZlciBiZWVuIGJvdWdodCBhbmQgZG9lcyBub3QgZXhpc3QuIEJ1eSB0aGlzIHN5bWJvbCBhbmQgYWRkcmVzcyB3aWxsIGJlY29tZSBhdmFpbGFibGUuXFxyXFxuICAgICAgICA8L2FydGljbGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLypcclxuICogICAgICBiaWdudW1iZXIuanMgdjkuMS4wXHJcbiAqICAgICAgQSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGFyYml0cmFyeS1wcmVjaXNpb24gYXJpdGhtZXRpYy5cclxuICogICAgICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWdudW1iZXIuanNcclxuICogICAgICBDb3B5cmlnaHQgKGMpIDIwMjIgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogICAgICBNSVQgTGljZW5zZWQuXHJcbiAqXHJcbiAqICAgICAgQmlnTnVtYmVyLnByb3RvdHlwZSBtZXRob2RzICAgICB8ICBCaWdOdW1iZXIgbWV0aG9kc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGFic29sdXRlVmFsdWUgICAgICAgICAgICBhYnMgICAgfCAgY2xvbmVcclxuICogICAgICBjb21wYXJlZFRvICAgICAgICAgICAgICAgICAgICAgIHwgIGNvbmZpZyAgICAgICAgICAgICAgIHNldFxyXG4gKiAgICAgIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICBkcCAgICAgfCAgICAgIERFQ0lNQUxfUExBQ0VTXHJcbiAqICAgICAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgIGRpdiAgICB8ICAgICAgUk9VTkRJTkdfTU9ERVxyXG4gKiAgICAgIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICBpZGl2ICAgfCAgICAgIEVYUE9ORU5USUFMX0FUXHJcbiAqICAgICAgZXhwb25lbnRpYXRlZEJ5ICAgICAgICAgIHBvdyAgICB8ICAgICAgUkFOR0VcclxuICogICAgICBpbnRlZ2VyVmFsdWUgICAgICAgICAgICAgICAgICAgIHwgICAgICBDUllQVE9cclxuICogICAgICBpc0VxdWFsVG8gICAgICAgICAgICAgICAgZXEgICAgIHwgICAgICBNT0RVTE9fTU9ERVxyXG4gKiAgICAgIGlzRmluaXRlICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgIFBPV19QUkVDSVNJT05cclxuICogICAgICBpc0dyZWF0ZXJUaGFuICAgICAgICAgICAgZ3QgICAgIHwgICAgICBGT1JNQVRcclxuICogICAgICBpc0dyZWF0ZXJUaGFuT3JFcXVhbFRvICAgZ3RlICAgIHwgICAgICBBTFBIQUJFVFxyXG4gKiAgICAgIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgICAgICAgfCAgaXNCaWdOdW1iZXJcclxuICogICAgICBpc0xlc3NUaGFuICAgICAgICAgICAgICAgbHQgICAgIHwgIG1heGltdW0gICAgICAgICAgICAgIG1heFxyXG4gKiAgICAgIGlzTGVzc1RoYW5PckVxdWFsVG8gICAgICBsdGUgICAgfCAgbWluaW11bSAgICAgICAgICAgICAgbWluXHJcbiAqICAgICAgaXNOYU4gICAgICAgICAgICAgICAgICAgICAgICAgICB8ICByYW5kb21cclxuICogICAgICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgICAgICAgIHwgIHN1bVxyXG4gKiAgICAgIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGlzWmVybyAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1pbnVzICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1vZHVsbyAgICAgICAgICAgICAgICAgICBtb2QgICAgfFxyXG4gKiAgICAgIG11bHRpcGxpZWRCeSAgICAgICAgICAgICB0aW1lcyAgfFxyXG4gKiAgICAgIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHBsdXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHByZWNpc2lvbiAgICAgICAgICAgICAgICBzZCAgICAgfFxyXG4gKiAgICAgIHNoaWZ0ZWRCeSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHNxdWFyZVJvb3QgICAgICAgICAgICAgICBzcXJ0ICAgfFxyXG4gKiAgICAgIHRvRXhwb25lbnRpYWwgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRml4ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRm9ybWF0ICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRnJhY3Rpb24gICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvSlNPTiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvTnVtYmVyICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvUHJlY2lzaW9uICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvU3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG52YXJcclxuICBpc051bWVyaWMgPSAvXi0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKSg/OmVbKy1dP1xcZCspPyQvaSxcclxuICBtYXRoY2VpbCA9IE1hdGguY2VpbCxcclxuICBtYXRoZmxvb3IgPSBNYXRoLmZsb29yLFxyXG5cclxuICBiaWdudW1iZXJFcnJvciA9ICdbQmlnTnVtYmVyIEVycm9yXSAnLFxyXG4gIHRvb01hbnlEaWdpdHMgPSBiaWdudW1iZXJFcnJvciArICdOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiAnLFxyXG5cclxuICBCQVNFID0gMWUxNCxcclxuICBMT0dfQkFTRSA9IDE0LFxyXG4gIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLCAgICAgICAgIC8vIDJeNTMgLSAxXHJcbiAgLy8gTUFYX0lOVDMyID0gMHg3ZmZmZmZmZiwgICAgICAgICAgICAgICAgICAgLy8gMl4zMSAtIDFcclxuICBQT1dTX1RFTiA9IFsxLCAxMCwgMTAwLCAxZTMsIDFlNCwgMWU1LCAxZTYsIDFlNywgMWU4LCAxZTksIDFlMTAsIDFlMTEsIDFlMTIsIDFlMTNdLFxyXG4gIFNRUlRfQkFTRSA9IDFlNyxcclxuXHJcbiAgLy8gRURJVEFCTEVcclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIERFQ0lNQUxfUExBQ0VTLCBUT19FWFBfTkVHLCBUT19FWFBfUE9TLCBNSU5fRVhQLCBNQVhfRVhQLCBhbmRcclxuICAvLyB0aGUgYXJndW1lbnRzIHRvIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0LCBhbmQgdG9QcmVjaXNpb24uXHJcbiAgTUFYID0gMUU5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhfSU5UMzJcclxuXHJcblxyXG4vKlxyXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZ051bWJlciBjb25zdHJ1Y3Rvci5cclxuICovXHJcbmZ1bmN0aW9uIGNsb25lKGNvbmZpZ09iamVjdCkge1xyXG4gIHZhciBkaXYsIGNvbnZlcnRCYXNlLCBwYXJzZU51bWVyaWMsXHJcbiAgICBQID0gQmlnTnVtYmVyLnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IEJpZ051bWJlciwgdG9TdHJpbmc6IG51bGwsIHZhbHVlT2Y6IG51bGwgfSxcclxuICAgIE9ORSA9IG5ldyBCaWdOdW1iZXIoMSksXHJcblxyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRURJVEFCTEUgQ09ORklHIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgLy8gVGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93IG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBpbmNsdXNpdmUgcmFuZ2VzIHN0YXRlZC5cclxuICAgIC8vIFRoZSB2YWx1ZXMgY2FuIGFsc28gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyBCaWdOdW1iZXIuc2V0LlxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3Igb3BlcmF0aW9ucyBpbnZvbHZpbmcgZGl2aXNpb24uXHJcbiAgICBERUNJTUFMX1BMQUNFUyA9IDIwLCAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgLy8gVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIHRoZSBhYm92ZSBkZWNpbWFsIHBsYWNlcywgYW5kIHdoZW4gdXNpbmdcclxuICAgIC8vIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0IGFuZCB0b1ByZWNpc2lvbiwgYW5kIHJvdW5kIChkZWZhdWx0IHZhbHVlKS5cclxuICAgIC8vIFVQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cclxuICAgIC8vIERPV04gICAgICAgMSBUb3dhcmRzIHplcm8uXHJcbiAgICAvLyBDRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBGTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvLyBIQUxGX1VQICAgIDQgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHVwLlxyXG4gICAgLy8gSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgLy8gSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxyXG4gICAgLy8gSEFMRl9DRUlMICA3IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIEhBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICBST1VORElOR19NT0RFID0gNCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOFxyXG5cclxuICAgIC8vIEVYUE9ORU5USUFMX0FUIDogW1RPX0VYUF9ORUcgLCBUT19FWFBfUE9TXVxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IC03XHJcbiAgICBUT19FWFBfTkVHID0gLTcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLU1BWFxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIE51bWJlciB0eXBlOiAyMVxyXG4gICAgVE9fRVhQX1BPUyA9IDIxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgIC8vIFJBTkdFIDogW01JTl9FWFAsIE1BWF9FWFBdXHJcblxyXG4gICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICBNSU5fRVhQID0gLTFlNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCB2YWx1ZSwgYWJvdmUgd2hpY2ggb3ZlcmZsb3cgdG8gSW5maW5pdHkgb2NjdXJzLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6ICAzMDggICgxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOClcclxuICAgIC8vIEZvciBNQVhfRVhQID4gMWU3LCBlLmcuIG5ldyBCaWdOdW1iZXIoJzFlMTAwMDAwMDAwJykucGx1cygxKSBtYXkgYmUgc2xvdy5cclxuICAgIE1BWF9FWFAgPSAxZTcsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBNQVhcclxuXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICBDUllQVE8gPSBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcclxuXHJcbiAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgLy9cclxuICAgIC8vIFVQICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgLy8gRE9XTiAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQuXHJcbiAgICAvLyAgICAgICAgICAgICBUaGlzIG1vZHVsbyBtb2RlIGlzIGNvbW1vbmx5IGtub3duIGFzICd0cnVuY2F0ZWQgZGl2aXNpb24nIGFuZCBpc1xyXG4gICAgLy8gICAgICAgICAgICAgZXF1aXZhbGVudCB0byAoYSAlIG4pIGluIEphdmFTY3JpcHQuXHJcbiAgICAvLyBGTE9PUiAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAvLyBIQUxGX0VWRU4gNiBUaGlzIG1vZHVsbyBtb2RlIGltcGxlbWVudHMgdGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cclxuICAgIC8vIEVVQ0xJRCAgICA5IEV1Y2xpZGlhbiBkaXZpc2lvbi4gcSA9IHNpZ24obikgKiBmbG9vcihhIC8gYWJzKG4pKS5cclxuICAgIC8vICAgICAgICAgICAgIFRoZSByZW1haW5kZXIgaXMgYWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgLy9cclxuICAgIC8vIFRoZSB0cnVuY2F0ZWQgZGl2aXNpb24sIGZsb29yZWQgZGl2aXNpb24sIEV1Y2xpZGlhbiBkaXZpc2lvbiBhbmQgSUVFRSA3NTQgcmVtYWluZGVyXHJcbiAgICAvLyBtb2RlcyBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLlxyXG4gICAgLy8gQWx0aG91Z2ggdGhlIG90aGVyIHJvdW5kaW5nIG1vZGVzIGNhbiBhbHNvIGJlIHVzZWQsIHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxyXG4gICAgTU9EVUxPX01PREUgPSAxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDlcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgdGhlIGV4cG9uZW50aWF0ZWRCeSBvcGVyYXRpb24uXHJcbiAgICAvLyBJZiBQT1dfUFJFQ0lTSU9OIGlzIDAsIHRoZXJlIHdpbGwgYmUgdW5saW1pdGVkIHNpZ25pZmljYW50IGRpZ2l0cy5cclxuICAgIFBPV19QUkVDSVNJT04gPSAwLCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAvLyBUaGUgZm9ybWF0IHNwZWNpZmljYXRpb24gdXNlZCBieSB0aGUgQmlnTnVtYmVyLnByb3RvdHlwZS50b0Zvcm1hdCBtZXRob2QuXHJcbiAgICBGT1JNQVQgPSB7XHJcbiAgICAgIHByZWZpeDogJycsXHJcbiAgICAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAgc2Vjb25kYXJ5R3JvdXBTaXplOiAwLFxyXG4gICAgICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAgICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICAgIGZyYWN0aW9uR3JvdXBTaXplOiAwLFxyXG4gICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICAgIHN1ZmZpeDogJydcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVGhlIGFscGhhYmV0IHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi4gSXQgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgbG9uZywgd2l0aCBubyAnKycsXHJcbiAgICAvLyAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgLy8gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJF8nXHJcbiAgICBBTFBIQUJFVCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLFxyXG4gICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdHJ1ZTtcclxuXHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICAvLyBDT05TVFJVQ1RPUlxyXG5cclxuXHJcbiAgLypcclxuICAgKiBUaGUgQmlnTnVtYmVyIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiBhIEJpZ051bWJlciBvYmplY3QuXHJcbiAgICpcclxuICAgKiB2IHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAqIFtiXSB7bnVtYmVyfSBUaGUgYmFzZSBvZiB2LiBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gQmlnTnVtYmVyKHYsIGIpIHtcclxuICAgIHZhciBhbHBoYWJldCwgYywgY2FzZUNoYW5nZWQsIGUsIGksIGlzTnVtLCBsZW4sIHN0cixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgLy8gRW5hYmxlIGNvbnN0cnVjdG9yIGNhbGwgd2l0aG91dCBgbmV3YC5cclxuICAgIGlmICghKHggaW5zdGFuY2VvZiBCaWdOdW1iZXIpKSByZXR1cm4gbmV3IEJpZ051bWJlcih2LCBiKTtcclxuXHJcbiAgICBpZiAoYiA9PSBudWxsKSB7XHJcblxyXG4gICAgICBpZiAodiAmJiB2Ll9pc0JpZ051bWJlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHgucyA9IHYucztcclxuXHJcbiAgICAgICAgaWYgKCF2LmMgfHwgdi5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHYuZSA8IE1JTl9FWFApIHtcclxuICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5jID0gdi5jLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgoaXNOdW0gPSB0eXBlb2YgdiA9PSAnbnVtYmVyJykgJiYgdiAqIDAgPT0gMCkge1xyXG5cclxuICAgICAgICAvLyBVc2UgYDEgLyBuYCB0byBoYW5kbGUgbWludXMgemVybyBhbHNvLlxyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/ICh2ID0gLXYsIC0xKSA6IDE7XHJcblxyXG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgaW50ZWdlcnMsIHdoZXJlIG4gPCAyMTQ3NDgzNjQ4ICgyKiozMSkuXHJcbiAgICAgICAgaWYgKHYgPT09IH5+dikge1xyXG4gICAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTAsIGUrKyk7XHJcblxyXG4gICAgICAgICAgaWYgKGUgPiBNQVhfRVhQKSB7XHJcbiAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICB4LmMgPSBbdl07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBpZiAoIWlzTnVtZXJpYy50ZXN0KHN0ciA9IFN0cmluZyh2KSkpIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSk7XHJcblxyXG4gICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGVjaW1hbCBwb2ludD9cclxuICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gICAgICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICAgICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgICAgIC8vIEludGVnZXIuXHJcbiAgICAgICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAgICBpbnRDaGVjayhiLCAyLCBBTFBIQUJFVC5sZW5ndGgsICdCYXNlJyk7XHJcblxyXG4gICAgICAvLyBBbGxvdyBleHBvbmVudGlhbCBub3RhdGlvbiB0byBiZSB1c2VkIHdpdGggYmFzZSAxMCBhcmd1bWVudCwgd2hpbGVcclxuICAgICAgLy8gYWxzbyByb3VuZGluZyB0byBERUNJTUFMX1BMQUNFUyBhcyB3aXRoIG90aGVyIGJhc2VzLlxyXG4gICAgICBpZiAoYiA9PSAxMCAmJiBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMpIHtcclxuICAgICAgICB4ID0gbmV3IEJpZ051bWJlcih2KTtcclxuICAgICAgICByZXR1cm4gcm91bmQoeCwgREVDSU1BTF9QTEFDRVMgKyB4LmUgKyAxLCBST1VORElOR19NT0RFKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG5cclxuICAgICAgaWYgKGlzTnVtID0gdHlwZW9mIHYgPT0gJ251bWJlcicpIHtcclxuXHJcbiAgICAgICAgLy8gQXZvaWQgcG90ZW50aWFsIGludGVycHJldGF0aW9uIG9mIEluZmluaXR5IGFuZCBOYU4gYXMgYmFzZSA0NCsgdmFsdWVzLlxyXG4gICAgICAgIGlmICh2ICogMCAhPSAwKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0sIGIpO1xyXG5cclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICAgIGlmIChCaWdOdW1iZXIuREVCVUcgJiYgc3RyLnJlcGxhY2UoL14wXFwuMCp8XFwuLywgJycpLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICh0b29NYW55RGlnaXRzICsgdik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09PSA0NSA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFscGhhYmV0ID0gQUxQSEFCRVQuc2xpY2UoMCwgYik7XHJcbiAgICAgIGUgPSBpID0gMDtcclxuXHJcbiAgICAgIC8vIENoZWNrIHRoYXQgc3RyIGlzIGEgdmFsaWQgYmFzZSBiIG51bWJlci5cclxuICAgICAgLy8gRG9uJ3QgdXNlIFJlZ0V4cCwgc28gYWxwaGFiZXQgY2FuIGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzLlxyXG4gICAgICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChhbHBoYWJldC5pbmRleE9mKGMgPSBzdHIuY2hhckF0KGkpKSA8IDApIHtcclxuICAgICAgICAgIGlmIChjID09ICcuJykge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgJy4nIGlzIG5vdCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpdCBoYXMgbm90IGJlIGZvdW5kIGJlZm9yZS5cclxuICAgICAgICAgICAgaWYgKGkgPiBlKSB7XHJcbiAgICAgICAgICAgICAgZSA9IGxlbjtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICghY2FzZUNoYW5nZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsbG93IGUuZy4gaGV4YWRlY2ltYWwgJ0ZGJyBhcyB3ZWxsIGFzICdmZicuXHJcbiAgICAgICAgICAgIGlmIChzdHIgPT0gc3RyLnRvVXBwZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICAgICAgICAgICAgc3RyID09IHN0ci50b0xvd2VyQ2FzZSgpICYmIChzdHIgPSBzdHIudG9VcHBlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICBjYXNlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgIGUgPSAwO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBTdHJpbmcodiksIGlzTnVtLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByZXZlbnQgbGF0ZXIgY2hlY2sgZm9yIGxlbmd0aCBvbiBjb252ZXJ0ZWQgbnVtYmVyLlxyXG4gICAgICBpc051bSA9IGZhbHNlO1xyXG4gICAgICBzdHIgPSBjb252ZXJ0QmFzZShzdHIsIGIsIDEwLCB4LnMpO1xyXG5cclxuICAgICAgLy8gRGVjaW1hbCBwb2ludD9cclxuICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgIGVsc2UgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSAwOyBzdHIuY2hhckNvZGVBdChpKSA9PT0gNDg7IGkrKyk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdCgtLWxlbikgPT09IDQ4Oyk7XHJcblxyXG4gICAgaWYgKHN0ciA9IHN0ci5zbGljZShpLCArK2xlbikpIHtcclxuICAgICAgbGVuIC09IGk7XHJcblxyXG4gICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICBpZiAoaXNOdW0gJiYgQmlnTnVtYmVyLkRFQlVHICYmXHJcbiAgICAgICAgbGVuID4gMTUgJiYgKHYgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHYgIT09IG1hdGhmbG9vcih2KSkpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyAoeC5zICogdikpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgIGlmICgoZSA9IGUgLSBpIC0gMSkgPiBNQVhfRVhQKSB7XHJcblxyXG4gICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5lID0gZTtcclxuICAgICAgICB4LmMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gVHJhbnNmb3JtIGJhc2VcclxuXHJcbiAgICAgICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgICAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGNvZWZmaWNpZW50IGFycmF5LlxyXG4gICAgICAgIGkgPSAoZSArIDEpICUgTE9HX0JBU0U7XHJcbiAgICAgICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFOyAgLy8gaSA8IDFcclxuXHJcbiAgICAgICAgaWYgKGkgPCBsZW4pIHtcclxuICAgICAgICAgIGlmIChpKSB4LmMucHVzaCgrc3RyLnNsaWNlKDAsIGkpKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHtcclxuICAgICAgICAgICAgeC5jLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaSA9IExPR19CQVNFIC0gKHN0ciA9IHN0ci5zbGljZShpKSkubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpIC09IGxlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgIHguYy5wdXNoKCtzdHIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIENPTlNUUlVDVE9SIFBST1BFUlRJRVNcclxuXHJcblxyXG4gIEJpZ051bWJlci5jbG9uZSA9IGNsb25lO1xyXG5cclxuICBCaWdOdW1iZXIuUk9VTkRfVVAgPSAwO1xyXG4gIEJpZ051bWJlci5ST1VORF9ET1dOID0gMTtcclxuICBCaWdOdW1iZXIuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0ZMT09SID0gMztcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9VUCA9IDQ7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRVZFTiA9IDY7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfQ0VJTCA9IDc7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gIEJpZ051bWJlci5FVUNMSUQgPSA5O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBDb25maWd1cmUgaW5mcmVxdWVudGx5LWNoYW5naW5nIGxpYnJhcnktd2lkZSBzZXR0aW5ncy5cclxuICAgKlxyXG4gICAqIEFjY2VwdCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsIHByb3BlcnRpZXMgKGlmIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGlzXHJcbiAgICogYSBudW1iZXIsIGl0IG11c3QgYmUgYW4gaW50ZWdlciB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZSBzdGF0ZWQpOlxyXG4gICAqXHJcbiAgICogICBERUNJTUFMX1BMQUNFUyAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAqICAgUk9VTkRJTkdfTU9ERSAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA4XHJcbiAgICogICBFWFBPTkVOVElBTF9BVCAgIHtudW1iZXJ8bnVtYmVyW119ICAtTUFYIHRvIE1BWCAgb3IgIFstTUFYIHRvIDAsIDAgdG8gTUFYXVxyXG4gICAqICAgUkFOR0UgICAgICAgICAgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggKG5vdCB6ZXJvKSAgb3IgIFstTUFYIHRvIC0xLCAxIHRvIE1BWF1cclxuICAgKiAgIENSWVBUTyAgICAgICAgICAge2Jvb2xlYW59ICAgICAgICAgIHRydWUgb3IgZmFsc2VcclxuICAgKiAgIE1PRFVMT19NT0RFICAgICAge251bWJlcn0gICAgICAgICAgIDAgdG8gOVxyXG4gICAqICAgUE9XX1BSRUNJU0lPTiAgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgKiAgIEFMUEhBQkVUICAgICAgICAge3N0cmluZ30gICAgICAgICAgIEEgc3RyaW5nIG9mIHR3byBvciBtb3JlIHVuaXF1ZSBjaGFyYWN0ZXJzIHdoaWNoIGRvZXNcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBjb250YWluICcuJy5cclxuICAgKiAgIEZPUk1BVCAgICAgICAgICAge29iamVjdH0gICAgICAgICAgIEFuIG9iamVjdCB3aXRoIHNvbWUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAqICAgICBwcmVmaXggICAgICAgICAgICAgICAgIHtzdHJpbmd9XHJcbiAgICogICAgIGdyb3VwU2l6ZSAgICAgICAgICAgICAge251bWJlcn1cclxuICAgKiAgICAgc2Vjb25kYXJ5R3JvdXBTaXplICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBncm91cFNlcGFyYXRvciAgICAgICAgIHtzdHJpbmd9XHJcbiAgICogICAgIGRlY2ltYWxTZXBhcmF0b3IgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZnJhY3Rpb25Hcm91cFNpemUgICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yIHtzdHJpbmd9XHJcbiAgICogICAgIHN1ZmZpeCAgICAgICAgICAgICAgICAge3N0cmluZ31cclxuICAgKlxyXG4gICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXHJcbiAgICpcclxuICAgKiBFLmcuXHJcbiAgICogQmlnTnVtYmVyLmNvbmZpZyh7IERFQ0lNQUxfUExBQ0VTIDogMjAsIFJPVU5ESU5HX01PREUgOiA0IH0pXHJcbiAgICpcclxuICAgKiBJZ25vcmUgcHJvcGVydGllcy9wYXJhbWV0ZXJzIHNldCB0byBudWxsIG9yIHVuZGVmaW5lZCwgZXhjZXB0IGZvciBBTFBIQUJFVC5cclxuICAgKlxyXG4gICAqIFJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBjdXJyZW50IHZhbHVlcy5cclxuICAgKi9cclxuICBCaWdOdW1iZXIuY29uZmlnID0gQmlnTnVtYmVyLnNldCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciBwLCB2O1xyXG5cclxuICAgIGlmIChvYmogIT0gbnVsbCkge1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcclxuXHJcbiAgICAgICAgLy8gREVDSU1BTF9QTEFDRVMge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBERUNJTUFMX1BMQUNFUyB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0RFQ0lNQUxfUExBQ0VTJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgREVDSU1BTF9QTEFDRVMgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUk9VTkRJTkdfTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBST1VORElOR19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUk9VTkRJTkdfTU9ERScpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgOCwgcCk7XHJcbiAgICAgICAgICBST1VORElOR19NT0RFID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVYUE9ORU5USUFMX0FUIHtudW1iZXJ8bnVtYmVyW119XHJcbiAgICAgICAgLy8gSW50ZWdlciwgLU1BWCB0byBNQVggaW5jbHVzaXZlIG9yXHJcbiAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAwIGluY2x1c2l2ZSwgMCB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRVhQT05FTlRJQUxfQVQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdFWFBPTkVOVElBTF9BVCcpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHYgJiYgdi5wb3ApIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlswXSwgLU1BWCwgMCwgcCk7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFRPX0VYUF9ORUcgPSB2WzBdO1xyXG4gICAgICAgICAgICBUT19FWFBfUE9TID0gdlsxXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFRPX0VYUF9ORUcgPSAtKFRPX0VYUF9QT1MgPSB2IDwgMCA/IC12IDogdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSQU5HRSB7bnVtYmVyfG51bWJlcltdfSBOb24temVybyBpbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIC0xIGluY2x1c2l2ZSwgaW50ZWdlciAxIHRvIE1BWCBpbmNsdXNpdmVdLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBSQU5HRSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V8Y2Fubm90IGJlIHplcm99OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1JBTkdFJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAtMSwgcCk7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDEsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIE1JTl9FWFAgPSB2WzBdO1xyXG4gICAgICAgICAgICBNQVhfRVhQID0gdlsxXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgTUlOX0VYUCA9IC0oTUFYX0VYUCA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBjYW5ub3QgYmUgemVybzogJyArIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIENSWVBUTyBub3QgdHJ1ZSBvciBmYWxzZToge3Z9J1xyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBjcnlwdG8gdW5hdmFpbGFibGUnXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0NSWVBUTycpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHYgPT09ICEhdikge1xyXG4gICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBDUllQVE8gPSAhdjtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ2NyeXB0byB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgbm90IHRydWUgb3IgZmFsc2U6ICcgKyB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1PRFVMT19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOSBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE1PRFVMT19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnTU9EVUxPX01PREUnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIDksIHApO1xyXG4gICAgICAgICAgTU9EVUxPX01PREUgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUE9XX1BSRUNJU0lPTiB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFBPV19QUkVDSVNJT04ge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdQT1dfUFJFQ0lTSU9OJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGT1JNQVQge29iamVjdH1cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRk9STUFUIG5vdCBhbiBvYmplY3Q6IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRk9STUFUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ29iamVjdCcpIEZPUk1BVCA9IHY7XHJcbiAgICAgICAgICBlbHNlIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgbm90IGFuIG9iamVjdDogJyArIHYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQUxQSEFCRVQge3N0cmluZ31cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQUxQSEFCRVQgaW52YWxpZDoge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdBTFBIQUJFVCcpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG5cclxuICAgICAgICAgIC8vIERpc2FsbG93IGlmIGxlc3MgdGhhbiB0d28gY2hhcmFjdGVycyxcclxuICAgICAgICAgIC8vIG9yIGlmIGl0IGNvbnRhaW5zICcrJywgJy0nLCAnLicsIHdoaXRlc3BhY2UsIG9yIGEgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnICYmICEvXi4/JHxbK1xcLS5cXHNdfCguKS4qXFwxLy50ZXN0KHYpKSB7XHJcbiAgICAgICAgICAgIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cyA9IHYuc2xpY2UoMCwgMTApID09ICcwMTIzNDU2Nzg5JztcclxuICAgICAgICAgICAgQUxQSEFCRVQgPSB2O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIGludmFsaWQ6ICcgKyB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gT2JqZWN0IGV4cGVjdGVkOiB7dn0nXHJcbiAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ09iamVjdCBleHBlY3RlZDogJyArIG9iaik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBERUNJTUFMX1BMQUNFUzogREVDSU1BTF9QTEFDRVMsXHJcbiAgICAgIFJPVU5ESU5HX01PREU6IFJPVU5ESU5HX01PREUsXHJcbiAgICAgIEVYUE9ORU5USUFMX0FUOiBbVE9fRVhQX05FRywgVE9fRVhQX1BPU10sXHJcbiAgICAgIFJBTkdFOiBbTUlOX0VYUCwgTUFYX0VYUF0sXHJcbiAgICAgIENSWVBUTzogQ1JZUFRPLFxyXG4gICAgICBNT0RVTE9fTU9ERTogTU9EVUxPX01PREUsXHJcbiAgICAgIFBPV19QUkVDSVNJT046IFBPV19QUkVDSVNJT04sXHJcbiAgICAgIEZPUk1BVDogRk9STUFULFxyXG4gICAgICBBTFBIQUJFVDogQUxQSEFCRVRcclxuICAgIH07XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdiBpcyBhIEJpZ051bWJlciBpbnN0YW5jZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqIElmIEJpZ051bWJlci5ERUJVRyBpcyB0cnVlLCB0aHJvdyBpZiBhIEJpZ051bWJlciBpbnN0YW5jZSBpcyBub3Qgd2VsbC1mb3JtZWQuXHJcbiAgICpcclxuICAgKiB2IHthbnl9XHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gSW52YWxpZCBCaWdOdW1iZXI6IHt2fSdcclxuICAgKi9cclxuICBCaWdOdW1iZXIuaXNCaWdOdW1iZXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgaWYgKCF2IHx8IHYuX2lzQmlnTnVtYmVyICE9PSB0cnVlKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoIUJpZ051bWJlci5ERUJVRykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmFyIGksIG4sXHJcbiAgICAgIGMgPSB2LmMsXHJcbiAgICAgIGUgPSB2LmUsXHJcbiAgICAgIHMgPSB2LnM7XHJcblxyXG4gICAgb3V0OiBpZiAoe30udG9TdHJpbmcuY2FsbChjKSA9PSAnW29iamVjdCBBcnJheV0nKSB7XHJcblxyXG4gICAgICBpZiAoKHMgPT09IDEgfHwgcyA9PT0gLTEpICYmIGUgPj0gLU1BWCAmJiBlIDw9IE1BWCAmJiBlID09PSBtYXRoZmxvb3IoZSkpIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaXMgemVybywgdGhlIEJpZ051bWJlciB2YWx1ZSBtdXN0IGJlIHplcm8uXHJcbiAgICAgICAgaWYgKGNbMF0gPT09IDApIHtcclxuICAgICAgICAgIGlmIChlID09PSAwICYmIGMubGVuZ3RoID09PSAxKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIHRoYXQgY1swXSBzaG91bGQgaGF2ZSwgYmFzZWQgb24gdGhlIGV4cG9uZW50LlxyXG4gICAgICAgIGkgPSAoZSArIDEpICUgTE9HX0JBU0U7XHJcbiAgICAgICAgaWYgKGkgPCAxKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgICAgIC8vaWYgKE1hdGguY2VpbChNYXRoLmxvZyhjWzBdICsgMSkgLyBNYXRoLkxOMTApID09IGkpIHtcclxuICAgICAgICBpZiAoU3RyaW5nKGNbMF0pLmxlbmd0aCA9PSBpKSB7XHJcblxyXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbiA9IGNbaV07XHJcbiAgICAgICAgICAgIGlmIChuIDwgMCB8fCBuID49IEJBU0UgfHwgbiAhPT0gbWF0aGZsb29yKG4pKSBicmVhayBvdXQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gTGFzdCBlbGVtZW50IGNhbm5vdCBiZSB6ZXJvLCB1bmxlc3MgaXQgaXMgdGhlIG9ubHkgZWxlbWVudC5cclxuICAgICAgICAgIGlmIChuICE9PSAwKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAvLyBJbmZpbml0eS9OYU5cclxuICAgIH0gZWxzZSBpZiAoYyA9PT0gbnVsbCAmJiBlID09PSBudWxsICYmIChzID09PSBudWxsIHx8IHMgPT09IDEgfHwgcyA9PT0gLTEpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93IEVycm9yXHJcbiAgICAgIChiaWdudW1iZXJFcnJvciArICdJbnZhbGlkIEJpZ051bWJlcjogJyArIHYpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XHJcbiAgICovXHJcbiAgQmlnTnVtYmVyLm1heGltdW0gPSBCaWdOdW1iZXIubWF4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG1heE9yTWluKGFyZ3VtZW50cywgUC5sdCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWluaW11bSA9IEJpZ051bWJlci5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCBQLmd0KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxyXG4gICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xyXG4gICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5yYW5kb20gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHBvdzJfNTMgPSAweDIwMDAwMDAwMDAwMDAwO1xyXG5cclxuICAgIC8vIFJldHVybiBhIDUzIGJpdCBpbnRlZ2VyIG4sIHdoZXJlIDAgPD0gbiA8IDkwMDcxOTkyNTQ3NDA5OTIuXHJcbiAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXHJcbiAgICAvLyBJZiBpdCBkb2VzLCBhc3N1bWUgYXQgbGVhc3QgNTMgYml0cyBhcmUgcHJvZHVjZWQsIG90aGVyd2lzZSBhc3N1bWUgYXQgbGVhc3QgMzAgYml0cy5cclxuICAgIC8vIDB4NDAwMDAwMDAgaXMgMl4zMCwgMHg4MDAwMDAgaXMgMl4yMywgMHgxZmZmZmYgaXMgMl4yMSAtIDEuXHJcbiAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSAoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpICYgMHgxZmZmZmZcclxuICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7IH1cclxuICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXHJcbiAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICB2YXIgYSwgYiwgZSwgaywgdixcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBjID0gW10sXHJcbiAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgIGlmIChkcCA9PSBudWxsKSBkcCA9IERFQ0lNQUxfUExBQ0VTO1xyXG4gICAgICBlbHNlIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG5cclxuICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgaWYgKENSWVBUTykge1xyXG5cclxuICAgICAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgICBhID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoayAqPSAyKSk7XHJcblxyXG4gICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgLy8gNTMgYml0czpcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSAqIE1hdGgucG93KDIsIDIxKSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSA+Pj4gMTEpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cclxuICAgICAgICAgICAgdiA9IGFbaV0gKiAweDIwMDAwICsgKGFbaSArIDFdID4+PiAxMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWplY3Rpb24gc2FtcGxpbmc6XHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXHJcbiAgICAgICAgICAgIC8vIDcxOTkyNTQ3NDA5OTIgLyA5MDA3MTk5MjU0NzQwOTkyIH49IDAuMDAwOCwgaS5lLiAxIGluIDEyNTFcclxuICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XHJcbiAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XHJcbiAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDI7XHJcblxyXG4gICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICAgICAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAgICAgICAvLyBidWZmZXJcclxuICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXHJcbiAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XHJcbiAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgdiA9ICgoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCkgKyAoYVtpICsgMV0gKiAweDEwMDAwMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgIChhW2kgKyAyXSAqIDB4MTAwMDAwMDAwKSArIChhW2kgKyAzXSAqIDB4MTAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAoYVtpICsgNF0gPDwgMTYpICsgKGFbaSArIDVdIDw8IDgpICsgYVtpICsgNl07XHJcblxyXG4gICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSA3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIENSWVBUTyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVc2UgTWF0aC5yYW5kb20uXHJcbiAgICAgIGlmICghQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xyXG4gICAgICAgICAgaWYgKHYgPCA5ZTE1KSBjW2krK10gPSB2ICUgMWUxNDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGsgPSBjWy0taV07XHJcbiAgICAgIGRwICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxyXG4gICAgICBpZiAoayAmJiBkcCkge1xyXG4gICAgICAgIHYgPSBQT1dTX1RFTltMT0dfQkFTRSAtIGRwXTtcclxuICAgICAgICBjW2ldID0gbWF0aGZsb29yKGsgLyB2KSAqIHY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cclxuICAgICAgZm9yICg7IGNbaV0gPT09IDA7IGMucG9wKCksIGktLSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBjID0gW2UgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBmb3IgKGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc3BsaWNlKDAsIDEpLCBlIC09IExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cclxuICAgICAgICBmb3IgKGkgPSAxLCB2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgLy8gYWRqdXN0IHRoZSBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBpZiAoaSA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmFuZC5lID0gZTtcclxuICAgICAgcmFuZC5jID0gYztcclxuICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAgLypcclxuICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIuc3VtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBhcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBzdW0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG4gICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDspIHN1bSA9IHN1bS5wbHVzKGFyZ3NbaSsrXSk7XHJcbiAgICByZXR1cm4gc3VtO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBQUklWQVRFIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgLy8gQ2FsbGVkIGJ5IEJpZ051bWJlciBhbmQgQmlnTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZy5cclxuICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVjaW1hbCA9ICcwMTIzNDU2Nzg5JztcclxuXHJcbiAgICAvKlxyXG4gICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBhbHBoYWJldCkge1xyXG4gICAgICB2YXIgaixcclxuICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgYXJyTCxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOyBhcnJbYXJyTF0gKj0gYmFzZUluKTtcclxuXHJcbiAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cclxuICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgLy8gSWYgdGhlIGNhbGxlciBpcyBCaWdOdW1iZXIsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZUluIHRvIGJhc2UgMTAuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgYmFzZUluLCBiYXNlT3V0LCBzaWduLCBjYWxsZXJJc1RvU3RyaW5nKSB7XHJcbiAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgaSA9IHN0ci5pbmRleE9mKCcuJyksXHJcbiAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAvLyBOb24taW50ZWdlci5cclxuICAgICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAvLyBVbmxpbWl0ZWQgcHJlY2lzaW9uLlxyXG4gICAgICAgIFBPV19QUkVDSVNJT04gPSAwO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKGJhc2VJbik7XHJcbiAgICAgICAgeCA9IHkucG93KHN0ci5sZW5ndGggLSBpKTtcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzdHIgYXMgaWYgYW4gaW50ZWdlciwgdGhlbiByZXN0b3JlIHRoZSBmcmFjdGlvbiBwYXJ0IGJ5IGRpdmlkaW5nIHRoZVxyXG4gICAgICAgIC8vIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlci5cclxuXHJcbiAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgMTAsIGJhc2VPdXQsIGRlY2ltYWwpO1xyXG4gICAgICAgIHkuZSA9IHkuYy5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBpbnRlZ2VyLlxyXG5cclxuICAgICAgeGMgPSB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGNhbGxlcklzVG9TdHJpbmdcclxuICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICA6IChhbHBoYWJldCA9IGRlY2ltYWwsIEFMUEhBQkVUKSk7XHJcblxyXG4gICAgICAvLyB4YyBub3cgcmVwcmVzZW50cyBzdHIgYXMgYW4gaW50ZWdlciBhbmQgY29udmVydGVkIHRvIGJhc2VPdXQuIGUgaXMgdGhlIGV4cG9uZW50LlxyXG4gICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7IHhjWy0ta10gPT0gMDsgeGMucG9wKCkpO1xyXG5cclxuICAgICAgLy8gWmVybz9cclxuICAgICAgaWYgKCF4Y1swXSkgcmV0dXJuIGFscGhhYmV0LmNoYXJBdCgwKTtcclxuXHJcbiAgICAgIC8vIERvZXMgc3RyIHJlcHJlc2VudCBhbiBpbnRlZ2VyPyBJZiBzbywgbm8gbmVlZCBmb3IgdGhlIGRpdmlzaW9uLlxyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAtLWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgeC5lID0gZTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHNpZ24gaXMgbmVlZGVkIGZvciBjb3JyZWN0IHJvdW5kaW5nLlxyXG4gICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xyXG4gICAgICAgIHhjID0geC5jO1xyXG4gICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgZSA9IHguZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgLy8gVEhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgZCA9IGUgKyBkcCArIDE7XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4Y1tkXTtcclxuXHJcbiAgICAgIC8vIExvb2sgYXQgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhbmQgbW9kZSB0byBkZXRlcm1pbmUgd2hldGhlciB0byByb3VuZCB1cC5cclxuXHJcbiAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgciA9IHIgfHwgZCA8IDAgfHwgeGNbZCArIDFdICE9IG51bGw7XHJcblxyXG4gICAgICByID0gcm0gPCA0ID8gKGkgIT0gbnVsbCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBub3QgZ3JlYXRlciB0aGFuIHplcm8sIG9yIHhjIHJlcHJlc2VudHNcclxuICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgLy8gc3VjaCBhcyAwLjAwMDAxLlxyXG4gICAgICBpZiAoZCA8IDEgfHwgIXhjWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICBzdHIgPSByID8gdG9GaXhlZFBvaW50KGFscGhhYmV0LmNoYXJBdCgxKSwgLWRwLCBhbHBoYWJldC5jaGFyQXQoMCkpIDogYWxwaGFiZXQuY2hhckF0KDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0ZSB4YyB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHhjLmxlbmd0aCA9IGQ7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgIGZvciAoLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0Oykge1xyXG4gICAgICAgICAgICB4Y1tkXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgeGMgPSBbMV0uY29uY2F0KHhjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoayA9IHhjLmxlbmd0aDsgIXhjWy0ta107KTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8PSBrOyBzdHIgKz0gYWxwaGFiZXQuY2hhckF0KHhjW2krK10pKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGxlYWRpbmcgemVyb3MsIGRlY2ltYWwgcG9pbnQgYW5kIHRyYWlsaW5nIHplcm9zIGFzIHJlcXVpcmVkLlxyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsIGFscGhhYmV0LmNoYXJBdCgwKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXHJcbiAgZGl2ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBBc3N1bWUgbm9uLXplcm8geCBhbmQgay5cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHgsIGssIGJhc2UpIHtcclxuICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxyXG4gICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICBpID0geC5sZW5ndGgsXHJcbiAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcclxuICAgICAgICBraGkgPSBrIC8gU1FSVF9CQVNFIHwgMDtcclxuXHJcbiAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XHJcbiAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XHJcbiAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcclxuICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgKChtICUgU1FSVF9CQVNFKSAqIFNRUlRfQkFTRSkgKyBjYXJyeTtcclxuICAgICAgICBjYXJyeSA9ICh0ZW1wIC8gYmFzZSB8IDApICsgKG0gLyBTUVJUX0JBU0UgfCAwKSArIGtoaSAqIHhoaTtcclxuICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYXJyeSkgeCA9IFtjYXJyeV0uY29uY2F0KHgpO1xyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgICAgdmFyIGksIGNtcDtcclxuXHJcbiAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY21wO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNwbGljZSgwLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geDogZGl2aWRlbmQsIHk6IGRpdmlzb3IuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xyXG4gICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXHJcbiAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgIHMgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcclxuXHJcbiAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhjID8geWMgJiYgeGNbMF0gPT0geWNbMF0gOiAheWMpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgwrEwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyDCsTAuXHJcbiAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDBcclxuICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHEgPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG4gICAgICBxYyA9IHEuYyA9IFtdO1xyXG4gICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgICBzID0gZHAgKyBlICsgMTtcclxuXHJcbiAgICAgIGlmICghYmFzZSkge1xyXG4gICAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgLSBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICAgICAgcyA9IHMgLyBMT0dfQkFTRSB8IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxyXG4gICAgICAvLyBUaGUgY29lZmZpY2llbnRzIG9mIHRoZSBCaWdOdW1iZXJzIGZyb20gY29udmVydEJhc2UgbWF5IGhhdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IDA7IHljW2ldID09ICh4Y1tpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICAgIGlmICh5Y1tpXSA+ICh4Y1tpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgICAgaWYgKHMgPCAwKSB7XHJcbiAgICAgICAgcWMucHVzaCgxKTtcclxuICAgICAgICBtb3JlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4TCA9IHhjLmxlbmd0aDtcclxuICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICBpID0gMDtcclxuICAgICAgICBzICs9IDI7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGlzZSB4YyBhbmQgeWMgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5YyBpcyA+PSBiYXNlIC8gMi5cclxuXHJcbiAgICAgICAgbiA9IG1hdGhmbG9vcihiYXNlIC8gKHljWzBdICsgMSkpO1xyXG5cclxuICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gaGFuZGxlIG9kZCBiYXNlcyB3aGVyZSB5Y1swXSA9PSAoYmFzZSAvIDIpIC0gMS5cclxuICAgICAgICAvLyBpZiAobiA+IDEgfHwgbisrID09IDEgJiYgeWNbMF0gPCBiYXNlIC8gMikge1xyXG4gICAgICAgIGlmIChuID4gMSkge1xyXG4gICAgICAgICAgeWMgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICB4YyA9IG11bHRpcGx5KHhjLCBuLCBiYXNlKTtcclxuICAgICAgICAgIHlMID0geWMubGVuZ3RoO1xyXG4gICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4aSA9IHlMO1xyXG4gICAgICAgIHJlbSA9IHhjLnNsaWNlKDAsIHlMKTtcclxuICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cclxuICAgICAgICBmb3IgKDsgcmVtTCA8IHlMOyByZW1bcmVtTCsrXSA9IDApO1xyXG4gICAgICAgIHl6ID0geWMuc2xpY2UoKTtcclxuICAgICAgICB5eiA9IFswXS5jb25jYXQoeXopO1xyXG4gICAgICAgIHljMCA9IHljWzBdO1xyXG4gICAgICAgIGlmICh5Y1sxXSA+PSBiYXNlIC8gMikgeWMwKys7XHJcbiAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSwgYnV0IHRvIHByZXZlbnQgdHJpYWwgZGlnaXQgbiA+IGJhc2UsIHdoZW4gdXNpbmcgYmFzZSAzLlxyXG4gICAgICAgIC8vIGVsc2UgaWYgKGJhc2UgPT0gMyAmJiB5YzAgPT0gMSkgeWMwID0gMSArIDFlLTE1O1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBuID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxyXG5cclxuICAgICAgICAgICAgcmVtMCA9IHJlbVswXTtcclxuICAgICAgICAgICAgaWYgKHlMICE9IHJlbUwpIHJlbTAgPSByZW0wICogYmFzZSArIChyZW1bMV0gfHwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIG4gPSBtYXRoZmxvb3IocmVtMCAvIHljMCk7XHJcblxyXG4gICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAvLyAgcHJvZHVjdCA9IGRpdmlzb3IgbXVsdGlwbGllZCBieSB0cmlhbCBkaWdpdCAobikuXHJcbiAgICAgICAgICAgIC8vICBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgLy8gIElmIHByb2R1Y3QgaXMgZ3JlYXRlciB0aGFuIHJlbWFpbmRlcjpcclxuICAgICAgICAgICAgLy8gICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QsIGRlY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgLy8gIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IHdhcyBsZXNzIHRoYW4gcmVtYWluZGVyIGF0IHRoZSBsYXN0IGNvbXBhcmU6XHJcbiAgICAgICAgICAgIC8vICAgIENvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvci5cclxuICAgICAgICAgICAgLy8gICAgSWYgcmVtYWluZGVyIGlzIGdyZWF0ZXIgdGhhbiBkaXZpc29yOlxyXG4gICAgICAgICAgICAvLyAgICAgIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIsIGluY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuXHJcbiAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIG1heSBiZSA+IGJhc2Ugb25seSB3aGVuIGJhc2UgaXMgMy5cclxuICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSBuID0gYmFzZSAtIDE7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5KHljLCBuLCBiYXNlKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0ID4gcmVtYWluZGVyIHRoZW4gdHJpYWwgZGlnaXQgbiB0b28gaGlnaC5cclxuICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGhpZ2ggYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCBpcyBub3Qga25vd24gdG8gaGF2ZVxyXG4gICAgICAgICAgICAgIC8vIGV2ZXIgYmVlbiBtb3JlIHRoYW4gMSB0b28gaGlnaC5cclxuICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShwcm9kLCByZW0sIHByb2RMLCByZW1MKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChwcm9kLCB5TCA8IHByb2RMID8geXogOiB5YywgcHJvZEwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNtcCA9IDE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIGlzIDAgb3IgMSwgY21wIGlzIC0xLlxyXG4gICAgICAgICAgICAgIC8vIElmIG4gaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHljIGFuZCByZW0gYWdhaW4gYmVsb3csXHJcbiAgICAgICAgICAgICAgLy8gc28gY2hhbmdlIGNtcCB0byAxIHRvIGF2b2lkIGl0LlxyXG4gICAgICAgICAgICAgIC8vIElmIG4gaXMgMSwgbGVhdmUgY21wIGFzIC0xLCBzbyB5YyBhbmQgcmVtIGFyZSBjb21wYXJlZCBhZ2Fpbi5cclxuICAgICAgICAgICAgICBpZiAobiA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGl2aXNvciA8IHJlbWFpbmRlciwgc28gbiBtdXN0IGJlIGF0IGxlYXN0IDEuXHJcbiAgICAgICAgICAgICAgICBjbXAgPSBuID0gMTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yXHJcbiAgICAgICAgICAgICAgcHJvZCA9IHljLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZCA9IFswXS5jb25jYXQocHJvZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gVHJpYWwgZGlnaXQgbiB0b28gbG93LlxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMSB0b28gbG93IGFib3V0IDUlIG9mIHRoZSB0aW1lLCBhbmQgdmVyeSByYXJlbHkgMiB0b28gbG93LlxyXG4gICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKHljLCByZW0sIHlMLCByZW1MKSA8IDEpIHtcclxuICAgICAgICAgICAgICAgIG4rKztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHljLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgbisrO1xyXG4gICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICB9IC8vIGVsc2UgY21wID09PSAxIGFuZCBuIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgIC8vIEFkZCB0aGUgbmV4dCBkaWdpdCwgbiwgdG8gdGhlIHJlc3VsdCBhcnJheS5cclxuICAgICAgICAgIHFjW2krK10gPSBuO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgaWYgKHJlbVswXSkge1xyXG4gICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhjW3hpXSB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtID0gW3hjW3hpXV07XHJcbiAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gd2hpbGUgKCh4aSsrIDwgeEwgfHwgcmVtWzBdICE9IG51bGwpICYmIHMtLSk7XHJcblxyXG4gICAgICAgIG1vcmUgPSByZW1bMF0gIT0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICAgIGlmICghcWNbMF0pIHFjLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJhc2UgPT0gQkFTRSkge1xyXG5cclxuICAgICAgICAvLyBUbyBjYWxjdWxhdGUgcS5lLCBmaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgcWNbMF0uXHJcbiAgICAgICAgZm9yIChpID0gMSwgcyA9IHFjWzBdOyBzID49IDEwOyBzIC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgICByb3VuZChxLCBkcCArIChxLmUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgKyAxLCBybSwgbW9yZSk7XHJcblxyXG4gICAgICAvLyBDYWxsZXIgaXMgY29udmVydEJhc2UuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcS5lID0gZTtcclxuICAgICAgICBxLnIgPSArbW9yZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHE7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIEJpZ051bWJlciBuIGluIGZpeGVkLXBvaW50IG9yIGV4cG9uZW50aWFsXHJcbiAgICogbm90YXRpb24gcm91bmRlZCB0byB0aGUgc3BlY2lmaWVkIGRlY2ltYWwgcGxhY2VzIG9yIHNpZ25pZmljYW50IGRpZ2l0cy5cclxuICAgKlxyXG4gICAqIG46IGEgQmlnTnVtYmVyLlxyXG4gICAqIGk6IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBkaWdpdCByZXF1aXJlZCAoaS5lLiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cCkuXHJcbiAgICogcm06IHRoZSByb3VuZGluZyBtb2RlLlxyXG4gICAqIGlkOiAxICh0b0V4cG9uZW50aWFsKSBvciAyICh0b1ByZWNpc2lvbikuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZm9ybWF0KG4sIGksIHJtLCBpZCkge1xyXG4gICAgdmFyIGMwLCBlLCBuZSwgbGVuLCBzdHI7XHJcblxyXG4gICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgIGlmICghbi5jKSByZXR1cm4gbi50b1N0cmluZygpO1xyXG5cclxuICAgIGMwID0gbi5jWzBdO1xyXG4gICAgbmUgPSBuLmU7XHJcblxyXG4gICAgaWYgKGkgPT0gbnVsbCkge1xyXG4gICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgIHN0ciA9IGlkID09IDEgfHwgaWQgPT0gMiAmJiAobmUgPD0gVE9fRVhQX05FRyB8fCBuZSA+PSBUT19FWFBfUE9TKVxyXG4gICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgbmUpXHJcbiAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIG5lLCAnMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHJvdW5kKG5ldyBCaWdOdW1iZXIobiksIGksIHJtKTtcclxuXHJcbiAgICAgIC8vIG4uZSBtYXkgaGF2ZSBjaGFuZ2VkIGlmIHRoZSB2YWx1ZSB3YXMgcm91bmRlZCB1cC5cclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcobi5jKTtcclxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIHRvUHJlY2lzaW9uIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgICAgLy8gc3BlY2lmaWVkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyXHJcbiAgICAgIC8vIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG5cclxuICAgICAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgIGlmIChpZCA9PSAxIHx8IGlkID09IDIgJiYgKGkgPD0gZSB8fCBlIDw9IFRPX0VYUF9ORUcpKSB7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgICBmb3IgKDsgbGVuIDwgaTsgc3RyICs9ICcwJywgbGVuKyspO1xyXG4gICAgICAgIHN0ciA9IHRvRXhwb25lbnRpYWwoc3RyLCBlKTtcclxuXHJcbiAgICAgIC8vIEZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGkgLT0gbmU7XHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgJzAnKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xyXG4gICAgICAgIGlmIChlICsgMSA+IGxlbikge1xyXG4gICAgICAgICAgaWYgKC0taSA+IDApIGZvciAoc3RyICs9ICcuJzsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaSArPSBlIC0gbGVuO1xyXG4gICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChlICsgMSA9PSBsZW4pIHN0ciArPSAnLic7XHJcbiAgICAgICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuLnMgPCAwICYmIGMwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIEhhbmRsZSBCaWdOdW1iZXIubWF4IGFuZCBCaWdOdW1iZXIubWluLlxyXG4gIGZ1bmN0aW9uIG1heE9yTWluKGFyZ3MsIG1ldGhvZCkge1xyXG4gICAgdmFyIG4sXHJcbiAgICAgIGkgPSAxLFxyXG4gICAgICBtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIoYXJnc1tpXSk7XHJcblxyXG4gICAgICAvLyBJZiBhbnkgbnVtYmVyIGlzIE5hTiwgcmV0dXJuIE5hTi5cclxuICAgICAgaWYgKCFuLnMpIHtcclxuICAgICAgICBtID0gbjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIGlmIChtZXRob2QuY2FsbChtLCBuKSkge1xyXG4gICAgICAgIG0gPSBuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG07XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBTdHJpcCB0cmFpbGluZyB6ZXJvcywgY2FsY3VsYXRlIGJhc2UgMTAgZXhwb25lbnQgYW5kIGNoZWNrIGFnYWluc3QgTUlOX0VYUCBhbmQgTUFYX0VYUC5cclxuICAgKiBDYWxsZWQgYnkgbWludXMsIHBsdXMgYW5kIHRpbWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG5vcm1hbGlzZShuLCBjLCBlKSB7XHJcbiAgICB2YXIgaSA9IDEsXHJcbiAgICAgIGogPSBjLmxlbmd0aDtcclxuXHJcbiAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFjWy0tal07IGMucG9wKCkpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudC4gRmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICBmb3IgKGogPSBjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG5cclxuICAgIC8vIE92ZXJmbG93P1xyXG4gICAgaWYgKChlID0gaSArIGUgKiBMT0dfQkFTRSAtIDEpID4gTUFYX0VYUCkge1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgIG4uYyA9IG4uZSA9IG51bGw7XHJcblxyXG4gICAgLy8gVW5kZXJmbG93P1xyXG4gICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgbi5jID0gW24uZSA9IDBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbi5lID0gZTtcclxuICAgICAgbi5jID0gYztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcblxyXG5cclxuICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXHJcbiAgcGFyc2VOdW1lcmljID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaSxcclxuICAgICAgZG90QWZ0ZXIgPSAvXihbXi5dKylcXC4kLyxcclxuICAgICAgZG90QmVmb3JlID0gL15cXC4oW14uXSspJC8sXHJcbiAgICAgIGlzSW5maW5pdHlPck5hTiA9IC9eLT8oSW5maW5pdHl8TmFOKSQvLFxyXG4gICAgICB3aGl0ZXNwYWNlT3JQbHVzID0gL15cXHMqXFwrKD89W1xcdy5dKXxeXFxzK3xcXHMrJC9nO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoeCwgc3RyLCBpc051bSwgYikge1xyXG4gICAgICB2YXIgYmFzZSxcclxuICAgICAgICBzID0gaXNOdW0gPyBzdHIgOiBzdHIucmVwbGFjZSh3aGl0ZXNwYWNlT3JQbHVzLCAnJyk7XHJcblxyXG4gICAgICAvLyBObyBleGNlcHRpb24gb24gwrFJbmZpbml0eSBvciBOYU4uXHJcbiAgICAgIGlmIChpc0luZmluaXR5T3JOYU4udGVzdChzKSkge1xyXG4gICAgICAgIHgucyA9IGlzTmFOKHMpID8gbnVsbCA6IHMgPCAwID8gLTEgOiAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghaXNOdW0pIHtcclxuXHJcbiAgICAgICAgICAvLyBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaVxyXG4gICAgICAgICAgcyA9IHMucmVwbGFjZShiYXNlUHJlZml4LCBmdW5jdGlvbiAobSwgcDEsIHAyKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAocDIgPSBwMi50b0xvd2VyQ2FzZSgpKSA9PSAneCcgPyAxNiA6IHAyID09ICdiJyA/IDIgOiA4O1xyXG4gICAgICAgICAgICByZXR1cm4gIWIgfHwgYiA9PSBiYXNlID8gcDEgOiBtO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGIpIHtcclxuICAgICAgICAgICAgYmFzZSA9IGI7XHJcblxyXG4gICAgICAgICAgICAvLyBFLmcuICcxLicgdG8gJzEnLCAnLjEnIHRvICcwLjEnXHJcbiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoZG90QWZ0ZXIsICckMScpLnJlcGxhY2UoZG90QmVmb3JlLCAnMC4kMScpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzdHIgIT0gcykgcmV0dXJuIG5ldyBCaWdOdW1iZXIocywgYmFzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIGJhc2Uge2J9IG51bWJlcjoge259J1xyXG4gICAgICAgIGlmIChCaWdOdW1iZXIuREVCVUcpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdOb3QgYScgKyAoYiA/ICcgYmFzZSAnICsgYiA6ICcnKSArICcgbnVtYmVyOiAnICsgc3RyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5hTlxyXG4gICAgICAgIHgucyA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICAgKiBJZiByIGlzIHRydXRoeSwgaXQgaXMga25vd24gdGhhdCB0aGVyZSBhcmUgbW9yZSBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgcikge1xyXG4gICAgdmFyIGQsIGksIGosIGssIG4sIG5pLCByZCxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHBvd3MxMCA9IFBPV1NfVEVOO1xyXG5cclxuICAgIC8vIGlmIHggaXMgbm90IEluZmluaXR5IG9yIE5hTi4uLlxyXG4gICAgaWYgKHhjKSB7XHJcblxyXG4gICAgICAvLyByZCBpcyB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAvLyBuIGlzIGEgYmFzZSAxZTE0IG51bWJlciwgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IG9mIGFycmF5IHguYyBjb250YWluaW5nIHJkLlxyXG4gICAgICAvLyBuaSBpcyB0aGUgaW5kZXggb2YgbiB3aXRoaW4geC5jLlxyXG4gICAgICAvLyBkIGlzIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgIC8vIGkgaXMgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuIGluY2x1ZGluZyBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAvLyBqIGlzIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIG4gKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG4gICAgICBvdXQ6IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLlxyXG4gICAgICAgIGZvciAoZCA9IDEsIGsgPSB4Y1swXTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuICAgICAgICBpID0gc2QgLSBkO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgICAgICBqID0gc2Q7XHJcbiAgICAgICAgICBuID0geGNbbmkgPSAwXTtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cclxuICAgICAgICAgIHJkID0gbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5pID49IHhjLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgZm9yICg7IHhjLmxlbmd0aCA8PSBuaTsgeGMucHVzaCgwKSk7XHJcbiAgICAgICAgICAgICAgbiA9IHJkID0gMDtcclxuICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbiA9IGsgPSB4Y1tuaV07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4uXHJcbiAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4gaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkLlxyXG4gICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICByZCA9IGogPCAwID8gMCA6IG4gLyBwb3dzMTBbZCAtIGogLSAxXSAlIDEwIHwgMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHIgPSByIHx8IHNkIDwgMCB8fFxyXG5cclxuICAgICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICAgICAgLy8gVGhlIGV4cHJlc3Npb24gIG4gJSBwb3dzMTBbZCAtIGogLSAxXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgLy8gb2YgdGhlIGRpZ2l0IGF0IGosIGUuZy4gaWYgbiBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb24gZ2l2ZXMgNzE0LlxyXG4gICAgICAgICB4Y1tuaSArIDFdICE9IG51bGwgfHwgKGogPCAwID8gbiA6IG4gJSBwb3dzMTBbZCAtIGogLSAxXSk7XHJcblxyXG4gICAgICAgIHIgPSBybSA8IDRcclxuICAgICAgICAgPyAocmQgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgciB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICgoaSA+IDAgPyBqID4gMCA/IG4gLyBwb3dzMTBbZCAtIGpdIDogMCA6IHhjW25pIC0gMV0pICUgMTApICYgMSB8fFxyXG4gICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgICAgICB4Y1swXSA9IHBvd3MxMFsoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFXTtcclxuICAgICAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgeGNbMF0gPSB4LmUgPSAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgeGMubGVuZ3RoID0gbmk7XHJcbiAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgIG5pLS07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IG5pICsgMTtcclxuICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcclxuXHJcbiAgICAgICAgICAvLyBFLmcuIDU2NzAwIGJlY29tZXMgNTYwMDAgaWYgNyBpcyB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygbi5cclxuICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0IHRvIGJlIHJvdW5kZWQgdXAgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICAgICAgaWYgKG5pID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGNbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG4gICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xyXG4gICAgICAgICAgICAgIGZvciAoayA9IDE7IGogPj0gMTA7IGogLz0gMTAsIGsrKyk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGlmIGkgIT0gayB0aGUgbGVuZ3RoIGhhcyBpbmNyZWFzZWQuXHJcbiAgICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGNbMF0gPT0gQkFTRSkgeGNbMF0gPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgeGNbbmldICs9IGs7XHJcbiAgICAgICAgICAgICAgaWYgKHhjW25pXSAhPSBCQVNFKSBicmVhaztcclxuICAgICAgICAgICAgICB4Y1tuaS0tXSA9IDA7XHJcbiAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7IHhjWy0taV0gPT09IDA7IHhjLnBvcCgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/IEluZmluaXR5LlxyXG4gICAgICBpZiAoeC5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/IFplcm8uXHJcbiAgICAgIH0gZWxzZSBpZiAoeC5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHZhbHVlT2Yobikge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICBpZiAoZSA9PT0gbnVsbCkgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcblxyXG4gICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBlKVxyXG4gICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgcmV0dXJuIG4ucyA8IDAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gUFJPVE9UWVBFL0lOU1RBTkNFIE1FVEhPRFNcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXHJcbiAgICovXHJcbiAgUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVyblxyXG4gICAqICAgMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAwIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcclxuICAgKiAgIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXHJcbiAgICovXHJcbiAgUC5jb21wYXJlZFRvID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIGRwIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZVxyXG4gICAqIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyDCsUluZmluaXR5IG9yIE5hTi5cclxuICAgKlxyXG4gICAqIE90aGVyd2lzZSwgaWYgZHAgaXMgYSBudW1iZXIsIHJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgKiBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgKiBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzOiBpbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICovXHJcbiAgUC5kZWNpbWFsUGxhY2VzID0gUC5kcCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgbiA9ICgodiA9IGMubGVuZ3RoIC0gMSkgLSBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBudW1iZXIuXHJcbiAgICBpZiAodiA9IGNbdl0pIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuICAgIGlmIChuIDwgMCkgbiA9IDA7XHJcblxyXG4gICAgcmV0dXJuIG47XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gLyAwID0gSVxyXG4gICAqICBuIC8gTiA9IE5cclxuICAgKiAgbiAvIEkgPSAwXHJcbiAgICogIDAgLyBuID0gMFxyXG4gICAqICAwIC8gMCA9IE5cclxuICAgKiAgMCAvIE4gPSBOXHJcbiAgICogIDAgLyBJID0gMFxyXG4gICAqICBOIC8gbiA9IE5cclxuICAgKiAgTiAvIDAgPSBOXHJcbiAgICogIE4gLyBOID0gTlxyXG4gICAqICBOIC8gSSA9IE5cclxuICAgKiAgSSAvIG4gPSBJXHJcbiAgICogIEkgLyAwID0gSVxyXG4gICAqICBJIC8gTiA9IE5cclxuICAgKiAgSSAvIEkgPSBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBkaXZpZGVkIGJ5IHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICovXHJcbiAgUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgKiBCaWdOdW1iZXIgYnkgdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuaWRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIDAsIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZXhwb25lbnRpYXRlZCBieSBuLlxyXG4gICAqXHJcbiAgICogSWYgbSBpcyBwcmVzZW50LCByZXR1cm4gdGhlIHJlc3VsdCBtb2R1bG8gbS5cclxuICAgKiBJZiBuIGlzIG5lZ2F0aXZlIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgKiBJZiBQT1dfUFJFQ0lTSU9OIGlzIG5vbi16ZXJvIGFuZCBtIGlzIG5vdCBwcmVzZW50LCByb3VuZCB0byBQT1dfUFJFQ0lTSU9OIHVzaW5nIFJPVU5ESU5HX01PREUuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kdWxhciBwb3dlciBvcGVyYXRpb24gd29ya3MgZWZmaWNpZW50bHkgd2hlbiB4LCBuLCBhbmQgbSBhcmUgaW50ZWdlcnMsIG90aGVyd2lzZSBpdFxyXG4gICAqIGlzIGVxdWl2YWxlbnQgdG8gY2FsY3VsYXRpbmcgeC5leHBvbmVudGlhdGVkQnkobikubW9kdWxvKG0pIHdpdGggYSBQT1dfUFJFQ0lTSU9OIG9mIDAuXHJcbiAgICpcclxuICAgKiBuIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gVGhlIGV4cG9uZW50LiBBbiBpbnRlZ2VyLlxyXG4gICAqIFttXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IFRoZSBtb2R1bHVzLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEV4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiB7bn0nXHJcbiAgICovXHJcbiAgUC5leHBvbmVudGlhdGVkQnkgPSBQLnBvdyA9IGZ1bmN0aW9uIChuLCBtKSB7XHJcbiAgICB2YXIgaGFsZiwgaXNNb2RFeHAsIGksIGssIG1vcmUsIG5Jc0JpZywgbklzTmVnLCBuSXNPZGQsIHksXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIG4gPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG5cclxuICAgIC8vIEFsbG93IE5hTiBhbmQgwrFJbmZpbml0eSwgYnV0IG5vdCBvdGhlciBub24taW50ZWdlcnMuXHJcbiAgICBpZiAobi5jICYmICFuLmlzSW50ZWdlcigpKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0V4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiAnICsgdmFsdWVPZihuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG0gIT0gbnVsbCkgbSA9IG5ldyBCaWdOdW1iZXIobSk7XHJcblxyXG4gICAgLy8gRXhwb25lbnQgb2YgTUFYX1NBRkVfSU5URUdFUiBpcyAxNS5cclxuICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG5cclxuICAgIC8vIElmIHggaXMgTmFOLCDCsUluZmluaXR5LCDCsTAgb3IgwrExLCBvciBuIGlzIMKxSW5maW5pdHksIE5hTiBvciDCsTAuXHJcbiAgICBpZiAoIXguYyB8fCAheC5jWzBdIHx8IHguY1swXSA9PSAxICYmICF4LmUgJiYgeC5jLmxlbmd0aCA9PSAxIHx8ICFuLmMgfHwgIW4uY1swXSkge1xyXG5cclxuICAgICAgLy8gVGhlIHNpZ24gb2YgdGhlIHJlc3VsdCBvZiBwb3cgd2hlbiB4IGlzIG5lZ2F0aXZlIGRlcGVuZHMgb24gdGhlIGV2ZW5uZXNzIG9mIG4uXHJcbiAgICAgIC8vIElmICtuIG92ZXJmbG93cyB0byDCsUluZmluaXR5LCB0aGUgZXZlbm5lc3Mgb2YgbiB3b3VsZCBiZSBub3QgYmUga25vd24uXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE1hdGgucG93KCt2YWx1ZU9mKHgpLCBuSXNCaWcgPyAyIC0gaXNPZGQobikgOiArdmFsdWVPZihuKSkpO1xyXG4gICAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogeTtcclxuICAgIH1cclxuXHJcbiAgICBuSXNOZWcgPSBuLnMgPCAwO1xyXG5cclxuICAgIGlmIChtKSB7XHJcblxyXG4gICAgICAvLyB4ICUgbSByZXR1cm5zIE5hTiBpZiBhYnMobSkgaXMgemVybywgb3IgbSBpcyBOYU4uXHJcbiAgICAgIGlmIChtLmMgPyAhbS5jWzBdIDogIW0ucykgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAgIGlzTW9kRXhwID0gIW5Jc05lZyAmJiB4LmlzSW50ZWdlcigpICYmIG0uaXNJbnRlZ2VyKCk7XHJcblxyXG4gICAgICBpZiAoaXNNb2RFeHApIHggPSB4Lm1vZChtKTtcclxuXHJcbiAgICAvLyBPdmVyZmxvdyB0byDCsUluZmluaXR5OiA+PTIqKjFlMTAgb3IgPj0xLjAwMDAwMjQqKjFlMTUuXHJcbiAgICAvLyBVbmRlcmZsb3cgdG8gwrEwOiA8PTAuNzkqKjFlMTAgb3IgPD0wLjk5OTk5NzUqKjFlMTUuXHJcbiAgICB9IGVsc2UgaWYgKG4uZSA+IDkgJiYgKHguZSA+IDAgfHwgeC5lIDwgLTEgfHwgKHguZSA9PSAwXHJcbiAgICAgIC8vIFsxLCAyNDAwMDAwMDBdXHJcbiAgICAgID8geC5jWzBdID4gMSB8fCBuSXNCaWcgJiYgeC5jWzFdID49IDI0ZTdcclxuICAgICAgLy8gWzgwMDAwMDAwMDAwMDAwXSAgWzk5OTk5NzUwMDAwMDAwXVxyXG4gICAgICA6IHguY1swXSA8IDhlMTMgfHwgbklzQmlnICYmIHguY1swXSA8PSA5OTk5OTc1ZTcpKSkge1xyXG5cclxuICAgICAgLy8gSWYgeCBpcyBuZWdhdGl2ZSBhbmQgbiBpcyBvZGQsIGsgPSAtMCwgZWxzZSBrID0gMC5cclxuICAgICAgayA9IHgucyA8IDAgJiYgaXNPZGQobikgPyAtMCA6IDA7XHJcblxyXG4gICAgICAvLyBJZiB4ID49IDEsIGsgPSDCsUluZmluaXR5LlxyXG4gICAgICBpZiAoeC5lID4gLTEpIGsgPSAxIC8gaztcclxuXHJcbiAgICAgIC8vIElmIG4gaXMgbmVnYXRpdmUgcmV0dXJuIMKxMCwgZWxzZSByZXR1cm4gwrFJbmZpbml0eS5cclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIobklzTmVnID8gMSAvIGsgOiBrKTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKFBPV19QUkVDSVNJT04pIHtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRpbmcgZWFjaCBjb2VmZmljaWVudCBhcnJheSB0byBhIGxlbmd0aCBvZiBrIGFmdGVyIGVhY2ggbXVsdGlwbGljYXRpb25cclxuICAgICAgLy8gZXF1YXRlcyB0byB0cnVuY2F0aW5nIHNpZ25pZmljYW50IGRpZ2l0cyB0byBQT1dfUFJFQ0lTSU9OICsgWzI4LCA0MV0sXHJcbiAgICAgIC8vIGkuZS4gdGhlcmUgd2lsbCBiZSBhIG1pbmltdW0gb2YgMjggZ3VhcmQgZGlnaXRzIHJldGFpbmVkLlxyXG4gICAgICBrID0gbWF0aGNlaWwoUE9XX1BSRUNJU0lPTiAvIExPR19CQVNFICsgMik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5Jc0JpZykge1xyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcigwLjUpO1xyXG4gICAgICBpZiAobklzTmVnKSBuLnMgPSAxO1xyXG4gICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgPSBNYXRoLmFicygrdmFsdWVPZihuKSk7XHJcbiAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybXMgNTQgbG9vcCBpdGVyYXRpb25zIGZvciBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEuXHJcbiAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgaWYgKG5Jc09kZCkge1xyXG4gICAgICAgIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgICAgIGlmICgheS5jKSBicmVhaztcclxuXHJcbiAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgIGlmICh5LmMubGVuZ3RoID4gaykgeS5jLmxlbmd0aCA9IGs7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgICAgeSA9IHkubW9kKG0pOyAgICAvL3kgPSB5Lm1pbnVzKGRpdih5LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGkpIHtcclxuICAgICAgICBpID0gbWF0aGZsb29yKGkgLyAyKTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgbklzT2RkID0gaSAlIDI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbiA9IG4udGltZXMoaGFsZik7XHJcbiAgICAgICAgcm91bmQobiwgbi5lICsgMSwgMSk7XHJcblxyXG4gICAgICAgIGlmIChuLmUgPiAxNCkge1xyXG4gICAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgPSArdmFsdWVPZihuKTtcclxuICAgICAgICAgIGlmIChpID09PSAwKSBicmVhaztcclxuICAgICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeCA9IHgudGltZXMoeCk7XHJcblxyXG4gICAgICBpZiAoaykge1xyXG4gICAgICAgIGlmICh4LmMgJiYgeC5jLmxlbmd0aCA+IGspIHguYy5sZW5ndGggPSBrO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTW9kRXhwKSB7XHJcbiAgICAgICAgeCA9IHgubW9kKG0pOyAgICAvL3ggPSB4Lm1pbnVzKGRpdih4LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTW9kRXhwKSByZXR1cm4geTtcclxuICAgIGlmIChuSXNOZWcpIHkgPSBPTkUuZGl2KHkpO1xyXG5cclxuICAgIHJldHVybiBtID8geS5tb2QobSkgOiBrID8gcm91bmQoeSwgUE9XX1BSRUNJU0lPTiwgUk9VTkRJTkdfTU9ERSwgbW9yZSkgOiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYW4gaW50ZWdlclxyXG4gICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7cm19J1xyXG4gICAqL1xyXG4gIFAuaW50ZWdlclZhbHVlID0gZnVuY3Rpb24gKHJtKSB7XHJcbiAgICB2YXIgbiA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcbiAgICByZXR1cm4gcm91bmQobiwgbi5lICsgMSwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0VxdWFsVG8gPSBQLmVxID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gMSB8fCBiID09PSAwO1xyXG5cclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzSW50ZWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYyAmJiBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmMubGVuZ3RoIC0gMjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpIDwgMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gLTEgfHwgYiA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMucztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5jICYmIHRoaXMuY1swXSA9PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC0gMCA9IG5cclxuICAgKiAgbiAtIE4gPSBOXHJcbiAgICogIG4gLSBJID0gLUlcclxuICAgKiAgMCAtIG4gPSAtblxyXG4gICAqICAwIC0gMCA9IDBcclxuICAgKiAgMCAtIE4gPSBOXHJcbiAgICogIDAgLSBJID0gLUlcclxuICAgKiAgTiAtIG4gPSBOXHJcbiAgICogIE4gLSAwID0gTlxyXG4gICAqICBOIC0gTiA9IE5cclxuICAgKiAgTiAtIEkgPSBOXHJcbiAgICogIEkgLSBuID0gSVxyXG4gICAqICBJIC0gMCA9IElcclxuICAgKiAgSSAtIE4gPSBOXHJcbiAgICogIEkgLSBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbWludXMgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubWludXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIGksIGosIHQsIHhMVHksXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBhID0geC5zO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgYiA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHhjID0geC5jLFxyXG4gICAgICB5YyA9IHkuYztcclxuXHJcbiAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgLy8gRWl0aGVyIEluZmluaXR5P1xyXG4gICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIHhjID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeWMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgICByZXR1cm4geWNbMF0gPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOlxyXG5cclxuICAgICAgICAgLy8gSUVFRSA3NTQgKDIwMDgpIDYuMzogbiAtIG4gPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eVxyXG4gICAgICAgICBST1VORElOR19NT0RFID09IDMgPyAtMCA6IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXMgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICAgIGlmICh4TFR5ID0gYSA8IDApIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHllID0geGU7XHJcbiAgICAgICAgdCA9IHljO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgICBmb3IgKGIgPSBhOyBiLS07IHQucHVzaCgwKSk7XHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50cyBlcXVhbC4gQ2hlY2sgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICAgIGogPSAoeExUeSA9IChhID0geGMubGVuZ3RoKSA8IChiID0geWMubGVuZ3RoKSkgPyBhIDogYjtcclxuXHJcbiAgICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcblxyXG4gICAgICAgIGlmICh4Y1tiXSAhPSB5Y1tiXSkge1xyXG4gICAgICAgICAgeExUeSA9IHhjW2JdIDwgeWNbYl07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB4IDwgeT8gUG9pbnQgeGMgdG8gdGhlIGFycmF5IG9mIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgaWYgKHhMVHkpIHQgPSB4YywgeGMgPSB5YywgeWMgPSB0LCB5LnMgPSAteS5zO1xyXG5cclxuICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuXHJcbiAgICAvLyBObyBuZWVkIHRvIGFkZCB6ZXJvcyB0byB5YyBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0IG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCk7XHJcbiAgICBiID0gQkFTRSAtIDE7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cclxuICAgIGZvciAoOyBqID4gYTspIHtcclxuXHJcbiAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcclxuICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpO1xyXG4gICAgICAgIC0teGNbaV07XHJcbiAgICAgICAgeGNbal0gKz0gQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgIGZvciAoOyB4Y1swXSA9PSAwOyB4Yy5zcGxpY2UoMCwgMSksIC0teWUpO1xyXG5cclxuICAgIC8vIFplcm8/XHJcbiAgICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcclxuICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICB5LnMgPSBST1VORElOR19NT0RFID09IDMgPyAtMSA6IDE7XHJcbiAgICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XHJcbiAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogICBuICUgMCA9ICBOXHJcbiAgICogICBuICUgTiA9ICBOXHJcbiAgICogICBuICUgSSA9ICBuXHJcbiAgICogICAwICUgbiA9ICAwXHJcbiAgICogIC0wICUgbiA9IC0wXHJcbiAgICogICAwICUgMCA9ICBOXHJcbiAgICogICAwICUgTiA9ICBOXHJcbiAgICogICAwICUgSSA9ICAwXHJcbiAgICogICBOICUgbiA9ICBOXHJcbiAgICogICBOICUgMCA9ICBOXHJcbiAgICogICBOICUgTiA9ICBOXHJcbiAgICogICBOICUgSSA9ICBOXHJcbiAgICogICBJICUgbiA9ICBOXHJcbiAgICogICBJICUgMCA9ICBOXHJcbiAgICogICBJICUgTiA9ICBOXHJcbiAgICogICBJICUgSSA9ICBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIE1PRFVMT19NT0RFLlxyXG4gICAqL1xyXG4gIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHEsIHMsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXHJcbiAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBJbmZpbml0eSBvciB4IGlzIHplcm8uXHJcbiAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1PRFVMT19NT0RFID09IDkpIHtcclxuXHJcbiAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAvLyByID0geCAtIHF5ICAgIHdoZXJlICAwIDw9IHIgPCBhYnMoeSlcclxuICAgICAgcyA9IHkucztcclxuICAgICAgeS5zID0gMTtcclxuICAgICAgcSA9IGRpdih4LCB5LCAwLCAzKTtcclxuICAgICAgeS5zID0gcztcclxuICAgICAgcS5zICo9IHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICB5ID0geC5taW51cyhxLnRpbWVzKHkpKTtcclxuXHJcbiAgICAvLyBUbyBtYXRjaCBKYXZhU2NyaXB0ICUsIGVuc3VyZSBzaWduIG9mIHplcm8gaXMgc2lnbiBvZiBkaXZpZGVuZC5cclxuICAgIGlmICgheS5jWzBdICYmIE1PRFVMT19NT0RFID09IDEpIHkucyA9IHgucztcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAqIDAgPSAwXHJcbiAgICogIG4gKiBOID0gTlxyXG4gICAqICBuICogSSA9IElcclxuICAgKiAgMCAqIG4gPSAwXHJcbiAgICogIDAgKiAwID0gMFxyXG4gICAqICAwICogTiA9IE5cclxuICAgKiAgMCAqIEkgPSBOXHJcbiAgICogIE4gKiBuID0gTlxyXG4gICAqICBOICogMCA9IE5cclxuICAgKiAgTiAqIE4gPSBOXHJcbiAgICogIE4gKiBJID0gTlxyXG4gICAqICBJICogbiA9IElcclxuICAgKiAgSSAqIDAgPSBOXHJcbiAgICogIEkgKiBOID0gTlxyXG4gICAqICBJICogSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG11bHRpcGxpZWQgYnkgdGhlIHZhbHVlXHJcbiAgICogb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubXVsdGlwbGllZEJ5ID0gUC50aW1lcyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXHJcbiAgICAgIGJhc2UsIHNxcnRCYXNlLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0gKHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpKS5jO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIMKxSW5maW5pdHkgb3IgwrEwP1xyXG4gICAgaWYgKCF4YyB8fCAheWMgfHwgIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLCBvciBvbmUgaXMgMCBhbmQgdGhlIG90aGVyIGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAoIXgucyB8fCAheS5zIHx8IHhjICYmICF4Y1swXSAmJiAheWMgfHwgeWMgJiYgIXljWzBdICYmICF4Yykge1xyXG4gICAgICAgIHkuYyA9IHkuZSA9IHkucyA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeS5zICo9IHgucztcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIGlzIMKxSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHtcclxuICAgICAgICAgIHkuYyA9IHkuZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeS5jID0gWzBdO1xyXG4gICAgICAgICAgeS5lID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB5LnMgKj0geC5zO1xyXG4gICAgeGNMID0geGMubGVuZ3RoO1xyXG4gICAgeWNMID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEVuc3VyZSB4YyBwb2ludHMgdG8gbG9uZ2VyIGFycmF5IGFuZCB4Y0wgdG8gaXRzIGxlbmd0aC5cclxuICAgIGlmICh4Y0wgPCB5Y0wpIHpjID0geGMsIHhjID0geWMsIHljID0gemMsIGkgPSB4Y0wsIHhjTCA9IHljTCwgeWNMID0gaTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhjTCArIHljTCwgemMgPSBbXTsgaS0tOyB6Yy5wdXNoKDApKTtcclxuXHJcbiAgICBiYXNlID0gQkFTRTtcclxuICAgIHNxcnRCYXNlID0gU1FSVF9CQVNFO1xyXG5cclxuICAgIGZvciAoaSA9IHljTDsgLS1pID49IDA7KSB7XHJcbiAgICAgIGMgPSAwO1xyXG4gICAgICB5bG8gPSB5Y1tpXSAlIHNxcnRCYXNlO1xyXG4gICAgICB5aGkgPSB5Y1tpXSAvIHNxcnRCYXNlIHwgMDtcclxuXHJcbiAgICAgIGZvciAoayA9IHhjTCwgaiA9IGkgKyBrOyBqID4gaTspIHtcclxuICAgICAgICB4bG8gPSB4Y1stLWtdICUgc3FydEJhc2U7XHJcbiAgICAgICAgeGhpID0geGNba10gLyBzcXJ0QmFzZSB8IDA7XHJcbiAgICAgICAgbSA9IHloaSAqIHhsbyArIHhoaSAqIHlsbztcclxuICAgICAgICB4bG8gPSB5bG8gKiB4bG8gKyAoKG0gJSBzcXJ0QmFzZSkgKiBzcXJ0QmFzZSkgKyB6Y1tqXSArIGM7XHJcbiAgICAgICAgYyA9ICh4bG8gLyBiYXNlIHwgMCkgKyAobSAvIHNxcnRCYXNlIHwgMCkgKyB5aGkgKiB4aGk7XHJcbiAgICAgICAgemNbai0tXSA9IHhsbyAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHpjW2pdID0gYztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYykge1xyXG4gICAgICArK2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB6Yy5zcGxpY2UoMCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB6YywgZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbmVnYXRlZCxcclxuICAgKiBpLmUuIG11bHRpcGxpZWQgYnkgLTEuXHJcbiAgICovXHJcbiAgUC5uZWdhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgeC5zID0gLXgucyB8fCBudWxsO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gKyAwID0gblxyXG4gICAqICBuICsgTiA9IE5cclxuICAgKiAgbiArIEkgPSBJXHJcbiAgICogIDAgKyBuID0gblxyXG4gICAqICAwICsgMCA9IDBcclxuICAgKiAgMCArIE4gPSBOXHJcbiAgICogIDAgKyBJID0gSVxyXG4gICAqICBOICsgbiA9IE5cclxuICAgKiAgTiArIDAgPSBOXHJcbiAgICogIE4gKyBOID0gTlxyXG4gICAqICBOICsgSSA9IE5cclxuICAgKiAgSSArIG4gPSBJXHJcbiAgICogIEkgKyAwID0gSVxyXG4gICAqICBJICsgTiA9IE5cclxuICAgKiAgSSArIEkgPSBJXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBwbHVzIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLnBsdXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHQsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBhID0geC5zO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgYiA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgICByZXR1cm4geC5taW51cyh5KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgeGUgPSB4LmUgLyBMT0dfQkFTRSxcclxuICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0geS5jO1xyXG5cclxuICAgIGlmICgheGUgfHwgIXllKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgwrFJbmZpbml0eS5cclxuICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcclxuICAgIH1cclxuXHJcbiAgICB4ZSA9IGJpdEZsb29yKHhlKTtcclxuICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgeGMgPSB4Yy5zbGljZSgpO1xyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG4gICAgICBpZiAoYSA+IDApIHtcclxuICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgIHQgPSB5YztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgZm9yICg7IGEtLTsgdC5wdXNoKDApKTtcclxuICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYSA9IHhjLmxlbmd0aDtcclxuICAgIGIgPSB5Yy5sZW5ndGg7XHJcblxyXG4gICAgLy8gUG9pbnQgeGMgdG8gdGhlIGxvbmdlciBhcnJheSwgYW5kIGIgdG8gdGhlIHNob3J0ZXIgbGVuZ3RoLlxyXG4gICAgaWYgKGEgLSBiIDwgMCkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xyXG5cclxuICAgIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHljLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhjIGNhbiBiZSBpZ25vcmVkLlxyXG4gICAgZm9yIChhID0gMDsgYjspIHtcclxuICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgIHhjW2JdID0gQkFTRSA9PT0geGNbYl0gPyAwIDogeGNbYl0gJSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhKSB7XHJcbiAgICAgIHhjID0gW2FdLmNvbmNhdCh4Yyk7XHJcbiAgICAgICsreWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gICAgLy8geWUgPSBNQVhfRVhQICsgMSBwb3NzaWJsZVxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgwrFJbmZpbml0eSBvciBOYU4uXHJcbiAgICogSWYgc2QgaXMgdHJ1ZSBpbmNsdWRlIGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvcyBpbiB0aGUgY291bnQuXHJcbiAgICpcclxuICAgKiBPdGhlcndpc2UsIGlmIHNkIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIHNkIHtudW1iZXJ8Ym9vbGVhbn0gbnVtYmVyOiBzaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW46IHdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlIG9yIGZhbHNlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoc2QgIT0gbnVsbCAmJiBzZCAhPT0gISFzZCkge1xyXG4gICAgICBpbnRDaGVjayhzZCwgMSwgTUFYKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgc2QsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICB2ID0gYy5sZW5ndGggLSAxO1xyXG4gICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gICAgaWYgKHYgPSBjW3ZdKSB7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXHJcbiAgICAgIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuXHJcbiAgICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgZm9yICh2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgbisrKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgJiYgeC5lICsgMSA+IG4pIG4gPSB4LmUgKyAxO1xyXG5cclxuICAgIHJldHVybiBuO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHNoaWZ0ZWQgYnkgayBwbGFjZXNcclxuICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXHJcbiAgICpcclxuICAgKiBrIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfU0FGRV9JTlRFR0VSIHRvIE1BWF9TQUZFX0lOVEVHRVIgaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtrfSdcclxuICAgKi9cclxuICBQLnNoaWZ0ZWRCeSA9IGZ1bmN0aW9uIChrKSB7XHJcbiAgICBpbnRDaGVjayhrLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUik7XHJcbiAgICByZXR1cm4gdGhpcy50aW1lcygnMWUnICsgayk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIHNxcnQoLW4pID0gIE5cclxuICAgKiAgc3FydChOKSA9ICBOXHJcbiAgICogIHNxcnQoLUkpID0gIE5cclxuICAgKiAgc3FydChJKSA9ICBJXHJcbiAgICogIHNxcnQoMCkgPSAgMFxyXG4gICAqICBzcXJ0KC0wKSA9IC0wXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsXHJcbiAgICogcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICovXHJcbiAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG0sIG4sIHIsIHJlcCwgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGMgPSB4LmMsXHJcbiAgICAgIHMgPSB4LnMsXHJcbiAgICAgIGUgPSB4LmUsXHJcbiAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMgKyA0LFxyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcignMC41Jyk7XHJcblxyXG4gICAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgICBpZiAocyAhPT0gMSB8fCAhYyB8fCAhY1swXSkge1xyXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcighcyB8fCBzIDwgMCAmJiAoIWMgfHwgY1swXSkgPyBOYU4gOiBjID8geCA6IDEgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gICAgcyA9IE1hdGguc3FydCgrdmFsdWVPZih4KSk7XHJcblxyXG4gICAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XHJcbiAgICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICAgIHMgPSBNYXRoLnNxcnQoK24pO1xyXG4gICAgICBlID0gYml0Rmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgciA9IG5ldyBCaWdOdW1iZXIobik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciB6ZXJvLlxyXG4gICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cclxuICAgIC8vIFRoaXMgd291bGQgY2F1c2UgYSBkaXZpc2lvbiBieSB6ZXJvICh4L3QpIGFuZCBoZW5jZSBJbmZpbml0eSBiZWxvdywgd2hpY2ggd291bGQgY2F1c2VcclxuICAgIC8vIGNvZWZmVG9TdHJpbmcgdG8gdGhyb3cuXHJcbiAgICBpZiAoci5jWzBdKSB7XHJcbiAgICAgIGUgPSByLmU7XHJcbiAgICAgIHMgPSBlICsgZHA7XHJcbiAgICAgIGlmIChzIDwgMykgcyA9IDA7XHJcblxyXG4gICAgICAvLyBOZXd0b24tUmFwaHNvbiBpdGVyYXRpb24uXHJcbiAgICAgIGZvciAoOyA7KSB7XHJcbiAgICAgICAgdCA9IHI7XHJcbiAgICAgICAgciA9IGhhbGYudGltZXModC5wbHVzKGRpdih4LCB0LCBkcCwgMSkpKTtcclxuXHJcbiAgICAgICAgaWYgKGNvZWZmVG9TdHJpbmcodC5jKS5zbGljZSgwLCBzKSA9PT0gKG4gPSBjb2VmZlRvU3RyaW5nKHIuYykpLnNsaWNlKDAsIHMpKSB7XHJcblxyXG4gICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxyXG4gICAgICAgICAgLy8gZS5nIDAuMDAwOTk5OSAoZS00KSAtLT4gMC4wMDEgKGUtMyksIHNvIGFkanVzdCBzIHNvIHRoZSByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgIC8vIGFyZSBpbmRleGVkIGNvcnJlY3RseS5cclxuICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XHJcbiAgICAgICAgICBuID0gbi5zbGljZShzIC0gMywgcyArIDEpO1xyXG5cclxuICAgICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcclxuICAgICAgICAgIC8vIGl0ZXJhdGlvbi5cclxuICAgICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGVcclxuICAgICAgICAgICAgLy8gZXhhY3QgcmVzdWx0IGFzIHRoZSBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgICAgcm91bmQodCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHQudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcCArPSA0O1xyXG4gICAgICAgICAgICBzICs9IDQ7XHJcbiAgICAgICAgICAgIHJlcCA9IDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGV4YWN0XHJcbiAgICAgICAgICAgIC8vIHJlc3VsdC4gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgICByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDIsIDEpO1xyXG4gICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJvdW5kKHIsIHIuZSArIERFQ0lNQUxfUExBQ0VTICsgMSwgUk9VTkRJTkdfTU9ERSwgbSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gYW5kXHJcbiAgICogcm91bmRlZCB1c2luZyBST1VORElOR19NT0RFIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBkcCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0sIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kaW5nXHJcbiAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogTm90ZTogYXMgd2l0aCBKYXZhU2NyaXB0J3MgbnVtYmVyIHR5cGUsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsXHJcbiAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICovXHJcbiAgUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgIGRwID0gZHAgKyB0aGlzLmUgKyAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcclxuICAgKiB1c2luZyBybSBvciBST1VORElOR19NT0RFIHRvIGRwIGRlY2ltYWwgcGxhY2VzLCBhbmQgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgcHJvcGVydGllc1xyXG4gICAqIG9mIHRoZSBmb3JtYXQgb3IgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5zZXQpLlxyXG4gICAqXHJcbiAgICogVGhlIGZvcm1hdHRpbmcgb2JqZWN0IG1heSBjb250YWluIHNvbWUgb3IgYWxsIG9mIHRoZSBwcm9wZXJ0aWVzIHNob3duIGJlbG93LlxyXG4gICAqXHJcbiAgICogRk9STUFUID0ge1xyXG4gICAqICAgcHJlZml4OiAnJyxcclxuICAgKiAgIGdyb3VwU2l6ZTogMyxcclxuICAgKiAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGdyb3VwU2VwYXJhdG9yOiAnLCcsXHJcbiAgICogICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICogICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICogICBzdWZmaXg6ICcnXHJcbiAgICogfTtcclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICogW2Zvcm1hdF0ge29iamVjdH0gRm9ybWF0dGluZyBvcHRpb25zLiBTZWUgRk9STUFUIHBiamVjdCBhYm92ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCBub3QgYW4gb2JqZWN0OiB7Zm9ybWF0fSdcclxuICAgKi9cclxuICBQLnRvRm9ybWF0ID0gZnVuY3Rpb24gKGRwLCBybSwgZm9ybWF0KSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoZm9ybWF0ID09IG51bGwpIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwgJiYgcm0gJiYgdHlwZW9mIHJtID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9ybWF0ID0gcm07XHJcbiAgICAgICAgcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKGRwICYmIHR5cGVvZiBkcCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvcm1hdCA9IGRwO1xyXG4gICAgICAgIGRwID0gcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm1hdCA9IEZPUk1BVDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ICE9ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50IG5vdCBhbiBvYmplY3Q6ICcgKyBmb3JtYXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IHgudG9GaXhlZChkcCwgcm0pO1xyXG5cclxuICAgIGlmICh4LmMpIHtcclxuICAgICAgdmFyIGksXHJcbiAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXHJcbiAgICAgICAgZzEgPSArZm9ybWF0Lmdyb3VwU2l6ZSxcclxuICAgICAgICBnMiA9ICtmb3JtYXQuc2Vjb25kYXJ5R3JvdXBTaXplLFxyXG4gICAgICAgIGdyb3VwU2VwYXJhdG9yID0gZm9ybWF0Lmdyb3VwU2VwYXJhdG9yIHx8ICcnLFxyXG4gICAgICAgIGludFBhcnQgPSBhcnJbMF0sXHJcbiAgICAgICAgZnJhY3Rpb25QYXJ0ID0gYXJyWzFdLFxyXG4gICAgICAgIGlzTmVnID0geC5zIDwgMCxcclxuICAgICAgICBpbnREaWdpdHMgPSBpc05lZyA/IGludFBhcnQuc2xpY2UoMSkgOiBpbnRQYXJ0LFxyXG4gICAgICAgIGxlbiA9IGludERpZ2l0cy5sZW5ndGg7XHJcblxyXG4gICAgICBpZiAoZzIpIGkgPSBnMSwgZzEgPSBnMiwgZzIgPSBpLCBsZW4gLT0gaTtcclxuXHJcbiAgICAgIGlmIChnMSA+IDAgJiYgbGVuID4gMCkge1xyXG4gICAgICAgIGkgPSBsZW4gJSBnMSB8fCBnMTtcclxuICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0cigwLCBpKTtcclxuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zdWJzdHIoaSwgZzEpO1xyXG4gICAgICAgIGlmIChnMiA+IDApIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc2xpY2UoaSk7XHJcbiAgICAgICAgaWYgKGlzTmVnKSBpbnRQYXJ0ID0gJy0nICsgaW50UGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RyID0gZnJhY3Rpb25QYXJ0XHJcbiAgICAgICA/IGludFBhcnQgKyAoZm9ybWF0LmRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgKChnMiA9ICtmb3JtYXQuZnJhY3Rpb25Hcm91cFNpemUpXHJcbiAgICAgICAgPyBmcmFjdGlvblBhcnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcZHsnICsgZzIgKyAnfVxcXFxCJywgJ2cnKSxcclxuICAgICAgICAgJyQmJyArIChmb3JtYXQuZnJhY3Rpb25Hcm91cFNlcGFyYXRvciB8fCAnJykpXHJcbiAgICAgICAgOiBmcmFjdGlvblBhcnQpXHJcbiAgICAgICA6IGludFBhcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChmb3JtYXQucHJlZml4IHx8ICcnKSArIHN0ciArIChmb3JtYXQuc3VmZml4IHx8ICcnKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdHdvIEJpZ051bWJlcnMgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZVxyXG4gICAqIGZyYWN0aW9uIHdpdGggYW4gaW50ZWdlciBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAgICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZFxyXG4gICAqIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZVxyXG4gICAqIHRoZSBsb3dlc3QgdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAgICpcclxuICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxLCBvciBJbmZpbml0eS4gVGhlIG1heGltdW0gZGVub21pbmF0b3IuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX0gOiB7bWR9J1xyXG4gICAqL1xyXG4gIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xyXG4gICAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGV4cCwgbiwgbjAsIG4xLCBxLCByLCBzLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmM7XHJcblxyXG4gICAgaWYgKG1kICE9IG51bGwpIHtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobWQpO1xyXG5cclxuICAgICAgLy8gVGhyb3cgaWYgbWQgaXMgbGVzcyB0aGFuIG9uZSBvciBpcyBub3QgYW4gaW50ZWdlciwgdW5sZXNzIGl0IGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkgJiYgKG4uYyB8fCBuLnMgIT09IDEpIHx8IG4ubHQoT05FKSkge1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnQXJndW1lbnQgJyArXHJcbiAgICAgICAgICAgIChuLmlzSW50ZWdlcigpID8gJ291dCBvZiByYW5nZTogJyA6ICdub3QgYW4gaW50ZWdlcjogJykgKyB2YWx1ZU9mKG4pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgheGMpIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xyXG5cclxuICAgIGQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICBuMSA9IGQwID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgZDEgPSBuMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgaW5pdGlhbCBkZW5vbWluYXRvci5cclxuICAgIC8vIGQgaXMgYSBwb3dlciBvZiAxMCBhbmQgdGhlIG1pbmltdW0gbWF4IGRlbm9taW5hdG9yIHRoYXQgc3BlY2lmaWVzIHRoZSB2YWx1ZSBleGFjdGx5LlxyXG4gICAgZSA9IGQuZSA9IHMubGVuZ3RoIC0geC5lIC0gMTtcclxuICAgIGQuY1swXSA9IFBPV1NfVEVOWyhleHAgPSBlICUgTE9HX0JBU0UpIDwgMCA/IExPR19CQVNFICsgZXhwIDogZXhwXTtcclxuICAgIG1kID0gIW1kIHx8IG4uY29tcGFyZWRUbyhkKSA+IDAgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuXHJcbiAgICBleHAgPSBNQVhfRVhQO1xyXG4gICAgTUFYX0VYUCA9IDEgLyAwO1xyXG4gICAgbiA9IG5ldyBCaWdOdW1iZXIocyk7XHJcblxyXG4gICAgLy8gbjAgPSBkMSA9IDBcclxuICAgIG4wLmNbMF0gPSAwO1xyXG5cclxuICAgIGZvciAoOyA7KSAge1xyXG4gICAgICBxID0gZGl2KG4sIGQsIDAsIDEpO1xyXG4gICAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgICBpZiAoZDIuY29tcGFyZWRUbyhtZCkgPT0gMSkgYnJlYWs7XHJcbiAgICAgIGQwID0gZDE7XHJcbiAgICAgIGQxID0gZDI7XHJcbiAgICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyID0gbjEpKTtcclxuICAgICAgbjAgPSBkMjtcclxuICAgICAgZCA9IG4ubWludXMocS50aW1lcyhkMiA9IGQpKTtcclxuICAgICAgbiA9IGQyO1xyXG4gICAgfVxyXG5cclxuICAgIGQyID0gZGl2KG1kLm1pbnVzKGQwKSwgZDEsIDAsIDEpO1xyXG4gICAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICAgIG4wLnMgPSBuMS5zID0geC5zO1xyXG4gICAgZSA9IGUgKiAyO1xyXG5cclxuICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDFcclxuICAgIHIgPSBkaXYobjEsIGQxLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKS5jb21wYXJlZFRvKFxyXG4gICAgICAgIGRpdihuMCwgZDAsIGUsIFJPVU5ESU5HX01PREUpLm1pbnVzKHgpLmFicygpKSA8IDEgPyBbbjEsIGQxXSA6IFtuMCwgZDBdO1xyXG5cclxuICAgIE1BWF9FWFAgPSBleHA7XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gICAqL1xyXG4gIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gK3ZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtIG9yIFJPVU5ESU5HX01PREUuIElmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xyXG4gICAqIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24sIHRoZW4gdXNlXHJcbiAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICBpZiAoc2QgIT0gbnVsbCkgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMsIHNkLCBybSwgMik7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gYmFzZSBiLCBvciBiYXNlIDEwIGlmIGIgaXNcclxuICAgKiBvbWl0dGVkLiBJZiBhIGJhc2UgaXMgc3BlY2lmaWVkLCBpbmNsdWRpbmcgYmFzZSAxMCwgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZFxyXG4gICAqIFJPVU5ESU5HX01PREUuIElmIGEgYmFzZSBpcyBub3Qgc3BlY2lmaWVkLCBhbmQgdGhpcyBCaWdOdW1iZXIgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnRcclxuICAgKiB0aGF0IGlzIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiBUT19FWFBfUE9TLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhblxyXG4gICAqIFRPX0VYUF9ORUcsIHJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtiXSB7bnVtYmVyfSBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICovXHJcbiAgUC50b1N0cmluZyA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICBuID0gdGhpcyxcclxuICAgICAgcyA9IG4ucyxcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAvLyBJbmZpbml0eSBvciBOYU4/XHJcbiAgICBpZiAoZSA9PT0gbnVsbCkge1xyXG4gICAgICBpZiAocykge1xyXG4gICAgICAgIHN0ciA9ICdJbmZpbml0eSc7XHJcbiAgICAgICAgaWYgKHMgPCAwKSBzdHIgPSAnLScgKyBzdHI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RyID0gJ05hTic7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChiID09IG51bGwpIHtcclxuICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgID8gdG9FeHBvbmVudGlhbChjb2VmZlRvU3RyaW5nKG4uYyksIGUpXHJcbiAgICAgICAgIDogdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIGlmIChiID09PSAxMCAmJiBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMpIHtcclxuICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgREVDSU1BTF9QTEFDRVMgKyBlICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgbi5lLCAnMCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICBzdHIgPSBjb252ZXJ0QmFzZSh0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBlLCAnMCcpLCAxMCwgYiwgcywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhcyB0b1N0cmluZywgYnV0IGRvIG5vdCBhY2NlcHQgYSBiYXNlIGFyZ3VtZW50LCBhbmQgaW5jbHVkZSB0aGUgbWludXMgc2lnbiBmb3JcclxuICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAqL1xyXG4gIFAudmFsdWVPZiA9IFAudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIFAuX2lzQmlnTnVtYmVyID0gdHJ1ZTtcclxuXHJcbiAgUFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0JpZ051bWJlcic7XHJcblxyXG4gIC8vIE5vZGUuanMgdjEwLjEyLjArXHJcbiAgUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudmFsdWVPZjtcclxuXHJcbiAgaWYgKGNvbmZpZ09iamVjdCAhPSBudWxsKSBCaWdOdW1iZXIuc2V0KGNvbmZpZ09iamVjdCk7XHJcblxyXG4gIHJldHVybiBCaWdOdW1iZXI7XHJcbn1cclxuXHJcblxyXG4vLyBQUklWQVRFIEhFTFBFUiBGVU5DVElPTlNcclxuXHJcbi8vIFRoZXNlIGZ1bmN0aW9ucyBkb24ndCBuZWVkIGFjY2VzcyB0byB2YXJpYWJsZXMsXHJcbi8vIGUuZy4gREVDSU1BTF9QTEFDRVMsIGluIHRoZSBzY29wZSBvZiB0aGUgYGNsb25lYCBmdW5jdGlvbiBhYm92ZS5cclxuXHJcblxyXG5mdW5jdGlvbiBiaXRGbG9vcihuKSB7XHJcbiAgdmFyIGkgPSBuIHwgMDtcclxuICByZXR1cm4gbiA+IDAgfHwgbiA9PT0gaSA/IGkgOiBpIC0gMTtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiBhIGNvZWZmaWNpZW50IGFycmF5IGFzIGEgc3RyaW5nIG9mIGJhc2UgMTAgZGlnaXRzLlxyXG5mdW5jdGlvbiBjb2VmZlRvU3RyaW5nKGEpIHtcclxuICB2YXIgcywgeixcclxuICAgIGkgPSAxLFxyXG4gICAgaiA9IGEubGVuZ3RoLFxyXG4gICAgciA9IGFbMF0gKyAnJztcclxuXHJcbiAgZm9yICg7IGkgPCBqOykge1xyXG4gICAgcyA9IGFbaSsrXSArICcnO1xyXG4gICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XHJcbiAgICBmb3IgKDsgei0tOyBzID0gJzAnICsgcyk7XHJcbiAgICByICs9IHM7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChqID0gci5sZW5ndGg7IHIuY2hhckNvZGVBdCgtLWopID09PSA0ODspO1xyXG5cclxuICByZXR1cm4gci5zbGljZSgwLCBqICsgMSB8fCAxKTtcclxufVxyXG5cclxuXHJcbi8vIENvbXBhcmUgdGhlIHZhbHVlIG9mIEJpZ051bWJlcnMgeCBhbmQgeS5cclxuZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XHJcbiAgdmFyIGEsIGIsXHJcbiAgICB4YyA9IHguYyxcclxuICAgIHljID0geS5jLFxyXG4gICAgaSA9IHgucyxcclxuICAgIGogPSB5LnMsXHJcbiAgICBrID0geC5lLFxyXG4gICAgbCA9IHkuZTtcclxuXHJcbiAgLy8gRWl0aGVyIE5hTj9cclxuICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xyXG5cclxuICBhID0geGMgJiYgIXhjWzBdO1xyXG4gIGIgPSB5YyAmJiAheWNbMF07XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmIChhIHx8IGIpIHJldHVybiBhID8gYiA/IDAgOiAtaiA6IGk7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgYSA9IGkgPCAwO1xyXG4gIGIgPSBrID09IGw7XHJcblxyXG4gIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIGIgPyAwIDogIXhjIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xyXG5cclxuICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykgaWYgKHhjW2ldICE9IHljW2ldKSByZXR1cm4geGNbaV0gPiB5Y1tpXSBeIGEgPyAxIDogLTE7XHJcblxyXG4gIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gYSA/IDEgOiAtMTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIHRoYXQgbiBpcyBhIHByaW1pdGl2ZSBudW1iZXIsIGFuIGludGVnZXIsIGFuZCBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxyXG4gKi9cclxuZnVuY3Rpb24gaW50Q2hlY2sobiwgbWluLCBtYXgsIG5hbWUpIHtcclxuICBpZiAobiA8IG1pbiB8fCBuID4gbWF4IHx8IG4gIT09IG1hdGhmbG9vcihuKSkge1xyXG4gICAgdGhyb3cgRXJyb3JcclxuICAgICAoYmlnbnVtYmVyRXJyb3IgKyAobmFtZSB8fCAnQXJndW1lbnQnKSArICh0eXBlb2YgbiA9PSAnbnVtYmVyJ1xyXG4gICAgICAgPyBuIDwgbWluIHx8IG4gPiBtYXggPyAnIG91dCBvZiByYW5nZTogJyA6ICcgbm90IGFuIGludGVnZXI6ICdcclxuICAgICAgIDogJyBub3QgYSBwcmltaXRpdmUgbnVtYmVyOiAnKSArIFN0cmluZyhuKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gQXNzdW1lcyBmaW5pdGUgbi5cclxuZnVuY3Rpb24gaXNPZGQobikge1xyXG4gIHZhciBrID0gbi5jLmxlbmd0aCAtIDE7XHJcbiAgcmV0dXJuIGJpdEZsb29yKG4uZSAvIExPR19CQVNFKSA9PSBrICYmIG4uY1trXSAlIDIgIT0gMDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvRXhwb25lbnRpYWwoc3RyLCBlKSB7XHJcbiAgcmV0dXJuIChzdHIubGVuZ3RoID4gMSA/IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgOiBzdHIpICtcclxuICAgKGUgPCAwID8gJ2UnIDogJ2UrJykgKyBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdG9GaXhlZFBvaW50KHN0ciwgZSwgeikge1xyXG4gIHZhciBsZW4sIHpzO1xyXG5cclxuICAvLyBOZWdhdGl2ZSBleHBvbmVudD9cclxuICBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zLlxyXG4gICAgZm9yICh6cyA9IHogKyAnLic7ICsrZTsgenMgKz0geik7XHJcbiAgICBzdHIgPSB6cyArIHN0cjtcclxuXHJcbiAgLy8gUG9zaXRpdmUgZXhwb25lbnRcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAvLyBBcHBlbmQgemVyb3MuXHJcbiAgICBpZiAoKytlID4gbGVuKSB7XHJcbiAgICAgIGZvciAoenMgPSB6LCBlIC09IGxlbjsgLS1lOyB6cyArPSB6KTtcclxuICAgICAgc3RyICs9IHpzO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgbGVuKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBFWFBPUlRcclxuXHJcblxyXG5leHBvcnQgdmFyIEJpZ051bWJlciA9IGNsb25lKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCaWdOdW1iZXI7XHJcbiIsImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dDb250YWluZXIgPSBmdW5jdGlvbihpZCA6IHN0cmluZykge1xyXG4gICAgbGV0IGNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFpbmVyJyk7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxjb250YWluZXJzLmxlbmd0aDtpKyspIHtcclxuXHRcdGxldCBlbGVtZW50ID0gY29udGFpbmVyc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoZWxlbWVudC5pZCA9PSBpZCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyIDogbnVtYmVyKSB7XHJcblx0cmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogMTAwKSAvIDEwMDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtYmVyRGVjaW1hbCA9IGZ1bmN0aW9uKG51bWJlciA6IG51bWJlciwgZGVjaW1hbCA6IG51bWJlcikge1xyXG5cdGxldCBodW5kcmVkID0gcGFyc2VJbnQoJzEnKyAnMCcucmVwZWF0KGRlY2ltYWwpKTtcclxuXHRyZXR1cm4gTWF0aC5yb3VuZChudW1iZXIgKiBodW5kcmVkKSAvIGh1bmRyZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCByb3VuZEJpZ051bWJlciA9IGZ1bmN0aW9uKG51bWJlciA6IEJpZ051bWJlcikgOiBCaWdOdW1iZXIge1xyXG5cdHJldHVybiBuZXcgQmlnTnVtYmVyKE1hdGgucm91bmQobnVtYmVyLnRvTnVtYmVyKCkgKiAxMDApIC8gMTAwKTtcclxufVxyXG5leHBvcnQgY29uc3Qgcm91bmRCaWdOdW1iZXJEZWNpbWFsID0gZnVuY3Rpb24obnVtYmVyIDogQmlnTnVtYmVyLCBkZWNpbWFsIDogbnVtYmVyKSA6IEJpZ051bWJlciB7XHJcblx0bGV0IGh1bmRyZWQgPSBwYXJzZUludCgnMScrICcwJy5yZXBlYXQoZGVjaW1hbCkpO1xyXG5cdHJldHVybiBuZXcgQmlnTnVtYmVyKE1hdGgucm91bmQobnVtYmVyLnRvTnVtYmVyKCkgKiBodW5kcmVkKSAvIGh1bmRyZWQpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWRkcmVzc1plcm8gPSBcIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzSlNPTiA9IGZ1bmN0aW9uKHN0ciA6IHN0cmluZykge1xyXG5cdHRyeSB7XHJcblx0XHRKU09OLnBhcnNlKHN0cik7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9IGNhdGNoIChlKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3J0RXRoID0gZnVuY3Rpb24oZXRoQWRkcmVzcyA6IHN0cmluZykge1xyXG5cdGlmICghZXRoQWRkcmVzcykgcmV0dXJuICcnO1xyXG5cclxuXHRyZXR1cm4gZXRoQWRkcmVzcy5zdWJzdHJpbmcoMCwgNikgKyBcIi4uLlwiICsgZXRoQWRkcmVzcy5zdWJzdHJpbmcoZXRoQWRkcmVzcy5sZW5ndGggLSA0KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cHBlckZpcnN0TGV0dGVyID0gZnVuY3Rpb24odGV4dCA6IHN0cmluZykge1xyXG5cdHJldHVybiB0ZXh0WzBdLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnN1YnN0cmluZygxKTtcclxufVxyXG4iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8dHIgaWQ9XFxcInN5bWJvbEluZm9Ub0NvcHlcXFwiPlxcclxcbiAgICA8dGQgY29sc3Bhbj1cXFwiNFxcXCI+XFxyXFxuICAgICAgICA8YXJ0aWNsZT5cXHJcXG4gICAgICAgIFNvbWUgd2FsbGV0cyBkZXRlY3QgYXV0b21hdGljYWxseSB0aGUgY29pbnMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB0byB5b3VyIGFkZHJlc3MuXFxyXFxuICAgICAgICBUaG9zZSB0aGF0IGRvbid0IGRvIGF1dG9tYXRpYyBkZXRlY3Rpb24sIHlvdSBuZWVkIHRvIGFkZCB0aGVtIG1hbnVhbGx5LlxcclxcbiAgICAgICAgPGJyIC8+PGJyIC8+XFxyXFxuICAgICAgICBUaGlzIGlzIHRoZSBhZGRyZXNzIGZvciB0aGUgc3ltYm9sIHt7c3ltYm9sfX0sXFxyXFxuICAgICAgICB5b3UgbmVlZCB0byBjb3B5IGl0IGFuZCBpbXBvcnQgdGhlIHRva2VuIGluIHlvdXIgd2FsbGV0XFxyXFxuICAgICAgICA8YnIgLz5cXHJcXG4gICAgICAgIDxpbnB1dCB2YWx1ZT1cXFwie3thZGRyZXNzfX1cXFwiIC8+XFxyXFxuICAgICAgICA8L2FydGljbGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IFNlY3VyaXRpZXNTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9icm9rZXIvU2VjdXJpdGllc1NlcnZpY2VcIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0SHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL1NlY3VyaXRpZXNMaXN0Lmh0bWwnXHJcbmltcG9ydCBTZWN1cml0eUh0bWwgZnJvbSAnLi4vLi4vaHRtbC9lbGVtZW50cy9TZWN1cml0aWVzLmh0bWwnO1xyXG5pbXBvcnQgU2VjdXJpdHkgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jyb2tlci9TZWN1cml0eVwiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IENvcHlIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvQ29weUhlbHBlclwiO1xyXG5pbXBvcnQgQWRkcmVzc0luZm9IdG1sIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvQWRkcmVzc0luZm8uaHRtbCc7XHJcbmltcG9ydCBDb250cmFjdEFkZHJlc3NOb3RGb3VuZCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL0NvbnRyYWN0QWRkcmVzc05vdEZvdW5kLmh0bWwnO1xyXG5pbXBvcnQge0FkZHJlc3NaZXJvfSBmcm9tIFwiLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEFkZFRvV2FsbGV0SHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL0FkZFRvV2FsbGV0Lmh0bWwnO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0dlbmVyYWxFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdXJpdGllc0xpc3Qge1xyXG4gICAgcGFnZTogbnVtYmVyO1xyXG4gICAgdGJvZHlJZCA9ICdsaW1pbmFsX21hcmtldF9zZWN1cml0aWVzX2xpc3QnO1xyXG4gICAgbG9hZG1vcmU6IGJvb2xlYW47XHJcbiAgICBvblNlbGVjdFN5bWJvbD86IChzeW1ib2w6IHN0cmluZywgbmFtZTogc3RyaW5nLCBsb2dvOiBzdHJpbmcpID0+IHZvaWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRtb3JlID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllc1NlcnZpY2UgPSBhd2FpdCBTZWN1cml0aWVzU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBsZXQgc2VjdXJpdGllc0NvdW50ID0gc2VjdXJpdGllc1NlcnZpY2Uuc2VjdXJpdGllc0FycmF5Lmxlbmd0aDtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHNlY3VyaXRpZXNTZXJ2aWNlLmdldFBhZ2luYXRpbmdTZWN1cml0aWVzKHRoaXMucGFnZSsrKTtcclxuXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoXHJcbiAgICAgICAgICAgIFwic2VjdXJpdGllc1wiLFxyXG4gICAgICAgICAgICBTZWN1cml0eUh0bWxcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShTZWN1cml0aWVzTGlzdEh0bWwpO1xyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgdGJvZHlJZDogdGhpcy50Ym9keUlkLFxyXG4gICAgICAgICAgICBzZWN1cml0aWVzOiBzZWN1cml0aWVzLFxyXG4gICAgICAgICAgICBzZWN1cml0aWVzQ291bnQ6IHNlY3VyaXRpZXNDb3VudFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUob2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgYmluZEV2ZW50cyhvblNlbGVjdFN5bWJvbDogKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuYmluZE9uQ2xpY2tFdmVudChvblNlbGVjdFN5bWJvbCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5iaW5kU2VhcmNoRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmJpbmRMb2FkTW9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZE9uQ2xpY2tFdmVudChvblNlbGVjdFN5bWJvbDogKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9zZWN1cml0aWVzX3RhYmxlJyk7XHJcblxyXG4gICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChuZXcgR2VuZXJhbEVycm9yKFwiUGFnZSBjb3VsZCBub3QgbG9hZCBjb3JyZWN0bHksIHRyeSByZWxvYWRpbmdcIikpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25TZWxlY3RTeW1ib2wgPSBvblNlbGVjdFN5bWJvbDtcclxuXHJcbiAgICAgICAgdGFibGUub25jbGljayA9IGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbGljayhldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSAoZXZ0LnRhcmdldCEgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ2EnKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVG9XYWxsZXRPckdldEFkZHJlc3MoZXZ0LCBlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBhcmVudFRyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICghcGFyZW50VHIpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudFRyLnRhZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSAhPT0gJ3RyJykge1xyXG4gICAgICAgICAgICBwYXJlbnRUciA9IHBhcmVudFRyLnBhcmVudEVsZW1lbnQhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHN5bWJvbCA9IHBhcmVudFRyLmRhdGFzZXQuc3ltYm9sO1xyXG4gICAgICAgIGlmICghc3ltYm9sKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBuYW1lID0gcGFyZW50VHIuZGF0YXNldC5uYW1lIVxyXG4gICAgICAgIGxldCBsb2dvID0gcGFyZW50VHIuZGF0YXNldC5sb2dvITtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub25TZWxlY3RTeW1ib2wpIHtcclxuICAgICAgICAgICAgdGhpcy5vblNlbGVjdFN5bWJvbChzeW1ib2wsIG5hbWUsIGxvZ28pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGJpbmRTZWFyY2hFdmVudCgpIHtcclxuICAgICAgICBsZXQgc2VhcmNoRm9yU3ltYm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaF9mb3Jfc3ltYm9sJyk7XHJcbiAgICAgICAgaWYgKCFzZWFyY2hGb3JTeW1ib2wpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHNlY3VyaXRpZXNTZXJ2aWNlID0gYXdhaXQgU2VjdXJpdGllc1NlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgbGV0IHRpbWVvdXQ6IGFueSA9IG51bGw7XHJcbiAgICAgICAgc2VhcmNoRm9yU3ltYm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGltZW91dCAhPSBudWxsKSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcblxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWFyY2ggfHwgc2VhcmNoLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRtb3JlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dUb3BTZWN1cml0aWVzKHNlY3VyaXRpZXNTZXJ2aWNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRtb3JlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY3VyaXRpZXMgPSBhd2FpdCBzZWN1cml0aWVzU2VydmljZS5maW5kKHNlYXJjaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTZWN1cml0aWVzVG9Eb20oc2VjdXJpdGllcyk7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3dUb3BTZWN1cml0aWVzKHNlY3VyaXRpZXNTZXJ2aWNlOiBTZWN1cml0aWVzU2VydmljZSkge1xyXG4gICAgICAgIGxldCBzZWN1cml0aWVzID0gYXdhaXQgc2VjdXJpdGllc1NlcnZpY2UuZ2V0VG9wU2VjdXJpdGllcygpO1xyXG4gICAgICAgIHRoaXMubG9hZFNlY3VyaXRpZXNUb0RvbShzZWN1cml0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRTZWN1cml0aWVzVG9Eb20oc2VjdXJpdGllczogQXJyYXk8U2VjdXJpdHk+KSB7XHJcbiAgICAgICAgbGV0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50Ym9keUlkKTtcclxuICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShTZWN1cml0eUh0bWwpO1xyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgc2VjdXJpdGllczogc2VjdXJpdGllc1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKG9iaik7XHJcbiAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRMb2FkTW9yZSgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGltaW5hbF9tYXJrZXRfbG9hZF9tb3JlJykhO1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlcihhc3luYyAoW2VudHJ5XSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZE1vcmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgICAgICAgdGhyZXNob2xkOiAwLjEsIC8vIHNldCBvZmZzZXQgMC4xIG1lYW5zIHRyaWdnZXIgaWYgYXRsZWFzdCAxMCUgb2YgZWxlbWVudCBpbiB2aWV3cG9ydFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkTW9yZSh0aGlzOiBTZWN1cml0aWVzTGlzdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmICghdGhpcy5sb2FkbW9yZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnRib2R5SWQpO1xyXG4gICAgICAgIGlmICghdGJvZHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHNlY3VyaXRpZXNTZXJ2aWNlID0gYXdhaXQgU2VjdXJpdGllc1NlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHNlY3VyaXRpZXNTZXJ2aWNlLmdldFBhZ2luYXRpbmdTZWN1cml0aWVzKHRoaXMucGFnZSsrKTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFNlY3VyaXR5SHRtbCk7XHJcbiAgICAgICAgbGV0IG9iajogYW55ID0ge1xyXG4gICAgICAgICAgICBzZWN1cml0aWVzOiBzZWN1cml0aWVzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUob2JqKTtcclxuXHJcbiAgICAgICAgdGJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBjb250ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZFRvV2FsbGV0T3JHZXRBZGRyZXNzKGV2ZW50OiBNb3VzZUV2ZW50LCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGxldCBjbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcclxuICAgICAgICBpZiAoY2xhc3NOYW1lICE9ICdnZXRBZGRyZXNzJyAmJiBjbGFzc05hbWUgIT0gJ2FkZFRvV2FsbGV0Jykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBsZXQgc3ltYm9sID0gZWxlbWVudC5kYXRhc2V0LnN5bWJvbDtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBMb2FkaW5nSGVscGVyLnNldExvYWRpbmcoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQgYWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG5cclxuICAgICAgICBpZiAoY2xhc3NOYW1lID09ICdnZXRBZGRyZXNzJykge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dHZXRBZGRyZXNzKGVsZW1lbnQsIHN5bWJvbCwgYWRkcmVzcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zaG93QWRkVG9XYWxsZXQoZWxlbWVudCwgc3ltYm9sLCBhZGRyZXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBzaG93R2V0QWRkcmVzcyhlbGVtZW50OiBIVE1MRWxlbWVudCwgc3ltYm9sOiBzdHJpbmcsIGFkZHJlc3M6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChhZGRyZXNzICE9PSBBZGRyZXNzWmVybykge1xyXG4gICAgICAgICAgICBsZXQgY29weUhlbHBlciA9IG5ldyBDb3B5SGVscGVyKCk7XHJcbiAgICAgICAgICAgIGxldCBzdWNjZXNzID0gYXdhaXQgY29weUhlbHBlci5jb3B5VGV4dFRvQ2xpcGJvYXJkKGFkZHJlc3MpO1xyXG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSAnQ29waWVkJztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbmRlckNvbnRyYWN0SW5mb1RvU3RyaW5nKGVsZW1lbnQsIGFkZHJlc3MsIHN5bWJvbCwgQWRkcmVzc0luZm9IdG1sKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93QWRkVG9XYWxsZXQoZWxlbWVudDogSFRNTEVsZW1lbnQsIHN5bWJvbDogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoYWRkcmVzcyAhPT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIoTW9yYWxpcyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYWRkZWQgPSBhd2FpdCB3YWxsZXRIZWxwZXIuYWRkVG9rZW5Ub1dhbGxldChhZGRyZXNzLCBzeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDb250cmFjdEluZm9Ub1N0cmluZyhlbGVtZW50LCBhZGRyZXNzLCBzeW1ib2wsIEFkZFRvV2FsbGV0SHRtbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoYWRkZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDb250cmFjdEluZm9Ub1N0cmluZyhlbGVtZW50LCBhZGRyZXNzLCBzeW1ib2wsIEFkZFRvV2FsbGV0SHRtbCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlckNvbnRyYWN0SW5mb1RvU3RyaW5nKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBhZGRyZXNzOiBzdHJpbmcsIHN5bWJvbDogc3RyaW5nLCB0ZW1wbGF0ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHN5bWJvbEluZm9Ub0NvcHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ltYm9sSW5mb1RvQ29weScpO1xyXG4gICAgICAgIGlmIChzeW1ib2xJbmZvVG9Db3B5KSBzeW1ib2xJbmZvVG9Db3B5LnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xyXG4gICAgICAgIGlmIChhZGRyZXNzID09PSBBZGRyZXNzWmVybykge1xyXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoQ29udHJhY3RBZGRyZXNzTm90Rm91bmQpO1xyXG4gICAgICAgICAgICBjb250ZW50ID0gdGVtcGxhdGUobnVsbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEFkZHJlc3NJbmZvSHRtbCk7XHJcbiAgICAgICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxyXG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSB0ZW1wbGF0ZShvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQhLnBhcmVudEVsZW1lbnQhLnBhcmVudEVsZW1lbnQhLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBjb250ZW50KTtcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxkaXYgaWQ9XFxcInVzZXJNZW51UGFuZWxcXFwiPlxcclxcbiAgICA8YSBocmVmPVxcXCIjXFxcIiBpZD1cXFwidXNlckluZm9BY3Rpb25cXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXHJcXG4gICAgICAgIDxpbWcgc3JjPVxcXCJodHRwczovL2VmZmlneS5pbS9hL3t7ZXRoQWRkcmVzc319LnBuZ1xcXCIgd2lkdGg9XFxcIjI0XFxcIj5cXHJcXG4gICAgICAgIDxzcGFuIGlkPVxcXCJ1c2VyX2luZm9fZXRoQWRkcmVzc1xcXCI+e3tzaG9ydEV0aEFkZHJlc3N9fTwvc3Bhbj5cXHJcXG4gICAgPC9hPlxcclxcblxcclxcbiAgICA8ZGl2IGlkPVxcXCJ1c2VySW5mb0Ryb3Bkb3duXFxcIiBjbGFzcz1cXFwiZC1ub25lXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYWNjb3VudF9pbmZvXFxcIj5cXHJcXG4gICAgICAgICAgICA8aDY+QWNjb3VudDwvaDY+XFxyXFxuICAgICAgICAgICAgPGEgaWQ9XFxcImRpc2Nvbm5lY3RGcm9tTmV0d29ya1xcXCIgaHJlZj1cXFwiI1xcXCI+RGlzY29ubmVjdDwvYT5cXHJcXG5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZWRpdF9hY2NvdW50IGdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGlkPVxcXCJlZGl0TmFtZVxcXCIgaHJlZj1cXFwiI1xcXCI+RWRpdCBuYW1lPC9hPlxcclxcbiAgICAgICAgICAgIDxhIGlkPVxcXCJlZGl0Q29udGFjdFxcXCIgaHJlZj1cXFwiI1xcXCI+RWRpdCBjb250YWN0IGluZm88L2E+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImVkaXRfYWNjb3VudFxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgaWQ9XFxcImVkaXRUcnVzdGVkQ29udGFjdFxcXCIgaHJlZj1cXFwiI1xcXCI+RWRpdCB0cnVzdGVkIGNvbnRhY3Q8L2E+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxoci8+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiaHR0cHM6Ly9lZmZpZ3kuaW0vYS97e2V0aEFkZHJlc3N9fS5wbmdcXFwiPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XFxcImQtYmxvY2tcXFwiPjxhIGhyZWY9XFxcInt7YmxvY2tjaGFpbkV4cGxvcmVyfX17e2V0aEFkZHJlc3N9fVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnt7c2hvcnRFdGhBZGRyZXNzfX08L2E+PC9zdHJvbmc+XFxyXFxuICAgICAgICAgICAgICAgIDxzbWFsbD57e3dhbGxldE5hbWV9fTwvc21hbGw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxoci8+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWRkZW5cXFwiIGlkPVxcXCJ1c2VySW5mb0FVc2RCYWxhbmNlXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdj48aW1nIHNyYz1cXFwiaHR0cHM6Ly9hcHAubGltaW5hbC5tYXJrZXQvaW1nL2F1c2QucG5nXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XFxcImQtYmxvY2tcXFwiPmFVU0QgPHNwYW4gaWQ9XFxcInVzZXJfaW5mb19hdXNkX2JhbGFuY2VcXFwiPjwvc3Bhbj48L3N0cm9uZz5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJmdW5kX2FjY291bnRcXFwiPkZ1bmQgbXkgYWNjb3VudDwvYT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGlkPVxcXCJ3aXRoZHJhd19mcm9tX2FjY291bnRcXFwiPldpdGhkcmF3IGZyb20gYWNjb3VudDwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGhyLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cXFwiZC1ibG9ja1xcXCI+TmV0d29yazwvc3Ryb25nPlxcclxcbiAgICAgICAgICAgIDxzbWFsbD57e25ldHdvcmtOYW1lfX08L3NtYWxsPlxcclxcblxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgaWQ9XFxcImt5Y0VkaXROYW1lXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwid2FybmluZ0JhclxcXCI+XFxyXFxuICAgICAgICA8c3Ryb25nPldhcm5pbmc8L3N0cm9uZz48YnIvPlxcclxcbiAgICAgICAgWW91IGNhbiBvbmx5IGNoYW5nZSB0aGUgbmFtZSBvbmNlLiBCZSBjYXJlZnVsIG9mIHdoYXQgeW91IGNoYW5nZS5cXHJcXG4gICAgICAgIDxici8+PGJyLz5cXHJcXG4gICAgICAgIEFmdGVyIHlvdSBjaGFuZ2UgdGhpcyBpbmZvcm1hdGlvbiBhIG5ldyBLWUMgcHJvY2VzcyB3aWxsIGJlIHN0YXJ0ZWQsIGFuZCB5b3Ugd2lsbCBOT1QgYmUgYWJsZSB0byBkbyBhbnlcXHJcXG4gICAgICAgIHRyYWRlc1xcclxcbiAgICAgICAgdW50aWwgaXQgaGFzIGJlZW4gYXBwcm92ZWQuXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZ2l2ZW5fbmFtZVxcXCI+TGVnYWwgRmlyc3QgbmFtZTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgcmVxdWlyZWQgaWQ9XFxcImdpdmVuX25hbWVcXFwiIG5hbWU9XFxcImdpdmVuX25hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlJvblxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwie3tnaXZlbl9uYW1lfX1cXFwiIGF1dG9jb21wbGV0ZT1cXFwiZ2l2ZW4tbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwibWlkZGxlX25hbWVcXFwiPkxlZ2FsIE1pZGRsZSBuYW1lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwibWlkZGxlX25hbWVcXFwiIG5hbWU9XFxcIm1pZGRsZV9uYW1lXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcInt7bWlkZGxlX25hbWV9fVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRpdGlvbmFsLW5hbWVcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImZhbWlseV9uYW1lXFxcIj5MZWdhbCBMYXN0IG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJmYW1pbHlfbmFtZVxcXCIgbmFtZT1cXFwiZmFtaWx5X25hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlN3YW5zb25cXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcInt7ZmFtaWx5X25hbWV9fVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJmYW1pbHktbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gaWQ9XFxcImt5Y0VkaXROYW1lQ29uZmlybVxcXCI+Q29uZmlybTwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlxcclxcblxcclxcbjxmaWVsZHNldCBjbGFzcz1cXFwiaGlkZGVuXFxcIiBpZD1cXFwiY29uZmlybU5hbWVGaWVsZHNldFxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbmZpcm1fbmFtZVxcXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb25maXJtX25hbWVcXFwiIGlkPVxcXCJsYWJlbF9jb25maXJtX25hbWVcXFwiPlBsZWFzZSB0eXBlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb25maXJtX25hbWVcXFwiIGlkPVxcXCJjb25maXJtX25hbWVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwia3ljRWRpdE5hbWVFcnJvclxcXCI+PC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnMgZ3JpZFxcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJreWNFZGl0TmFtZUJhY2tcXFwiPkJhY2s8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwia3ljRWRpdE5hbWVTYXZlXFxcIj5Db25maXJtPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmluZ0hlbHBlciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGlzTnVsbE9yRW1wdHkoc3RyOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gIXN0ciB8fCBzdHIudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID09IDA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsXCI7XHJcbmltcG9ydCBLeWNFZGl0TmFtZUh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljRWRpdE5hbWUuaHRtbCc7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL1N0cmluZ0hlbHBlclwiO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNFZGl0TmFtZUZvcm0ge1xyXG4gICAgbW9kYWw6IE1vZGFsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvdygpIHtcclxuICAgICAgICBsZXQga3ljRWRpdE5hbWVFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNFZGl0TmFtZUVycm9yJyk7XHJcbiAgICAgICAgaWYgKGt5Y0VkaXROYW1lRXJyb3IpIGt5Y0VkaXROYW1lRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgdXNlclNlcnZpY2UuZ2V0QWNjb3VudCgpXHJcblxyXG4gICAgICAgIGxldCBnaXZlbl9uYW1lID0gYWNjb3VudC5pZGVudGl0eS5naXZlbl9uYW1lIGFzIHN0cmluZztcclxuICAgICAgICBsZXQgbWlkZGxlX25hbWUgPSBhY2NvdW50LmlkZW50aXR5Lm1pZGRsZV9uYW1lIGFzIHN0cmluZztcclxuICAgICAgICBsZXQgZmFtaWx5X25hbWUgPSBhY2NvdW50LmlkZW50aXR5LmZhbWlseV9uYW1lO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljRWRpdE5hbWVIdG1sKVxyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUoe2dpdmVuX25hbWU6IGdpdmVuX25hbWUsIG1pZGRsZV9uYW1lOiBtaWRkbGVfbmFtZSwgZmFtaWx5X25hbWU6IGZhbWlseV9uYW1lfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9kYWwuc2hvd01vZGFsKCdFZGl0IG5hbWUnLCBjb250ZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kRXZlbnRzKCkge1xyXG5cclxuICAgICAgICBsZXQga3ljRWRpdE5hbWVDb25maXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lQ29uZmlybScpO1xyXG4gICAgICAgIGt5Y0VkaXROYW1lQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZ2l2ZW5fbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlbl9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IG1pZGRsZV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pZGRsZV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IGZhbWlseV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhbWlseV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoZ2l2ZW5fbmFtZS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKCdHaXZlbiBuYW1lIGNhbm5vdCBiZSBlbXB0eScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoZmFtaWx5X25hbWUudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcignRmFtaWx5IG5hbWUgY2Fubm90IGJlIGVtcHR5JylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGZ1bGxfbmFtZSA9IHRoaXMuZ2V0RnVsbE5hbWUoKTtcclxuICAgICAgICAgICAgbGV0IGxhYmVsX2NvbmZpcm1fbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYWJlbF9jb25maXJtX25hbWUnKTtcclxuICAgICAgICAgICAgaWYgKCFsYWJlbF9jb25maXJtX25hbWUpIHtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0IGVycm9yIGluIGZvcm1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGFiZWxfY29uZmlybV9uYW1lLmlubmVySFRNTCA9ICdQbGVhc2UgdHlwZSBpbiB0aGUgZnVsbCBuYW1lIFwiJyArIGZ1bGxfbmFtZSArICdcIiBpbiB0aGUgYm94IGJlbG93IHRvIGNvbmZpcm0uIFlvdSBXSUxMIE5PVCBiZSBhYmxlIHRvIGNoYW5nZSBpdCBhZ2Fpbi4nO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1OYW1lRmllbGRzZXQnKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lJyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IGt5Y0VkaXROYW1lQmFjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNFZGl0TmFtZUJhY2snKTtcclxuICAgICAgICBreWNFZGl0TmFtZUJhY2s/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybU5hbWVGaWVsZHNldCcpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWUnKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgY29uZmlybV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1fbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFjb25maXJtX25hbWUpIHtcclxuICAgICAgICAgICAgLy9UT0RPOiByZXBvcnQgZXJyb3IgaW4gZm9ybVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQga3ljRWRpdE5hbWVTYXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lU2F2ZScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIGt5Y0VkaXROYW1lU2F2ZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgY29uZmlybV9uYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICBjb25maXJtX25hbWUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb25maXJtX25hbWUudmFsdWUgPT0gdGhpcy5nZXRGdWxsTmFtZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtX25hbWUuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgIGt5Y0VkaXROYW1lU2F2ZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uZmlybV9uYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgICAgIGt5Y0VkaXROYW1lU2F2ZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBreWNFZGl0TmFtZVNhdmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29uZmlybV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1fbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChjb25maXJtX25hbWUgJiYgY29uZmlybV9uYW1lLnZhbHVlICE9IHRoaXMuZ2V0RnVsbE5hbWUoKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoY29uZmlybV9uYW1lLnZhbHVlICsgJyBpcyBub3Qgc2FtZSBhcyAnICsgdGhpcy5nZXRGdWxsTmFtZSgpICsgJy4gR28gb3ZlciB0aGUgbmFtZSBhbmQgbWFrZSBzdXJlIGl0IGlzIGlkZW50aWNhbCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZ2l2ZW5fbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlbl9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IG1pZGRsZV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pZGRsZV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IGZhbWlseV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhbWlseV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKGt5Y0VkaXROYW1lU2F2ZSk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlTmFtZShnaXZlbl9uYW1lLnZhbHVlLCBtaWRkbGVfbmFtZS52YWx1ZSwgZmFtaWx5X25hbWUudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVhc29uLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoSlNPTi5wYXJzZShyZWFzb24ubWVzc2FnZSkubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0Vycm9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZUVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lRXJyb3InKTtcclxuICAgICAgICBpZiAoIWt5Y0VkaXROYW1lRXJyb3IpIHJldHVybjtcclxuXHJcbiAgICAgICAga3ljRWRpdE5hbWVFcnJvci5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgIGt5Y0VkaXROYW1lRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGdWxsTmFtZSgpIHtcclxuICAgICAgICBsZXQgZ2l2ZW5fbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlbl9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgbWlkZGxlX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWlkZGxlX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBmYW1pbHlfbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYW1pbHlfbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBnaXZlbl9uYW1lLnZhbHVlICsgJyAnICsgKCFTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShtaWRkbGVfbmFtZS52YWx1ZSkgPyBtaWRkbGVfbmFtZS52YWx1ZSArICcgJyA6ICcnKSArIGZhbWlseV9uYW1lLnZhbHVlO1xyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGlkPVxcXCJreWNFZGl0Q29udGFjdEZpZWxkc2V0XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwid2FybmluZ0JhclxcXCI+XFxyXFxuICAgICAgICA8c3Ryb25nPldhcm5pbmc8L3N0cm9uZz48YnIvPlxcclxcbiAgICAgICAgQWZ0ZXIgeW91IGNoYW5nZSB0aGlzIGluZm9ybWF0aW9uIGEgbmV3IEtZQyBwcm9jZXNzIHdpbGwgYmUgc3RhcnRlZCwgYW5kIHlvdSB3aWxsIE5PVCBiZSBhYmxlIHRvIGRvIGFueVxcclxcbiAgICAgICAgdHJhZGVzIHVudGlsIGl0IGhhcyBiZWVuIGFwcHJvdmVkLlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGZvcm0gaWQ9XFxcImt5Y0VkaXRDb250YWN0Rm9ybVxcXCI+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImVtYWlsX2FkZHJlc3NcXFwiPkVtYWlsPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHJlcXVpcmVkIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJlbWFpbF9hZGRyZXNzXFxcIiBuYW1lPVxcXCJlbWFpbF9hZGRyZXNzXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwibmFtZUBleGFtcGxlLmNvbVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJlbWFpbFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwicGhvbmVfbnVtYmVyXFxcIj5QaG9uZTwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRlbFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcInBob25lX251bWJlclxcXCIgbmFtZT1cXFwicGhvbmVfbnVtYmVyXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiKzEtNTU1LTY2Ni03Nzg4XFxcIiBhdXRvY29tcGxldGU9XFxcInRlbFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwic3RyZWV0X2FkZHJlc3NcXFwiPlBlcm1hbmVudCBSZXNpZGVudGlhbCBBZGRyZXNzPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5JdCBtdXN0IGJlIGEgcGh5c2ljYWwgYWRkcmVzcywgbm90IGEgUE8gYm94LjwvZGl2PlxcclxcbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwic3RyZWV0X2FkZHJlc3NcXFwiIG5hbWU9XFxcInN0cmVldF9hZGRyZXNzXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiMjAgTiBTYW4gTWF0ZW8gRHJcXFwiIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYWRkcmVzcy1saW5lMVxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwidW5pdFxcXCI+VW5pdCAvIEFwdCAjPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInVuaXRcXFwiIG5hbWU9XFxcInVuaXRcXFwiIHZhbHVlPVxcXCJcXFwiPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImNpdHlcXFwiPkNpdHk8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiY2l0eVxcXCIgbmFtZT1cXFwiY2l0eVxcXCIgcGxhY2Vob2xkZXI9XFxcIlBhd25lZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxldmVsMlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwicG9zdGFsX2NvZGVcXFwiPlBvc3RhbCBjb2RlPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWQgaWQ9XFxcInBvc3RhbF9jb2RlXFxcIiBhdXRvY29tcGxldGU9XFxcInBvc3RhbC1jb2RlXFxcIiBuYW1lPVxcXCJwb3N0YWxfY29kZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIjk0NDAxXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAge3sjaWYgdXNhfX1cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcInN0YXRlX2RpdlxcXCI+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwic3RhdGVcXFwiPlN0YXRlICgyIGxldHRlcnMpPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWQgbWF4bGVuZ3RoPVxcXCIyXFxcIiBpZD1cXFwic3RhdGVcXFwiIG5hbWU9XFxcInN0YXRlXFxcIiBwbGFjZWhvbGRlcj1cXFwiTllcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYWRkcmVzcy1sZXZlbDFcXFwiPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICB7ey9pZn19XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcImt5Y0VkaXRDb250YWN0RXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGlkPVxcXCJreWNFZGl0Q29udGFjdFNhdmVcXFwiPlNhdmU8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuLi9lcnJvcnMvY2xvdWQvS3ljVmFsaWRhdG9yRXJyb3JcIjtcclxuaW1wb3J0IFN0cmluZ0hlbHBlciBmcm9tIFwiLi9TdHJpbmdIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1IZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UGFyYW1zKHNlbGVjdG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIEhUTUxGb3JtRWxlbWVudDtcclxuICAgICAgICBpZiAoIWZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzZXJpYWxpemUoZGF0YTogYW55KSB7XHJcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKG9ialtrZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmaWxsSW5wdXRzKHByb3BlcnRpZXM6IHN0cmluZ1tdLCBpdGVtOiBhbnkpIHtcclxuICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPScgKyB2YWx1ZSArICddJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NoZWNrYm94JywgaW5wdXQsIGl0ZW1bdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGl0ZW1bdmFsdWVdXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gaXRlbVt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpXHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPScgKyB2YWx1ZSArICddJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gaXRlbVt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGUoc2VsZWN0b3I6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyBpbnB1dFtyZXF1aXJlZF0nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBpbnB1dHNbaV0gYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAnZmFsc2UnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShpbnB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKVxyXG4gICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShpbnB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9Nb2RhbFwiO1xyXG5pbXBvcnQgS3ljRWRpdENvbnRhY3RGb3JtSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNFZGl0Q29udGFjdEZvcm0uaHRtbCdcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBGb3JtSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0Zvcm1IZWxwZXJcIjtcclxuaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuLi8uLi8uLi9lcnJvcnMvY2xvdWQvS3ljVmFsaWRhdG9yRXJyb3JcIjtcclxuaW1wb3J0IFN0cmluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9TdHJpbmdIZWxwZXJcIjtcclxuaW1wb3J0IHtBY2NvdW50SW5mb30gZnJvbSBcIi4uLy4uLy4uL2R0by9hbHBhY2EvQWNjb3VudEluZm9cIjtcclxuaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvTG9hZGluZ0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljRWRpdENvbnRhY3RGb3JtIHtcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3coKSB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgdXNlclNlcnZpY2UuZ2V0QWNjb3VudCgpO1xyXG4gICAgICAgIGxldCB1c2EgPSBhY2NvdW50LmlkZW50aXR5LmNvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZSA9PSAnVVNBJ1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNFZGl0Q29udGFjdEZvcm1IdG1sKTtcclxuICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnRWRpdCBjb250YWN0IGluZm9ybWF0aW9uJywgdGVtcGxhdGUoe3VzYTogdXNhfSkpXHJcblxyXG4gICAgICAgIGxldCBjb250YWN0UHJvcGVydGllcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFjY291bnQuY29udGFjdCk7XHJcbiAgICAgICAgRm9ybUhlbHBlci5maWxsSW5wdXRzKGNvbnRhY3RQcm9wZXJ0aWVzLCBhY2NvdW50LmNvbnRhY3QpO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIGxldCBreWNFZGl0Q29udGFjdFNhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdENvbnRhY3RTYXZlJyk7XHJcbiAgICAgICAga3ljRWRpdENvbnRhY3RTYXZlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKGt5Y0VkaXRDb250YWN0U2F2ZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IEZvcm1IZWxwZXIuZ2V0UGFyYW1zKCcja3ljRWRpdENvbnRhY3RGb3JtJyk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlQ29udGFjdChkYXRhKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBhY2NvdW50SW5mbyA9IHJlc3BvbnNlIGFzIEFjY291bnRJbmZvO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVtYWlsX2FkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWxfYWRkcmVzcycpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50SW5mby5jb250YWN0LmVtYWlsX2FkZHJlc3MgIT0gZW1haWxfYWRkcmVzcz8udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcignRW1haWwgd2FzIG5vdCBjaGFuZ2VkLiBUaGUgZW1haWwgJyArIGVtYWlsX2FkZHJlc3M/LnZhbHVlICsgJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgdW5kZXIgZGlmZmVyZW50IGFjY291bnQuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWFzb24ubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKEpTT04ucGFyc2UocmVhc29uLm1lc3NhZ2UpLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0Vycm9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZUVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXRDb250YWN0RXJyb3InKTtcclxuICAgICAgICBpZiAoIWt5Y0VkaXROYW1lRXJyb3IpIHJldHVybjtcclxuXHJcbiAgICAgICAga3ljRWRpdE5hbWVFcnJvci5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgIGt5Y0VkaXROYW1lRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2t5Y0VkaXRDb250YWN0RmllbGRzZXQgaW5wdXRbcmVxdWlyZWRdJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShpbnB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKVxyXG4gICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ2ZhbHNlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y1RydXN0ZWRDb250YWN0XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwid2FybmluZ0JhclxcXCI+XFxyXFxuICAgICAgICA8c3Ryb25nPldhcm5pbmc8L3N0cm9uZz48YnIvPlxcclxcbiAgICAgICAgQWZ0ZXIgeW91IGNoYW5nZSB0aGlzIGluZm9ybWF0aW9uIGEgbmV3IEtZQyBwcm9jZXNzIHdpbGwgYmUgc3RhcnRlZCwgYW5kIHlvdSB3aWxsIE5PVCBiZSBhYmxlIHRvIGRvIGFueVxcclxcbiAgICAgICAgdHJhZGVzIHVudGlsIGl0IGhhcyBiZWVuIGFwcHJvdmVkLlxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGZvcm0gaWQ9XFxcImt5Y1RydXN0ZWRDb250YWN0Rm9ybVxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImV4cGxhaW5cXFwiPlxcclxcbiAgICAgICAgICAgIEEgdHJ1c3RlZCBjb250YWN0IGlzIGEgcGVyc29uIHlvdSBhdXRob3JpemUgeW91ciBmaW5hbmNpYWwgZmlybSB0byBjb250YWN0IGluIGxpbWl0ZWQgY2lyY3Vtc3RhbmNlcyxcXHJcXG4gICAgICAgICAgICBzdWNoIGFzIGlmIHRoZXJlIGlzIGEgY29uY2VybiBhYm91dCBhY3Rpdml0eSBpbiB5b3VyIGFjY291bnQgYW5kIHRoZXkgaGF2ZSBiZWVuIHVuYWJsZSB0byBnZXQgaW4gdG91Y2ggd2l0aFxcclxcbiAgICAgICAgICAgIHlvdS5cXHJcXG4gICAgICAgICAgICA8YnIvPjxici8+XFxyXFxuICAgICAgICAgICAgQSB0cnVzdGVkIGNvbnRhY3QgbWF5IGJlIGEgZmFtaWx5IG1lbWJlciwgYXR0b3JuZXksIGFjY291bnRhbnQgb3IgYW5vdGhlciB0aGlyZC1wYXJ0eSB3aG8geW91IGJlbGlldmUgd291bGRcXHJcXG4gICAgICAgICAgICByZXNwZWN0IHlvdXIgcHJpdmFjeSBhbmQga25vdyBob3cgdG8gaGFuZGxlIHRoZSByZXNwb25zaWJpbGl0eS5cXHJcXG4gICAgICAgICAgICBUaGUgdHJ1c3RlZCBwZXJzb24gc2hvdWxkIGJlIDE4IHllYXJzIG9sZCBvciBvbGRlci5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJnaXZlbl9uYW1lXFxcIj5MZWdhbCBnaXZlbiBuYW1lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJnaXZlbl9uYW1lXFxcIiBuYW1lPVxcXCJnaXZlbl9uYW1lXFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZmFtaWx5X25hbWVcXFwiPkxlZ2FsIGZhbWlseSBuYW1lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJmYW1pbHlfbmFtZVxcXCIgbmFtZT1cXFwiZmFtaWx5X25hbWVcXFwiLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICBJZiB5b3UgZmlsbCBpbiBuYW1lLCB5b3UgYXJlIHJlcXVpcmVkIHRvIGZpbGwgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcsIGVtYWlsLCBwaG9uZSBvciBhZGRyZXNzXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwiY29udGFjdF9taXNzaW5nX2luZm9cXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbWFpbF9hZGRyZXNzXFxcIj5FbWFpbCBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiZW1haWxfYWRkcmVzc1xcXCIgdHlwZT1cXFwiZW1haWxcXFwiIG5hbWU9XFxcImVtYWlsX2FkZHJlc3NcXFwiLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJwaG9uZV9udW1iZXJcXFwiPlBob25lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJwaG9uZV9udW1iZXJcXFwiIHR5cGU9XFxcInRlbFxcXCIgbmFtZT1cXFwicGhvbmVfbnVtYmVyXFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwic3RyZWV0X2FkZHJlc3NcXFwiPkFkZHJlc3Mgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN0cmVldF9hZGRyZXNzXFxcIiBuYW1lPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImNpdHlcXFwiPkNpdHkgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImNpdHlcXFwiIG5hbWU9XFxcImNpdHlcXFwiLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJzdGF0ZVxcXCI+U3RhdGUgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN0YXRlXFxcIiBuYW1lPVxcXCJzdGF0ZVxcXCIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInBvc3RhbF9jb2RlXFxcIj5Qb3N0YWwgY29kZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwicG9zdGFsX2NvZGVcXFwiIG5hbWU9XFxcInBvc3RhbF9jb2RlXFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY291bnRyeVxcXCI+Q291bnRyeSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxzZWxlY3QgcmVxdWlyZWQgaWQ9XFxcImNvdW50cnlcXFwiIHJlcXVpcmVkIG5hbWU9XFxcImNvdW50cnlcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInt7Y29kZX19XFxcIj57e25hbWV9fTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICB7ey9lYWNofX1cXHJcXG4gICAgICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiIGlkPVxcXCJreWNFZGl0TmFtZUVycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwidHJ1c3RlZENvbnRhY3RTdWJtaXRcXFwiPlN1Ym1pdDwvYnV0dG9uPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZm9ybT5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb3VudHJ5SGVscGVyIHtcclxuICAgIHN0YXRpYyBDb3VudHJpZXMgPSBbXHJcbiAgICAgICAge1wibmFtZVwiOiBcIlVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYVwiLCBcImNvZGVcIjogXCJVU0FcIn0sXHJcbiAgICAgICAge1wibmFtZVwiOiBcIlVuaXRlZCBLaW5nZG9tXCIsIFwiY29kZVwiOiBcIkdCUlwifSxcclxuICAgICAgICB7XCJuYW1lXCI6IFwiQWZnaGFuaXN0YW5cIiwgXCJjb2RlXCI6IFwiQUZHXCJ9LCB7XCJuYW1lXCI6IFwiQWxiYW5pYVwiLCBcImNvZGVcIjogXCJBTEJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQWxnZXJpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJEWkFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJBbWVyaWNhbiBTYW1vYVwiLCBcImNvZGVcIjogXCJBU01cIn0sIHtcIm5hbWVcIjogXCJBbmRvcnJhXCIsIFwiY29kZVwiOiBcIkFORFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbmdvbGFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQUdPXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQW5ndWlsbGFcIiwgXCJjb2RlXCI6IFwiQUlBXCJ9LCB7XCJuYW1lXCI6IFwiQW50YXJjdGljYVwiLCBcImNvZGVcIjogXCJBVEFcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW50aWd1YSBhbmQgQmFyYnVkYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJBVEdcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJBcmdlbnRpbmFcIiwgXCJjb2RlXCI6IFwiQVJHXCJ9LCB7XCJuYW1lXCI6IFwiQXJtZW5pYVwiLCBcImNvZGVcIjogXCJBUk1cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXJ1YmFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQUJXXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQXVzdHJhbGlhXCIsIFwiY29kZVwiOiBcIkFVU1wifSwge1wibmFtZVwiOiBcIkF1c3RyaWFcIiwgXCJjb2RlXCI6IFwiQVVUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkF6ZXJiYWlqYW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQVpFXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiw4VsYW5kIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiQUxBXCJ9LCB7XCJuYW1lXCI6IFwiQmFoYW1hc1wiLCBcImNvZGVcIjogXCJCSFNcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQmFocmFpblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCSFJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCYW5nbGFkZXNoXCIsIFwiY29kZVwiOiBcIkJHRFwifSwge1wibmFtZVwiOiBcIkJhcmJhZG9zXCIsIFwiY29kZVwiOiBcIkJSQlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCZWxhcnVzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkJMUlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkJlbGdpdW1cIiwgXCJjb2RlXCI6IFwiQkVMXCJ9LCB7XCJuYW1lXCI6IFwiQmVsaXplXCIsIFwiY29kZVwiOiBcIkJMWlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCZW5pblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCRU5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCZXJtdWRhXCIsIFwiY29kZVwiOiBcIkJNVVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCaHV0YW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQlROXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQm9saXZpYSAoUGx1cmluYXRpb25hbCBTdGF0ZSBvZilcIiwgXCJjb2RlXCI6IFwiQk9MXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJvbmFpcmUsIFNpbnQgRXVzdGF0aXVzIGFuZCBTYWJhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkJFU1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkJvc25pYSBhbmQgSGVyemVnb3ZpbmFcIiwgXCJjb2RlXCI6IFwiQklIXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJvdHN3YW5hXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkJXQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkJvdXZldCBJc2xhbmRcIiwgXCJjb2RlXCI6IFwiQlZUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJyYXppbFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCUkFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCcml0aXNoIEluZGlhbiBPY2VhbiBUZXJyaXRvcnlcIiwgXCJjb2RlXCI6IFwiSU9UXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJydW5laSBEYXJ1c3NhbGFtXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkJSTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkJ1bGdhcmlhXCIsIFwiY29kZVwiOiBcIkJHUlwifSwge1wibmFtZVwiOiBcIkJ1cmtpbmEgRmFzb1wiLCBcImNvZGVcIjogXCJCRkFcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQnVydW5kaVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCRElcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDYWJvIFZlcmRlXCIsIFwiY29kZVwiOiBcIkNQVlwifSwge1wibmFtZVwiOiBcIkNhbWJvZGlhXCIsIFwiY29kZVwiOiBcIktITVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDYW1lcm9vblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDTVJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDYW5hZGFcIiwgXCJjb2RlXCI6IFwiQ0FOXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNheW1hbiBJc2xhbmRzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkNZTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkNlbnRyYWwgQWZyaWNhbiBSZXB1YmxpY1wiLCBcImNvZGVcIjogXCJDQUZcIn0sIHtcIm5hbWVcIjogXCJDaGFkXCIsIFwiY29kZVwiOiBcIlRDRFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDaGlsZVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDSExcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDaGluYVwiLCBcImNvZGVcIjogXCJDSE5cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2hyaXN0bWFzIElzbGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDWFJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDb2NvcyAoS2VlbGluZykgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJDQ0tcIn0sIHtcIm5hbWVcIjogXCJDb2xvbWJpYVwiLCBcImNvZGVcIjogXCJDT0xcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ29tb3Jvc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDT01cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDb25nbyAodGhlIERlbW9jcmF0aWMgUmVwdWJsaWMgb2YgdGhlKVwiLCBcImNvZGVcIjogXCJDT0RcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ29uZ29cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQ09HXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ29vayBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkNPS1wifSwge1wibmFtZVwiOiBcIkNvc3RhIFJpY2FcIiwgXCJjb2RlXCI6IFwiQ1JJXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNyb2F0aWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiSFJWXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ3ViYVwiLCBcImNvZGVcIjogXCJDVUJcIn0sIHtcIm5hbWVcIjogXCJDdXJhw6dhb1wiLCBcImNvZGVcIjogXCJDVVdcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ3lwcnVzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkNZUFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkN6ZWNoaWFcIiwgXCJjb2RlXCI6IFwiQ1pFXCJ9LCB7XCJuYW1lXCI6IFwiQ8O0dGUgZCdJdm9pcmVcIiwgXCJjb2RlXCI6IFwiQ0lWXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkRlbm1hcmtcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRE5LXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRGppYm91dGlcIiwgXCJjb2RlXCI6IFwiREpJXCJ9LCB7XCJuYW1lXCI6IFwiRG9taW5pY2FcIiwgXCJjb2RlXCI6IFwiRE1BXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkRvbWluaWNhbiBSZXB1YmxpY1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJET01cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJFY3VhZG9yXCIsIFwiY29kZVwiOiBcIkVDVVwifSwge1wibmFtZVwiOiBcIkVneXB0XCIsIFwiY29kZVwiOiBcIkVHWVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFbCBTYWx2YWRvclwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTTFZcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJFcXVhdG9yaWFsIEd1aW5lYVwiLCBcImNvZGVcIjogXCJHTlFcIn0sIHtcIm5hbWVcIjogXCJFcml0cmVhXCIsIFwiY29kZVwiOiBcIkVSSVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFc3RvbmlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkVTVFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkVzd2F0aW5pXCIsIFwiY29kZVwiOiBcIlNXWlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFdGhpb3BpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJFVEhcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJGYWxrbGFuZCBJc2xhbmRzIFtNYWx2aW5hc11cIiwgXCJjb2RlXCI6IFwiRkxLXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkZhcm9lIElzbGFuZHNcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRlJPXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRmlqaVwiLCBcImNvZGVcIjogXCJGSklcIn0sIHtcIm5hbWVcIjogXCJGaW5sYW5kXCIsIFwiY29kZVwiOiBcIkZJTlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJGcmFuY2VcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRlJBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRnJlbmNoIEd1aWFuYVwiLCBcImNvZGVcIjogXCJHVUZcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRnJlbmNoIFBvbHluZXNpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJQWUZcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXNcIiwgXCJjb2RlXCI6IFwiQVRGXCJ9LCB7XCJuYW1lXCI6IFwiR2Fib25cIiwgXCJjb2RlXCI6IFwiR0FCXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkdhbWJpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJHTUJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJHZW9yZ2lhXCIsIFwiY29kZVwiOiBcIkdFT1wifSwge1wibmFtZVwiOiBcIkdlcm1hbnlcIiwgXCJjb2RlXCI6IFwiREVVXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkdoYW5hXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkdIQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkdpYnJhbHRhclwiLCBcImNvZGVcIjogXCJHSUJcIn0sIHtcIm5hbWVcIjogXCJHcmVlY2VcIiwgXCJjb2RlXCI6IFwiR1JDXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkdyZWVubGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJHUkxcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJHcmVuYWRhXCIsIFwiY29kZVwiOiBcIkdSRFwifSwge1wibmFtZVwiOiBcIkd1YWRlbG91cGVcIiwgXCJjb2RlXCI6IFwiR0xQXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkd1YW1cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiR1VNXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiR3VhdGVtYWxhXCIsIFwiY29kZVwiOiBcIkdUTVwifSwge1wibmFtZVwiOiBcIkd1ZXJuc2V5XCIsIFwiY29kZVwiOiBcIkdHWVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJHdWluZWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiR0lOXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiR3VpbmVhLUJpc3NhdVwiLCBcImNvZGVcIjogXCJHTkJcIn0sIHtcIm5hbWVcIjogXCJHdXlhbmFcIiwgXCJjb2RlXCI6IFwiR1VZXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkhhaXRpXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkhUSVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkhlYXJkIElzbGFuZCBhbmQgTWNEb25hbGQgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJITURcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSG9seSBTZWVcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVkFUXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiSG9uZHVyYXNcIiwgXCJjb2RlXCI6IFwiSE5EXCJ9LCB7XCJuYW1lXCI6IFwiSG9uZyBLb25nXCIsIFwiY29kZVwiOiBcIkhLR1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJIdW5nYXJ5XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkhVTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkljZWxhbmRcIiwgXCJjb2RlXCI6IFwiSVNMXCJ9LCB7XCJuYW1lXCI6IFwiSW5kaWFcIiwgXCJjb2RlXCI6IFwiSU5EXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkluZG9uZXNpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJJRE5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJJcmFuIChJc2xhbWljIFJlcHVibGljIG9mKVwiLCBcImNvZGVcIjogXCJJUk5cIn0sIHtcIm5hbWVcIjogXCJJcmFxXCIsIFwiY29kZVwiOiBcIklSUVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJJcmVsYW5kXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIklSTFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIklzbGUgb2YgTWFuXCIsIFwiY29kZVwiOiBcIklNTlwifSwge1wibmFtZVwiOiBcIklzcmFlbFwiLCBcImNvZGVcIjogXCJJU1JcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSXRhbHlcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiSVRBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiSmFtYWljYVwiLCBcImNvZGVcIjogXCJKQU1cIn0sIHtcIm5hbWVcIjogXCJKYXBhblwiLCBcImNvZGVcIjogXCJKUE5cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSmVyc2V5XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkpFWVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkpvcmRhblwiLCBcImNvZGVcIjogXCJKT1JcIn0sIHtcIm5hbWVcIjogXCJLYXpha2hzdGFuXCIsIFwiY29kZVwiOiBcIktBWlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJLZW55YVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJLRU5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJLaXJpYmF0aVwiLCBcImNvZGVcIjogXCJLSVJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiS29yZWEgKHRoZSBEZW1vY3JhdGljIFBlb3BsZSdzIFJlcHVibGljIG9mKVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJQUktcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJLb3JlYSAodGhlIFJlcHVibGljIG9mKVwiLCBcImNvZGVcIjogXCJLT1JcIn0sIHtcIm5hbWVcIjogXCJLdXdhaXRcIiwgXCJjb2RlXCI6IFwiS1dUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkt5cmd5enN0YW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiS0daXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWNcIiwgXCJjb2RlXCI6IFwiTEFPXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkxhdHZpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJMVkFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJMZWJhbm9uXCIsIFwiY29kZVwiOiBcIkxCTlwifSwge1wibmFtZVwiOiBcIkxlc290aG9cIiwgXCJjb2RlXCI6IFwiTFNPXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkxpYmVyaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTEJSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTGlieWFcIiwgXCJjb2RlXCI6IFwiTEJZXCJ9LCB7XCJuYW1lXCI6IFwiTGllY2h0ZW5zdGVpblwiLCBcImNvZGVcIjogXCJMSUVcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTGl0aHVhbmlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkxUVVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkx1eGVtYm91cmdcIiwgXCJjb2RlXCI6IFwiTFVYXCJ9LCB7XCJuYW1lXCI6IFwiTWFjYW9cIiwgXCJjb2RlXCI6IFwiTUFDXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk1hZGFnYXNjYXJcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTURHXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTWFsYXdpXCIsIFwiY29kZVwiOiBcIk1XSVwifSwge1wibmFtZVwiOiBcIk1hbGF5c2lhXCIsIFwiY29kZVwiOiBcIk1ZU1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNYWxkaXZlc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNRFZcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNYWxpXCIsIFwiY29kZVwiOiBcIk1MSVwifSwge1wibmFtZVwiOiBcIk1hbHRhXCIsIFwiY29kZVwiOiBcIk1MVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNYXJzaGFsbCBJc2xhbmRzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk1ITFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk1hcnRpbmlxdWVcIiwgXCJjb2RlXCI6IFwiTVRRXCJ9LCB7XCJuYW1lXCI6IFwiTWF1cml0YW5pYVwiLCBcImNvZGVcIjogXCJNUlRcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTWF1cml0aXVzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk1VU1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk1heW90dGVcIiwgXCJjb2RlXCI6IFwiTVlUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk1leGljb1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNRVhcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNaWNyb25lc2lhIChGZWRlcmF0ZWQgU3RhdGVzIG9mKVwiLCBcImNvZGVcIjogXCJGU01cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTW9sZG92YSAodGhlIFJlcHVibGljIG9mKVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNREFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNb25hY29cIiwgXCJjb2RlXCI6IFwiTUNPXCJ9LCB7XCJuYW1lXCI6IFwiTW9uZ29saWFcIiwgXCJjb2RlXCI6IFwiTU5HXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk1vbnRlbmVncm9cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTU5FXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTW9udHNlcnJhdFwiLCBcImNvZGVcIjogXCJNU1JcIn0sIHtcIm5hbWVcIjogXCJNb3JvY2NvXCIsIFwiY29kZVwiOiBcIk1BUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNb3phbWJpcXVlXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk1PWlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk15YW5tYXJcIiwgXCJjb2RlXCI6IFwiTU1SXCJ9LCB7XCJuYW1lXCI6IFwiTmFtaWJpYVwiLCBcImNvZGVcIjogXCJOQU1cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTmF1cnVcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTlJVXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTmVwYWxcIiwgXCJjb2RlXCI6IFwiTlBMXCJ9LCB7XCJuYW1lXCI6IFwiTmV0aGVybGFuZHNcIiwgXCJjb2RlXCI6IFwiTkxEXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk5ldyBDYWxlZG9uaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTkNMXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTmV3IFplYWxhbmRcIiwgXCJjb2RlXCI6IFwiTlpMXCJ9LCB7XCJuYW1lXCI6IFwiTmljYXJhZ3VhXCIsIFwiY29kZVwiOiBcIk5JQ1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJOaWdlclwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJORVJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJOaWdlcmlhXCIsIFwiY29kZVwiOiBcIk5HQVwifSwge1wibmFtZVwiOiBcIk5pdWVcIiwgXCJjb2RlXCI6IFwiTklVXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk5vcmZvbGsgSXNsYW5kXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk5GS1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk5vcnRoZXJuIE1hcmlhbmEgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJNTlBcIn0sIHtcIm5hbWVcIjogXCJOb3J3YXlcIiwgXCJjb2RlXCI6IFwiTk9SXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk9tYW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiT01OXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiUGFraXN0YW5cIiwgXCJjb2RlXCI6IFwiUEFLXCJ9LCB7XCJuYW1lXCI6IFwiUGFsYXVcIiwgXCJjb2RlXCI6IFwiUExXXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlBhbGVzdGluZSwgU3RhdGUgb2ZcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiUFNFXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiUGFuYW1hXCIsIFwiY29kZVwiOiBcIlBBTlwifSwge1wibmFtZVwiOiBcIlBhcHVhIE5ldyBHdWluZWFcIiwgXCJjb2RlXCI6IFwiUE5HXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlBhcmFndWF5XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlBSWVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlBlcnVcIiwgXCJjb2RlXCI6IFwiUEVSXCJ9LCB7XCJuYW1lXCI6IFwiUGhpbGlwcGluZXNcIiwgXCJjb2RlXCI6IFwiUEhMXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlBpdGNhaXJuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlBDTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlBvbGFuZFwiLCBcImNvZGVcIjogXCJQT0xcIn0sIHtcIm5hbWVcIjogXCJQb3J0dWdhbFwiLCBcImNvZGVcIjogXCJQUlRcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUHVlcnRvIFJpY29cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiUFJJXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiUWF0YXJcIiwgXCJjb2RlXCI6IFwiUUFUXCJ9LCB7XCJuYW1lXCI6IFwiUmVwdWJsaWMgb2YgTm9ydGggTWFjZWRvbmlhXCIsIFwiY29kZVwiOiBcIk1LRFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJSb21hbmlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlJPVVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlJ1c3NpYW4gRmVkZXJhdGlvblwiLCBcImNvZGVcIjogXCJSVVNcIn0sIHtcIm5hbWVcIjogXCJSd2FuZGFcIiwgXCJjb2RlXCI6IFwiUldBXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlLDqXVuaW9uXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlJFVVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNhaW50IEJhcnRow6lsZW15XCIsIFwiY29kZVwiOiBcIkJMTVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTYWludCBIZWxlbmEsIEFzY2Vuc2lvbiBhbmQgVHJpc3RhbiBkYSBDdW5oYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTSE5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTYWludCBLaXR0cyBhbmQgTmV2aXNcIiwgXCJjb2RlXCI6IFwiS05BXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNhaW50IEx1Y2lhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkxDQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNhaW50IE1hcnRpbiAoRnJlbmNoIHBhcnQpXCIsIFwiY29kZVwiOiBcIk1BRlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTYWludCBQaWVycmUgYW5kIE1pcXVlbG9uXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNQTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzXCIsIFwiY29kZVwiOiBcIlZDVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTYW1vYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJXU01cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTYW4gTWFyaW5vXCIsIFwiY29kZVwiOiBcIlNNUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTYW8gVG9tZSBhbmQgUHJpbmNpcGVcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU1RQXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU2F1ZGkgQXJhYmlhXCIsIFwiY29kZVwiOiBcIlNBVVwifSwge1wibmFtZVwiOiBcIlNlbmVnYWxcIiwgXCJjb2RlXCI6IFwiU0VOXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNlcmJpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTUkJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTZXljaGVsbGVzXCIsIFwiY29kZVwiOiBcIlNZQ1wifSwge1wibmFtZVwiOiBcIlNpZXJyYSBMZW9uZVwiLCBcImNvZGVcIjogXCJTTEVcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2luZ2Fwb3JlXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNHUFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNpbnQgTWFhcnRlbiAoRHV0Y2ggcGFydClcIiwgXCJjb2RlXCI6IFwiU1hNXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNsb3Zha2lhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNWS1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNsb3ZlbmlhXCIsIFwiY29kZVwiOiBcIlNWTlwifSwge1wibmFtZVwiOiBcIlNvbG9tb24gSXNsYW5kc1wiLCBcImNvZGVcIjogXCJTTEJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU29tYWxpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTT01cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTb3V0aCBBZnJpY2FcIiwgXCJjb2RlXCI6IFwiWkFGXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNHU1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNvdXRoIFN1ZGFuXCIsIFwiY29kZVwiOiBcIlNTRFwifSwge1wibmFtZVwiOiBcIlNwYWluXCIsIFwiY29kZVwiOiBcIkVTUFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTcmkgTGFua2FcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTEtBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU3VkYW5cIiwgXCJjb2RlXCI6IFwiU0ROXCJ9LCB7XCJuYW1lXCI6IFwiU3VyaW5hbWVcIiwgXCJjb2RlXCI6IFwiU1VSXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlN2YWxiYXJkIGFuZCBKYW4gTWF5ZW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU0pNXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU3dlZGVuXCIsIFwiY29kZVwiOiBcIlNXRVwifSwge1wibmFtZVwiOiBcIlN3aXR6ZXJsYW5kXCIsIFwiY29kZVwiOiBcIkNIRVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTeXJpYW4gQXJhYiBSZXB1YmxpY1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTWVJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJUYWl3YW4gKFByb3ZpbmNlIG9mIENoaW5hKVwiLCBcImNvZGVcIjogXCJUV05cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVGFqaWtpc3RhblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJUSktcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJUYW56YW5pYSwgVW5pdGVkIFJlcHVibGljIG9mXCIsIFwiY29kZVwiOiBcIlRaQVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJUaGFpbGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJUSEFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJUaW1vci1MZXN0ZVwiLCBcImNvZGVcIjogXCJUTFNcIn0sIHtcIm5hbWVcIjogXCJUb2dvXCIsIFwiY29kZVwiOiBcIlRHT1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJUb2tlbGF1XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlRLTFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlRvbmdhXCIsIFwiY29kZVwiOiBcIlRPTlwifSwge1wibmFtZVwiOiBcIlRyaW5pZGFkIGFuZCBUb2JhZ29cIiwgXCJjb2RlXCI6IFwiVFRPXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlR1bmlzaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVFVOXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVHVya2V5XCIsIFwiY29kZVwiOiBcIlRVUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJUdXJrbWVuaXN0YW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVEtNXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVHVya3MgYW5kIENhaWNvcyBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIlRDQVwifSwge1wibmFtZVwiOiBcIlR1dmFsdVwiLCBcImNvZGVcIjogXCJUVVZcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVWdhbmRhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlVHQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlVrcmFpbmVcIiwgXCJjb2RlXCI6IFwiVUtSXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlVuaXRlZCBBcmFiIEVtaXJhdGVzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkFSRVwiXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJVbml0ZWQgS2luZ2RvbSBvZiBHcmVhdCBCcml0YWluIGFuZCBOb3J0aGVybiBJcmVsYW5kXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkdCUlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlVuaXRlZCBTdGF0ZXMgTWlub3IgT3V0bHlpbmcgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJVTUlcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlVTQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlVydWd1YXlcIiwgXCJjb2RlXCI6IFwiVVJZXCJ9LCB7XCJuYW1lXCI6IFwiVXpiZWtpc3RhblwiLCBcImNvZGVcIjogXCJVWkJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVmFudWF0dVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJWVVRcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJWZW5lenVlbGEgKEJvbGl2YXJpYW4gUmVwdWJsaWMgb2YpXCIsIFwiY29kZVwiOiBcIlZFTlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJWaWV0IE5hbVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJWTk1cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJWaXJnaW4gSXNsYW5kcyAoQnJpdGlzaClcIiwgXCJjb2RlXCI6IFwiVkdCXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlZpcmdpbiBJc2xhbmRzIChVLlMuKVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJWSVJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJXYWxsaXMgYW5kIEZ1dHVuYVwiLCBcImNvZGVcIjogXCJXTEZcIn0sIHtcIm5hbWVcIjogXCJXZXN0ZXJuIFNhaGFyYVwiLCBcImNvZGVcIjogXCJFU0hcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiWWVtZW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiWUVNXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiWmFtYmlhXCIsIFwiY29kZVwiOiBcIlpNQlwifSwge1wibmFtZVwiOiBcIlppbWJhYndlXCIsIFwiY29kZVwiOiBcIlpXRVwifVxyXG4gICAgXTtcclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IEt5Y0VkaXRUcnVzdGVkQ29udGFjdEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljRWRpdFRydXN0ZWRDb250YWN0Lmh0bWwnO1xyXG5pbXBvcnQgQ291bnRyeUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Db3VudHJ5SGVscGVyXCI7XHJcbmltcG9ydCBGb3JtSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0Zvcm1IZWxwZXJcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0VkaXRUcnVzdGVkQ29udGFjdCB7XHJcblxyXG4gICAgbW9kYWw6IE1vZGFsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvdygpIHtcclxuICAgICAgICBsZXQgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRBY2NvdW50KCk7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNFZGl0VHJ1c3RlZENvbnRhY3RIdG1sKTtcclxuICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnRWRpdCB0cnVzdGVkIGNvbnRhY3QnLCB0ZW1wbGF0ZSh7Y291bnRyaWVzOiBDb3VudHJ5SGVscGVyLkNvdW50cmllc30pKVxyXG5cclxuICAgICAgICBpZiAoYWNjb3VudC50cnVzdGVkX2NvbnRhY3QpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRhY3RQcm9wZXJ0aWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYWNjb3VudC50cnVzdGVkX2NvbnRhY3QpO1xyXG4gICAgICAgICAgICBGb3JtSGVscGVyLmZpbGxJbnB1dHMoY29udGFjdFByb3BlcnRpZXMsIGFjY291bnQudHJ1c3RlZF9jb250YWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcblxyXG5cclxuICAgICAgICBsZXQgdHJ1c3RlZENvbnRhY3RTdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZENvbnRhY3RTdWJtaXQnKTtcclxuICAgICAgICB0cnVzdGVkQ29udGFjdFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFGb3JtSGVscGVyLnZhbGlkYXRlKCcja3ljVHJ1c3RlZENvbnRhY3RGb3JtJykpIHJldHVybjtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKHRydXN0ZWRDb250YWN0U3VibWl0KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJhbXMgPSBGb3JtSGVscGVyLmdldFBhcmFtcygnI2t5Y1RydXN0ZWRDb250YWN0Rm9ybScpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVUcnVzdGVkQ29udGFjdChwYXJhbXMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhc29uLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihKU09OLnBhcnNlKHJlYXNvbi5tZXNzYWdlKS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93RXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGt5Y0VkaXROYW1lRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWVFcnJvcicpO1xyXG4gICAgICAgIGlmICgha3ljRWRpdE5hbWVFcnJvcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBreWNFZGl0TmFtZUVycm9yLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAga3ljRWRpdE5hbWVFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQ29udHJhY3RJbmZvIGZyb20gXCIuLi8uLi9jb250cmFjdHMvQ29udHJhY3RJbmZvXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IERhdGVIZWxwZXIgZnJvbSAnLi4vLi4vdXRpbC9EYXRlSGVscGVyJztcclxuaW1wb3J0IEJsb2NrY2hhaW5TZXJ2aWNlIGZyb20gXCIuL0Jsb2NrY2hhaW5TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBVVNEU2VydmljZSBleHRlbmRzIEJsb2NrY2hhaW5TZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIEFVU0RJbmZvOiBhbnk7XHJcbiAgICBwdWJsaWMgc3RhdGljIGxhc3RVcGRhdGU/OiBEYXRlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYVVTREFtb3VudD86IEJpZ051bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHN1cGVyKG1vcmFsaXMpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldEFVU0RCYWxhbmNlT2YoZXRoQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxCaWdOdW1iZXI+IHtcclxuICAgICAgICBpZiAoQVVTRFNlcnZpY2UubGFzdFVwZGF0ZSAmJiBBVVNEU2VydmljZS5hVVNEQW1vdW50ICYmXHJcbiAgICAgICAgICAgICAgICAhRGF0ZUhlbHBlci5pc09sZGVyVGhlbihBVVNEU2VydmljZS5sYXN0VXBkYXRlLCA1KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQVVTRFNlcnZpY2UuYVVTREFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gYXdhaXQgdGhpcy5nZXRPcHRpb25zKFwiYmFsYW5jZU9mXCIsIHtcclxuICAgICAgICAgICAgYWNjb3VudDogZXRoQWRkcmVzc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlRnVuY3Rpb24ob3B0aW9ucykudGhlbihiYWxhbmNlT2YgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYW1vdW50ID0gdGhpcy5tb3JhbGlzLlVuaXRzLkZyb21XZWkoYmFsYW5jZU9mLnRvU3RyaW5nKCksIDE4KTtcclxuICAgICAgICAgICAgQVVTRFNlcnZpY2UuYVVTREFtb3VudCA9IG5ldyBCaWdOdW1iZXIoYW1vdW50KTtcclxuICAgICAgICAgICAgQVVTRFNlcnZpY2UubGFzdFVwZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gQVVTRFNlcnZpY2UuYVVTREFtb3VudDtcclxuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBibG9ja2NoYWluRXJyb3IgPSBuZXcgQmxvY2tjaGFpbkVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHRyYW5zZmVyKHN5bWJvbEFkZHJlc3MgOiBzdHJpbmcsIHF0eSA6IEJpZ051bWJlcikge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLmdldE9wdGlvbnMoJ3RyYW5zZmVyJywge1xyXG4gICAgICAgICAgICB0bzogc3ltYm9sQWRkcmVzcyxcclxuICAgICAgICAgICAgYW1vdW50OiBNb3JhbGlzLlVuaXRzLlRva2VuKHF0eS50b1N0cmluZygpLCAxOClcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2tjaGFpbkVycm9yID0gbmV3IEJsb2NrY2hhaW5FcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JJbmZvLnJlcG9ydChibG9ja2NoYWluRXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgQVVTRFNlcnZpY2UuYVVTREFtb3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBBVVNEU2VydmljZS5sYXN0VXBkYXRlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRPcHRpb25zKGZ1bmN0aW9uTmFtZSA6IHN0cmluZywgcGFyYW1zIDogYW55KSB7XHJcbiAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuICAgICAgICBsZXQgYWJpID0gYXdhaXQgdGhpcy5nZXRBVXNkQWJpKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogY29udHJhY3RJbmZvLkFVU0RfQUREUkVTUyxcclxuICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiBmdW5jdGlvbk5hbWUsXHJcbiAgICAgICAgICAgIGFiaTogYWJpLFxyXG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRBVXNkQWJpKCkge1xyXG4gICAgICAgIGlmIChBVVNEU2VydmljZS5BVVNESW5mbykgcmV0dXJuIEFVU0RTZXJ2aWNlLkFVU0RJbmZvLmFiaTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy4uL2FiaS9hVVNELmpzb24nKTtcclxuICAgICAgICBBVVNEU2VydmljZS5BVVNESW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICByZXR1cm4gQVVTRFNlcnZpY2UuQVVTREluZm8uYWJpO1xyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGFydGljbGU+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImJlZm9yZUZ1bmRpbmdcXFwiPlxcclxcbiAgICAgICAgVG8gdXNlIGxpbWluYWwubWFya2V0IHlvdSBuZWVkIHNvbWUgYVVTRC4gYVVTRCBpcyB0aGUgc2FtZSB2YWx1ZSBhcyBVU0QuXFxyXFxuICAgICAgICBXZSBjYW4gZ2l2ZSB5b3Ugc29tZSBhVVNEICh0aGlzIGlzIGFsbCBmYWtlIG1vbmV5KSwgc28geW91IGNhbiBwbGF5IHdpdGggdGhlIHN5c3RlbS5cXHJcXG5cXHJcXG4gICAgICAgIEZpcnN0LCB5b3UgbmVlZCB0byBhZGQgYVVTRCB0byB5b3Ugd2FsbGV0LlxcclxcblxcclxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwiYWRkVG9rZW5Ub1dhbGxldFxcXCI+QWRkIGFVU0QgdG8gd2FsbGV0PC9idXR0b24+XFxyXFxuICAgICAgICA8YmxvY2txdW90ZSBpZD1cXFwibmVlZFRvQ29weVxcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICAgICAgSWYgdGhlIGJ1dHRvbiBkaWRuJ3Qgd29yaywgeW91IGNhbiBjb3B5IHRoZSBhZGRyZXNzIGhlcmUgYW5kIGltcG9ydCBpdCBpbnRvIHlvdXIgd2FsbGV0XFxyXFxuICAgICAgICAgICAgPGlucHV0IHZhbHVlPVxcXCJ7e2FVU0RBZGRyZXNzfX1cXFwiLz5cXHJcXG4gICAgICAgIDwvYmxvY2txdW90ZT5cXHJcXG4gICAgICAgIFdoZW4geW91IGhhdmUgYVVTRCB0byB5b3Ugd2FsbGV0LCB5b3UgY2FuIHJlcXVlc3Qgc29tZSBtb25leSB0byB0cmFkZSB3aXRoLlxcclxcblxcclxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwicmVxdWVzdEZha2VBVVNEXFxcIj5SZXF1ZXN0IHNvbWUgYVVTRDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwid2FybmluZ0JhciBub3RpZmljYXRpb25CYXIgZC1ub25lXFxcIiBpZD1cXFwiZnVuZGluZ0Vycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImFmdGVyRnVuZGluZ1xcXCIgY2xhc3M9XFxcImQtbm9uZSBjZW50ZXJcXFwiPlxcclxcbiAgICAgICAgV2UgaGF2ZSBub3cgc2VuZGluZyBhVVNEIHRvIHlvdXIgd2FsbGV0LiBUaGlzIHVzdWFsbHkgdGFrZXMgZmV3IG1pbnV0ZXMsIHNvIGxldHMgd2FpdC5cXHJcXG48YnIgLz48YnIgLz5cXHJcXG4gICAgICAgIFdoZW4geW91IGhhdmUgdGhlIGFVU0QgaW4geW91IHdhbGxldCwgd2Ugd2lsbCB0ZWxsIHlvdS5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGgzPkN1cnJlbnQgYVVTRCBiYWxhbmNlPC9oMz5cXHJcXG4gICAgICAgICAgICA8ZGl2IGlkPVxcXCJjdXJyZW50QVVTREJhbGFuY2VcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGlkPVxcXCJlcnJvckFmdGVyVHJ5RnVuZGluZ1xcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICBXZSBoYWQgYW4gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGZ1bmQgeW91LiBXZSdsbCBiZSBjcmFja2luZyBhdCB0aGUgaXNzdWUgc29vbiB0byBmaXggaXQuXFxyXFxuICAgICAgICBUcnkgYWdhaW4gaW4gZmV3IG1pbnV0ZXMuIElmIG5vdCwgdHJ5IGFnYWluIGluIGZldyBob3Vycy5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxhIGhyZWY9XFxcIiNcXFwiIGlkPVxcXCJyZWdpc3RlckJhbmtJbmZvXFxcIj5SZWdpc3RlciBiYW5rIGluZm9ybWF0aW9uIChub3QgbmVlZGVkIGZvciBTYW5kYm94KTwvYT5cXHJcXG48L2FydGljbGU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bmRpbmdTZXJ2aWNlIHtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZXF1ZXN0RmFrZUZ1bmRpbmcoKSB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2Z1bmRVc2VyJywge2NoYWluSWQ6bmV0d29ya0luZm8uQ2hhaW5JZH0pO1xyXG4gICAgfVxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxwPlNldHVwIHlvdXIgYmFuayByZWxhdGlvbnNoaXAgd2l0aCBMaW1pbmFsLm1hcmtldC4gUGxlYXNlIGNob29zZSB0aGUgdHlwZSBvZiB0cmFuc2ZlciB5b3Ugd2FudCB0byBtYWtlPC9wPlxcclxcbjx1bD5cXHJcXG4gICAgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcImJhbmtfdHJhbnNmZXJcXFwiIGlkPVxcXCJhY2hfdHJhbnNmZXJcXFwiIHZhbHVlPVxcXCIxXFxcIi8+IEFDSCBiYW5rIHRyYW5zZmVyIChVUyk8L2xhYmVsPlxcclxcbiAgICA8L2xpPlxcclxcbiAgICA8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwiYmFua190cmFuc2ZlclxcXCIgaWQ9XFxcIndpcmVfdHJhbnNmZXJcXFwiIHZhbHVlPVxcXCIyXFxcIi8+IFdpcmUgdHJhbnNmZXJcXHJcXG4gICAgICAgIChJbnRlcm5hdGlvbmFsKTwvbGFiZWw+PC9saT5cXHJcXG48L3VsPlxcclxcbjxkaXYgaWQ9XFxcInNlbGVjdEZ1bmRpbmdUeXBlRXJyb3JcXFwiIGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCI+PC9kaXY+XFxyXFxuPGJ1dHRvbiBpZD1cXFwibmV4dF9iYW5rX2luZm9ybWF0aW9uXFxcIj5OZXh0OiBCYW5rIGluZm9ybWF0aW9uPC9idXR0b24+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBBVVNERnVuZCBmcm9tIFwiLi9BVVNERnVuZFwiO1xyXG5pbXBvcnQgU2VsZWN0RnVuZGluZ1R5cGVIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvRnVuZGluZy9TZWxlY3RGdW5kaW5nVHlwZS5odG1sJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdEZ1bmRpbmdUeXBlIHtcclxuXHJcbiAgICBhVXNkRnVuZDogQVVTREZ1bmRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhVXNkRnVuZDogQVVTREZ1bmQpIHtcclxuICAgICAgICB0aGlzLmFVc2RGdW5kID0gYVVzZEZ1bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFNlbGVjdEZ1bmRpbmdUeXBlSHRtbCk7XHJcblxyXG4gICAgICAgIHRoaXMuYVVzZEZ1bmQubW9kYWwuc2hvd01vZGFsKCdTZWxlY3QgZnVuZGluZyB0eXBlJywgdGVtcGxhdGUoe30pKTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRFdmVudCgpIHtcclxuICAgICAgICBsZXQgbmV4dF9iYW5rX2luZm9ybWF0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHRfYmFua19pbmZvcm1hdGlvbicpO1xyXG4gICAgICAgIG5leHRfYmFua19pbmZvcm1hdGlvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQuaGlkZUVycm9yKCdzZWxlY3RGdW5kaW5nVHlwZUVycm9yJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYWNoX3RyYW5zZmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjaF90cmFuc2ZlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChhY2hfdHJhbnNmZXI/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQuYWNoUmVsYXRpb25zaGlwLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgd2lyZV90cmFuc2ZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXJlX3RyYW5zZmVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHdpcmVfdHJhbnNmZXI/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQud2lyZVRyYW5zZmVyLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5zaG93RXJyb3IoJ3NlbGVjdEZ1bmRpbmdUeXBlRXJyb3InLCAnUGxlYXNlIHNlbGVjdCBmdW5kaW5nIHR5cGUnKVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICA8cD5CZWZvcmUgeW91IGNhbiB0cmFuc2ZlciwgeW91IG5lZWQgdG8gc2V0IHVwIHlvdXIgYmFuayBpbmZvcm1hdGlvbi5cXHJcXG4gICAgICAgIFdlIHVzZSA8YSBocmVmPVxcXCJodHRwczovL3BsYWlkLmNvbVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlBsYWlkPC9hPiB0byBjb25uZWN0IHlvdXIgYWNjb3VudCB3aXRoIHRoZSBicm9rZXIgYWNjb3VudFxcclxcbiAgICAgICAgPGJyLz48YnIvPlxcclxcbiAgICAgICAgUGxhaWQgaXMgYSBzZWN1cmUgc2VydmljZSB0aGF0IG1ha2VzIGl0IGVhc3kgZm9yIHlvdSB0byBjb25uZWN0IHlvdXIgYmFuayBhY2NvdW50IGluZm9ybWF0aW9uLlxcclxcbiAgICAgICAgV2UgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHRyYW5zZmVyIGZyb20geW91IGFjY291bnQgb3IgYW55IG90aGVyIGFjY2VzcyB0byB5b3VyIGJhbmsgYWNjb3VudC5cXHJcXG4gICAgPC9wPlxcclxcbiAgICA8Zm9ybSBpZD1cXFwiYWNoRm9ybVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcImFjaEVycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcImFjaF9wcmV2aW91c1xcXCI+UHJldmlvdXM6IEZ1bmRpbmcgdHlwZTwvYnV0dG9uPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcImNvbm5lY3RQbGFpZFxcXCI+Q29ubmVjdCB1c2luZyBQbGFpZDwvYnV0dG9uPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDwvZm9ybT5cXHJcXG5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgQVVTREZ1bmQgZnJvbSBcIi4vQVVTREZ1bmRcIjtcclxuaW1wb3J0IEFDSFJlbGF0aW9uc2hpcEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9GdW5kaW5nL0FDSFJlbGF0aW9uc2hpcC5odG1sJztcclxuaW1wb3J0IEZvcm1IZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvRm9ybUhlbHBlclwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvTG9hZGluZ0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUNIUmVsYXRpb25zaGlwIHtcclxuXHJcbiAgICBhVXNkRnVuZDogQVVTREZ1bmRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhVXNkRnVuZDogQVVTREZ1bmQpIHtcclxuICAgICAgICB0aGlzLmFVc2RGdW5kID0gYVVzZEZ1bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoQUNIUmVsYXRpb25zaGlwSHRtbCk7XHJcblxyXG4gICAgICAgIHRoaXMuYVVzZEZ1bmQubW9kYWwuc2hvd01vZGFsKCdCYW5rIGluZm9ybWF0aW9uJywgdGVtcGxhdGUoe30pKTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRFdmVudCgpIHtcclxuICAgICAgICBsZXQgY29ubmVjdFBsYWlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3RQbGFpZCcpO1xyXG4gICAgICAgIGNvbm5lY3RQbGFpZD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0UGxhaWRBY3Rpb24oKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgYWNoX3ByZXZpb3VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjaF9wcmV2aW91cycpO1xyXG4gICAgICAgIGFjaF9wcmV2aW91cz8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5zZWxlY3RGdW5kaW5nVHlwZS5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY29ubmVjdFBsYWlkQWN0aW9uKCkge1xyXG4gICAgICAgIGxldCBjb25uZWN0UGxhaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdFBsYWlkJyk7XHJcbiAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKGNvbm5lY3RQbGFpZCk7XHJcbiAgICAgICAgdGhpcy5hVXNkRnVuZC5oaWRlRXJyb3IoJ2FjaEVycm9yJyk7XHJcblxyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLmFVc2RGdW5kLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLmdldFBsYWlkTGlua1Rva2VuKClcclxuICAgICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQuc2hvd0Vycm9yKCdhY2hFcnJvcicsIHJlYXNvbilcclxuICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWlkVG9rZW4gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vY2RuLnBsYWlkLmNvbS9saW5rL3YyL3N0YWJsZS9saW5rLWluaXRpYWxpemUuanMnO1xyXG4gICAgICAgICAgICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQbGFpZENvbm5lY3Rpb24ocGxhaWRUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWNoRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2hGb3JtJyk7XHJcbiAgICAgICAgICAgICAgICBhY2hGb3JtIS5hcHBlbmQoc2NyaXB0KTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVBsYWlkQ29ubmVjdGlvbihwbGFpZFRva2VuOiBhbnkpIHtcclxuICAgICAgICBsZXQgbGlua0hhbmRsZXIgPSBQbGFpZC5jcmVhdGUoe1xyXG4gICAgICAgICAgICB0b2tlbjogcGxhaWRUb2tlbi5saW5rX3Rva2VuLFxyXG4gICAgICAgICAgICBvblN1Y2Nlc3M6IGFzeW5jIChwdWJsaWNfdG9rZW46IGFueSwgbWV0YWRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtZXRhZGF0YS5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5zaG93RXJyb3IoJ2FjaEVycm9yJywgXCJEaWRuJ3QgcmVjZWl2ZSBhbnkgaW5mb3JtYXRpb24gZnJvbSBQbGFpZC4gUGxlYXNlIHRyeSBhZ2Fpbi4gSWYgaXQgZG9lc24ndCB3b3JrLiBQbGVhc2UgY29udGFjdCB1cyBhdCBpbmZvQGxpbWluYWwubWFya2V0XCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMuYVVzZEZ1bmQubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS5jcmVhdGVBY2hSZWxhdGlvbnNoaXAocHVibGljX3Rva2VuLCBtZXRhZGF0YS5hY2NvdW50LmlkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChhc3luYyAocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFzb24uZXJyb3IuaW5kZXhPZignb25seSBvbmUgYWN0aXZlIGFjaCByZWxhdGlvbnNoaXAnKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJhbmtSZWxhdGlvbnNoaXAgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRCYW5rUmVsYXRpb25zaGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFVc2RGdW5kLnRyYW5zZmVyLnNob3coYmFua1JlbGF0aW9uc2hpcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFVc2RGdW5kLnNob3dFcnJvcignYWNoRXJyb3InLCByZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRlQWNoUmVsYXRpb25zaGlwJywgcmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQudHJhbnNmZXIuc2hvdyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uRXhpdDogKGVycjogYW55LCBtZXRhZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsIG1ldGFkYXRhKTtcclxuICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpbmtIYW5kbGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG5cXHJcXG4gICAgPGZvcm0+XFxyXFxuICAgICAgICA8cD5cXHJcXG4gICAgICAgICAgICBUbyBmaWxsIHVwIHlvdXIgYnJva2VyIGFjY291bnQsIHlvdSBuZWVkIHRvIG5vdGlmeSBMaW1pbmFsLm1hcmtldCBmaXJzdCBhYm91dCB5b3VyIHRyYW5zZmVyLFxcclxcbiAgICAgICAgICAgIHdlIGNhbiB0aGVuIG1hdGNoIGl0IHdpdGggeW91ciBhY2NvdW50LlxcclxcbiAgICAgICAgICAgIDxici8+PGJyLz5cXHJcXG4gICAgICAgICAgICBUeXBlIGluIHRoZSBhbW91bnQgeW91IHdvdWxkIGxpa2UgdG8gdHJhbnNmZXIgdG8geW91IGJyb2tlciBhY2NvdW50LlxcclxcbiAgICAgICAgICAgIHt7I2lmIGJhbmtfYWNjb3VudF9udW1iZXJ9fVxcclxcbiAgICAgICAgICAgIDxici8+PGJyLz5cXHJcXG4gICAgICAgICAgICBUaGUgbW9uZXkgc2hvdWxkIGNvbWUgZnJvbSA8c3Ryb25nPnt7YmFua19hY2NvdW50X251bWJlcn19PC9zdHJvbmc+XFxyXFxuICAgICAgICAgICAge3svaWZ9fVxcclxcbiAgICAgICAgPC9wPlxcclxcbiAgICAgICAgPGJyLz5cXHJcXG4gICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICBBbW91bnQgaW4gVVMgZG9sbGFycyAoJClcXHJcXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT1cXFwiYW1vdW50XFxcIiBjbGFzcz1cXFwiYW1vdW50XFxcIiB0eXBlPVxcXCJ0ZWxcXFwiIGlkPVxcXCJhbW91bnRcXFwiIG1pbmxlbmd0aD1cXFwiMVxcXCIgcmVxdWlyZWQvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInRyYW5zZmVyX3R5cGVcXFwiIGlkPVxcXCJ0cmFuc2Zlcl90eXBlXFxcIiB2YWx1ZT1cXFwie3t0cmFuc2Zlcl90eXBlfX1cXFwiLz5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInJlbGF0aW9uc2hpcF9pZFxcXCIgaWQ9XFxcInJlbGF0aW9uc2hpcF9pZFxcXCIgdmFsdWU9XFxcInt7cmVsYXRpb25zaGlwSWR9fVxcXCIvPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiZGlyZWN0aW9uXFxcIiBpZD1cXFwiZGlyZWN0aW9uXFxcIiB2YWx1ZT1cXFwiSU5DT01JTkdcXFwiLz5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwidHJhbnNmZXJFcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJub3RpZnlUcmFuc2ZlclxcXCI+Tm90aWZ5IExpbWluYWwubWFya2V0IG9mIGluY29taW5nIHRyYW5zZmVyPC9idXR0b24+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9mb3JtPlxcclxcbiAgICB7e3t0cmFuc2ZlcnN9fX1cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJleHBvcnQgZW51bSBUcmFuc2ZlckRpcmVjdGlvbkVudW0ge1xyXG4gICAgSW5jb21pbmcgPSAnSU5DT01JTkcnLFxyXG4gICAgT3V0Z29pbmcgPSAnT1VUR09JTkcnXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8aHIvPlxcclxcbjxoMz57e0RpcmVjdGlvbn19IHRyYW5zZmVyczwvaDM+XFxyXFxue3sjaWYgdHJhbnNmZXJzLmxlbmd0aH19XFxyXFxuPHA+QmVsb3cgaXMgYSBsaXN0IG9mIHRyYW5zZmVycywgY29uZmlybWVkIGFuZCBub3QgY29uZmlybWVkLjwvcD5cXHJcXG48dGFibGU+XFxyXFxuICAgIDx0aGVhZD5cXHJcXG4gICAgPHRyPlxcclxcbiAgICAgICAgPHRoPkFtb3VudDwvdGg+XFxyXFxuICAgICAgICA8dGg+U3RhdHVzPC90aD5cXHJcXG4gICAgICAgIDx0aD5DcmVhdGVkPC90aD5cXHJcXG4gICAgICAgIDx0aD5FeHBpcmVzPC90aD5cXHJcXG4gICAgPC90cj5cXHJcXG4gICAgPC90aGVhZD5cXHJcXG4gICAgPHRib2R5PlxcclxcbiAgICB7eyNlYWNoIHRyYW5zZmVyc319XFxyXFxuICAgIDx0cj5cXHJcXG4gICAgICAgIDx0ZD4ke3thbW91bnR9fTwvdGQ+XFxyXFxuICAgICAgICA8dGQgaWQ9XFxcInN0YXR1c197e2lkfX1cXFwiPnt7c3RhdHVzfX08L3RkPlxcclxcbiAgICAgICAgPHRkPnt7ZGF0ZVRpbWVGb3JtYXQgY3JlYXRlZF9hdH19PC90ZD5cXHJcXG4gICAgICAgIDx0ZD57e2RhdGVUaW1lRm9ybWF0IGV4cGlyZXNfYXR9fTwvdGQ+XFxyXFxuICAgICAgICA8dGQgaWQ9XFxcImRlbGV0ZV97e2lkfX1cXFwiIGNsYXNzPVxcXCJ7e2NsYXNzQnlTdGF0dXMgc3RhdHVzfX1cXFwiPjxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJkZWxldGVUcmFuc2ZlclxcXCIgZGF0YS1pZD1cXFwie3tpZH19XFxcIj5DYW5jZWw8L2E+XFxyXFxuICAgICAgICA8L3RkPlxcclxcbiAgICA8L3RyPlxcclxcbiAgICB7ey9lYWNofX1cXHJcXG4gICAgPC90Ym9keT5cXHJcXG48L3RhYmxlPlxcclxcbnt7ZWxzZX19XFxyXFxuPHA+Tm8gdHJhbnNmZXJzIHJlZ2lzdGVyZWQ8L3A+XFxyXFxue3svaWZ9fVwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIYW5kbGViYXJIZWxwZXJzIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVySGVscGVycygpIHtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdwZXJjJywgZnVuY3Rpb24gKG51bWJlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobnVtYmVyKSAqIDEwMDAwKSAvIDEwMCArICclJztcclxuICAgICAgICB9KTtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdyb3VuZCcsIGZ1bmN0aW9uIChudW1iZXI6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG51bWJlcikgKiAxMDApIC8gMTAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdyb3VuZDInLCBmdW5jdGlvbiAobnVtYmVyOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChudW1iZXIpICogMTAwMDApIC8gMTAwMDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignY2xhc3NDb2xvcicsIGZ1bmN0aW9uIChudW1iZXI6IG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKG51bWJlciA+IDApID8gXCJncmVlblwiIDogXCJyZWRcIjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkYXRlVGltZUZvcm1hdCcsIGZ1bmN0aW9uIChzdHJEYXRlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShzdHJEYXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2NsYXNzQnlTdGF0dXMnLCBmdW5jdGlvbiAoc3RhdHVzOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChzdGF0dXMgPT0gJ1FVRVVFRCcgfHwgc3RhdHVzID09ICdBUFBST1ZBTF9QRU5ESU5HJykgPyAnJyA6ICdoaWRkZW4nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVHJhbnNmZXJzTGlzdEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9GdW5kaW5nL1RyYW5zZmVyc0xpc3QuaHRtbCdcclxuaW1wb3J0IEhhbmRsZWJhckhlbHBlcnMgZnJvbSBcIi4uLy4uLy4uL3V0aWwvSGFuZGxlYmFySGVscGVyc1wiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IE1vcmFsaXMgZnJvbSBcIm1vcmFsaXNcIjtcclxuaW1wb3J0IHtUcmFuc2ZlckRpcmVjdGlvbkVudW19IGZyb20gXCIuLi8uLi8uLi9lbnVtcy9UcmFuc2ZlckRpcmVjdGlvbkVudW1cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZmVyc0xpc3Qge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyKGRpcmVjdGlvbjogVHJhbnNmZXJEaXJlY3Rpb25FbnVtKSB7XHJcblxyXG4gICAgICAgIEhhbmRsZWJhckhlbHBlcnMucmVnaXN0ZXJIZWxwZXJzKCk7XHJcblxyXG4gICAgICAgIGxldCB0cmFuc2ZlcnNUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShUcmFuc2ZlcnNMaXN0SHRtbCk7XHJcbiAgICAgICAgbGV0IHRyYW5zZmVycyA9IGF3YWl0IHRoaXMudXNlclNlcnZpY2UuZ2V0TGF0ZXN0VHJhbnNmZXJzKGRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2ZlcnNUZW1wbGF0ZSh7RGlyZWN0aW9uOiBkaXJlY3Rpb24sIHRyYW5zZmVyczogdHJhbnNmZXJzfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBsZXQgZGVsZXRlVHJhbnNmZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZVRyYW5zZmVyJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxldGVUcmFuc2ZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGVsZXRlVHJhbnNmZXJzW2ldPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbmNlbCB0aGlzIHdpdGhkcmF3IHJlcXVlc3Q/JykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gKGRlbGV0ZVRyYW5zZmVyc1tpXSBhcyBIVE1MRWxlbWVudCkuZGF0YXNldFsnaWQnXTtcclxuICAgICAgICAgICAgICAgIGlmICghaWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLmRlbGV0ZVRyYW5zZmVyKGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1c1RkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1c18nICsgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzVGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RkLmlubmVyVGV4dCA9ICdDQU5DRUxFRCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGV0ZVRkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZV8nICsgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVUZD8ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBBVVNERnVuZCBmcm9tIFwiLi9BVVNERnVuZFwiO1xyXG5pbXBvcnQgVHJhbnNmZXJIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvRnVuZGluZy9UcmFuc2Zlci5odG1sJ1xyXG5pbXBvcnQge0JhbmtSZWxhdGlvbnNoaXB9IGZyb20gXCIuLi8uLi8uLi9kdG8vYWxwYWNhL0JhbmtSZWxhdGlvbnNoaXBcIjtcclxuaW1wb3J0IFN0cmluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9TdHJpbmdIZWxwZXJcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuaW1wb3J0IHtUcmFuc2ZlckRpcmVjdGlvbkVudW19IGZyb20gXCIuLi8uLi8uLi9lbnVtcy9UcmFuc2ZlckRpcmVjdGlvbkVudW1cIjtcclxuaW1wb3J0IFRyYW5zZmVyc0xpc3QgZnJvbSBcIi4vVHJhbnNmZXJzTGlzdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNmZXIge1xyXG5cclxuICAgIG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgYVVzZEZ1bmQ6IEFVU0RGdW5kXHJcbiAgICBiYW5rUmVsYXRpb25zaGlwPzogQmFua1JlbGF0aW9uc2hpcDtcclxuICAgIHByaXZhdGUgdHJhbnNmZXJzTGlzdDogVHJhbnNmZXJzTGlzdDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcywgYVVzZEZ1bmQ6IEFVU0RGdW5kKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLmFVc2RGdW5kID0gYVVzZEZ1bmQ7XHJcbiAgICAgICAgdGhpcy50cmFuc2ZlcnNMaXN0ID0gbmV3IFRyYW5zZmVyc0xpc3QodGhpcy5tb3JhbGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvdyhiYW5rUmVsYXRpb25zaGlwOiBCYW5rUmVsYXRpb25zaGlwKSB7XHJcbiAgICAgICAgaWYgKCFiYW5rUmVsYXRpb25zaGlwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQubW9kYWwuc2hvd01vZGFsKCdObyBiYW5rIHJlbGF0aW9uc2hpcCBleGlzdHMnLCAnTm8gYmFuayByZWxhdGlvbnNoaXAgZXhpc3RzLiBZb3UgbmVlZCB0byBjcmVhdGUgdGhpcyBiZWZvcmUgeW91IGNhbiB0cmFuc2ZlciBtb25leS4gQ2xvc2UgdGhlIHdpbmRvdyBhbmQgdHJ5IGFnYWluLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJhbmtSZWxhdGlvbnNoaXAgPSBiYW5rUmVsYXRpb25zaGlwO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoVHJhbnNmZXJIdG1sKTtcclxuICAgICAgICBsZXQgdHJhbnNmZXJzTGlzdEh0bWwgPSBhd2FpdCB0aGlzLnRyYW5zZmVyc0xpc3QucmVuZGVyKFRyYW5zZmVyRGlyZWN0aW9uRW51bS5JbmNvbWluZyk7XHJcblxyXG4gICAgICAgIGxldCB0cmFuc2Zlcl90eXBlID0gKFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KGJhbmtSZWxhdGlvbnNoaXAuYmFua19hY2NvdW50X251bWJlcikgJiYgYmFua1JlbGF0aW9uc2hpcC5iYW5rX2FjY291bnRfdHlwZSAhPSAnJykgPyAnd2lyZScgOiAnYWNoJztcclxuICAgICAgICB0aGlzLmFVc2RGdW5kLm1vZGFsLnNob3dNb2RhbCgnQ3JlYXRlIHRyYW5zZmVyIG5vdGlmaWNhdGlvbicsIHRlbXBsYXRlKHtcclxuICAgICAgICAgICAgdHJhbnNmZXJzOiB0cmFuc2ZlcnNMaXN0SHRtbCxcclxuICAgICAgICAgICAgdHJhbnNmZXJfdHlwZTogdHJhbnNmZXJfdHlwZSxcclxuICAgICAgICAgICAgcmVsYXRpb25zaGlwSWQ6IGJhbmtSZWxhdGlvbnNoaXAuaWRcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLnRyYW5zZmVyc0xpc3QuYmluZEV2ZW50cygpO1xyXG5cclxuICAgICAgICBsZXQgbm90aWZ5VHJhbnNmZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZ5VHJhbnNmZXInKTtcclxuICAgICAgICBub3RpZnlUcmFuc2Zlcj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFVc2RGdW5kLmhpZGVFcnJvcigndHJhbnNmZXJFcnJvcicpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbW91bnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoYW1vdW50LnZhbHVlKSB8fCBwYXJzZUZsb2F0KGFtb3VudC52YWx1ZSkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5zaG93RXJyb3IoJ2Ftb3VudEVycm9yJywgJ0Ftb3VudCBjYW5ub3QgYmUgZW1wdHkgb3IgYmVsb3cgJDEwJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBMb2FkaW5nSGVscGVyLnNldExvYWRpbmcobm90aWZ5VHJhbnNmZXIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLmNyZWF0ZVRyYW5zZmVyKGFtb3VudC52YWx1ZSwgJ0lOQ09NSU5HJylcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodGhpcy5iYW5rUmVsYXRpb25zaGlwIS5wcm9jZXNzb3JfdG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYVVzZEZ1bmQud2lyZVRyYW5zZmVySW5mby5zaG93KGFtb3VudC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5hY2hUcmFuc2ZlckluZm8uc2hvdyhhbW91bnQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaHR0cEVycm9yID0gSlNPTi5wYXJzZShyZWFzb24ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC5zaG93RXJyb3IoJ3RyYW5zZmVyRXJyb3InLCBodHRwRXJyb3Iuc2VydmVyRXJyb3IubWVzc2FnZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgPHA+QmVmb3JlIHlvdSBjYW4gdHJhbnNmZXIsIHlvdSBuZWVkIHRvIHNldCB1cCB5b3VyIGJhbmsgaW5mb3JtYXRpb248L3A+XFxyXFxuICAgIDxmb3JtIGlkPVxcXCJ3aXJlVHJhbnNmZXJGb3JtXFxcIj5cXHJcXG4gICAgICAgIDxsYWJlbD5OYW1lIG9mIGJhbmtcXHJcXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT1cXFwibmFtZVxcXCIgcmVxdWlyZWQgaWQ9XFxcIm5hbWVcXFwiLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcInN3aWZ0X2Vycm9yXFxcIj5CSUMvU1dJRlQgY29kZSBzaG91bGQgYmUgOCBvciAxMSBjaGFyYWN0ZXJzPC9kaXY+XFxyXFxuICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgQmFuayBjb2RlIChCSUMvU1dJRlQpXFxyXFxuICAgICAgICAgICAgPGlucHV0IG5hbWU9XFxcImJhbmtfY29kZVxcXCIgbWF4bGVuZ3RoPVxcXCIxMVxcXCIgaWQ9XFxcImJhbmtfY29kZVxcXCIgcmVxdWlyZWQvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICBBY2NvdW50IG51bWJlciAoSUJBTilcXHJcXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT1cXFwiYWNjb3VudF9udW1iZXJcXFwiIGlkPVxcXCJhY2NvdW50X251bWJlclxcXCIgcmVxdWlyZWQvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICBTdHJlZXQgYWRkcmVzc1xcclxcbiAgICAgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCIgaWQ9XFxcInN0cmVldF9hZGRyZXNzXFxcIiByZXF1aXJlZC8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGxhYmVsPlxcclxcbiAgICAgICAgICAgIFBvc3RhbCBjb2RlXFxyXFxuICAgICAgICAgICAgPGlucHV0IG5hbWU9XFxcInBvc3RhbF9jb2RlXFxcIiBpZD1cXFwicG9zdGFsX2NvZGVcXFwiIHJlcXVpcmVkLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgQ2l0eVxcclxcbiAgICAgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjaXR5XFxcIiBpZD1cXFwiY2l0eVxcXCIgcmVxdWlyZWQvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG5cXHJcXG4gICAgICAgIDxsYWJlbD5TdGF0ZVxcclxcbiAgICAgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJzdGF0ZV9wcm92aW5jZVxcXCIgaWQ9XFxcInN0YXRlX3Byb3ZpbmNlXFxcIiByZXF1aXJlZC8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGxhYmVsPlxcclxcbiAgICAgICAgICAgIENvdW50cnkgd2hlcmUgYmFuayBhY2NvdW50IGlzIGxvY2F0ZWRcXHJcXG4gICAgICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJjb3VudHJ5XFxcIiByZXF1aXJlZCBuYW1lPVxcXCJjb3VudHJ5XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAge3sjZWFjaCBjb3VudHJpZXN9fVxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2NvZGV9fVxcXCI+e3tuYW1lfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcblxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiYmFua19jb2RlX3R5cGVcXFwiIHZhbHVlPVxcXCJCSUNcXFwiLz5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcIndyaXRlVHJhbnNmZXJFcnJvclxcXCIgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcIndpcmVfdHJhbnNmZXJfcHJldmlvdXNcXFwiPlByZXZpb3VzOiBGdW5kaW5nIHR5cGU8L2J1dHRvbj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJzYXZlX2ludGVybmF0aW9uYWxfYmFua19pbmZvcm1hdGlvblxcXCI+TmV4dDogVHJhbnNmZXI8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEFVU0RGdW5kIGZyb20gXCIuL0FVU0RGdW5kXCI7XHJcbmltcG9ydCBXaXJlVHJhbnNmZXJIdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0Z1bmRpbmcvV2lyZVRyYW5zZmVyLmh0bWxcIjtcclxuaW1wb3J0IEZvcm1IZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvRm9ybUhlbHBlclwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IENvdW50cnlIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvQ291bnRyeUhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lyZVRyYW5zZmVyIHtcclxuXHJcbiAgICBhVXNkRnVuZDogQVVTREZ1bmRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhVXNkRnVuZDogQVVTREZ1bmQpIHtcclxuICAgICAgICB0aGlzLmFVc2RGdW5kID0gYVVzZEZ1bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3coKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFdpcmVUcmFuc2Zlckh0bWwpO1xyXG5cclxuICAgICAgICB0aGlzLmFVc2RGdW5kLm1vZGFsLnNob3dNb2RhbCgnQ3JlYXRlIGJhbmsgaW5mb3JtYXRpb24nLCB0ZW1wbGF0ZSh7Y291bnRyaWVzOiBDb3VudHJ5SGVscGVyLkNvdW50cmllc30pKTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IHdpcmVfdHJhbnNmZXJfcHJldmlvdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lyZV90cmFuc2Zlcl9wcmV2aW91cycpO1xyXG4gICAgICAgIHdpcmVfdHJhbnNmZXJfcHJldmlvdXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFVc2RGdW5kLnNlbGVjdEZ1bmRpbmdUeXBlLnNob3coKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHNhdmVfaW50ZXJuYXRpb25hbF9iYW5rX2luZm9ybWF0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVfaW50ZXJuYXRpb25hbF9iYW5rX2luZm9ybWF0aW9uJyk7XHJcbiAgICAgICAgc2F2ZV9pbnRlcm5hdGlvbmFsX2JhbmtfaW5mb3JtYXRpb24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gRm9ybUhlbHBlci5nZXRQYXJhbXMoJyN3aXJlVHJhbnNmZXJGb3JtJyk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLmFVc2RGdW5kLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS5yZWdpc3RlcldpcmVUcmFuc2ZlclJlbGF0aW9uc2hpcChwYXJhbXMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hVXNkRnVuZC50cmFuc2Zlci5zaG93KHJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChhc3luYyAocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UocmVhc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3cml0ZVRyYW5zZmVyRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JpdGVUcmFuc2ZlckVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdyaXRlVHJhbnNmZXJFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnNlcnZlckVycm9yLm1lc3NhZ2UuaW5kZXhPZignb25seSBvbmUgYmFuayBhc3NvY2lhdGlvbicpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmFua1JlbGF0aW9uc2hpcCA9IGF3YWl0IHVzZXJTZXJ2aWNlLmdldEJhbmtSZWxhdGlvbnNoaXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJhbmtSZWxhdGlvbnNoaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZVRyYW5zZmVyRXJyb3IuaW5uZXJUZXh0ID0gJ1dlIGNhbm5vdCBjcmVhdGUgdGhlIGJhbmsgY29ubmVjdGlvbi4gU29tZXRoaW5nIGlzIG5vdCB3b3JraW5nIGFzIGl0IHNob3VsZC4gUGxlYXNlIGNvbnRhY3QgdXMgYXQgPGEgaHJlZj1cIm1haWx0bzppbmZvQGxpbWluYWwubWFya2V0XCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlVHJhbnNmZXJFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFVc2RGdW5kLnRyYW5zZmVyLnNob3coYmFua1JlbGF0aW9uc2hpcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZVRyYW5zZmVyRXJyb3IuaW5uZXJUZXh0ID0gb2JqLnNlcnZlckVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZVRyYW5zZmVyRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBsZXQgc3dpZnRfZXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpZnRfZXJyb3InKTtcclxuICAgICAgICBpZiAoc3dpZnRfZXJyb3IpIHN3aWZ0X2Vycm9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgbGV0IHdyaXRlVHJhbnNmZXJFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cml0ZVRyYW5zZmVyRXJyb3InKTtcclxuICAgICAgICBpZiAod3JpdGVUcmFuc2ZlckVycm9yKSB3cml0ZVRyYW5zZmVyRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgaWYgKCFGb3JtSGVscGVyLnZhbGlkYXRlKCcjd2lyZVRyYW5zZmVyRm9ybScpKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBiYW5rX2NvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFua19jb2RlJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAoYmFua19jb2RlLnZhbHVlLmxlbmd0aCAhPSA4ICYmIGJhbmtfY29kZS52YWx1ZS5sZW5ndGggIT0gMTEpIHtcclxuICAgICAgICAgICAgYmFua19jb2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgbGV0IHN3aWZ0X2Vycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aWZ0X2Vycm9yJyk7XHJcbiAgICAgICAgICAgIGlmIChzd2lmdF9lcnJvcikgc3dpZnRfZXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGgyPllvdSBuZWVkIHRvIHRyYW5zZmVyIG5vdzwvaDI+XFxyXFxuPHA+XFxyXFxuICAgIFVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIGV4ZWN1dGUgdGhlIHRyYW5zZmVyLlxcclxcbiAgICBBbHBhY2EuLi4uLi4gaW5mb3JtYXRpb24gaXMgbmVlZGVkLlxcclxcbiAgICAke3thbW91bnR9fVxcclxcbjwvcD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEFVU0RGdW5kIGZyb20gXCIuL0FVU0RGdW5kXCI7XHJcbmltcG9ydCBBQ0hUcmFuc2ZlckluZm9IdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0Z1bmRpbmcvQUNIVHJhbnNmZXJJbmZvLmh0bWxcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUNIVHJhbnNmZXJJbmZvIHtcclxuXHJcbiAgICBhVXNkRnVuZDogQVVTREZ1bmQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYVVzZEZ1bmQ6IEFVU0RGdW5kKSB7XHJcbiAgICAgICAgdGhpcy5hVXNkRnVuZCA9IGFVc2RGdW5kO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KGFtb3VudDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEFDSFRyYW5zZmVySW5mb0h0bWwpO1xyXG4gICAgICAgIHRoaXMuYVVzZEZ1bmQubW9kYWwuc2hvd01vZGFsKCdUcmFuc2ZlciBpbmZvcm1hdGlvbicsIHRlbXBsYXRlKHthbW91bnQ6IGFtb3VudH0pLCBmYWxzZSwgKCkgPT4ge1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8aDI+WW91IG5lZWQgdG8gdHJhbnNmZXIgbm93PC9oMj5cXHJcXG48cD5cXHJcXG4gICAgVXNlIHRoaXMgaW5mb3JtYXRpb24gdG8gZXhlY3V0ZSB0aGUgdHJhbnNmZXIuXFxyXFxuICAgIEFscGFjYS4uLi4uLiBpbmZvcm1hdGlvbiBpcyBuZWVkZWQuXFxyXFxuICAgICR7e2Ftb3VudH19XFxyXFxuPC9wPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgQVVTREZ1bmQgZnJvbSBcIi4vQVVTREZ1bmRcIjtcclxuaW1wb3J0IFdpcmVUcmFuc2ZlckluZm9IdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0Z1bmRpbmcvV2lyZVRyYW5zZmVySW5mby5odG1sXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpcmVUcmFuc2ZlckluZm8ge1xyXG5cclxuICAgIGFVc2RGdW5kOiBBVVNERnVuZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhVXNkRnVuZDogQVVTREZ1bmQpIHtcclxuICAgICAgICB0aGlzLmFVc2RGdW5kID0gYVVzZEZ1bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coYW1vdW50OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoV2lyZVRyYW5zZmVySW5mb0h0bWwpO1xyXG4gICAgICAgIHRoaXMuYVVzZEZ1bmQubW9kYWwuc2hvd01vZGFsKCdUcmFuc2ZlciBpbmZvcm1hdGlvbicsIHRlbXBsYXRlKHthbW91bnQ6IGFtb3VudH0pKTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsXCI7XHJcbmltcG9ydCBTZWxlY3RGdW5kaW5nVHlwZSBmcm9tIFwiLi9TZWxlY3RGdW5kaW5nVHlwZVwiO1xyXG5pbXBvcnQgQUNIUmVsYXRpb25zaGlwIGZyb20gXCIuL0FDSFJlbGF0aW9uc2hpcFwiO1xyXG5pbXBvcnQgVHJhbnNmZXIgZnJvbSBcIi4vVHJhbnNmZXJcIjtcclxuaW1wb3J0IFdpcmVUcmFuc2ZlciBmcm9tIFwiLi9XaXJlVHJhbnNmZXJcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBBQ0hUcmFuc2ZlckluZm8gZnJvbSBcIi4vQUNIVHJhbnNmZXJJbmZvXCI7XHJcbmltcG9ydCBXaXJlVHJhbnNmZXJJbmZvIGZyb20gXCIuL1dpcmVUcmFuc2ZlckluZm9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFVU0RGdW5kIHtcclxuXHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBzZWxlY3RGdW5kaW5nVHlwZTogU2VsZWN0RnVuZGluZ1R5cGU7XHJcbiAgICBhY2hSZWxhdGlvbnNoaXA6IEFDSFJlbGF0aW9uc2hpcDtcclxuICAgIHdpcmVUcmFuc2ZlcjogV2lyZVRyYW5zZmVyO1xyXG4gICAgdHJhbnNmZXI6IFRyYW5zZmVyO1xyXG4gICAgYWNoVHJhbnNmZXJJbmZvOiBBQ0hUcmFuc2ZlckluZm87XHJcbiAgICB3aXJlVHJhbnNmZXJJbmZvOiBXaXJlVHJhbnNmZXJJbmZvO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VsZWN0RnVuZGluZ1R5cGUgPSBuZXcgU2VsZWN0RnVuZGluZ1R5cGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hY2hSZWxhdGlvbnNoaXAgPSBuZXcgQUNIUmVsYXRpb25zaGlwKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmZXIgPSBuZXcgVHJhbnNmZXIobW9yYWxpcywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy53aXJlVHJhbnNmZXIgPSBuZXcgV2lyZVRyYW5zZmVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYWNoVHJhbnNmZXJJbmZvID0gbmV3IEFDSFRyYW5zZmVySW5mbyh0aGlzKTtcclxuICAgICAgICB0aGlzLndpcmVUcmFuc2ZlckluZm8gPSBuZXcgV2lyZVRyYW5zZmVySW5mbyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvdygpIHtcclxuICAgICAgICBsZXQgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgYmFua1JlbGF0aW9uc2hpcCA9IGF3YWl0IHVzZXJTZXJ2aWNlLmdldEJhbmtSZWxhdGlvbnNoaXAoKTtcclxuICAgICAgICBpZiAoYmFua1JlbGF0aW9uc2hpcCkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zZmVyLnNob3coYmFua1JlbGF0aW9uc2hpcCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RGdW5kaW5nVHlwZS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0Vycm9yKGVsZW1lbnRJZDogc3RyaW5nLCByZWFzb246IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmlubmVyVGV4dCA9IHJlYXNvbjtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGVFcnJvcihlbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEZha2VGdW5kaW5nSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL2Z1bmRpbmcvRmFrZUZ1bmRpbmcuaHRtbCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IENvbnRyYWN0SW5mbyBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL0NvbnRyYWN0SW5mb1wiO1xyXG5pbXBvcnQgRnVuZGluZ1NlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jyb2tlci9GdW5kaW5nU2VydmljZVwiO1xyXG5pbXBvcnQgQVVTRFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vQVVTRFNlcnZpY2VcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7cm91bmRCaWdOdW1iZXJ9IGZyb20gXCIuLi8uLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcclxuaW1wb3J0IEFVU0RGdW5kIGZyb20gXCIuL0FVU0RGdW5kXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZUFVU0RGdW5kIHtcclxuICAgIG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgY3VycmVudEJhbGFuY2U6IEJpZ051bWJlcjtcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QmFsYW5jZSA9IG5ldyBCaWdOdW1iZXIoLTEpO1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0FVU0RGdW5kKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcblxyXG4gICAgICAgIC8vdGhpcyBpcyByZWFsIGluc3RydWN0aW9uIGhvdyB0byB0cmFuc2ZlciB0byBicm9rZXJcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93QVVTREZha2VGdW5kKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEZha2VGdW5kaW5nSHRtbCk7XHJcblxyXG4gICAgICAgIGxldCBjb250cmFjdEluZm8gPSBDb250cmFjdEluZm8uZ2V0Q29udHJhY3RJbmZvKCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZSh7YVVTREFkZHJlc3M6IGNvbnRyYWN0SW5mby5BVVNEX0FERFJFU1N9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubW9kYWwuc2hvd01vZGFsKCdGdW5kIG15IGFjY291bnQgKEZha2UgbW9uZXkpJywgY29udGVudCk7XHJcblxyXG4gICAgICAgIGxldCBhZGRUb1dhbGxldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRUb2tlblRvV2FsbGV0Jyk7XHJcbiAgICAgICAgaWYgKCFhZGRUb1dhbGxldCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBhZGRUb1dhbGxldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB3YWxsZXRIZWxwZXIuYWRkVG9rZW5Ub1dhbGxldChjb250cmFjdEluZm8uQVVTRF9BRERSRVNTLCAnYVVTRCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvcHlGaWVsZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkgdGhpcy5zaG93Q29weUZpZWxkKCk7XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCByZWdpc3RlckJhbmtJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lzdGVyQmFua0luZm8nKTtcclxuICAgICAgICByZWdpc3RlckJhbmtJbmZvPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbC5oaWRlTW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhVXNkRnVuZCA9IG5ldyBBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhVXNkRnVuZC5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGxldCByZXF1ZXN0RmFrZUFVU0QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVxdWVzdEZha2VBVVNEJyk7XHJcbiAgICAgICAgcmVxdWVzdEZha2VBVVNEPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdEZha2VBVVNEIS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZnVuZGluZ1NlcnZpY2UgPSBuZXcgRnVuZGluZ1NlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZ1bmRpbmdTZXJ2aWNlLnJlcXVlc3RGYWtlRnVuZGluZygpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JXaGlsZUZ1bmRpbmcoe30pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MnLCByZXN1bHQuc3VjY2Vzcyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuZGluZ0Vycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmRpbmdFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RGYWtlQVVTRCEucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5kaW5nRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuZGluZ0Vycm9yLmlubmVySFRNTCA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5kaW5nRXJyb3IhLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAgKiAxMDAwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmVmb3JlRnVuZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZWZvcmVGdW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWZ0ZXJGdW5kaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FmdGVyRnVuZGluZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiZWZvcmVGdW5kaW5nIHx8ICFhZnRlckZ1bmRpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRBVVNEQmFsYW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlRnVuZGluZy5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgIGFmdGVyRnVuZGluZy5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JXaGlsZUZ1bmRpbmcocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jYWxsYmFjaygpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQVVTREJhbGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRBVVNEQmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50QVVTREJhbGFuY2UnKVxyXG4gICAgICAgIGlmICghY3VycmVudEFVU0RCYWxhbmNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBhVVNEU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdXNlclNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG5cclxuICAgICAgICBsZXQgYW1vdW50ID0gbmV3IEJpZ051bWJlcigwKTtcclxuICAgICAgICBpZiAoZXRoQWRkcmVzcykge1xyXG4gICAgICAgICAgICBhbW91bnQgPSBhd2FpdCBhVVNEU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKGV0aEFkZHJlc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50QVVTREJhbGFuY2UuaW5uZXJIVE1MID0gJyQnICsgcm91bmRCaWdOdW1iZXIoYW1vdW50KS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QmFsYW5jZS5lcSgtMSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmFsYW5jZSA9IGFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRCYWxhbmNlLmVxKGFtb3VudCkpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRBVVNEQmFsYW5jZSgpO1xyXG4gICAgICAgICAgICB9LCA1ICogMTAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dDb3B5RmllbGQoKSB7XHJcblxyXG4gICAgICAgIGxldCBuZWVkVG9Db3B5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRUb0NvcHknKTtcclxuICAgICAgICBpZiAoIW5lZWRUb0NvcHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgbmVlZFRvQ29weS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVycm9yV2hpbGVGdW5kaW5nKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgbGV0IGJlZm9yZUZ1bmRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVmb3JlRnVuZGluZycpO1xyXG4gICAgICAgIGxldCBlcnJvckFmdGVyRnVuZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvckFmdGVyVHJ5RnVuZGluZycpO1xyXG4gICAgICAgIGlmICghYmVmb3JlRnVuZGluZyB8fCAhZXJyb3JBZnRlckZ1bmRpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGVycm9yQWZ0ZXJGdW5kaW5nLmlubmVySFRNTCA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiZWZvcmVGdW5kaW5nLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGVycm9yQWZ0ZXJGdW5kaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGlkPVxcXCJ3aXRoZHJhd0lucHV0XFxcIj5cXHJcXG5cXHJcXG4gICAge3sjaWYgYmFuay5iYW5rX2NvZGVfdHlwZX19XFxyXFxuICAgIFlvdXIgbW9uZXkgd2lsbCBiZSBzZW50IHRvIHt7YmFuay5uYW1lfX0gdG8gYWNjb3VudCBudW1iZXIge3tiYW5rLmFjY291bnRfbnVtYmVyfX0uXFxyXFxuICAgIDxici8+PGJyLz5cXHJcXG4gICAgT3V0Z29pbmcgSW50ZXJuYXRpb25hbCBXaXJlIFRyYW5zZmVycyBjb3N0IGlzICR7e3RyYW5zZmVyQ29zdH19Ljxici8+XFxyXFxuICAgIEZlZXMgd2lsbCBiZSBkZWR1Y3RlZCBmcm9tIHRoZSBhbW91bnQuXFxyXFxuICAgIHt7L2lmfX1cXHJcXG4gICAge3sjdW5sZXNzIGJhbmsuYmFua19jb2RlX3R5cGV9fVxcclxcbiAgICBZb3VyIG1vbmV5IHdpbGwgYmUgc2VudCB0byBhY2NvdW50IG51bWJlciB7e2JhbmsuYmFua19hY2NvdW50X251bWJlcn19LlxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuICAgIEFDSCB0cmFuc2ZlciBjb3N0cyBpcyAke3t0cmFuc2ZlckNvc3R9fS4gRmVlcyB3aWxsIGJlIGRlZHVjdGVkIGZyb20gdGhlIGFtb3VudC5cXHJcXG4gICAge3svdW5sZXNzfX1cXHJcXG4gICAgPGZvcm0gaWQ9XFxcIndpdGhkcmF3Rm9ybVxcXCI+XFxyXFxuICAgICAgICA8bGFiZWw+QW1vdW50IHRvIHdpdGhkcmF3XFxyXFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRlbFxcXCIgbmFtZT1cXFwiYW1vdW50XFxcIiBpZD1cXFwiYW1vdW50XFxcIi8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiIGlkPVxcXCJ3aXRoZHJhd0Ftb3VudEVycm9yXFxcIj5UaGUgYW1vdW50IGlzIGxvd2VyIHRoYW4gdGhlIGNvc3Qgb2YgdHJhbnNmZXI8L2Rpdj5cXHJcXG4gICAgICAgIDxidXR0b24gaWQ9XFxcImNvbmZpcm1XaXRoZHJhd1xcXCI+Q29uZmlybSB3aXRoZHJhdzwvYnV0dG9uPlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuICAgIHt7e1RyYW5zZmVyc319fVxcclxcbjwvZmllbGRzZXQ+XFxyXFxuXFxyXFxuPGZpZWxkc2V0IGlkPVxcXCJ3aXRoZHJhd0NvbmZpcm1cXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcclxcbiAgICBZb3UgYXJlIGFib3V0IHRvIHdpdGhkcmF3ICQ8c3BhbiBpZD1cXFwid2l0aGRyYXdBbW91bnRUZXh0XFxcIj48L3NwYW4+IGZyb20geW91ciBhY2NvdW50XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcIndhcm5pbmdCYXJcXFwiPlxcclxcbiAgICAgICAgV2FybmluZzogVGhlIGZlZSBvZiB0aGlzIHRyYW5zYWN0aW9uIHdpbGwgYmUgJDxzcGFuIGlkPVxcXCJmZWVXYXJuaW5nXFxcIj48L3NwYW4+XFxyXFxuICAgICAgICBhbmQgaXMgPHNwYW4gaWQ9XFxcImZlZVBlcmNlbnRhZ2VcXFwiPjwvc3Bhbj4lIG9mIHRoZSBhbW91bnQuXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcIndpdGhkcmF3RXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICA8YnV0dG9uIGlkPVxcXCJjb25maXJtV2l0aGRyYXdCdXR0b25cXFwiPkV4ZWN1dGUgdHJhbnNmZXI8L2J1dHRvbj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgV2l0aGRyYXdNb2RhbEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9GdW5kaW5nL1dpdGhkcmF3TW9kYWwuaHRtbCdcclxuaW1wb3J0IE1vcmFsaXMgZnJvbSBcIm1vcmFsaXNcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9Nb2RhbFwiO1xyXG5pbXBvcnQgQVVTRFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vQVVTRFNlcnZpY2VcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7QmFua1JlbGF0aW9uc2hpcH0gZnJvbSBcIi4uLy4uLy4uL2R0by9hbHBhY2EvQmFua1JlbGF0aW9uc2hpcFwiO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL1N0cmluZ0hlbHBlclwiO1xyXG5pbXBvcnQge2lzSlNPTiwgcm91bmROdW1iZXJ9IGZyb20gXCIuLi8uLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgVHJhbnNmZXJzTGlzdCBmcm9tIFwiLi9UcmFuc2ZlcnNMaXN0XCI7XHJcbmltcG9ydCB7VHJhbnNmZXJEaXJlY3Rpb25FbnVtfSBmcm9tIFwiLi4vLi4vLi4vZW51bXMvVHJhbnNmZXJEaXJlY3Rpb25FbnVtXCI7XHJcbmltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2l0aGRyYXdNb2RhbCB7XHJcblxyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuICAgIHByaXZhdGUgYmFua0luZm8/OiBCYW5rUmVsYXRpb25zaGlwO1xyXG4gICAgcHJpdmF0ZSB3aXJlVHJhbnNmZXJDb3N0ID0gNTA7XHJcbiAgICBwcml2YXRlIGFjaFRyYW5zZmVyQ29zdCA9IDI1O1xyXG4gICAgcHJpdmF0ZSB0cmFuc2ZlckNvc3Q6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY3VycmVudEJhbGFuY2U/OiBCaWdOdW1iZXI7XHJcbiAgICBwcml2YXRlIHRyYW5zZmVyc0xpc3Q6IFRyYW5zZmVyc0xpc3Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICB0aGlzLnRyYW5zZmVyQ29zdCA9IHRoaXMud2lyZVRyYW5zZmVyQ29zdDtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2ZlcnNMaXN0ID0gbmV3IFRyYW5zZmVyc0xpc3QodGhpcy5tb3JhbGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93KCkge1xyXG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIGxldCBiYW5rUmVsYXRpb25zaGlwcyA9IGF3YWl0IHRoaXMudXNlclNlcnZpY2UuZ2V0QmFua1JlbGF0aW9uc2hpcCgpO1xyXG4gICAgICAgIGlmICghYmFua1JlbGF0aW9uc2hpcHMpIHtcclxuICAgICAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdXaXRoZHJhdyBpbmZvcm1hdGlvbicsIFwiWW91IGhhdmVuJ3Qgc2V0dXAgYmFuayBjb25uZWN0aW9uLiBZb3UgY2Fubm90IHdpdGhkcmF3IGZyb20gd2l0aG91dCBiYW5rIGNvbm5lY3Rpb25cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0cmFuc2ZlcnNIdG1sID0gYXdhaXQgdGhpcy50cmFuc2ZlcnNMaXN0LnJlbmRlcihUcmFuc2ZlckRpcmVjdGlvbkVudW0uT3V0Z29pbmcpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdGhpcy51c2VyU2VydmljZS5nZXRFdGhBZGRyZXNzKCk7XHJcblxyXG4gICAgICAgIGxldCBhdXNkU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEJhbGFuY2UgPSBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgIGlmIChldGhBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJhbGFuY2UgPSBhd2FpdCBhdXNkU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKGV0aEFkZHJlc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEJhbGFuY2UuZXEoMCkpIHtcclxuICAgICAgICAgICAgbGV0IHRtcCA9IEhhbmRsZWJhcnMuY29tcGlsZShcIllvdXIgY3VycmVudCBiYWxhbmNlIGlzICQwLiBUaGVyZSBpcyBub3RoaW5nIHRvIHdpdGhkcmF3LiB7e3t0cmFuc2ZlcnN9fX1cIik7XHJcbiAgICAgICAgICAgIG1vZGFsLnNob3dNb2RhbCgnV2l0aGRyYXcgaW5mb3JtYXRpb24nLCB0bXAoe3RyYW5zZmVyczogdHJhbnNmZXJzSHRtbH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgd2l0aGRyYXdUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShXaXRoZHJhd01vZGFsSHRtbCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFua0luZm8gPSBiYW5rUmVsYXRpb25zaGlwcztcclxuICAgICAgICB0aGlzLnRyYW5zZmVyQ29zdCA9ICh0aGlzLmJhbmtJbmZvLmJhbmtfY29kZV90eXBlKSA/IHRoaXMud2lyZVRyYW5zZmVyQ29zdCA6IHRoaXMuYWNoVHJhbnNmZXJDb3N0O1xyXG5cclxuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFtb3VudDogdGhpcy5jdXJyZW50QmFsYW5jZSxcclxuICAgICAgICAgICAgdHJhbnNmZXJDb3N0OiB0aGlzLnRyYW5zZmVyQ29zdCxcclxuICAgICAgICAgICAgVHJhbnNmZXJzOiB0cmFuc2ZlcnNIdG1sLFxyXG4gICAgICAgICAgICBiYW5rOiB0aGlzLmJhbmtJbmZvIVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1vZGFsLnNob3dNb2RhbCgnV2l0aGRyYXcgaW5mb3JtYXRpb24nLCB3aXRoZHJhd1RlbXBsYXRlKG9iaikpO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB0aGlzLnRyYW5zZmVyc0xpc3QuYmluZEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBsZXQgY29uZmlybVdpdGhkcmF3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1XaXRoZHJhdycpO1xyXG4gICAgICAgIGNvbmZpcm1XaXRoZHJhdz8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFua0luZm8pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW1vdW50JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KGFtb3VudC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGFtb3VudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VGbG9hdChhbW91bnQudmFsdWUpIDw9IHRoaXMudHJhbnNmZXJDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2l0aGRyYXdBbW91bnRFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXRoZHJhd0Ftb3VudEVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB3aXRoZHJhd0Ftb3VudEVycm9yIS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGFtb3VudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYW1vdW50LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1dpdGhkcmF3Q29uZmlybWF0aW9uKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dXaXRoZHJhd0NvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYmFua0luZm8pIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbW91bnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgICAgICBsZXQgd2l0aGRyYXdJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXRoZHJhd0lucHV0Jyk7XHJcbiAgICAgICAgd2l0aGRyYXdJbnB1dD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgIGxldCB3aXRoZHJhd0NvbmZpcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l0aGRyYXdDb25maXJtJyk7XHJcbiAgICAgICAgd2l0aGRyYXdDb25maXJtPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG5cclxuICAgICAgICBsZXQgd2l0aGRyYXdBbW91bnRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpdGhkcmF3QW1vdW50VGV4dCcpO1xyXG4gICAgICAgIGxldCBmZWVXYXJuaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZVdhcm5pbmcnKTtcclxuICAgICAgICBsZXQgZmVlUGVyY2VudGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVQZXJjZW50YWdlJyk7XHJcblxyXG4gICAgICAgIHdpdGhkcmF3QW1vdW50VGV4dCEuaW5uZXJUZXh0ID0gYW1vdW50LnZhbHVlO1xyXG4gICAgICAgIGZlZVdhcm5pbmchLmlubmVyVGV4dCA9IHRoaXMudHJhbnNmZXJDb3N0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZmVlUGVyY2VudGFnZSEuaW5uZXJUZXh0ID0gcm91bmROdW1iZXIoKHRoaXMudHJhbnNmZXJDb3N0IC8gcGFyc2VGbG9hdChhbW91bnQudmFsdWUpKSAqIDEwMCkudG9TdHJpbmcoKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBjb25maXJtV2l0aGRyYXdCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybVdpdGhkcmF3QnV0dG9uJyk7XHJcbiAgICAgICAgY29uZmlybVdpdGhkcmF3QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVzZXJTZXJ2aWNlLmNyZWF0ZVRyYW5zZmVyKGFtb3VudC52YWx1ZSwgVHJhbnNmZXJEaXJlY3Rpb25FbnVtLk91dGdvaW5nKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2l0aGRyYXdDb25maXJtIS5pbm5lckhUTUwgPSBhd2FpdCB0aGlzLnRyYW5zZmVyc0xpc3QucmVuZGVyKFRyYW5zZmVyRGlyZWN0aW9uRW51bS5PdXRnb2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2ZlcnNMaXN0LmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2l0aGRyYXdFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXRoZHJhd0Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aXRoZHJhd0Vycm9yKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aXRoZHJhd0Vycm9yICYmIGlzSlNPTihyZWFzb24ubWVzc2FnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yID0gSlNPTi5wYXJzZShyZWFzb24ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhkcmF3RXJyb3IuaW5uZXJUZXh0ID0gZXJyb3Iuc2VydmVyRXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aXRoZHJhd0Vycm9yLmlubmVyVGV4dCA9IHJlYXNvbi50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2l0aGRyYXdFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEFVU0RTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlXCI7XHJcbmltcG9ydCB7cm91bmRCaWdOdW1iZXJ9IGZyb20gXCIuLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBGYWtlQVVTREZ1bmQgZnJvbSBcIi4uL21vZGFscy9GdW5kaW5nL0Zha2VBVVNERnVuZFwiO1xyXG5pbXBvcnQgQVVTREZ1bmQgZnJvbSBcIi4uL21vZGFscy9GdW5kaW5nL0FVU0RGdW5kXCI7XHJcbmltcG9ydCBXaXRoZHJhd01vZGFsIGZyb20gXCIuLi9tb2RhbHMvRnVuZGluZy9XaXRoZHJhd01vZGFsXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVVzZEJhbGFuY2Uge1xyXG4gICAgdXNlcjogYW55O1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMsIHVzZXI6IGFueSkge1xyXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGZvcmNlTG9hZEFVU0RCYWxhbmNlVUkoKSB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCB1c2VyID0gdXNlclNlcnZpY2UuZ2V0VXNlcigpO1xyXG4gICAgICAgIGxldCB1aSA9IG5ldyBBVXNkQmFsYW5jZShNb3JhbGlzLCB1c2VyKVxyXG4gICAgICAgIEFVU0RTZXJ2aWNlLmxhc3RVcGRhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgYXdhaXQgdWkubG9hZEFVU0RCYWxhbmNlVUkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZEFVU0RCYWxhbmNlVUkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJJbmZvQVVzZEJhbGFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckluZm9BVXNkQmFsYW5jZScpO1xyXG4gICAgICAgIGxldCBmcm9udHBhZ2VBVXNkQmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcm9udHBhZ2VBVXNkQmFsYW5jZScpO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXJJbmZvQVVzZEJhbGFuY2UpICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICghdGhpcy51c2VyLmdldCgnYWxwYWNhSWQnKSkge1xyXG4gICAgICAgICAgICBmcm9udHBhZ2VBVXNkQmFsYW5jZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvQVVzZEJhbGFuY2U/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZnJvbnRwYWdlQVVzZEJhbGFuY2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICB1c2VySW5mb0FVc2RCYWxhbmNlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhVVNEU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBhVXNkVmFsdWVXZWkgPSBhd2FpdCBhVVNEU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMudXNlci5nZXQoJ2V0aEFkZHJlc3MnKSk7XHJcbiAgICAgICAgbGV0IGFVc2RWYWx1ZSA9IHJvdW5kQmlnTnVtYmVyKGFVc2RWYWx1ZVdlaSk7XHJcblxyXG4gICAgICAgIGxldCBmcm9udHBhZ2VBVVNEQmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcm9udF9wYWdlX2FVU0RfYmFsYW5jZScpO1xyXG4gICAgICAgIGlmIChmcm9udHBhZ2VBVVNEQmFsYW5jZSkgZnJvbnRwYWdlQVVTREJhbGFuY2UuaW5uZXJIVE1MID0gJyQnICsgYVVzZFZhbHVlO1xyXG5cclxuICAgICAgICBsZXQgdXNlcl9pbmZvX2F1c2RfYmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX2luZm9fYXVzZF9iYWxhbmNlJylcclxuICAgICAgICBpZiAodXNlcl9pbmZvX2F1c2RfYmFsYW5jZSkgdXNlcl9pbmZvX2F1c2RfYmFsYW5jZS5pbm5lckhUTUwgPSAnJCcgKyBhVXNkVmFsdWU7XHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIGxldCBiYWxhbmNlX3ZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbGFuY2VfdmFsdWUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoYmFsYW5jZV92YWx1ZSkge1xyXG4gICAgICAgICAgICBiYWxhbmNlX3ZhbHVlLmlubmVySFRNTCA9ICckJyArIGFVc2RWYWx1ZTtcclxuICAgICAgICAgICAgYmFsYW5jZV92YWx1ZS50aXRsZSA9IGFVc2RWYWx1ZVdlaS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBiYWxhbmNlX3ZhbHVlLmRhdGFzZXRbJ3Rvb2x0aXAnXSA9IGFVc2RWYWx1ZVdlaS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFVc2RWYWx1ZS5pc0xlc3NUaGFuKDEwKSkge1xyXG4gICAgICAgICAgICBsZXQgZnJvbnRwYWdlX2Z1bmRfYWNjb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcm9udHBhZ2VfZnVuZF9hY2NvdW50Jyk7XHJcbiAgICAgICAgICAgIGZyb250cGFnZV9mdW5kX2FjY291bnQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBsZXQgZnVuZF9hY2NvdW50QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mdW5kX2FjY291bnQnKTtcclxuICAgICAgICBmdW5kX2FjY291bnRCdXR0b25zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhVVNERnVuZGluZ01vZGFsID0gbmV3IEZha2VBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJ0NsaWNrIGZvciBzb21lIGFVU0QnO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhVVNERnVuZGluZ01vZGFsLnNob3dBVVNERmFrZUZ1bmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhVXNkRnVuZCA9IG5ldyBBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFVc2RGdW5kLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgd2l0aGRyYXdfZnJvbV9hY2NvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpdGhkcmF3X2Zyb21fYWNjb3VudCcpO1xyXG4gICAgICAgIHdpdGhkcmF3X2Zyb21fYWNjb3VudD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdpdGhkcmF3TW9kYWwgPSBuZXcgV2l0aGRyYXdNb2RhbCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCB3aXRoZHJhd01vZGFsLnNob3coKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IE1vcmFsaXMgZnJvbSBcIk1vcmFsaXNcIjtcclxuaW1wb3J0IFVzZXJJbmZvRWxlbWVudCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL1VzZXJJbmZvLmh0bWwnXHJcbmltcG9ydCB7c2hvcnRFdGh9IGZyb20gXCIuLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IEt5Y0VkaXROYW1lRm9ybSBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0TmFtZUZvcm1cIjtcclxuaW1wb3J0IEt5Y0VkaXRDb250YWN0Rm9ybSBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0Q29udGFjdEZvcm1cIjtcclxuaW1wb3J0IEt5Y0VkaXRUcnVzdGVkQ29udGFjdCBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0VHJ1c3RlZENvbnRhY3RcIjtcclxuaW1wb3J0IEFVc2RCYWxhbmNlIGZyb20gXCIuL0FVc2RCYWxhbmNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICB1c2VyPzogTW9yYWxpcy5BdHRyaWJ1dGVzO1xyXG4gICAgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlO1xyXG4gICAgcHJvdmlkZXJJbmZvOiBQcm92aWRlckluZm87XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzLCBwcm92aWRlckluZm86IFByb3ZpZGVySW5mbywgdXNlcj86IE1vcmFsaXMuQXR0cmlidXRlcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcclxuICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlckluZm8gPSBwcm92aWRlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJlbmRlcihlbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VyKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuRm9yV2FsbGV0Q2hhbmdlcygpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRVc2VyTWVudVVJKGVsZW1lbnRJZCk7XHJcblxyXG4gICAgICAgIGxldCBhVXNkQmFsYW5jZSA9IG5ldyBBVXNkQmFsYW5jZSh0aGlzLm1vcmFsaXMsIHRoaXMudXNlcik7XHJcbiAgICAgICAgYXdhaXQgYVVzZEJhbGFuY2UubG9hZEFVU0RCYWxhbmNlVUkoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaXN0ZW5Gb3JXYWxsZXRDaGFuZ2VzKCkge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcy5vbkNoYWluQ2hhbmdlZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW9yYWxpcy5vbkFjY291bnRDaGFuZ2VkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzLm9uRGlzY29ubmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW9yYWxpcy5vbkNvbm5lY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkVXNlck1lbnVVSShlbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB1c2VySW5mb0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XHJcbiAgICAgICAgaWYgKCF1c2VySW5mb0RpdikgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgZXRoQWRkcmVzczogdGhpcy51c2VyLmdldCgnZXRoQWRkcmVzcycpLFxyXG4gICAgICAgICAgICBzaG9ydEV0aEFkZHJlc3M6IHNob3J0RXRoKHRoaXMudXNlci5nZXQoJ2V0aEFkZHJlc3MnKSksXHJcbiAgICAgICAgICAgIHdhbGxldE5hbWU6IHRoaXMucHJvdmlkZXJJbmZvLldhbGxldE5hbWUsXHJcbiAgICAgICAgICAgIG5ldHdvcmtOYW1lOiBuZXR3b3JrSW5mby5DaGFpbk5hbWUgKyAoKG5ldHdvcmtJbmZvLlRlc3ROZXR3b3JrKSA/ICcgLSAoVGVzdCBuZXR3b3JrKScgOiAnJyksXHJcbiAgICAgICAgICAgIGJsb2NrY2hhaW5FeHBsb3JlcjogbmV0d29ya0luZm8uQmxvY2tFeHBsb3JlciArICcvYWRkcmVzcy8nLFxyXG4gICAgICAgICAgICBwcm92aWRlcjogJydcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShVc2VySW5mb0VsZW1lbnQpO1xyXG4gICAgICAgIGxldCBodG1sID0gdGVtcGxhdGUob2JqKTtcclxuXHJcbiAgICAgICAgdXNlckluZm9EaXYuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJJbmZvQWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJJbmZvQWN0aW9uJyk7XHJcbiAgICAgICAgdXNlckluZm9BY3Rpb24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXJJbmZvRHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckluZm9Ecm9wZG93bicpO1xyXG4gICAgICAgICAgICBpZiAoIXVzZXJJbmZvRHJvcGRvd24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHVzZXJJbmZvRHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBkaXNjb25uZWN0RnJvbU5ldHdvcmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY29ubmVjdEZyb21OZXR3b3JrJyk7XHJcbiAgICAgICAgZGlzY29ubmVjdEZyb21OZXR3b3JrPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vcmFsaXMuVXNlci5sb2dPdXQoKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmRVc2VyQWN0aW9uRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kVXNlckFjdGlvbkV2ZW50cygpIHtcclxuICAgICAgICBsZXQgZWRpdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE5hbWUnKTtcclxuICAgICAgICBlZGl0TmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGt5Y01vZGFsID0gbmV3IEt5Y0VkaXROYW1lRm9ybSgpO1xyXG4gICAgICAgICAgICBhd2FpdCBreWNNb2RhbC5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IGVkaXRDb250YWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250YWN0Jyk7XHJcbiAgICAgICAgZWRpdENvbnRhY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGt5Y01vZGFsID0gbmV3IEt5Y0VkaXRDb250YWN0Rm9ybSgpO1xyXG4gICAgICAgICAgICBhd2FpdCBreWNNb2RhbC5zaG93KCk7XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBlZGl0VHJ1c3RlZENvbnRhY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFRydXN0ZWRDb250YWN0Jyk7XHJcbiAgICAgICAgZWRpdFRydXN0ZWRDb250YWN0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCBreWNNb2RhbCA9IG5ldyBLeWNFZGl0VHJ1c3RlZENvbnRhY3QoKTtcclxuICAgICAgICAgICAgYXdhaXQga3ljTW9kYWwuc2hvdygpO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGJ1dHRvbiBjbGFzcz1cXFwibGltaW5hbF9tYXJrZXRfY29ubmVjdF93YWxsZXQgb3V0bGluZVxcXCI+Q29ubmVjdCB3YWxsZXQ8L2J1dHRvbj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiXFxyXFxuPGFydGljbGUgaWQ9XFxcInRvc19wcF9jb29raWVfcGFuZWxcXFwiPlxcclxcbiAgICA8cD5cXHJcXG4gICAgICAgIEJ5IGNvbm5lY3RpbmcgYSB3YWxsZXQsIEkgYWdyZWUgdG8gbGltaW5hbC5tYXJrZXQgVGVybXMgb2YgVXNlLCBDb29raWVzIFBvbGljeSBhbmQgUHJpdmFjeSBQb2xpY3kuXFxyXFxuICAgIDwvcD5cXHJcXG4gICAgPHVsPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICA8bGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImFsbFxcXCIgdmFsdWU9XFxcIjFcXFwiPlxcclxcblxcclxcbiAgICAgICAgSSBhY2NlcHQgYWxsXFxyXFxuXFxyXFxuICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICA8bGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcInRvc1xcXCIgdmFsdWU9XFxcIjFcXFwiPlxcclxcbiAgICAgICAgPHNwYW4+XFxyXFxuICAgICAgICBJIGFjY2VwdCA8YSBocmVmPVxcXCJodHRwczovL3d3dy5saW1pbmFsLm1hcmtldC90ZXJtcy1vZi1zZXJ2aWNlXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+VGVybXMgb2Ygc2VydmljZTwvYT5cXHJcXG4gICAgICAgIDxzbWFsbD5UaGluZ3MgdG8gbm90ZS4gWW91IGFyZSB0YWtpbmcgYSByaXNrIGJ5IGJ1eWluZyBzdG9ja3MuIFlvdSB3aWxsIGJlIGFza2VkIHRvIGRvIEtZQy9BTUwuIFlvdSBhcmUgcmVzcG9uc2libGUgZm9yIGFueSB0cmFuc2FjdGlvbiB5b3UgbWFrZS48L3NtYWxsPlxcclxcbiAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9sYWJlbD48L2xpPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICA8bGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcInBwXFxcIiB2YWx1ZT1cXFwiMVxcXCI+XFxyXFxuICAgICAgICA8c3Bhbj5cXHJcXG4gICAgICAgIEkgYWNjZXB0IHRoZSA8YSBocmVmPVxcXCJodHRwczovL3d3dy5saW1pbmFsLm1hcmtldC9wcml2YWN5LXBvbGljeVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlByaXZhY3kgUG9saWN5PC9hPlxcclxcbiAgICAgICAgPHNtYWxsPkxpbWluYWwubWFya2V0IGRvZXNuJ3Qgc3RvcmUgYW55IHBlcnNvbmFsIGRhdGEuIEFueSBLWUMgaW5mbyBpcyBzdG9yZWQgd2l0aCB0aGUgYnJva2VyLiBJZiB5b3UgcmVnaXN0ZXIgb24gb3VyIG1haWxpbmcgbGlzdCwgdGhhdCB3aWxsIGJlIHRoZSBvbmx5IHBlcnNvbmFsIGluZm8gd2Ugc3RvcmUuPC9zbWFsbD5cXHJcXG4gICAgICA8L3NwYW4+XFxyXFxuICAgIDwvbGFiZWw+PC9saT5cXHJcXG4gICAgICAgIDxsaT5cXHJcXG4gICAgPGxhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjb29raWVcXFwiIHZhbHVlPVxcXCIxXFxcIj5cXHJcXG4gICAgICAgIDxzcGFuPlxcclxcbiAgICAgICAgSSBhY2NlcHQgPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cubGltaW5hbC5tYXJrZXQvY29va2llLXBvbGljeVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPkNvb2tpZSBwb2xpY3k8L2E+XFxyXFxuICAgICAgICA8c21hbGw+V2UgdXNlIHNvbWUgY29va2llcyAmIHNlcnZpY2VzIHRvIGltcHJvdmUgb3VyIHNlcnZpY2UuIFlvdSBkb24ndCBoYXZlIHRvIGFjY2VwdCBidXQgd2Ugd2lsbCB0aGVuIGp1c3Qgc3RvcmUgZXNzZW50aWFsIGNvb2tpZXMuPC9zbWFsbD5cXHJcXG4gICAgICA8L3NwYW4+XFxyXFxuICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8L2xpPlxcclxcbiAgICA8L3VsPlxcclxcbjwvYXJ0aWNsZT5cXHJcXG5cXHJcXG48ZGl2IGNsYXNzPVxcXCJkLW5vbmVcXFwiIGlkPVxcXCJ3YWxsZXRfY29ubmVjdG9yX3BhbmVsXFxcIj5cXHJcXG4gICAgPGFydGljbGUgY2xhc3M9XFxcInByb3ZpZGVyXFxcIiBpZD1cXFwiY29ubmVjdF93YWxsZXRfd2FsbGV0Q29ubmVjdFxcXCIgZGF0YS1wcm92aWRlcj1cXFwid2FsbGV0Q29ubmVjdFxcXCI+XFxyXFxuXFxyXFxuICAgICAgICA8aDM+Q29ubmVjdCB1c2luZyBXYWxsZXRDb25uZWN0PC9oMz5cXHJcXG4gICAgICAgIDxwPlxcclxcbiAgICAgICAgICAgIFBvcHVsYXIgb3B0aW9uIHRvIGNvbm5lY3QgeW91ciBtb2JpbGUgd2FsbGV0LlxcclxcbiAgICAgICAgICAgIEZvciBtb2JpbGUgd2UgbGlrZSA8YSBocmVmPVxcXCJodHRwczovL3d3dy50b2tlbnBvY2tldC5wcm8vXFxcIiB0YXJnZXQ9XFxcIl9ibGFuayBvbmNsaWNrPSdldmVudC5zdG9wUHJvZ2F0aW9uKCk7J1xcXCI+VG9rZW5cXHJcXG4gICAgICAgICAgICBQb2tldDwvYT5cXHJcXG4gICAgICAgICAgICBhcyBpcyBzdXBwb3J0IHRlc3QgbmV0d29yazwvcD5cXHJcXG5cXHJcXG4gICAgPC9hcnRpY2xlPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJkLW5vbmVcXFwiIGlkPVxcXCJ3YWxsZXRDb25uZWN0Q29ubmVjdGlvbkluZm9cXFwiPjwvZGl2PlxcclxcbiAgICA8IS0tXFxyXFxuICAgIDxhcnRpY2xlIGNsYXNzPVxcXCJwcm92aWRlclxcXCIgaWQ9XFxcImNvbm5lY3Rfd2FsbGV0X2NvaW5iYXNlV2FsbGV0XFxcIiBkYXRhLXByb3ZpZGVyPVxcXCJjb2luYmFzZVxcXCI+XFxyXFxuXFxyXFxuICAgICAgICA8aDM+Q29pbmJhc2Ugd2FsbGV0PC9oMz5cXHJcXG4gICAgICAgIDxwPkNvbm5lY3QgdXNpbmcgeW91ciBDb2luYmFzZSBhcHA8L3A+XFxyXFxuXFxyXFxuICAgIDwvYXJ0aWNsZT5cXHJcXG4gICAgLS0+XFxyXFxuICAgIDxhcnRpY2xlIGlkPVxcXCJjb25uZWN0X3dhbGxldF9tZXRhbWFza1xcXCIgY2xhc3M9XFxcInByb3ZpZGVyXFxcIiBkYXRhLXByb3ZpZGVyPVxcXCJtZXRhbWFza1xcXCI+XFxyXFxuXFxyXFxuICAgICAgICA8aDM+TWV0YW1hc2s8L2gzPlxcclxcbiAgICAgICAgPHA+Q29ubmVjdCB1c2luZyB5b3VyIE1ldGFtYXNrPC9wPlxcclxcblxcclxcbiAgICA8L2FydGljbGU+XFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vZWxlbWVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IEF1dGhlbnRpY2F0ZVNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvQXV0aGVudGljYXRlU2VydmljZVwiO1xyXG5pbXBvcnQgd2FsbGV0QnV0dG9uIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvQ29ubmVjdFdhbGxldEJ1dHRvbi5odG1sJztcclxuaW1wb3J0IHNlbGVjdFdhbGxldFByb3ZpZGVyIGZyb20gJy4uLy4uL2h0bWwvbW9kYWwvU2VsZWN0V2FsbGV0UHJvdmlkZXIuaHRtbCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCB7c2hvcnRFdGh9IGZyb20gXCIuLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgQ29va2llSGVscGVyIGZyb20gXCIuLi8uLi91dGlsL0Nvb2tpZUhlbHBlclwiO1xyXG5pbXBvcnQgUHJvdmlkZXJJbmZvIGZyb20gXCIuLi8uLi93YWxsZXQvUHJvdmlkZXJJbmZvXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IFRyYWRlUGFnZSBmcm9tIFwiLi4vcGFnZXMvVHJhZGVQYWdlXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbm5lY3RXYWxsZXQge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBwdWJsaWMgc3RhdGljIFByb3ZpZGVyOiBzdHJpbmc7XHJcbiAgICBtb2RhbCA6IE1vZGFsO1xyXG4gICAgcHJvdmlkZXJJbmZvIDogUHJvdmlkZXJJbmZvO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJJbmZvID0gbmV3IFByb3ZpZGVySW5mbyhudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyQnV0dG9uKGVsZW1lbnRJZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpKSByZXR1cm47XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkhLmlubmVySFRNTCA9IHdhbGxldEJ1dHRvbjtcclxuXHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5saW1pbmFsX21hcmtldF9jb25uZWN0X3dhbGxldFwiKTtcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNob29zZVdhbGxldFByb3ZpZGVyKCkpO1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2hvb3NlV2FsbGV0UHJvdmlkZXIoKSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hvb3NlV2FsbGV0UHJvdmlkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0Nvbm5lY3QgdG8gYSB3YWxsZXQnLCBzZWxlY3RXYWxsZXRQcm92aWRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBDaGVja2JveGVzKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cFByb3ZpZGVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBDaGVja2JveGVzKCkge1xyXG4gICAgICAgIGxldCBjaGVja2JveGVzOiBhbnkgPSB7YWxsOmZhbHNlLCB0b3M6IGZhbHNlLCBwcDogZmFsc2UsIGNvb2tpZTogZmFsc2V9O1xyXG5cclxuICAgICAgICBsZXQgY29va2llSGVscGVyID0gbmV3IENvb2tpZUhlbHBlcihkb2N1bWVudCk7XHJcbiAgICAgICAgbGV0IHRvc0NvbmZpcm1lZCA9IGNvb2tpZUhlbHBlci5nZXRDb29raWVWYWx1ZSgndG9zJyk7XHJcbiAgICAgICAgaWYgKHRvc0NvbmZpcm1lZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMgPSB7dG9zOiB0cnVlLCBwcDogdHJ1ZX1cclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlUHJvdmlkZXJzKGNoZWNrYm94ZXMpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rvc19wcF9jb29raWVfcGFuZWwnKSEuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN0b3NfcHBfY29va2llX3BhbmVsIGlucHV0Jyk7XHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY2hlY2tib3ggPSBpbnB1dCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGNoZWNrYm94LmdldEF0dHJpYnV0ZSgnbmFtZScpITtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09ICdhbGwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlVG9TZXQgPSBjaGVja2JveC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0cy5mb3JFYWNoKHRtcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdGhlcklucHV0ID0gdG1wIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXNbb3RoZXJJbnB1dC5uYW1lXSA9IHZhbHVlVG9TZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVySW5wdXQuY2hlY2tlZCA9IHZhbHVlVG9TZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXNbbmFtZV0gPSBjaGVja2JveC5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlUHJvdmlkZXJzKGNoZWNrYm94ZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cFByb3ZpZGVycygpIHtcclxuICAgICAgICBsZXQgYW5jaG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN3YWxsZXRfY29ubmVjdG9yX3BhbmVsIC5wcm92aWRlcicpO1xyXG4gICAgICAgIGFuY2hvcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwcm92aWRlciA9IChldnQuY3VycmVudFRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudCkuZGF0YXNldC5wcm92aWRlciE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RXYWxsZXQocHJvdmlkZXIpXHJcbiAgICAgICAgICAgIH0sIHtjYXB0dXJlOnRydWV9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b2dnbGVQcm92aWRlcnMoY2hlY2tib3hlczogYW55KSB7XHJcbiAgICAgICAgbGV0IGNvb2tpZUhlbHBlciA9IG5ldyBDb29raWVIZWxwZXIoZG9jdW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAoY2hlY2tib3hlcy50b3MgJiYgY2hlY2tib3hlcy5wcCkge1xyXG4gICAgICAgICAgICBjb29raWVIZWxwZXIuc2V0Q29va2llKCd0b3MnLCBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGlmICh3YWxsZXRIZWxwZXIuaXNXZWJ2aWV3KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdFdhbGxldCgnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FsbGV0X2Nvbm5lY3Rvcl9wYW5lbCcpIS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29va2llSGVscGVyLmRlbGV0ZUNvb2tpZSgndG9zJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWxsZXRfY29ubmVjdG9yX3BhbmVsJykhLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd1Vuc3VwcG9ydGVkTmV0d29ya01lc3NhZ2UoY29ubmVjdGlvbkluZm8gOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGxldCBzdHIgPSAnVGhlIG5ldHdvcmsgeW91IGFyZSBjb25uZWN0aW5nIHRvIGlzIG5vdCBzdXBwb3J0ZWQuJztcclxuICAgICAgICBzdHIgKz0gJ0ZvbGxvd2luZyBuZXR3b3JrcyBhcmUgc3VwcG9ydGVkLiAnXHJcbiAgICAgICAgbGV0IG5ldHdvcmtzID0gTmV0d29ya0luZm8uZ2V0TmV0d29ya3MoKTtcclxuICAgICAgICBmb3IgKGxldCBpPTA7aTxuZXR3b3Jrcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpICE9IDApIHN0ciArPSAnLCAnO1xyXG4gICAgICAgICAgICBzdHIgKz0gbmV0d29ya3NbaV0uTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29ubmVjdGlvbkluZm8uaW5uZXJIVE1MID0gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29ubmVjdFdhbGxldChwcm92aWRlck5hbWUgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgYXV0aGVudGljYXRpb25TZXJ2aWNlID0gbmV3IEF1dGhlbnRpY2F0ZVNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuXHJcbiAgICAgICAgbGV0IGNvb2tpZUhlbHBlciA9IG5ldyBDb29raWVIZWxwZXIoZG9jdW1lbnQpO1xyXG4gICAgICAgIGNvb2tpZUhlbHBlci5zZXRDb29raWVQcm92aWRlcihwcm92aWRlck5hbWUpO1xyXG5cclxuICAgICAgICBhdXRoZW50aWNhdGlvblNlcnZpY2UuYXV0aGVudGljYXRlVXNlcihcclxuICAgICAgICAgICAgcHJvdmlkZXJOYW1lLFxyXG4gICAgICAgICAgICAod2FsbGV0Q29ubmVjdGlvbkluZm8gOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMud2ViM0VuYWJsZWRSZXN1bHQocHJvdmlkZXJOYW1lLCB3YWxsZXRDb25uZWN0aW9uSW5mbyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh0aGlzLm1vcmFsaXMsIHRoaXMucHJvdmlkZXJJbmZvLCB1c2VyKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHVzZXJJbmZvLnJlbmRlcigndXNlcl9oZWFkZXJfaW5mbycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2UgPSBuZXcgVHJhZGVQYWdlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFnZS5sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBFcnJvckluZm8ucmVwb3J0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd2ViM0VuYWJsZWRSZXN1bHQocHJvdmlkZXJOYW1lIDogc3RyaW5nLCB3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueSkge1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJJbmZvID0gbmV3IFByb3ZpZGVySW5mbyh3YWxsZXRDb25uZWN0aW9uSW5mbyk7XHJcblxyXG4gICAgICAgIGxldCBjb25uZWN0aW9uSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb3ZpZGVyTmFtZSArICdDb25uZWN0aW9uSW5mbycpO1xyXG4gICAgICAgIGlmICghY29ubmVjdGlvbkluZm8pIHJldHVybjtcclxuXHJcbiAgICAgICAgY29ubmVjdGlvbkluZm8uY2xhc3NMaXN0LnJlcGxhY2UoJ2FsZXJ0LXdhcm5pbmcnLCAnYWxlcnQtaW5mbycpO1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJJbmZvLkNoYWluSWQgIT0gbmV0d29ya0luZm8uQ2hhaW5JZCkge1xyXG4gICAgICAgICAgICBsZXQgdXNlck5ldHdvcmsgPSBOZXR3b3JrSW5mby5nZXROZXR3b3JrSW5mb0J5Q2hhaW5JZCh0aGlzLnByb3ZpZGVySW5mby5DaGFpbklkKTtcclxuICAgICAgICAgICAgaWYgKCF1c2VyTmV0d29yaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93VW5zdXBwb3J0ZWROZXR3b3JrTWVzc2FnZShjb25uZWN0aW9uSW5mbyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBOZXR3b3JrSW5mby5zZXROZXR3b3JrQnlDaGFpbklkKHRoaXMucHJvdmlkZXJJbmZvLkNoYWluSWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzdHIgPSAnQ29ubmVjdGluZyB0byB5b3Ugd2FsbGV0IFwiJyArIHRoaXMucHJvdmlkZXJJbmZvLldhbGxldE5hbWUgKyAnXCIgdG8gYWRkcmVzcyAnICsgc2hvcnRFdGgodGhpcy5wcm92aWRlckluZm8uVXNlckFkZHJlc3MpO1xyXG4gICAgICAgIHN0ciArPSAnLiBPcGVuICcgKyB0aGlzLnByb3ZpZGVySW5mby5XYWxsZXROYW1lICsgJyBhbmQgPHN0cm9uZz5Db25maXJtPC9zdHJvbmc+IHRoZSBzaWduIGluLic7XHJcbiAgICAgICAgY29ubmVjdGlvbkluZm8uaW5uZXJIVE1MID0gc3RyO1xyXG4gICAgICAgIGNvbm5lY3Rpb25JbmZvLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgQmxvY2tjaGFpbkVycm9yIGZyb20gXCIuLi8uLi9lcnJvcnMvQmxvY2tjaGFpbkVycm9yXCI7XHJcbmltcG9ydCBHZW5lcmFsRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IEt5Y1N0YXR1cyBmcm9tIFwiLi4vLi4vZHRvL0t5Y1N0YXR1c1wiO1xyXG5pbXBvcnQgQVVzZEJhbGFuY2UgZnJvbSBcIi4uLy4uL3VpL2VsZW1lbnRzL0FVc2RCYWxhbmNlXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluU2VydmljZSBmcm9tIFwiLi9CbG9ja2NoYWluU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS1lDU2VydmljZSBleHRlbmRzIEJsb2NrY2hhaW5TZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIEtZQ0luZm86IGFueTtcclxuICAgIHByaXZhdGUgc3RhdGljIEt5Y1Jlc3BvbnNlOiBLeWNTdGF0dXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICBzdXBlcihtb3JhbGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRLWUNBYmkoKSB7XHJcbiAgICAgICAgaWYgKEtZQ1NlcnZpY2UuS1lDSW5mbykgcmV0dXJuIEtZQ1NlcnZpY2UuS1lDSW5mby5hYmk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIuLi9hYmkvS1lDLmpzb25cIik7XHJcbiAgICAgICAgS1lDU2VydmljZS5LWUNJbmZvID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHJldHVybiBLWUNTZXJ2aWNlLktZQ0luZm8uYWJpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaGFzVmFsaWRLWUMoKTogUHJvbWlzZTxLeWNTdGF0dXM+IHtcclxuICAgICAgICBpZiAoS1lDU2VydmljZS5LeWNSZXNwb25zZSAmJiBLWUNTZXJ2aWNlLkt5Y1Jlc3BvbnNlLmlzVmFsaWRLeWMpIHJldHVybiBLWUNTZXJ2aWNlLkt5Y1Jlc3BvbnNlO1xyXG5cclxuICAgICAgICBLWUNTZXJ2aWNlLkt5Y1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignaXNWYWxpZEt5YycsIHtjaGFpbklkOiB0aGlzLm1vcmFsaXMuY2hhaW5JZH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIGlmIChibG9ja2NoYWluRXJyb3IuYWRkcmVzc0lzTm90VmFsaWRLWUMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KSBhcyBLeWNTdGF0dXM7XHJcblxyXG4gICAgICAgIGlmIChLWUNTZXJ2aWNlLkt5Y1Jlc3BvbnNlLmFscGFjYUlkKSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgICAgICAgICB1c2VyPy5zZXQoJ2FscGFjYUlkJywgS1lDU2VydmljZS5LeWNSZXNwb25zZS5hbHBhY2FJZCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYVVzZEJhbGFuY2UgPSBuZXcgQVVzZEJhbGFuY2UodGhpcy5tb3JhbGlzLCB1c2VyISk7XHJcbiAgICAgICAgICAgIGF3YWl0IGFVc2RCYWxhbmNlLmxvYWRBVVNEQmFsYW5jZVVJKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBLWUNTZXJ2aWNlLkt5Y1Jlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzYXZlS1lDSW5mbyhkYXRhOiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGxldCB1c2VyID0gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEdlbmVyYWxFcnJvcihcIllvdSBuZWVkIHRvIGJlIGxvZ2dlZCBpbiB0byBkbyBLWUMuIFBsZWFzZSBsb2dpbiBhZ2Fpbi5cIilcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oXCJreWNSZWdpc3RyYXRpb25cIiwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZUtZQ0luZm8oZGF0YTogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBHZW5lcmFsRXJyb3IoXCJZb3UgbmVlZCB0byBiZSBsb2dnZWQgaW4gdG8gZG8gS1lDLiBQbGVhc2UgbG9naW4gYWdhaW4uXCIpXHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKFwidXBkYXRlQWNjb3VudFwiLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNWYWxpZEFjY291bnRJZChzdHI6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTVdWzAtOWEtZl17M30tWzA4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQnKTtcclxuICAgICAgICByZXR1cm4gcmVnZXgudGVzdChzdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZURvY3VtZW50cyhwYXJhbXM6IGFueSkge1xyXG4gICAgICAgIGxldCB1c2VyID0gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEdlbmVyYWxFcnJvcihcIllvdSBuZWVkIHRvIGJlIGxvZ2dlZCBpbiB0byBkbyBLWUMuIFBsZWFzZSBsb2dpbiBhZ2Fpbi5cIilcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oXCJreWNBY3Rpb25SZXF1aXJlZFVwZGF0ZVwiLCBwYXJhbXMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbnRyYWN0SW5mbyBmcm9tIFwiLi4vLi4vY29udHJhY3RzL0NvbnRyYWN0SW5mb1wiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQge0FkZHJlc3NaZXJvfSBmcm9tIFwiLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IEJsb2NrY2hhaW5TZXJ2aWNlIGZyb20gXCIuL0Jsb2NrY2hhaW5TZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN1cml0eVRva2VuU2VydmljZSBleHRlbmRzIEJsb2NrY2hhaW5TZXJ2aWNlIHtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgU2VjdXJpdHlUb2tlbkluZm86IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHN1cGVyKG1vcmFsaXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0UXVhbnRpdHlCeUFkZHJlc3Moc3ltYm9sOiBzdHJpbmcsIGV0aEFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8QmlnTnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IGxpbWluYWxNYXJrZXRTZXJ2aWNlID0gbmV3IExpbWluYWxNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IHN5bWJvbEFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3Moc3ltYm9sKTtcclxuICAgICAgICBpZiAoc3ltYm9sQWRkcmVzcyA9PT0gQWRkcmVzc1plcm8pIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IGF3YWl0IHRoaXMuZ2V0T3B0aW9ucygnYmFsYW5jZU9mJywgc3ltYm9sQWRkcmVzcywge1xyXG4gICAgICAgICAgICBhY2NvdW50OiBldGhBZGRyZXNzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihiYWxhbmNlT2YgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFtb3VudCA9IHRoaXMubW9yYWxpcy5Vbml0cy5Gcm9tV2VpKGJhbGFuY2VPZi50b1N0cmluZygpLCAxOCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihhbW91bnQpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdHJhbnNmZXIoc3ltYm9sQWRkcmVzczogc3RyaW5nLCBxdHk6IEJpZ051bWJlcikge1xyXG4gICAgICAgIGxldCBjb250cmFjdEluZm8gPSBDb250cmFjdEluZm8uZ2V0Q29udHJhY3RJbmZvKCk7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLmdldE9wdGlvbnMoJ3RyYW5zZmVyJywgc3ltYm9sQWRkcmVzcywge1xyXG4gICAgICAgICAgICByZWNpcGllbnQ6IGNvbnRyYWN0SW5mby5BVVNEX0FERFJFU1MsXHJcbiAgICAgICAgICAgIGFtb3VudDogTW9yYWxpcy5Vbml0cy5Ub2tlbihxdHkudG9TdHJpbmcoKSwgMTgpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBibG9ja2NoYWluRXJyb3IgPSBuZXcgQmxvY2tjaGFpbkVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvckluZm8ucmVwb3J0KGJsb2NrY2hhaW5FcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRPcHRpb25zKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBzeW1ib2xBZGRyZXNzOiBzdHJpbmcsIHBhcmFtczogYW55KSB7XHJcbiAgICAgICAgbGV0IHNlY3VyaXR5U3ltYm9sQWJpID0gYXdhaXQgdGhpcy5nZXRTZWN1cml0eVRva2VuQWJpKCk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBzeW1ib2xBZGRyZXNzLFxyXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcclxuICAgICAgICAgICAgYWJpOiBzZWN1cml0eVN5bWJvbEFiaSxcclxuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXNcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRTZWN1cml0eVRva2VuQWJpKCkge1xyXG4gICAgICAgIGlmIChTZWN1cml0eVRva2VuU2VydmljZS5TZWN1cml0eVRva2VuSW5mbykgcmV0dXJuIFNlY3VyaXR5VG9rZW5TZXJ2aWNlLlNlY3VyaXR5VG9rZW5JbmZvLmFiaTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy4uL2FiaS9TZWN1cml0eVRva2VuLmpzb24nKTtcclxuICAgICAgICBTZWN1cml0eVRva2VuU2VydmljZS5TZWN1cml0eVRva2VuSW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICByZXR1cm4gU2VjdXJpdHlUb2tlblNlcnZpY2UuU2VjdXJpdHlUb2tlbkluZm8uYWJpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3Mge1xyXG5cclxuICAgIHB1YmxpYyBzaG93KG1lc3NhZ2UgOiBzdHJpbmcsIHBlcmNlbnRhZ2UgOiBudW1iZXIsIHdhcm5pbmc/IDogYm9vbGVhbiwgaGlkZUVsZW1lbnRzPyA6IHN0cmluZ1tdKSB7XHJcblxyXG4gICAgICAgIGxldCBwcm9ncmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcycpO1xyXG4gICAgICAgIGlmICghcHJvZ3Jlc3MpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGhpZGVFbGVtZW50cykge1xyXG4gICAgICAgICAgICBoaWRlRWxlbWVudHMuZm9yRWFjaCgoZWw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHByb2dyZXNzLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NfdGV4dFwiPicgKyBtZXNzYWdlICsgJzwvZGl2Pic7XHJcbiAgICAgICAgcHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBwZXJjZW50YWdlICsgJyUnO1xyXG5cclxuICAgICAgICBwcm9ncmVzcy5jbGFzc0xpc3QudG9nZ2xlKCdwcm9ncmVzcy1iYXItc3RyaXBlZCcsIChwZXJjZW50YWdlICE9IDEwMCkpO1xyXG4gICAgICAgIHByb2dyZXNzLmNsYXNzTGlzdC50b2dnbGUoJ3Byb2dyZXNzLWJhci1hbmltYXRlZCcsIChwZXJjZW50YWdlICE9IDEwMCkpO1xyXG4gICAgICAgIGlmICh3YXJuaW5nKSB7XHJcbiAgICAgICAgICAgIHByb2dyZXNzLmNsYXNzTGlzdC5hZGQoJ2JnLXdhcm5pbmcnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MuY2xhc3NMaXN0LmFkZCgncHJvZ3Jlc3NfdGV4dF9hdHRuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MuY2xhc3NMaXN0LnJlbW92ZSgnYmctd2FybmluZycpO1xyXG4gICAgICAgICAgICBwcm9ncmVzcy5jbGFzc0xpc3QucmVtb3ZlKCdwcm9ncmVzc190ZXh0X2F0dG4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi8uLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSBcIi4uLy4uL3VpL2VsZW1lbnRzL1Byb2dyZXNzXCI7XHJcbmltcG9ydCB7VHJhZGVUeXBlfSBmcm9tIFwiLi4vLi4vZW51bXMvVHJhZGVUeXBlXCI7XHJcbmltcG9ydCB7dXBwZXJGaXJzdExldHRlcn0gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWJzY3JpcHRpb24ge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE9yZGVyQnV5VGFibGVQcmVmaXgoKSB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICByZXR1cm4gbmV0d29ya0luZm8uTmFtZTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHN1YnNjcmliZVRvVGFibGUodHJhZGVUeXBlIDogVHJhZGVUeXBlLCBvblVwZGF0ZUNhbGxiYWNrIDogKG9iamVjdCA6IGFueSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGxldCB0YWJsZU5hbWUgPSB0aGlzLmdldE9yZGVyQnV5VGFibGVQcmVmaXgoKSArICdPcmRlcicgKyB0cmFkZVR5cGU7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N1YnNjcmliZSB0byB0YWJsZTonICsgdGFibGVOYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gbmV3IHRoaXMubW9yYWxpcy5RdWVyeSh0YWJsZU5hbWUpO1xyXG4gICAgICAgIGxldCBzdWJzY3JpcHRpb24gPSBhd2FpdCBxdWVyeS5zdWJzY3JpYmUoKTtcclxuXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uLm9uKCd1cGRhdGUnLCAocmVzcG9uc2UgOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0gcmVzcG9uc2UudG9KU09OKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvYmplY3QgdXBkYXRlZCcsIEpTT04uc3RyaW5naWZ5KG9iamVjdCksIG9iamVjdCk7XHJcbiAgICAgICAgICAgIGxldCBldGhMaW5rID0gJyA8YSBjbGFzcz1cIndoaXRlLWxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9tdW1iYWkucG9seWdvbnNjYW4uY29tL3R4LycgKyBvYmplY3QudHJhbnNhY3Rpb25faGFzaCArICdcIj5WaWV3IHRyYW5zYWN0aW9uPC9hPic7XHJcblxyXG4gICAgICAgICAgICBvblVwZGF0ZUNhbGxiYWNrKG9iamVjdCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGF0dXM6Jywgb2JqZWN0LnN0YXR1cyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBuZXcgUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgaWYgKCghb2JqZWN0LnN0YXR1cyAmJiBvYmplY3QuY29uZmlybWVkKSB8fCBvYmplY3Quc3RhdHVzID09ICdtb25leV9zZW50Jykge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3Muc2hvdygnQmxvY2tjaGFpbiBoYXMgY29uZmlybWVkLCBtb25leSBoYXMgYmVlbiBzZW50IHRvIGJyb2tlci4nICsgZXRoTGluaywgNTYpXHJcbiAgICAgICAgICAgICAgICAvL2Jsb2NrY2hhaW4gaGFzIGNvbmZpcm1lZCwgbW9uZXkgd2lsbCBhcnJpdmUgc29vbiB0byBicm9rZXJcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdtb25leV9hcnJpdmVkJykge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3Muc2hvdygnTW9uZXkgaGFzIGFycml2ZWQsIHdpbGwgbm93IGV4ZWN1dGUgeW91ciBidXkgb3JkZXIuJyArIGV0aExpbmssIDcwKVxyXG4gICAgICAgICAgICAgICAgLy9tb25leSBoYXMgYXJyaXZlZCB0byBicm9rZXIsIHdlIHdpbGwgbm93IGV4ZWN1dGUgeW91ciBvcmRlclxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ29yZGVyX3JlcXVlc3RlZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vb3JkZXIgaGFzIGJlZW4gZXhlY3V0ZWQsIHdlIGFyZSB3YWl0aW5nIG9uIHJlc3BvbnNlIGZyb20gdGhlIHN0b2NrIGV4Y2hhbmdlXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcy5zaG93KCdCdXkgb3JkZXIgaGFzIGJlZW4gZXhlY3V0ZWQuIFdlIHdpbGwgdXBkYXRlIHlvdSB3aGVuIGl0IGhhcyBiZWVuIGZpbGxlZC4nICsgZXRoTGluaywgODQpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfZmlsbGVkJykge1xyXG4gICAgICAgICAgICAgICAgLy9vcmRlciBoYXMgYmVlbiBmaWxsZWQsIHlvdSBnb3Qgb2JqZWN0LmZpbGxlZFF0eSBvZiBzaGFyZXMuIFlvdSB3aWxsIHNlZSBpdCBzb29uIGluIHlvdXIgd2FsbGV0XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcy5zaG93KCdPcmRlciBoYXMgYmVlbiBmaWxsZWQsIHlvdSB3aWxsIHJlY2VpdmUgJyArIG9iamVjdC5maWxsZWRRdHkgKyAnICcgKyBTeW1ib2wgKyAnIHNvb24gaW50byB5b3VyIHdhbGxldC4nICsgZXRoTGluaywgMTAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzLnNob3coJ1dhaXRpbmcgZm9yIGJsb2NrY2hhaW4gdG8gY29uZmlybSB0cmFuc2FjdGlvbi4nLCA5OSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG59IiwiZXhwb3J0IGVudW0gVHJhZGVUeXBlIHtcclxuICAgIFNlbGwgPSAnU2VsbCcsXHJcbiAgICBCdXkgPSAnQnV5J1xyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGJ1dHRvbiBpZD1cXFwibGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZVxcXCI+PC9idXR0b24+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIlxcclxcbjxhcnRpY2xlIGNsYXNzPVxcXCJ0cmFkZV9leGVjdXRlZFxcXCI+XFxyXFxuICAgIDxuYXY+XFxyXFxuICAgIDx1bD5cXHJcXG4gICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICA8aW1nIHNyYz1cXFwie3tzZWxsaW5nTG9nb319XFxcIj48YnIgLz5cXHJcXG4gICAgICAgICAgICB7e3NlbGxpbmdTeW1ib2x9fTxiciAvPlxcclxcbiAgICAgICAgICAgIHt7c2VsbGluZ0Ftb3VudH19XFxyXFxuICAgICAgICA8L2xpPlxcclxcbiAgICA8L3VsPlxcclxcbiAgICA8dWw+XFxyXFxuICAgICAgICA8bGk+IC0tLS0+IDwvbGk+XFxyXFxuICAgIDwvdWw+XFxyXFxuICAgIDx1bD5cXHJcXG4gICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICA8aW1nIHNyYz1cXFwie3tidXlpbmdMb2dvfX1cXFwiIC8+PGJyIC8+XFxyXFxuICAgICAgICAgICAge3tidXlpbmdTeW1ib2x9fTxiciAvPlxcclxcbiAgICAgICAgICAgIDxhYmJyIHRpdGxlPVxcXCJ7e2J1eWluZ1F1YW50aXR5fX1cXFwiIGRhdGEtdG9vbHRpcD1cXFwie3tidXlpbmdRdWFudGl0eX19XFxcIj57e2J1eWluZ1JvdW5kUXVhbnRpdHl9fTwvYWJicj5cXHJcXG4gICAgICAgIDwvbGk+XFxyXFxuICAgIDwvdWw+XFxyXFxuICAgIDwvbmF2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgSWYgeW91IGhhdmVuJ3QgYWxyZWFkeSwgYWRkIHRoZSB7e2J1eWluZ1N5bWJvbH19IHRvIHlvdXIgd2FsbGV0LlxcclxcbiAgICAgICAgPGJyIC8+PGJyIC8+XFxyXFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJhZGRUb2tlblRvV2FsbGV0XFxcIiBkYXRhLWFkZHJlc3M9XFxcInt7dG9rZW5BZGRyZXNzfX1cXFwiPkFkZCB7e2J1eWluZ1N5bWJvbH19IHRvIHdhbGxldDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwiYWRkVG9rZW5Ub1dhbGxldEZhaWxlZFxcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICAgICAgWW91IGNhbiBjb3B5IHRoZSBhZGRyZXNzLCB0byBpbXBvcnQgdGhlIHRva2VuXFxyXFxuICAgICAgICAgICAgPGlucHV0IHZhbHVlPVxcXCJ7e3Rva2VuQWRkcmVzc319XFxcIiAvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8YnIgLz5cXHJcXG4gICAgICAgIFNob3VsZCBiZSB2aXNpYmxlIGluIHlvdXIge3t3YWxsZXROYW1lfX0gb24gYWRkcmVzcyB7e3Nob3J0RXRoQWRkcmVzc319LlxcclxcbiAgICAgICAgPGJyIC8+PGJyIC8+XFxyXFxuICAgICAgICA8c21hbGw+WW91IGNhbiB2aWV3IHRoZSA8YSBocmVmPVxcXCJ7e2Jsb2NrRXhwbG9yZXJMaW5rfX1cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5ibG9jayB0cmFuc2FjdGlvbiBoZXJlPC9hPjwvc21hbGw+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvYXJ0aWNsZT5cXHJcXG5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiWW91IG5lZWQgdG8gaGF2ZSB7e3N5bWJvbH19IGN1cnJlbmN5IGluIHlvdXIgd2FsbGV0LiBZb3UgdXNlIHt7c3ltYm9sfX0gdG8gcGF5IGZvciB1c2luZyB0aGUgYmxvY2tjaGFpbi5cXHJcXG5cXHJcXG5UbyBnZXQgc29tZSB7e3N5bWJvbH19IGN1cnJlbmN5XFxyXFxuPG9sPlxcclxcbiAgICA8bGk+Q29weSB5b3VyIGFkZHJlc3Mgc2hvd24gYmVsb3dcXHJcXG4gICAgICAgIDxpbnB1dCB2YWx1ZT1cXFwie3tldGhBZGRyZXNzfX1cXFwiIC8+XFxyXFxuICAgIDwvbGk+XFxyXFxuICAgIDxsaT5PcGVuIDxhIGhyZWY9XFxcInt7ZmF1Y2V0VXJsfX1cXFwiIGlkPVxcXCJnZXROYXRpdmVUb2tlbnNcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj57e2ZhdWNldFVybH19PC9hPjwvbGk+XFxyXFxuICAgIDxsaT5QYXN0ZSBpbiB5b3VyIGFkZHJlc3MgeW91IGp1c3QgY29waWVkIGFuZCBjbGljayB0aGUgc3VibWl0IGJ1dHRvbjwvbGk+XFxyXFxuPC9vbD5cXHJcXG5cXHJcXG48ZGl2IGNsYXNzPVxcXCJpbmZvQmFyIGQtbm9uZVxcXCIgaWQ9XFxcIndhaXRpbmdGb3JOYXRpdmVUb2tlblxcXCI+V2FpdGluZyBmb3Ige3tzeW1ib2x9fS4gV2luZG93IHdpbGwgY2xvc2Ugd2hlbiB5b3UgaGF2ZSBzb21lIGluXFxyXFxuICAgIHlvdSB3YWxsZXQuXFxyXFxuICAgIEl0IG1pZ2h0IHRha2UgZmV3IG1pbnV0ZXMgYWZ0ZXIgeW91IHJlcXVlc3RlZCBpdC5cXHJcXG4gICAgPHByb2dyZXNzPjwvcHJvZ3Jlc3M+XFxyXFxuPC9kaXY+XFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIllvdSBuZWVkIHRvIGhhdmUge3tzeW1ib2x9fSBjdXJyZW5jeSBpbiB5b3VyIHdhbGxldC4gWW91IHVzZSB7e3N5bWJvbH19IHRvIHBheSBmb3IgdXNpbmcgdGhlIGJsb2NrY2hhaW4uXFxyXFxuXFxyXFxuVG8gZ2V0IHNvbWUge3tzeW1ib2x9fSBjdXJyZW5jeVxcclxcbjxvbD5cXHJcXG4gICAgPGxpPkNvcHkgeW91ciBhZGRyZXNzIHNob3duIGJlbG93XFxyXFxuICAgICAgICA8aW5wdXQgdmFsdWU9XFxcInt7ZXRoQWRkcmVzc319XFxcIiAvPlxcclxcbiAgICA8L2xpPlxcclxcbiAgICA8bGk+T3BlbiA8YSBocmVmPVxcXCJ7e2J1eVVybH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tidXlVcmx9fTwvYT48L2xpPlxcclxcbiAgICA8bGk+UGFzdGUgaW4geW91ciBhZGRyZXNzIHlvdSBqdXN0IGNvcGllZCBhbmQgY2xpY2sgdGhlIHN1Ym1pdCBidXR0b248L2xpPlxcclxcbjwvb2w+XFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IEZha2VOYXRpdmVUb2tlbk5lZWRlZEh0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9GYWtlTmF0aXZlVG9rZW5OZWVkZWQuaHRtbCc7XHJcbmltcG9ydCBOYXRpdmVUb2tlbk5lZWRlZEh0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9OYXRpdmVUb2tlbk5lZWRlZC5odG1sJztcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF0aXZlVG9rZW5OZWVkZWQge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgb25OYXRpdmVUb2tlbkFycml2ZWQgOiAoKSA9PiB2b2lkO1xyXG4gICAgdGltZU91dD86IGFueSA9IHVuZGVmaW5lZDtcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMsIG9uTmF0aXZlVG9rZW5BcnJpdmVkIDogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5vbk5hdGl2ZVRva2VuQXJyaXZlZCA9IG9uTmF0aXZlVG9rZW5BcnJpdmVkO1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSgpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdXNlclNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG5cclxuICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEZha2VOYXRpdmVUb2tlbk5lZWRlZEh0bWwpO1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtzeW1ib2w6bmV0d29ya0luZm8uTmF0aXZlU3ltYm9sLCBmYXVjZXRVcmw6bmV0d29ya0luZm8uRmF1Y2V0VXJsLCBldGhBZGRyZXNzOmV0aEFkZHJlc3N9KVxyXG4gICAgICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnR2V0IHNvbWUgJyArIG5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbCwgY29udGVudCwgZmFsc2UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsVGltZXIoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoTmF0aXZlVG9rZW5OZWVkZWRIdG1sKTtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZSh7c3ltYm9sOm5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbCwgYnV5VXJsOm5ldHdvcmtJbmZvLkJ1eVVybCwgZXRoQWRkcmVzczpldGhBZGRyZXNzfSlcclxuICAgICAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0dldCBzb21lICcgKyBuZXR3b3JrSW5mby5OYXRpdmVTeW1ib2wsIGNvbnRlbnQsIGZhbHNlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFRpbWVyKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXROYXRpdmVUb2tlbnMnKTtcclxuICAgICAgICBpZiAoIWxpbmspIHJldHVybjtcclxuXHJcbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHdhaXRpbmdGb3JOYXRpdmVUb2tlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWl0aW5nRm9yTmF0aXZlVG9rZW4nKTtcclxuICAgICAgICAgICAgd2FpdGluZ0Zvck5hdGl2ZVRva2VuPy5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tGb3JOYXRpdmVUb2tlbnMoKTtcclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FuY2VsVGltZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZU91dCkgY2xlYXJUaW1lb3V0KHRoaXMudGltZU91dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNoZWNrRm9yTmF0aXZlVG9rZW5zKCkge1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IGhhc0Vub3VnaE5hdGl2ZVRva2VucyA9IGF3YWl0IG5ldHdvcmtJbmZvLmhhc0Vub3VnaE5hdGl2ZVRva2Vucyh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGlmIChoYXNFbm91Z2hOYXRpdmVUb2tlbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgdGhpcy5vbk5hdGl2ZVRva2VuQXJyaXZlZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZU91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jaGVja0Zvck5hdGl2ZVRva2VucygpLCA1ICogMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBpZD1cXFwia3ljQWN0aW9uUmVxdWlyZWREaXZcXFwiPlxcclxcblxcclxcbiAgICB7eyNpZiBPdGhlcn19XFxyXFxuICAgIDxzdHJvbmc+VGhpcyBpcyB0aGUgbWVzc2FnZSBmcm9tIEtZQyBwcm9jZXNzb3Igd2UgcmVjZWl2ZWQ8L3N0cm9uZz5cXHJcXG4gICAgPGJsb2NrcXVvdGU+XFxyXFxuICAgICAgICB7e090aGVyfX1cXHJcXG4gICAgPC9ibG9ja3F1b3RlPlxcclxcbiAgICB7ey9pZn19XFxyXFxuICAgIDxmb3JtIG5vdmFsaWRhdGUgaWQ9XFxcImt5Y0FjdGlvblJlcXVpcmVkRm9ybVxcXCIgbmFtZT1cXFwia3ljQWN0aW9uUmVxdWlyZWRGb3JtXFxcIiBvbnN1Ym1pdD1cXFwicmV0dXJuIGZhbHNlO1xcXCI+XFxyXFxuICAgICAgICB7e3tLeWNJbmZvfX19XFxyXFxuICAgICAgICB7eyNpZiBTdWJtaXREYXRhfX1cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwia3ljQWN0aW9uUmVxdWlyZWRFcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b25zXFxcIj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgaWQ9XFxcImt5Y0FjdGlvblJlcXVpcmVkU3VibWl0XFxcIj5TZW5kIG5ldyBpbmZvcm1hdGlvbjwvYnV0dG9uPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICB7ey9pZn19XFxyXFxuICAgIDwvZm9ybT5cXHJcXG48L2Rpdj5cXHJcXG5cXHJcXG48ZGl2IGlkPVxcXCJreWNBY3Rpb25SZXF1aXJlZFN1Ym1pdHRlZERpdlxcXCIgY2xhc3M9XFxcImhpZGRlbiBjZW50ZXJcXFwiPlxcclxcbiAgICA8aDM+WW91IGRvY3VtZW50cyBoYXZlIGJlZW4gc3VibWl0dGVkLjxici8+V2Ugd2lsbCBlbWFpbCB5b3Ugd2hlbiB5b3VyIGFjY291bnQgaXMgcmVhZHkuPC9oMz5cXHJcXG4gICAgWW91IGNhbiBjbG9zZSB0aGlzIHdpbmRvdy5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBZb3VyIGFwcGxpY2F0aW9uIGhhcyBiZWVuIHJlamVjdGVkIGR1cmluZyBLWUMgcHJvY2Vzcy48YnIvPjxici8+XFxyXFxuICAgIFdlIGRvbid0IGhhdmUgdGhlIGluZm9ybWF0aW9uIG9uIHdoeSB0aGF0IGhhcHBlbmVkLCBidXQgeW91IGNhbiBlbWFpbCB1cyBhdFxcclxcbiAgICA8YSBocmVmPSdtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldD9zdWJqZWN0PU15IGFwcGxpY2F0aW9uIHdhcyByZWplY3RlZCZib2R5PUhpLCBjYW4geW91IGhlbHAgbWUgdG8gZmluZCBvdXQgd2hhdCB0aGUgcHJvYmxlbSBpcz8gTXkgbmFtZSBpcyBfX19fX19fIGFuZCBJIHVzZWQgdGhlIGVtYWlsIF9fX19fX18gdG8gcmVnaXN0ZXIgYXQgbGltaW5hbC5tYXJrZXQnPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+XFxyXFxuICAgIGFuZCB3ZSBjYW4gZmluZCBvdXQsIGFuZCB3ZSBzaG91bGQgYmUgYWJsZSB0byBzb2x2ZSBpdCB0b2dldGhlci5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIDxwPlxcclxcbiAgICAgICAgSWRlbnRpdHkgbmVlZHMgdG8gYmUgdmVyaWZpZWQuXFxyXFxuICAgICAgICBUaGlzIG1lYW5zIHlvdSBuZWVkIHRvIHVwbG9hZFxcclxcbiAgICAgICAgYSBuZXcgcGhvdG8gb2YgeW91ciBpZC4gWW91IG1pZ2h0IHRyeSBhbm90aGVyIHR5cGUgb2YgSUQsIHN1Y2ggYXNcXHJcXG4gICAgICAgIGRyaXZlcidzIGxpY2Vuc2UgaWYgeW91IHRyaWVkIHBhc3Nwb3J0IGJlZm9yZVxcclxcbiAgICA8L3A+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXFxcIiBcXFwiUGhvdG8gSUQgRnJvbnQgKEZyb250IG9mIHBhc3Nwb3J0KVxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXzJcXFwiIFxcXCJQaG90byBJRCBCYWNrIChQYXNzcG9ydCBwaWN0dXJlIG9mIElEKSBcXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgPHA+XFxyXFxuICAgICAgICBBZGRyZXNzIG5lZWRzIHRvIGJlIHZlcmlmaWVkLiBQbGVhc2UgdXBsb2FkIGRvY3VtZW50IHRoYXQgY29uZmlybXMgeW91ciBhZGRyZXNzLlxcclxcbiAgICAgICAgQSBiaWxsIGZyb20gdGhlIGdvdmVybm1lbnQgb3IgdXRpbGl0eSBjb21wYW55IGluIHRoYXQgbGFzdCAzMCBkYXlzIHdpdGggeW91ciBuYW1lIGl0IHNob3VsZCB3b3JrLlxcclxcbiAgICA8L3A+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiYWRkcmVzc192ZXJpZmljYXRpb25cXFwiIFxcXCJQaWN0dXJlIG9mIGFkZHJlc3MgdmVyaWZpY2F0aW9uXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIEZ1cnRoZXIgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgc3VibWl0dGVkIGlmIGFjY291bnQgb3duZXIgaXMgYWZmaWxpYXRlZCB0byBmaW5yYSBvciBhbiBleGNoYW5nZVxcclxcbiAgICA8YnIvPlxcclxcbiAgICBQbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPVxcXCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldFxcXCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIEZ1cnRoZXIgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgc3VibWl0dGVkIGlmIGFjY291bnQgb3duZXIgaXMgYSBjb250cm9sIHBlcnNvblxcclxcbiAgICA8YnIvPlxcclxcbiAgICBQbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPVxcXCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldFxcXCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIFRoZSBhY2NvdW50IG93bmVy4oCZcyBjb3VudHJ5IG9mIHRheCByZXNpZGVuY2UgaXMgbm90IHN1cHBvcnRlZCBieSBvdXIgS1lDIHByb3ZpZGVycy5cXHJcXG4gICAgSW4gdGhpcyBjYXNlLCB3ZeKAmWxsIG1hbnVhbGx5IHBlcmZvcm0gS1lDIG9uIHRoZSB1c2VyXFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBEYXRlIG9mIGJpcnRoIG5lZWRzIHRvIGJlIHZlcmlmaWVkLiBQbGVhc2UgdXBsb2FkIGRvY3VtZW50IHRoYXQgY29uZmlybXMgeW91ciBkYXRlIG9mIGJpcnRoLlxcclxcblxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgIHt7e2ZpbGVVcGxvYWQgXFxcImRhdGVfb2ZfYmlydGhfdmVyaWZpY2F0aW9uXFxcIiBcXFwiRGF0ZSBvZiBiaXJ0aCB2ZXJpZmljYXRpb25cXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgRnVydGhlciBpbmZvcm1hdGlvbiBuZWVkcyB0byBiZSBzdWJtaXR0ZWQgaWYgZmFtaWx5IG1lbWJlciBpcyBhIHBvbGl0aWNhbGx5IGV4cG9zZWQgcGVyc29uXFxyXFxuICAgIDxici8+XFxyXFxuICAgIFBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9XFxcIm1haWx0bzppbmZvQGxpbWluYWwubWFya2V0XFxcIj5pbmZvQGxpbWluYWwubWFya2V0PC9hPiBmb3IgZnVydGhlciBpbmZvcm1hdGlvblxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgSWRlbnRpdHkgbmVlZHMgdG8gYmUgdmVyaWZpZWQgdmlhIGEgZ292ZXJubWVudCBpc3N1ZWQgSUQuXFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXFxcIiBcXFwiUGhvdG8gSUQgRnJvbnQgKEZyb250IG9mIHBhc3Nwb3J0KVxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXzJcXFwiIFxcXCJQaG90byBJRCBCYWNrIChQYXNzcG9ydCBwaWN0dXJlIG9mIElEKSBcXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgRnVydGhlciBpbmZvcm1hdGlvbiBuZWVkcyB0byBiZSBzdWJtaXR0ZWQgaWYgYWNjb3VudCBvd25lciBpcyBwb2xpdGljYWxseSBleHBvc2VkIHBlcnNvblxcclxcbiAgICA8YnIvPlxcclxcbiAgICBQbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPVxcXCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldFxcXCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIElkZW50aXR5IG5lZWRzIHRvIGJlIHZlcmlmaWVkIHZpYSBhIGxpdmUgc2VsZmllIG9mIHRoZSBhY2NvdW50IG93bmVyXFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXFxcIiBcXFwiTGl2ZSBzZWxmaWUgdmVyaWZpY2F0aW9uXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIFRheCBJRCBudW1iZXIgbmVlZHMgdG8gYmUgdmVyaWZpZWQuIFBsZWFzZSB1cGxvYWQgZG9jdW1lbnQgdGhhdCBjb25maXJtcyB5b3VyIFRheCBJZFxcclxcblxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgIHt7e2ZpbGVVcGxvYWQgXFxcInRheF9pZF92ZXJpZmljYXRpb25cXFwiIFxcXCJUYXggaWQgdmVyaWZpY2F0aW9uXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIEZ1cnRoZXIgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgc3VibWl0dGVkIGFib3V0IGFjY291bnQgb3duZXLigJlzIHZpc2FcXHJcXG4gICAgPGJyLz5cXHJcXG4gICAgUGxlYXNlIGNvbnRhY3QgdXMgYXQgPGEgaHJlZj1cXFwibWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXRcXFwiPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uXFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBJZGVudGlmeWluZyBpbmZvcm1hdGlvbiBzdWJtaXR0ZWQgYnkgdGhlIHVzZXIgd2FzIGluY29ycmVjdCBzbyBhIG5ldywgY29ycmVjdGVkLCBXOEJFTiBuZWVkcyB0byBiZSBzdWJtaXR0ZWRcXHJcXG4gICAgPGJyLz5cXHJcXG4gICAgUGxlYXNlIGNvbnRhY3QgdXMgYXQgPGEgaHJlZj1cXFwibWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXRcXFwiPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uXFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdj5cXHJcXG4gICAgPGxhYmVsIGZvcj1cXFwie3tpbnB1dElkfX1cXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxyXFxuICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiByZXF1aXJlZCBpZD1cXFwie3tpbnB1dElkfX1cXFwiIGFjY2VwdD1cXFwie3thY2NlcHR9fVxcXCIgY2FwdHVyZT1cXFwie3tjYXB0dXJlfX1cXFwiLz5cXHJcXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgaWQ9XFxcInt7aW5wdXRJZH19X2Jhc2U2NFxcXCIgbmFtZT1cXFwie3tpbnB1dElkfX1fYmFzZTY0XFxcIi8+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImVycm9yIGhpZGRlblxcXCIgaWQ9XFxcInt7aW5wdXRJZH19X2Vycm9yXFxcIj48L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGlkPVxcXCJ7e2lucHV0SWR9fV9wcmV2aWV3XFxcIj5cXHJcXG5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEZpbGVVcGxvYWRIdG1sIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvRmlsZVVwbG9hZC5odG1sJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVVcGxvYWQge1xyXG5cclxuICAgIHByaXZhdGUgbWF4RmlsZVNpemU6IG51bWJlciA9IDggKiAxMDI0ICogMTAyNCAqIDEwOyAvLzEwTUJcclxuICAgIGlucHV0SWQ6IHN0cmluZztcclxuICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICBhY2NlcHQgPSBcImltYWdlLyosLnBkZlwiO1xyXG4gICAgY2FwdHVyZSA9ICdlbnZpcm9ubWVudCc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5wdXRJZDogc3RyaW5nLCBsYWJlbDogc3RyaW5nLCBhY2NlcHQgPSBcImltYWdlL3BuZyxpbWFnZS9qcGVnLC5wZGZcIiwgY2FwdHVyZSA9ICdlbnZpcm9ubWVudCcpIHtcclxuICAgICAgICB0aGlzLmlucHV0SWQgPSBpbnB1dElkO1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICB0aGlzLmFjY2VwdCA9IGFjY2VwdDtcclxuICAgICAgICB0aGlzLmNhcHR1cmUgPSBjYXB0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEZpbGVVcGxvYWRIdG1sKTtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBsZXQgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pbnB1dElkKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NGaWxlKGZpbGVJbnB1dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBwcm9jZXNzRmlsZShlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5oaWRlRmlsZVJlbGF0ZWRJbmZvKGVsZW1lbnQuaWQpO1xyXG5cclxuICAgICAgICBsZXQgZmlsZXMgPSBlbGVtZW50LmZpbGVzO1xyXG4gICAgICAgIGlmICghZmlsZXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICBpZiAoIWZpbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93RmlsZVJlbGF0ZWRJbmZvKGVsZW1lbnQuaWQsICdObyBmaWxlIHNlbGVjdGVkLiBQbGVhc2Ugc2VsZWN0IGZpbGUuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmFzZTY0SW5wdXQoZWxlbWVudC5pZCwgJycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZmlsZS5zaXplID4gdGhpcy5tYXhGaWxlU2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dGaWxlUmVsYXRlZEluZm8oZWxlbWVudC5pZCwgJ0ZpbGUgJyArIGZpbGUubmFtZSArICcgaXMgdG8gbGFyZ2UuIEZpbGVzIGNhbm5vdCBiZSBsYXJnZXIgdGhlbiAxME1CLiBZb3UgbmVlZCB0byBtYWtlIGl0IHNtYWxsZXIgYmVmb3JlIHN1Ym1pdHRpbmcgeW91ciBhcHBsaWNhdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEJhc2U2NElucHV0KGVsZW1lbnQuaWQsICcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmFzZTY0SW5wdXQoZWxlbWVudC5pZCwgcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0ZpbGVSZWxhdGVkSW5mbyhlbGVtZW50LmlkLCAnQ291bGQgbm90IHJlYWQgZmlsZSAnICsgZmlsZS5uYW1lICsgJy4gRWl0aGVyIHRoZSBmaWxlIGlzIGNvcnJ1cHQgb3IgeW91ciBicm93c2VyIGRvZXMgbm90IGFsbG93IHVzIHRvIHJlYWQgaXQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0QmFzZTY0SW5wdXQoZWxlbWVudElkOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgYmFzZTY0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQgKyAnX2Jhc2U2NCcpISBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGJhc2U2NElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgbGV0IHByZXZpZXdFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkICsgJ19wcmV2aWV3Jyk7XHJcbiAgICAgICAgaWYgKCFwcmV2aWV3RWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZignZGF0YTppbWFnZScpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHByZXZpZXdFbGVtZW50LmlubmVySFRNTCA9ICc8aW1nIHNyYz1cIicgKyBiYXNlNjRJbnB1dC52YWx1ZSArICdcIiAvPidcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcmV2aWV3RWxlbWVudC5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIHNob3dGaWxlUmVsYXRlZEluZm8oZWxlbWVudElkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBmaWxlUmVsYXRlZEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQgKyAnX2Vycm9yJykhIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghZmlsZVJlbGF0ZWRJbmZvKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZpbGVSZWxhdGVkSW5mby5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIGZpbGVSZWxhdGVkSW5mby5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBoaWRlRmlsZVJlbGF0ZWRJbmZvKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGZpbGVSZWxhdGVkSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCArICdfZXJyb3InKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWZpbGVSZWxhdGVkSW5mbykgcmV0dXJuO1xyXG5cclxuICAgICAgICBmaWxlUmVsYXRlZEluZm8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZpbGVVcGxvYWRzOiBGaWxlVXBsb2FkW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVySGFuZGxlcigpIHtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdmaWxlVXBsb2FkJywgKGlkLCBsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZmlsZVVwbG9hZCA9IG5ldyBGaWxlVXBsb2FkKGlkLCBsYWJlbCk7XHJcbiAgICAgICAgICAgIEZpbGVVcGxvYWQuZmlsZVVwbG9hZHMucHVzaChmaWxlVXBsb2FkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlVXBsb2FkLnJlbmRlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuL1N0cmluZ0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nO1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGVSZXF1aXJlZEZpZWxkcygpIHtcclxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yICsgJyBpbnB1dFtyZXF1aXJlZF0sICcgKyB0aGlzLnNlbGVjdG9yICsgJyBzZWxlY3RbcmVxdWlyZWRdJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc01pc3NpbmdJbnB1dEZyb21Vc2VyKGlucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IG11c3QgZmlsbCBpbnRvIHRoaXMgZmllbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0TmFtZTogaW5wdXQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9JyArIGlucHV0LmlkICsgJ10nKSEuaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IGlucHV0LnBhdHRlcm5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZShvYmopO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5wdXQucGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBpbnB1dC5wYXR0ZXJuO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpbnB1dC52YWx1ZS5tYXRjaChwYXR0ZXJuKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhpcyBpcyBub3QgdmFsaWQgZGF0ZSBmb3JtYXQsIHBsZWFzZSB1c2UgWVlZWS1NTS1ERCAoeWVhci1tb250aC1kYXRlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0TmFtZTogaW5wdXQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPScgKyBpbnB1dC5pZCArICddJykhLmlubmVySFRNTCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogaW5wdXQucGF0dGVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGUob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgaXNNaXNzaW5nSW5wdXRGcm9tVXNlcihpbnB1dDogSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiAoKGlucHV0LnR5cGUgPT0gJ2NoZWNrYm94JyAmJiAhaW5wdXQuY2hlY2tlZCkgfHwgU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVtb3ZlTWlzc2luZ0luZm8oZXJyb3JEaXZJZDogc3RyaW5nLCBmb2N1c0VsZW1lbnRJZD86IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JEaXZJZCk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICBpZiAoIWZvY3VzRWxlbWVudElkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBmb2N1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk7XHJcbiAgICAgICAgaWYgKGZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldE1pc3NpbmdJbmZvKGVycm9yRGl2SWQ6IHN0cmluZywgdGV4dDogc3RyaW5nLCBmb2N1c0VsZW1lbnRJZD86IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JEaXZJZCk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICAgICAgICAgIGlmIChmb2N1c0VsZW1lbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9jdXNFbGVtZW50SWQpPy5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9jdXNFbGVtZW50SWQpPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGUob2JqOiB7IGxhYmVsVGV4dDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IHBhdHRlcm46IHN0cmluZzsgaW5wdXROYW1lOiBzdHJpbmcgfSkge1xyXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9iai5pbnB1dE5hbWUpO1xyXG4gICAgICAgIGlmICghaW5wdXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0RXJyb3IgPSBpbnB1dC5wYXJlbnRFbGVtZW50IS5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfZXJyb3InKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoaW5wdXRFcnJvcikge1xyXG4gICAgICAgICAgICBpbnB1dEVycm9yLnNjcm9sbEludG9WaWV3KHtibG9jazogJ2NlbnRlcid9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcbiAgICAgICAgaW5wdXQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgJzxkaXYgY2xhc3M9XCJpbnB1dF9lcnJvclwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2tcIiBpZD1cImlucHV0X2Vycm9yXycgKyBvYmouaW5wdXROYW1lICsgJ1wiPicgKyBvYmoubWVzc2FnZSArICc8L2Rpdj4nKTtcclxuICAgICAgICBpbnB1dC5mb2N1cygpO1xyXG4gICAgICAgIGlmIChvYmoucGF0dGVybikge1xyXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BhdHRlcm4nLCBvYmoucGF0dGVybik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IGlucHV0LmdldEF0dHJpYnV0ZSgncGF0dGVybicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgocGF0dGVybiAmJiBpbnB1dC52YWx1ZS5tYXRjaChwYXR0ZXJuKSkgfHwgKGlucHV0LnJlcXVpcmVkICYmIGlucHV0LnZhbHVlKSB8fCBpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X2Vycm9yXycgKyBvYmouaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSBlcnJvck1lc3NhZ2UucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDgwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgS3ljQWN0aW9uUmVxdWlyZWRIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0FjdGlvblJlcXVpcmVkLmh0bWwnO1xyXG5pbXBvcnQgV2VEb250S25vd1doeUh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvV2VEb250S25vd1doeS5odG1sJ1xyXG5pbXBvcnQgS3ljUmVzdWx0TWVzc2FnZSBmcm9tIFwiLi4vLi4vLi4vZHRvL0t5Y1Jlc3VsdE1lc3NhZ2VcIjtcclxuXHJcblxyXG5pbXBvcnQgSURFTlRJVFlfVkVSSUZJQ0FUSU9OIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0lERU5USVRZX1ZFUklGSUNBVElPTi5odG1sJ1xyXG5pbXBvcnQgQUREUkVTU19WRVJJRklDQVRJT04gZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvQUREUkVTU19WRVJJRklDQVRJT04uaHRtbCdcclxuaW1wb3J0IEFGRklMSUFURUQgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvQUZGSUxJQVRFRC5odG1sJ1xyXG5pbXBvcnQgQ09OVFJPTF9QRVJTT04gZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvQ09OVFJPTF9QRVJTT04uaHRtbCdcclxuaW1wb3J0IENPVU5UUllfTk9UX1NVUFBPUlRFRCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9DT1VOVFJZX05PVF9TVVBQT1JURUQuaHRtbCdcclxuaW1wb3J0IERBVEVfT0ZfQklSVEggZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvREFURV9PRl9CSVJUSC5odG1sJ1xyXG5pbXBvcnQgRkFNSUxZX01FTUJFUl9QRVAgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvRkFNSUxZX01FTUJFUl9QRVAuaHRtbCdcclxuaW1wb3J0IElOVkFMSURfSURFTlRJVFlfUEFTU1BPUlQgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvSU5WQUxJRF9JREVOVElUWV9QQVNTUE9SVC5odG1sJ1xyXG5pbXBvcnQgUEVQIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1BFUC5odG1sJ1xyXG5pbXBvcnQgU0VMRklFX1ZFUklGSUNBVElPTiBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9TRUxGSUVfVkVSSUZJQ0FUSU9OLmh0bWwnXHJcbmltcG9ydCBUQVhfSURFTlRJRklDQVRJT04gZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvVEFYX0lERU5USUZJQ0FUSU9OLmh0bWwnXHJcbmltcG9ydCBWSVNBX1RZUEVfT1RIRVIgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvVklTQV9UWVBFX09USEVSLmh0bWwnXHJcbmltcG9ydCBXOEJFTl9DT1JSRUNUSU9OIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1c4QkVOX0NPUlJFQ1RJT04uaHRtbCdcclxuaW1wb3J0IEZvcm1IZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvRm9ybUhlbHBlclwiO1xyXG5pbXBvcnQgRmlsZVVwbG9hZCBmcm9tIFwiLi4vLi4vZWxlbWVudHMvRmlsZVVwbG9hZFwiO1xyXG5pbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Gb3JtVmFsaWRhdG9yXCI7XHJcbmltcG9ydCBLWUNTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2VcIjtcclxuaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvTG9hZGluZ0hlbHBlclwiO1xyXG5pbXBvcnQgRXhlY3V0ZVRyYWRlQnV0dG9uIGZyb20gXCIuLi8uLi9lbGVtZW50cy90cmFkZXBhbmVsL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0FjdGlvblJlcXVpcmVkIHtcclxuXHJcbiAgICBtb2RhbDogTW9kYWw7XHJcbiAgICB0ZW1wbGF0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZz47XHJcbiAgICBleGVjdXRlVHJhZGVCdXR0b246IEV4ZWN1dGVUcmFkZUJ1dHRvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihleGVjdXRlVHJhZGVCdXR0b246IEV4ZWN1dGVUcmFkZUJ1dHRvbikge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGVUcmFkZUJ1dHRvbiA9IGV4ZWN1dGVUcmFkZUJ1dHRvbjtcclxuXHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdXZURvbnRLbm93V2h5SHRtbCcsIFdlRG9udEtub3dXaHlIdG1sKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ0FERFJFU1NfVkVSSUZJQ0FUSU9OJywgQUREUkVTU19WRVJJRklDQVRJT04pO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnQUZGSUxJQVRFRCcsIEFGRklMSUFURUQpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnQ09OVFJPTF9QRVJTT04nLCBDT05UUk9MX1BFUlNPTik7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdDT1VOVFJZX05PVF9TVVBQT1JURUQnLCBDT1VOVFJZX05PVF9TVVBQT1JURUQpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnREFURV9PRl9CSVJUSCcsIERBVEVfT0ZfQklSVEgpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnRkFNSUxZX01FTUJFUl9QRVAnLCBGQU1JTFlfTUVNQkVSX1BFUCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdJREVOVElUWV9WRVJJRklDQVRJT04nLCBJREVOVElUWV9WRVJJRklDQVRJT04pO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnSU5WQUxJRF9JREVOVElUWV9QQVNTUE9SVCcsIElOVkFMSURfSURFTlRJVFlfUEFTU1BPUlQpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnUEVQJywgUEVQKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ1NFTEZJRV9WRVJJRklDQVRJT04nLCBTRUxGSUVfVkVSSUZJQ0FUSU9OKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ1RBWF9JREVOVElGSUNBVElPTicsIFRBWF9JREVOVElGSUNBVElPTik7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdWSVNBX1RZUEVfT1RIRVInLCBWSVNBX1RZUEVfT1RIRVIpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnVzhCRU5fQ09SUkVDVElPTicsIFc4QkVOX0NPUlJFQ1RJT04pO1xyXG5cclxuICAgICAgICBGaWxlVXBsb2FkLnJlZ2lzdGVySGFuZGxlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93KCkge1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQga3ljUmVzdWx0ID0gYXdhaXQgdXNlclNlcnZpY2Uua3ljQWN0aW9uUmVxdWlyZWQoKVxyXG4gICAgICAgIGlmICgha3ljUmVzdWx0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBreWNJbmZvID0gdGhpcy5nZXRLeWNNZXNzYWdlcyhreWNSZXN1bHQubWVzc2FnZXMpO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljQWN0aW9uUmVxdWlyZWRIdG1sKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtcclxuICAgICAgICAgICAganNvbjogSlNPTi5zdHJpbmdpZnkoa3ljUmVzdWx0KSxcclxuICAgICAgICAgICAgS3ljSW5mbzoga3ljSW5mbyxcclxuICAgICAgICAgICAgT3RoZXI6IGt5Y1Jlc3VsdC5hZGRpdGlvbmFsX2luZm9ybWF0aW9uLFxyXG4gICAgICAgICAgICBTdWJtaXREYXRhOiBreWNJbmZvLmluZGV4T2YoJzxpbnB1dCcpICE9IC0xXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0FjdGlvbiByZXF1aXJlZCcsIGNvbnRlbnQsIGZhbHNlLCAoKSA9PiB7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBsZXQga3ljQWN0aW9uUmVxdWlyZWRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0FjdGlvblJlcXVpcmVkRm9ybScpO1xyXG4gICAgICAgIGt5Y0FjdGlvblJlcXVpcmVkRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlRXJyb3IoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWRTdWJtaXQnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKHN1Ym1pdEJ0bik7XHJcblxyXG4gICAgICAgICAgICBsZXQgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKCcja3ljQWN0aW9uUmVxdWlyZWRGb3JtJylcclxuICAgICAgICAgICAgaWYgKCFmb3JtVmFsaWRhdG9yLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IEZvcm1IZWxwZXIuZ2V0UGFyYW1zKCcja3ljQWN0aW9uUmVxdWlyZWRGb3JtJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQga3ljU2VydmljZSA9IG5ldyBLWUNTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCBreWNTZXJ2aWNlLnVwZGF0ZURvY3VtZW50cyhwYXJhbXMpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGt5Y0FjdGlvblJlcXVpcmVkRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0FjdGlvblJlcXVpcmVkRGl2JykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAga3ljQWN0aW9uUmVxdWlyZWREaXY/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQga3ljQWN0aW9uUmVxdWlyZWRTdWJtaXR0ZWREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWRTdWJtaXR0ZWREaXYnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBreWNBY3Rpb25SZXF1aXJlZFN1Ym1pdHRlZERpdj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlVHJhZGVCdXR0b24uY2hlY2tLeWNJc0RvbmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZVRyYWRlQnV0dG9uLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEZpbGVVcGxvYWQuZmlsZVVwbG9hZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgRmlsZVVwbG9hZC5maWxlVXBsb2Fkc1tpXS5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGdldEt5Y01lc3NhZ2VzKG1lc3NhZ2VzOiBLeWNSZXN1bHRNZXNzYWdlW10pIHtcclxuICAgICAgICBsZXQga3ljSW5mbyA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGh0bWxUZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzLmdldChtZXNzYWdlc1tpXS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoIWh0bWxUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBIZXJlIHdlIHNob3VsZCB0byBsb2dnZXIsIGNyaXRpY2FsIHRoYXQgd2UgZG9udCBrbm93IHdoeVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGh0bWxUZW1wbGF0ZSlcclxuICAgICAgICAgICAga3ljSW5mbyArPSB0ZW1wbGF0ZSh7bWVzc2FnZTogbWVzc2FnZXNbaV0ubWVzc2FnZX0pXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGt5Y0luZm8gPT0gJycpIHtcclxuICAgICAgICAgICAgbGV0IGh0bWwgPSB0aGlzLnRlbXBsYXRlcy5nZXQoJ1dlRG9udEtub3dXaHlIdG1sJyk7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShodG1sKTtcclxuICAgICAgICAgICAga3ljSW5mbyA9IHRlbXBsYXRlKHt9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBreWNJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGlkZUVycm9yKCkge1xyXG4gICAgICAgIGxldCBreWNBY3Rpb25SZXF1aXJlZEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0FjdGlvblJlcXVpcmVkRXJyb3InKTtcclxuICAgICAgICBpZiAoIWt5Y0FjdGlvblJlcXVpcmVkRXJyb3IpIHJldHVybjtcclxuICAgICAgICBreWNBY3Rpb25SZXF1aXJlZEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dFcnJvcihyZWFzb246IGFueSkge1xyXG4gICAgICAgIGxldCBreWNBY3Rpb25SZXF1aXJlZEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0FjdGlvblJlcXVpcmVkRXJyb3InKTtcclxuICAgICAgICBpZiAoIWt5Y0FjdGlvblJlcXVpcmVkRXJyb3IpIHJldHVybjtcclxuXHJcbiAgICAgICAga3ljQWN0aW9uUmVxdWlyZWRFcnJvci5pbm5lckhUTUwgPSAnRXJyb3Igb2NjdXJyZWQgd2hpbGUgc2F2aW5nIHlvdXIgZG9jdW1lbnRzLiBSZWFzb246JyArIHJlYXNvbjtcclxuICAgICAgICBreWNBY3Rpb25SZXF1aXJlZEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2IGlkPVxcXCJreWNfcmVnXFxcIj5cXHJcXG5cXHJcXG4gICAgPGZvcm0gaWQ9XFxcImt5Y193aXphcmRfZm9ybVxcXCIgbmFtZT1cXFwia3ljX3dpemFyZF9mb3JtXFxcIiBub3ZhbGlkYXRlIG9uc3VibWl0PVxcXCJyZXR1cm4gZmFsc2VcXFwiPlxcclxcbiAgICAgICAge3t7S3ljQ29udGFjdEh0bWx9fX1cXHJcXG4gICAgICAgIHt7e0t5Y0lkZW50aXR5SHRtbH19fVxcclxcbiAgICAgICAge3t7S3ljVHJ1c3RlZENvbnRhY3RIdG1sfX19XFxyXFxuICAgICAgICB7e3tLeWNEaXNjbG9zdXJlSHRtbH19fVxcclxcbiAgICAgICAge3t7S3ljVXBsb2FkSHRtbH19fVxcclxcbiAgICAgICAge3t7S3ljQWNjb3VudEFncmVlbWVudEh0bWx9fX1cXHJcXG4gICAgPC9mb3JtPlxcclxcbjwvZGl2PlxcclxcblxcclxcbjxkaXYgaWQ9XFxcIndhaXRpbmdfZm9yX2t5Y19yZWdcXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcclxcbiAgICBLWUMgaXMgYmVpbmcgcHJvY2Vzc2VkLiBUaGlzIG1heSB0YWtlIGFib3V0IDQtNSBtaW51dGVzLiBXaW5kb3cgd2lsbCBjbG9zZSB3aGVuIGl0J3MgZG9uZS5cXHJcXG4gICAgPGJyLz48YnIvPlxcclxcbiAgICBZb3UgY2FuIGNsb3NlIHRoZSB3aW5kb3csIHdlIHdpbGwgZW1haWwgeW91IHdoZW4gS1lDIGlzIGZpbmlzaGVkLlxcclxcblxcclxcbiAgICA8cHJvZ3Jlc3M+PC9wcm9ncmVzcz5cXHJcXG5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGNsYXNzPVxcXCJreWNDb250YWN0IGhpZGRlblxcXCIgZGF0YS1mb3JtPVxcXCIxXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICBUbyBiZSBhYmxlIHRvIHRyYWRlIG9uIHRoZSBzdG9jayBtYXJrZXQsIHdlIG5lZWQgdG8gZ2V0IHlvdXIgaW5mb3JtYXRpb24uXFxyXFxuICAgICAgICBUaGlzIGlzIGEgcmVxdWlyZW1lbnQgZnJvbSB0aGUgZmluYW5jaWFsIHJlZ3VsYXRvcnMuXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1haWxfYWRkcmVzc1xcXCI+RW1haWw8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiByZXF1aXJlZCBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiZW1haWxfYWRkcmVzc1xcXCIgbmFtZT1cXFwiZW1haWxfYWRkcmVzc1xcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwibmFtZUBleGFtcGxlLmNvbVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJlbWFpbFxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJwaG9uZV9udW1iZXJcXFwiPlBob25lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJwaG9uZV9udW1iZXJcXFwiIG5hbWU9XFxcInBob25lX251bWJlclxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiKzEtNTU1LTY2Ni03Nzg4XFxcIiBhdXRvY29tcGxldGU9XFxcInRlbFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwic3RyZWV0X2FkZHJlc3NcXFwiPlBlcm1hbmVudCBSZXNpZGVudGlhbCBBZGRyZXNzPC9sYWJlbD5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImV4cGxhaW5cXFwiPkl0IG11c3QgYmUgYSBwaHlzaWNhbCBhZGRyZXNzLCBub3QgYSBQTyBib3guPC9kaXY+XFxyXFxuICAgICAgICA8aW5wdXQgcmVxdWlyZWQgaWQ9XFxcInN0cmVldF9hZGRyZXNzXFxcIiBuYW1lPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiMjAgTiBTYW4gTWF0ZW8gRHJcXFwiIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYWRkcmVzcy1saW5lMVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidW5pdFxcXCI+VW5pdCAvIEFwdCAjPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidW5pdFxcXCIgbmFtZT1cXFwidW5pdFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY2l0eVxcXCI+Q2l0eTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcImNpdHlcXFwiIG5hbWU9XFxcImNpdHlcXFwiIHBsYWNlaG9sZGVyPVxcXCJQYXduZWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxldmVsMlxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwicG9zdGFsX2NvZGVcXFwiPlBvc3RhbCBjb2RlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwicG9zdGFsX2NvZGVcXFwiIGF1dG9jb21wbGV0ZT1cXFwicG9zdGFsLWNvZGVcXFwiIG5hbWU9XFxcInBvc3RhbF9jb2RlXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCI5NDQwMVxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcInN0YXRlX2RpdlxcXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJzdGF0ZVxcXCI+U3RhdGUgKDIgbGV0dGVycyk8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG1heGxlbmd0aD1cXFwiMlxcXCIgaWQ9XFxcInN0YXRlXFxcIiBuYW1lPVxcXCJzdGF0ZVxcXCIgcGxhY2Vob2xkZXI9XFxcIk5ZXFxcIlxcclxcbiAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYWRkcmVzcy1sZXZlbDFcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZVxcXCI+Q291bnRyeSBvZiB0YXggcmVzaWRlbmNlPC9sYWJlbD5cXHJcXG4gICAgICAgIHt7I2lmIGVkaXR9fVxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImNvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZVxcXCIgcmVhZG9ubHkgaWQ9XFxcImNvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZVxcXCIvPlxcclxcbiAgICAgICAge3svaWZ9fVxcclxcbiAgICAgICAge3sjdW5sZXNzIGVkaXR9fVxcclxcbiAgICAgICAgPHNlbGVjdCByZXF1aXJlZCBpZD1cXFwiY291bnRyeV9vZl90YXhfcmVzaWRlbmNlXFxcIiBuYW1lPVxcXCJjb3VudHJ5X29mX3RheF9yZXNpZGVuY2VcXFwiIGF1dG9jb21wbGV0ZT1cXFwiY291bnRyeVxcXCI+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3tjb2RlfX1cXFwiPnt7bmFtZX19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgIHt7L3VubGVzc319XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiY29udGFjdF9uZXh0XFxcIj5OZXh0OiBJZGVudGl0eTwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vLi4vdWkvbW9kYWxzL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IFN0cmluZ0hlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9TdHJpbmdIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y1ZhbGlkYXRvckVycm9yIHtcclxuICAgIHZhbGlkVmFsdWVzOiBzdHJpbmcgfCBzdHJpbmdbXSA9ICcnO1xyXG4gICAgaW5wdXROYW1lOiBzdHJpbmcgPSAnJztcclxuICAgIGxhYmVsVGV4dDogc3RyaW5nID0gJyc7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwYXR0ZXJuOiBzdHJpbmcgPSAnJztcclxuICAgIG9uc2hvdzogYW55O1xyXG4gICAga3ljRm9ybTogS1lDRm9ybTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvcjogYW55LCBreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFlcnJvci5pbnB1dE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoZXJyb3IpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG9iai5tZXNzYWdlPy5yZXBsYWNlKC9fL2csICcgJyk7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRWYWx1ZXMgPSBvYmoudmFsaWRWYWx1ZXM/LnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dE5hbWUgPSBvYmouaW5wdXROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsVGV4dCA9IG9iai5sYWJlbFRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMucGF0dGVybiA9IG9iai5wYXR0ZXJuO1xyXG4gICAgICAgICAgICB0aGlzLm9uc2hvdyA9IG9iai5vbnNob3c7XHJcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yLm1lc3NzYWdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5reWNGb3JtID0ga3ljRm9ybTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KHRoaXMuaW5wdXROYW1lKSkge1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlRmllbGRzZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMua3ljRm9ybS5hY3RpdmVGaWVsZHNldFNlbGVjdG9yKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IGlucHV0RXJyb3IgPSBhY3RpdmVGaWVsZHNldC5xdWVyeVNlbGVjdG9yKCcuaW5wdXRfZXJyb3InKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkVmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFcnJvci5pbm5lckhUTUwgPSB0aGlzLnZhbGlkVmFsdWVzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgJiYgdGhpcy5tZXNzYWdlLmluZGV4T2YoJ0ludmFsaWQgZnVuY3Rpb24nKSAhPSAtMSB8fCB0aGlzLm1lc3NhZ2UuaW5kZXhPZignVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIFBhcnNlIEFQSScpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RXJyb3IuaW5uZXJIVE1MID0gJ1dlIGp1c3QgZGVwbG95ZWQgbmV3IHZlcnNpb24gb2Ygb3VyIHdlYnNpdGUuIFRoaXMgY2FuIGNhdXNlIGludGVycnVwdGlvbi4gUGxlYXNlIHdhaXQgMzAgc2Vjb25kcyBhbmQgc3VibWl0IGFnYWluJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEVycm9yLmlubmVySFRNTCA9IHRoaXMubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFcnJvci5zY3JvbGxJbnRvVmlldygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlucHV0TmFtZSk7XHJcbiAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgaW5wdXRFcnJvciA9IGlucHV0LnBhcmVudEVsZW1lbnQhLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9lcnJvcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChpbnB1dEVycm9yKSB7XHJcbiAgICAgICAgICAgIGlucHV0RXJyb3Iuc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiAnY2VudGVyJ30pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICBsZXQgZXJyb3JJbnB1dCA9ICc8ZGl2IGNsYXNzPVwiaW5wdXRfZXJyb3JcIiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrXCIgaWQ9XCJpbnB1dF9lcnJvcl8nICsgdGhpcy5pbnB1dE5hbWUgKyAnXCI+JyArIHRoaXMubWVzc2FnZSArICc8L2Rpdj4nO1xyXG4gICAgICAgIGlmIChpbnB1dC5jbGllbnRXaWR0aCA8IDMwMCkge1xyXG4gICAgICAgICAgICBsZXQgZGl2ID0gdGhpcy5nZXREaXZUb0Rpc3BsYXlFcnJvck1lc3NhZ2UoaW5wdXQpO1xyXG4gICAgICAgICAgICBkaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgZXJyb3JJbnB1dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgZXJyb3JJbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGF0dGVybikge1xyXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BhdHRlcm4nLCB0aGlzLnBhdHRlcm4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3BhdHRlcm4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHBhdHRlcm4gJiYgaW5wdXQudmFsdWUubWF0Y2gocGF0dGVybikpIHx8IChpbnB1dC50eXBlICE9ICdjaGVja2JveCcgJiYgaW5wdXQudHlwZSAhPSAncmFkaW8nICYmIGlucHV0LnJlcXVpcmVkICYmIGlucHV0LnZhbHVlKSB8fCBpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X2Vycm9yXycgKyB0aGlzLmlucHV0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkgZXJyb3JNZXNzYWdlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBmaWVsZHNldEVsZW1lbnQgPSBpbnB1dC5jbG9zZXN0KCdmaWVsZHNldFtkYXRhLWZvcm09XCIxXCJdJyk7XHJcbiAgICAgICAgaWYgKGZpZWxkc2V0RWxlbWVudCkge1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gZmllbGRzZXRFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCdoaWRkZW4nLCAnJykudHJpbSgpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0uc2hvdyhjbGFzc05hbWUpO1xyXG5cclxuICAgICAgICAgICAgaW5wdXQuc2Nyb2xsSW50b1ZpZXcoZmFsc2UpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vbnNob3cpIHtcclxuICAgICAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9uc2hvdy5pZCk7XHJcbiAgICAgICAgICAgIGlmICghbGluaykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgTW9yYWxpcy5DbG91ZC5ydW4odGhpcy5vbnNob3cuZnVuY3Rpb25OYW1lLCB0aGlzLm9uc2hvdy5wYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dF9lcnJvcl8nICsgdGhpcy5pbnB1dE5hbWUpIS5pbm5lckhUTUwgPSAnRW1haWwgaGFzIGJlZW4gc2VudCB0byAnICsgdGhpcy5vbnNob3cucGFyYW1zLmVtYWlsO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGdldERpdlRvRGlzcGxheUVycm9yTWVzc2FnZShpbnB1dDogSFRNTEVsZW1lbnQsIGNvdW50ZXIgPSAxKTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgZGl2ID0gaW5wdXQucGFyZW50RWxlbWVudCEuY2xvc2VzdCgnZGl2Jyk7XHJcbiAgICAgICAgaWYgKCFkaXYpIHJldHVybiBpbnB1dDtcclxuXHJcbiAgICAgICAgaWYgKGRpdi5jbGllbnRXaWR0aCA+IDMwMCB8fCBjb3VudGVyID4gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGl2VG9EaXNwbGF5RXJyb3JNZXNzYWdlKGRpdiwgKytjb3VudGVyKTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL1N0cmluZ0hlbHBlclwiO1xyXG5pbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5pbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vS1lDRm9ybVwiO1xyXG5pbXBvcnQgRmlsZVVwbG9hZCBmcm9tIFwiLi4vLi4vZWxlbWVudHMvRmlsZVVwbG9hZFwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0Jhc2Uge1xyXG4gICAga3ljRm9ybTogS1lDRm9ybTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgdGhpcy5reWNGb3JtID0ga3ljRm9ybTtcclxuXHJcbiAgICAgICAgRmlsZVVwbG9hZC5yZWdpc3RlckhhbmRsZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0ZpZWxkc2V0KHNlbGVjdG9yOiBzdHJpbmcsIGhlYWRlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5oaWRlRmllbGRzZXRzKCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGltaW5hbF9tYXJrZXRfbW9kYWxfZGl2ID4gYXJ0aWNsZSA+IGhlYWRlciA+IHNwYW4nKSEuaW5uZXJIVE1MID0gaGVhZGVyXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpbWluYWxfbWFya2V0X21vZGFsX2RpdiA+IGFydGljbGUnKSEuc2Nyb2xsVG9wID0gMFxyXG4gICAgICAgIHRoaXMua3ljRm9ybS5hY3RpdmVGaWVsZHNldFNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dSZXF1aXJlZE1hcmtlcigpIHtcclxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHNlbGVjdCcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGlucHV0c1tpXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0LmlkKSBjb250aW51ZTtcclxuICAgICAgICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPScgKyBpbnB1dC5pZCArICddJyk7XHJcbiAgICAgICAgICAgIGlmICghbGFiZWwpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlucHV0LnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwuaW5uZXJIVE1MLmluZGV4T2YoJyonKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCArPSAnKic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwuaW5uZXJIVE1MLmluZGV4T2YoJyonKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGxhYmVsLmlubmVySFRNTC5yZXBsYWNlKCcqJywgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRSZXF1aXJlZChpbnB1dElkOiBzdHJpbmcpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKT8uc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICdyZXF1aXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVSZXF1aXJlZChpbnB1dElkOiBzdHJpbmcpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKT8ucmVtb3ZlQXR0cmlidXRlKCdyZXF1aXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kKHNlbGVjdG9yOiBzdHJpbmcsIGV2ZW50TmFtZTogc3RyaW5nLCBhY3Rpb246IChldnQ6IEV2ZW50KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlbGVtZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKGV2dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEZpbGVVcGxvYWRzKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgRmlsZVVwbG9hZC5maWxlVXBsb2Fkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBGaWxlVXBsb2FkLmZpbGVVcGxvYWRzW2ldLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGVGaWVsZHNldHMoKSB7XHJcbiAgICAgICAgbGV0IGZpZWxkc2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNreWNfd2l6YXJkX2Zvcm0gPiBmaWVsZHNldCcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzZXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZpZWxkc2V0c1tpXS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZVJlcXVpcmVkRmllbGRzKHNlbGVjdG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgaW5wdXRbcmVxdWlyZWRdLCAnICsgc2VsZWN0b3IgKyAnIHNlbGVjdFtyZXF1aXJlZF0nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBpbnB1dHNbaV0gYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTWlzc2luZ0lucHV0RnJvbVVzZXIoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgbXVzdCBmaWxsIGludG8gdGhpcyBmaWVsZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXROYW1lOiBpbnB1dC5pZCxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj0nICsgaW5wdXQuaWQgKyAnXScpIS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogaW5wdXQucGF0dGVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBreWNWYWxpZGF0aW9uRXJyb3IgPSBuZXcgS3ljVmFsaWRhdG9yRXJyb3Iob2JqLCB0aGlzLmt5Y0Zvcm0pO1xyXG4gICAgICAgICAgICAgICAga3ljVmFsaWRhdGlvbkVycm9yLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5wdXQucGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBpbnB1dC5wYXR0ZXJuO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpbnB1dC52YWx1ZS5tYXRjaChwYXR0ZXJuKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhpcyBpcyBub3QgdmFsaWQgZGF0ZSBmb3JtYXQsIHBsZWFzZSB1c2UgWVlZWS1NTS1ERCAoeWVhci1tb250aC1kYXRlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0TmFtZTogaW5wdXQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPScgKyBpbnB1dC5pZCArICddJykhLmlubmVySFRNTCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogaW5wdXQucGF0dGVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGt5Y1ZhbGlkYXRpb25FcnJvciA9IG5ldyBLeWNWYWxpZGF0b3JFcnJvcihvYmosIHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAga3ljVmFsaWRhdGlvbkVycm9yLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHNob3dFbGVtZW50KGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGVFbGVtZW50KGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldExhYmVsKGVsZW1lbnRJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXhfaWRfbGFiZWwnKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNNaXNzaW5nSW5wdXRGcm9tVXNlcihpbnB1dDogSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiAoKGlucHV0LnR5cGUgPT0gJ2NoZWNrYm94JyAmJiAhaW5wdXQuY2hlY2tlZCkgfHwgU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVtb3ZlTWlzc2luZ0luZm8oZXJyb3JEaXZJZDogc3RyaW5nLCBmb2N1c0VsZW1lbnRJZD86IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JEaXZJZCk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICBpZiAoIWZvY3VzRWxlbWVudElkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBmb2N1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk7XHJcbiAgICAgICAgaWYgKGZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldE1pc3NpbmdJbmZvKGVycm9yRGl2SWQ6IHN0cmluZywgdGV4dDogc3RyaW5nLCBmb2N1c0VsZW1lbnRJZD86IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JEaXZJZCk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICAgICAgICAgIGlmIChmb2N1c0VsZW1lbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9jdXNFbGVtZW50SWQpPy5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9jdXNFbGVtZW50SWQpPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBLeWNDb250YWN0SHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNDb250YWN0Lmh0bWwnO1xyXG5pbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBDb3VudHJ5SGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0NvdW50cnlIZWxwZXJcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNDb250YWN0IGV4dGVuZHMgS3ljQmFzZSB7XHJcblxyXG4gICAgdXNUYXhSZXNpZGVuY2UgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoZWRpdCA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y0NvbnRhY3RIdG1sKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlKHtlZGl0OiBlZGl0LCBjb3VudHJpZXM6IENvdW50cnlIZWxwZXIuQ291bnRyaWVzfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5zaG93RmllbGRzZXQoJy5reWNDb250YWN0JywgJ0NvbnRhY3QgaW5mb3JtYXRpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmJpbmQoJyNjb3VudHJ5X29mX3RheF9yZXNpZGVuY2UnLCAnY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMudXNUYXhSZXNpZGVuY2UgPSAoaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKSA9PSAnVVNBJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy51c1RheFJlc2lkZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRlX2RpdicpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLnNldFN0ZXBzKDUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdzdGF0ZScpXHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLnNldFN0ZXBzKDYpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJlcXVpcmVkKCdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRlX2RpdicpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBzaG93SWRlbnRpdHlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdF9uZXh0Jyk7XHJcbiAgICAgICAgaWYgKHNob3dJZGVudGl0eUJ1dHRvbikge1xyXG4gICAgICAgICAgICBzaG93SWRlbnRpdHlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVSZXF1aXJlZEZpZWxkcygnLmt5Y0NvbnRhY3QnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNJZGVudGl0eS5zaG93KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGNsYXNzPVxcXCJreWNJZGVudGl0eSBoaWRkZW5cXFwiIGRhdGEtZm9ybT1cXFwiMVxcXCI+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJnaXZlbl9uYW1lXFxcIj5MZWdhbCBGaXJzdCBuYW1lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwiZ2l2ZW5fbmFtZVxcXCIgbmFtZT1cXFwiZ2l2ZW5fbmFtZVxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiUm9uXFxcIlxcclxcbiAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiZ2l2ZW4tbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwibWlkZGxlX25hbWVcXFwiPkxlZ2FsIE1pZGRsZSBuYW1lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwibWlkZGxlX25hbWVcXFwiIG5hbWU9XFxcIm1pZGRsZV9uYW1lXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRpdGlvbmFsLW5hbWVcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImZhbWlseV9uYW1lXFxcIj5MZWdhbCBMYXN0IG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJmYW1pbHlfbmFtZVxcXCIgbmFtZT1cXFwiZmFtaWx5X25hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlN3YW5zb25cXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJmYW1pbHktbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICB7eyN1bmxlc3MgZWRpdH19XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJkYXRlX29mX2JpcnRoXFxcIj5EYXRlIG9mIGJpcnRoPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJkYXRlXFxcIiByZXF1aXJlZCBpZD1cXFwiZGF0ZV9vZl9iaXJ0aFxcXCIgbmFtZT1cXFwiZGF0ZV9vZl9iaXJ0aFxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiMTk3OC0xMS0yNFxcXCIgcGF0dGVybj1cXFwiXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1cXFwiIHZhbHVlPVxcXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYmRheVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbiAgICA8ZGl2IGlkPVxcXCJjaXRpemVuX29mX3VzYV9xdWVzdGlvblxcXCIgY2xhc3M9XFxcImhpZGRlblxcXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjaXRpemVuX3llc1xcXCI+QXJlIHlvdSBhIGNpdGl6ZW4gb2YgdGhlIFVuaXRlZCBTdGF0ZXM/PC9sYWJlbD5cXHJcXG4gICAgICAgIDxmaWVsZHNldD5cXHJcXG4gICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgaWQ9XFxcImNpdGl6ZW5feWVzXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cXFwiY2l0aXplblxcXCIgdmFsdWU9XFxcIjFcXFwiPiBZZXNcXHJcXG4gICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBpZD1cXFwiY2l0aXplbl9ub1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcImNpdGl6ZW5cXFwiIHZhbHVlPVxcXCIwXFxcIj4gTm9cXHJcXG4gICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxmaWVsZHNldCBpZD1cXFwiY2l0aXplbl9ub190eXBlX29wdGlvbnNcXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBlcm1hbmVudF9yZXNpZGVudFxcXCIgaWQ9XFxcImNpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzFcXFwiIHZhbHVlPVxcXCIxXFxcIi8+IEdyZWVuIENhcmRcXHJcXG4gICAgICAgICAgICAgICAgICAgIC8gUGVybWFuZW50IFJlc2lkZW50XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBlcm1hbmVudF9yZXNpZGVudFxcXCIgaWQ9XFxcImNpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzJcXFwiIHZhbHVlPVxcXCIwXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgICAgICBWaXNhPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxcclxcbiAgICAgICAgPC9maWVsZHNldD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcInRheF9pZF90eXBlX29wdGlvbnNcXFwiPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidGF4X2lkX3R5cGVcXFwiPlRheCBJZCBUeXBlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgcmVxdWlyZWQgaWQ9XFxcInRheF9pZF90eXBlXFxcIiBuYW1lPVxcXCJ0YXhfaWRfdHlwZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlVTQV9TU05cXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlVTQV9TU05cXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkFSR19BUl9DVUlUXFxcIj5BcmdlbnRpbmEgQ1VJVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkFVU19URk5cXFwiPkF1c3RyYWxpYW4gVGF4IEZpbGUgTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiQVVTX0FCTlxcXCI+QXVzdHJhbGlhbiBCdXNpbmVzcyBOdW1iZXI8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJCT0xfTklUXFxcIj5Cb2xpdmlhIE5JVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkJSQV9DUEZcXFwiPkJyYXppbCBDUEY8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDSExfUlVUXFxcIj5DaGlsZSBSVVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDT0xfTklUXFxcIj5Db2xvbWJpYSBOSVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDUklfTklURVxcXCI+Q29zdGEgUmljYSBOSVRFPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiREVVX1RBWF9JRFxcXCI+R2VybWFueSBUYXggSUQgKElkZW50aWZpa2F0aW9uc251bW1lcik8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJET01fUk5DXFxcIj5Eb21pbmljYW4gUmVwdWJsaWMgUk5DPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRUNVX1JVQ1xcXCI+RWN1YWRvciBSVUM8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJGUkFfU1BJXFxcIj5GcmFuY2UgU1BJIChSZWZlcmVuY2UgVGF4IE51bWJlcik8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJHQlJfVVRSXFxcIj5VSyBVVFIgKFVuaXF1ZSBUYXhwYXllciBSZWZlcmVuY2UpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiR0JSX05JTk9cXFwiPlVLIE5JTk8gKE5hdGlvbmFsIEluc3VyYW5jZSBOdW1iZXIpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiR1RNX05JVFxcXCI+R3VhdGVtYWxhIE5JVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkhORF9SVE5cXFwiPkhvbmR1cmFzIFJUTjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkhVTl9USU5cXFwiPkh1bmdhcnkgVElOIE51bWJlcjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIklETl9LVFBcXFwiPkluZG9uZXNpYSBLVFA8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJJTkRfUEFOXFxcIj5JbmRpYSBQQU4gTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiSVNSX1RBWF9JRFxcXCI+SXNyYWVsIFRheCBJRCAoVGV1ZGF0IFplaHV0KTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIklUQV9UQVhfSURcXFwiPkl0YWx5IFRheCBJRCAoQ29kaWNlIEZpc2NhbGUpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiSlBOX1RBWF9JRFxcXCI+SmFwYW4gVGF4IElEIChLb2lqaW4gQmFuZ28pPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiTUVYX1JGQ1xcXCI+TWV4aWNvIFJGQzwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIk5JQ19SVUNcXFwiPk5pY2FyYWd1YSBSVUM8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJOTERfVElOXFxcIj5OZXRoZXJsYW5kcyBUSU4gTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUEFOX1JVQ1xcXCI+UGFuYW1hIFJVQzwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlBFUl9SVUNcXFwiPlBlcnUgUlVDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUFJZX1JVQ1xcXCI+UGFyYWd1YXkgUlVDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiU0dQX05SSUNcXFwiPlNpbmdhcG9yZSBOUklDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiU0dQX0ZJTlxcXCI+U2luZ2Fwb3JlIEZJTjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlNHUF9BU0dEXFxcIj5TaW5nYXBvcmUgQVNHRDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlNHUF9JVFJcXFwiPlNpbmdhcG9yZSBJVFI8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJTTFZfTklUXFxcIj5FbCBTYWx2YWRvciBOSVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJTV0VfVEFYX0lEXFxcIj5Td2VkZW4gVGF4IElEIChQZXJzb25udW1tZXIpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiVVJZX1JVVFxcXCI+VXJ1Z3VheSBSVVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJWRU5fUklGXFxcIj5WZW5lenVlbGEgUklGPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiTk9UX1NQRUNJRklFRFxcXCI+T3RoZXIgVGF4IElEczwvb3B0aW9uPlxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGlkPVxcXCJ0YXhfaWRfbGFiZWxcXFwiIGZvcj1cXFwidGF4X2lkXFxcIj5UYXggSWQgKFNTTik8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJ0YXhfaWRcXFwiIG5hbWU9XFxcInRheF9pZFxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiNjY2LTU1LTQzMjFcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGlkPVxcXCJjb3VudHJ5X29mX2JpcnRoX29wdGlvblxcXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb3VudHJ5X29mX2JpcnRoXFxcIj5Db3VudHJ5IG9mIGJpcnRoPC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgaWQ9XFxcImNvdW50cnlfb2ZfYmlydGhcXFwiIG5hbWU9XFxcImNvdW50cnlfb2ZfYmlydGhcXFwiPlxcclxcbiAgICAgICAgICAgIHt7I2VhY2ggY291bnRyaWVzfX1cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2NvZGV9fVxcXCI+e3tuYW1lfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7ey9lYWNofX1cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiY291bnRyeV9vZl9jaXRpemVuc2hpcF9vcHRpb25cXFwiPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY291bnRyeV9vZl9jaXRpemVuc2hpcFxcXCI+Q291bnRyeSBvZiBjaXRpemVuc2hpcDwvbGFiZWw+XFxyXFxuICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJjb3VudHJ5X29mX2NpdGl6ZW5zaGlwXFxcIiBuYW1lPVxcXCJjb3VudHJ5X29mX2NpdGl6ZW5zaGlwXFxcIj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIHt7I2VhY2ggY291bnRyaWVzfX1cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2NvZGV9fVxcXCI+e3tuYW1lfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7ey9lYWNofX1cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwidmlzYV90eXBlX29wdGlvblxcXCIgY2xhc3M9XFxcImhpZGRlblxcXCI+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInZpc2FfdHlwZVxcXCI+VmlzYSB0eXBlIC0gPGFcXHJcXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XFxcImh0dHBzOi8vdHJhdmVsLnN0YXRlLmdvdi9jb250ZW50L3RyYXZlbC9lbi91cy12aXNhcy92aXNhLWluZm9ybWF0aW9uLXJlc291cmNlcy9hbGwtdmlzYS1jYXRlZ29yaWVzLmh0bWxcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+VmlzYVxcclxcbiAgICAgICAgICAgICAgICBpbmZvcm1hdGlvbjwvYT48L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxzZWxlY3QgaWQ9XFxcInZpc2FfdHlwZVxcXCIgbmFtZT1cXFwidmlzYV90eXBlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiQjFcXFwiIHNlbGVjdGVkPlVTQSBWaXNhIENhdGVnb3J5IEItMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJCMlxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgQi0yPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkRBQ0FcXFwiPlVTQSBWaXNhIENhdGVnb3J5IERBQ0E8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRTFcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEUtMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJFMlxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgRS0yPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkUzXFxcIj5VU0EgVmlzYSBDYXRlZ29yeSBFLTM8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRjFcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEYtMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJHNFxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgRy00PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkgxQlxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgSC0xQjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJKMVxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgSi0xPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkwxXFxcIj5VU0EgVmlzYSBDYXRlZ29yeSBMLTE8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiT1RIRVJcXFwiPkFueSBvdGhlciBVU0EgVmlzYSBDYXRlZ29yeTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJPMVxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgTy0xPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlROMVxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgVE4tMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJ2aXNhX2V4cGlyYXRpb25fZGF0ZV9vcHRpb25cXFwiPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInZpc2FfZXhwaXJhdGlvbl9kYXRlXFxcIj5WaXNhIGV4cGlyYXRpb24gZGF0ZTwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImRhdGVcXFwiIGlkPVxcXCJ2aXNhX2V4cGlyYXRpb25fZGF0ZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgbmFtZT1cXFwidmlzYV9leHBpcmF0aW9uX2RhdGVcXFwiIHBsYWNlaG9sZGVyPVxcXCIyMDI4LTA1LTAxXFxcIiB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwiZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2Ffb3B0aW9uXFxcIj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJkYXRlX29mX2RlcGFydHVyZV9mcm9tX3VzYVxcXCI+RGF0ZSBvZiBkZXBhcnR1cmUgZnJvbSBVU0E8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJkYXRlXFxcIiBpZD1cXFwiZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2FcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcImRhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhXFxcIiBwbGFjZWhvbGRlcj1cXFwiMjAyOC0wNS0wMVxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJhbm51YWxfaW5jb21lXFxcIj5Bbm51YWwgSG91c2Vob2xkIEluY29tZTwvbGFiZWw+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5cXHJcXG4gICAgICAgICAgICBBbm51YWwgaG91c2Vob2xkIGluY29tZSBpbmNsdWRlcyBpbmNvbWUgZnJvbSBzb3VyY2VzIHN1Y2ggYXMgZW1wbG95bWVudCwgYWxpbW9ueSwgc29jaWFsIHNlY3VyaXR5LFxcclxcbiAgICAgICAgICAgIGludmVzdG1lbnQgaW5jb21lLCBldGMuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxzZWxlY3QgbmFtZT1cXFwiYW5udWFsX2luY29tZVxcXCIgaWQ9XFxcImFubnVhbF9pbmNvbWVcXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+MCAtICQyMCwwMDA8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj4kMjAsMDAwIC0gJDQ5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjNcXFwiPiQ1MCwwMDAgLSAkOTksOTk5PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiNFxcXCI+JDEwMCwwMDAgLSAkNDk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjVcXFwiPiQ1MDAsMDAwIC0gJDk5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCI2XFxcIj4kMSwwMDAsMDAwIC0gJDksOTk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwibGlxdWlkX25ldF93b3J0aFxcXCI+TGlxdWlkIEFzc2V0czwvbGFiZWw+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5MaXF1aWQgYXNzZXRzIGlzIHlvdXIgbmV0IHdvcnRoIG1pbnVzIGFzc2V0cyB0aGF0IGNhbm5vdCBiZVxcclxcbiAgICAgICAgICAgIGNvbnZlcnRlZCBxdWlja2x5IGFuZCBlYXNpbHkgaW50byBjYXNoLCBzdWNoIGFzIHJlYWwgZXN0YXRlLCBidXNpbmVzcyBlcXVpdHksXFxyXFxuICAgICAgICAgICAgcGVyc29uYWwgcHJvcGVydHkgYW5kIGF1dG9tb2JpbGVzLCBleHBlY3RlZCBpbmhlcml0YW5jZXMsIGFzc2V0cyBlYXJtYXJrZWQgZm9yXFxyXFxuICAgICAgICAgICAgb3RoZXIgcHVycG9zZXMsIGFuZCBpbnZlc3RtZW50cyBvciBhY2NvdW50cyBzdWJqZWN0IHRvIHN1YnN0YW50aWFsIHBlbmFsdGllc1xcclxcbiAgICAgICAgICAgIGlmIHRoZXkgd2VyZSBzb2xkIG9yIGlmIGFzc2V0cyB3ZXJlIHdpdGhkcmF3biBmcm9tIHRoZW0uXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxzZWxlY3QgbmFtZT1cXFwibGlxdWlkX25ldF93b3J0aFxcXCIgcmVxdWlyZWQgaWQ9XFxcImxpcXVpZF9uZXRfd29ydGhcXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+MCAtICQyMCwwMDA8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj4kMjAsMDAwIC0gJDQ5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjNcXFwiPiQ1MCwwMDAgLSAkOTksOTk5PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiNFxcXCI+JDEwMCwwMDAgLSAkNDk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjVcXFwiPiQ1MDAsMDAwIC0gJDk5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIxXFxcIj4kMSwwMDAsMDAwIC0gJDksOTk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZnVuZGluZ19zb3VyY2VcXFwiPkZ1bmRpbmcgc291cmNlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgcmVxdWlyZWQgaWQ9XFxcImZ1bmRpbmdfc291cmNlXFxcIiBuYW1lPVxcXCJmdW5kaW5nX3NvdXJjZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgbXVsdGlwbGUgc2l6ZT1cXFwiNFxcXCIgYXJpYS1sYWJlbD1cXFwic2l6ZSAzIHNlbGVjdFxcXCI+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZW1wbG95bWVudF9pbmNvbWVcXFwiPkVtcGxveW1lbnQgaW5jb21lPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiaW52ZXN0bWVudHNcXFwiPkludmVzdG1lbnRzPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiaW5oZXJpdGFuY2VcXFwiPkluaGVyaXRhbmNlPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiYnVzaW5lc3NfaW5jb21lXFxcIj5CdXNpbmVzcyBpbmNvbWU8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJzYXZpbmdzXFxcIj5TYXZpbmdzPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZmFtaWx5XFxcIj5GYW1pbHk8L29wdGlvbj5cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAge3svdW5sZXNzfX1cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiaWRlbnRpdHlfcHJldlxcXCI+UHJldmlvdXM6IENvbnRhY3Q8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiaWRlbnRpdHlfbmV4dFxcXCI+TmV4dDogVHJ1c3RlZCBjb250YWN0czwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vS1lDRm9ybVwiO1xyXG5pbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLeWNJZGVudGl0eUh0bWwgZnJvbSBcIi4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0lkZW50aXR5Lmh0bWxcIjtcclxuaW1wb3J0IENvdW50cnlIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvQ291bnRyeUhlbHBlclwiO1xyXG5pbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0lkZW50aXR5IGV4dGVuZHMgS3ljQmFzZSB7XHJcbiAgICBlZGl0ID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioa3ljRm9ybTogS1lDRm9ybSkge1xyXG4gICAgICAgIHN1cGVyKGt5Y0Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoZWRpdCA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0ID0gZWRpdDtcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y0lkZW50aXR5SHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlKHtlZGl0OiBlZGl0LCBjb3VudHJpZXM6IENvdW50cnlIZWxwZXIuQ291bnRyaWVzfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmt5Y0Zvcm0ua3ljQ29udGFjdC51c1RheFJlc2lkZW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dFbGVtZW50KCdjaXRpemVuX29mX3VzYV9xdWVzdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCd0YXhfaWRfdHlwZV9vcHRpb25zJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TGFiZWwoJ3RheF9pZF9sYWJlbCcsICdTU04nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCdjaXRpemVuX29mX3VzYV9xdWVzdGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzLnNldExhYmVsKCd0YXhfaWRfbGFiZWwnLCAnTmF0aW9uYWwgVGF4IElkIChTU04pJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ3RheF9pZF90eXBlX29wdGlvbnMnKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNob3dGaWVsZHNldCgnLmt5Y0lkZW50aXR5JywgJ0lkZW50aXR5Jyk7XHJcbiAgICAgICAgdGhpcy5zaG93RWxlbWVudCgnY291bnRyeV9vZl9jaXRpemVuc2hpcF9vcHRpb24nKTtcclxuICAgICAgICBsZXQgY291bnRyeV9vZl9jaXRpemVuc2hpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGNvdW50cnlfb2ZfY2l0aXplbnNoaXApIHtcclxuICAgICAgICAgICAgY291bnRyeV9vZl9jaXRpemVuc2hpcC5vcHRpb25zWzFdLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG5cclxuICAgICAgICB0aGlzLmJpbmQoJyNjaXRpemVuX3llcycsICdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRheElkVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXhfaWRfdHlwZScpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRheElkVHlwZSkgdGF4SWRUeXBlLnZhbHVlID0gJ1VTQV9TU04nO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb3VudHJ5X29mX2NpdGl6ZW5zaGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXAnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNvdW50cnlfb2ZfY2l0aXplbnNoaXAub3B0aW9uc1sxXS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY291bnRyeV9vZl9jaXRpemVuc2hpcC52YWx1ZSA9ICdVU0EnO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUVsZW1lbnQoJ2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCd2aXNhX3R5cGVfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgnY291bnRyeV9vZl9iaXJ0aCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgndmlzYV90eXBlJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJlcXVpcmVkKCd2aXNhX2V4cGlyYXRpb25fZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgnZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2EnKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXhfaWRfbGFiZWwnKSEuaW5uZXJIVE1MID0gJ1NTTidcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUNpdGl6ZW5FcnJvck1lc3NhZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5iaW5kKCcjY2l0aXplbl9ubycsICdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RWxlbWVudCgnY2l0aXplbl9ub190eXBlX29wdGlvbnMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXBfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdjb3VudHJ5X29mX2JpcnRoJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGF4X2lkX2xhYmVsJykhLmlubmVySFRNTCA9ICdTU04nXHJcbiAgICAgICAgICAgICAgICBsZXQgY291bnRyeV9vZl9jaXRpemVuc2hpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5X29mX2NpdGl6ZW5zaGlwLm9wdGlvbnNbMF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY291bnRyeV9vZl9jaXRpemVuc2hpcC5vcHRpb25zWzFdLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVDaXRpemVuRXJyb3JNZXNzYWdlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYmluZCgnI2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzEnLCAnY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXBfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCd2aXNhX3R5cGVfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdjb3VudHJ5X29mX2JpcnRoJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJlcXVpcmVkKCd2aXNhX3R5cGUnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgndmlzYV9leHBpcmF0aW9uX2RhdGUnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgnZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2EnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kKCcjY2l0aXplbl9ub190eXBlX29wdGlvbnNfMicsICdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RWxlbWVudCgndmlzYV90eXBlX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RWxlbWVudCgnY291bnRyeV9vZl9jaXRpemVuc2hpcF9vcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVxdWlyZWQoJ2NvdW50cnlfb2ZfYmlydGgnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVxdWlyZWQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXAnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVxdWlyZWQoJ3Zpc2FfdHlwZScpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCd2aXNhX2V4cGlyYXRpb25fZGF0ZScpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdkYXRlX29mX2RlcGFydHVyZV9mcm9tX3VzYScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmJpbmQoJyN2aXNhX3R5cGUnLCAnY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZSA9PSAnQjEnIHx8IGlucHV0LnZhbHVlID09ICdCMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2RhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhX29wdGlvbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgnZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2Ffb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmJpbmRCdXR0b25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoaWRlQ2l0aXplbkVycm9yTWVzc2FnZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0aXplbl95ZXMnKSEucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X2Vycm9yX2NpdGl6ZW5feWVzJyk7XHJcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkgZXJyb3JNZXNzYWdlLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgbGV0IHNob3dDb250YWN0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkZW50aXR5X3ByZXYnKTtcclxuICAgICAgICBzaG93Q29udGFjdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNDb250YWN0LnNob3coKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgc2hvd0Rpc2Nsb3N1cmVzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkZW50aXR5X25leHQnKTtcclxuICAgICAgICBzaG93RGlzY2xvc3VyZXNCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVJbnB1dHMoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVSZXF1aXJlZEZpZWxkcygnLmt5Y0lkZW50aXR5JykpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNUcnVzdGVkQ29udGFjdC5zaG93KCk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZUlucHV0cygpIHtcclxuICAgICAgICBpZiAodGhpcy5lZGl0KSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IGNpdGl6ZW5feWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdGl6ZW5feWVzJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgY2l0aXplbl9ubyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXRpemVuX25vJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmt5Y0Zvcm0ua3ljQ29udGFjdC51c1RheFJlc2lkZW5jZSkge1xyXG4gICAgICAgICAgICBjaXRpemVuX3llcy5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNpdGl6ZW5fbm8uY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2l0aXplbl95ZXMuY2hlY2tlZCAmJiAhY2l0aXplbl9uby5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IG11c3Qgc2VsZWN0IGVpdGhlciBvcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lOiAnY2l0aXplbl95ZXMnLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9Y2l0aXplbl95ZXNdJykhLmlubmVySFRNTFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQga3ljVmFsaWRhdGlvbkVycm9yID0gbmV3IEt5Y1ZhbGlkYXRvckVycm9yKG9iaiwgdGhpcy5reWNGb3JtKTtcclxuICAgICAgICAgICAga3ljVmFsaWRhdGlvbkVycm9yLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZ3JlZW5DYXJkT3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzEnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCB2aXNhT3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmIChjaXRpemVuX25vLmNoZWNrZWQgJiYgIWdyZWVuQ2FyZE9wdGlvbi5jaGVja2VkICYmICF2aXNhT3B0aW9uLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgbXVzdCBzZWxlY3QgZWl0aGVyIG9wdGlvbiwgXCJHcmVlbiBDYXJkIC8gUGVybWFuZW50IFJlc2lkZW50XCIgb3IgXCJWaXNhXCInLFxyXG4gICAgICAgICAgICAgICAgaW5wdXROYW1lOiAnY2l0aXplbl9ubycsXHJcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICcnXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBreWNWYWxpZGF0aW9uRXJyb3IgPSBuZXcgS3ljVmFsaWRhdG9yRXJyb3Iob2JqLCB0aGlzLmt5Y0Zvcm0pO1xyXG4gICAgICAgICAgICBreWNWYWxpZGF0aW9uRXJyb3IuaGFuZGxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldCBjbGFzcz1cXFwia3ljRGlzY2xvc3VyZXMgaGlkZGVuXFxcIiBkYXRhLWZvcm09XFxcIjFcXFwiPlxcclxcbiAgICB7eyN1bmxlc3MgZWRpdH19XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbXBsb3ltZW50X3N0YXR1c1xcXCI+RW1wbG95bWVudCBzdGF0dXM8L2xhYmVsPlxcclxcbiAgICAgICAgPHNlbGVjdCBpZD1cXFwiZW1wbG95bWVudF9zdGF0dXNcXFwiIHJlcXVpcmVkIG5hbWU9XFxcImVtcGxveW1lbnRfc3RhdHVzXFxcIj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImVtcGxveWVkXFxcIj5FbXBsb3llZDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInVuZW1wbG95ZWRcXFwiPlVuZW1wbG95ZWQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJyZXRpcmVkXFxcIj5SZXRpcmVkPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwic3R1ZGVudFxcXCI+U3R1ZGVudDwvb3B0aW9uPlxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1wbG95ZXJfbmFtZVxcXCI+RW1wbG95ZXIgbmFtZTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiZW1wbG95ZXJfbmFtZVxcXCIgaWQ9XFxcImVtcGxveWVyX25hbWVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbXBsb3llcl9hZGRyZXNzXFxcIj5FbXBsb3llciBhZGRyZXNzPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJlbXBsb3llcl9hZGRyZXNzXFxcIiBpZD1cXFwiZW1wbG95ZXJfYWRkcmVzc1xcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImVtcGxveW1lbnRfcG9zaXRpb25cXFwiPk9jY3VwYXRpb24gLyBKb2IgdGl0bGU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImVtcGxveW1lbnRfcG9zaXRpb25cXFwiIGlkPVxcXCJlbXBsb3ltZW50X3Bvc2l0aW9uXFxcIiBhdXRvY29tcGxldGU9XFxcIm9yZ2FuaXphdGlvbi10aXRsZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAge3svdW5sZXNzfX1cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZGlzY2xvc3VyZV9zZWxlY3Rpb25zXFxcIj5cXHJcXG4gICAgICAgIERvIGFueSBvZiB0aGUgZm9sbG93aW5nIGFwcGx5IHRvIHlvdSBvciBhIG1lbWJlciBvZiB5b3VyIGltbWVkaWF0ZSBmYW1pbHk/XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcImlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmFcXFwiIG5hbWU9XFxcImlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmFcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cXFwic3dpdGNoXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICBBZmZpbGlhdGVkIG9yIHdvcmsgd2l0aCBhIFVTIHJlZ2lzdGVyZWQgYnJva2VyLWRlYWxlciBvclxcclxcbiAgICAgICAgICAgICAgICBGSU5SQS5cXHJcXG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVxcXCJleHBsYWluXFxcIj5BcmUgeW91IG9yIGFuIGltbWVkaWF0ZSBmYW1pbHkgbWVtYmVyIGFmZmlsaWF0ZWQgd2l0aCBvciBlbXBsb3llZCBieSBhIHN0b2NrXFxyXFxuICAgICAgICAgICAgICAgICAgICBleGNoYW5nZSwgcmVndWxhdG9yeSBib2R5LCBtZW1iZXIgZmlybSBvZiBhbiBleGNoYW5nZSwgRklOUkEgb3IgYSBtdW5pY2lwYWwgc2VjdXJpdGllc1xcclxcbiAgICAgICAgICAgICAgICAgICAgYnJva2VyLWRlYWxlcj88L3NtYWxsPlxcclxcblxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhX2V4dHJhXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaXNfY29udHJvbF9wZXJzb25cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwiaXNfY29udHJvbF9wZXJzb25cXFwiIG5hbWU9XFxcImlzX2NvbnRyb2xfcGVyc29uXFxcIiByb2xlPVxcXCJzd2l0Y2hcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgIFNlbmlvciBleGVjdXRpdmUgYXQgb3IgYSAxMCUgb3IgZ3JlYXRlciBzaGFyZWhvbGRlciBvZiBhIHB1YmxpY2x5IHRyYWRlZCBjb21wYW55LlxcclxcbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XFxcImV4cGxhaW5cXFwiPkFyZSB5b3Ugb3IgYW4gaW1tZWRpYXRlIGZhbWlseSBtZW1iZXIgYW4gb2ZmaWNlciBvciAxMCUgb3IgZ3JlYXRlciBzaGFyZWhvbGRlciBvZlxcclxcbiAgICAgICAgICAgICAgICAgICAgYSBwdWJsaWNseSB0cmFkZWQgY29tcGFueSwgc3ViamVjdCB0byB0aGUgVVMgU2VjdXJpdGllcyBFeGNoYW5nZSBBY3QgMTkzND88L3NtYWxsPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpc19jb250cm9sX3BlcnNvbl9leHRyYVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlzX3BvbGl0aWNhbGx5X2V4cG9zZWRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwiaXNfcG9saXRpY2FsbHlfZXhwb3NlZFxcXCIgbmFtZT1cXFwiaXNfcG9saXRpY2FsbHlfZXhwb3NlZFxcXCIgcm9sZT1cXFwic3dpdGNoXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICBJIGFtIGEgc2VuaW9yIHBvbGl0aWNhbCBmaWd1cmUuXFxyXFxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cXFwiZXhwbGFpblxcXCI+QXJlIHlvdSBjdXJyZW50bHkgb3IgZm9ybWVybHkgYSBQb2xpdGljYWxseSBFeHBvc2VkIFBlcnNvbiBvciBQdWJsaWMgT2ZmaWNpYWxcXHJcXG4gICAgICAgICAgICAgICAgICAgIChQRVApPyA8YSBocmVmPVxcXCJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSVFMiU4MCU5Q1BvbGl0aWNhbGx5K0V4cG9zZWQrUGVyc29uJUUyJTgwJTlEKyhQRVApXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5XaGF0IGlzIFBFUD88L2E+IDwvYT48L3NtYWxsPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpc19wb2xpdGljYWxseV9leHBvc2VkX2V4dHJhXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwiaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkXFxcIiBuYW1lPVxcXCJpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWRcXFwiIHJvbGU9XFxcInN3aXRjaFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgSSBhbSBhIGZhbWlseSBtZW1iZXIgb3IgcmVsYXRpdmUgb2YgYSBzZW5pb3IgcG9saXRpY2FsIGZpZ3VyZS5cXHJcXG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVxcXCJleHBsYWluXFxcIj5BcmUgeW91IGFuIGltbWVkaWF0ZSBmYW1pbHkgbWVtYmVyIGN1cnJlbnRseSBvciBmb3JtZXJseSBhIFBvbGl0aWNhbGx5IEV4cG9zZWRcXHJcXG4gICAgICAgICAgICAgICAgICAgIFBlcnNvbiBvciBQdWJsaWMgT2ZmaWNpYWwgKFBFUCk/IDxhXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XFxcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9JUUyJTgwJTlDUG9saXRpY2FsbHkrRXhwb3NlZCtQZXJzb24lRTIlODAlOUQrKFBFUClcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5XaGF0IGlzIFBFUD88L2E+PC9zbWFsbD5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkX2V4dHJhXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwibm9uZV9hYm92ZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGlkPVxcXCJub25lX2Fib3ZlXFxcIiBuYW1lPVxcXCJub25lX2Fib3ZlXFxcIiByb2xlPVxcXCJzd2l0Y2hcXFwiPjwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgTm9uZSBvZiB0aGUgYWJvdmUgYXBwbHkgdG8gbWUgb3IgbXkgZmFtaWx5LlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcIm5vbmVfYWJvdmVfZXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiZGlzY2xvc3VyZXNfcHJldlxcXCI+UHJldmlvdXM6IFRydXN0ZWQgY29udGFjdDwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJkaXNjbG9zdXJlc19uZXh0XFxcIj5OZXh0OiBBZ3JlZW1lbnRzPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldCBpZD1cXFwiYWZmaWxpYXRlX29yX2NvbnRyb2xsZWRcXFwiPlxcclxcbiAgICA8ZGl2PllvdSBuZWVkIHRvIGZpbGwgaW4gdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29tcGFueV9uYW1lXFxcIj5Db21wYW55IG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImNvbXBhbnlfbmFtZVxcXCIgcmVxdWlyZWQgaWQ9XFxcImNvbXBhbnlfbmFtZVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvcmdhbml6YXRpb25cXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb21wYW55X3N0cmVldF9hZGRyZXNzXFxcIj5Db21wYW55IHN0cmVldCBhZGRyZXNzPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb21wYW55X3N0cmVldF9hZGRyZXNzXFxcIiByZXF1aXJlZCBpZD1cXFwiY29tcGFueV9zdHJlZXRfYWRkcmVzc1xcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvbXBhbnlfY2l0eVxcXCI+Q29tcGFueSBjaXR5PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb21wYW55X2NpdHlcXFwiIHJlcXVpcmVkIGlkPVxcXCJjb21wYW55X2NpdHlcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb21wYW55X3N0YXRlXFxcIj5Db21wYW55IHN0YXRlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb21wYW55X3N0YXRlXFxcIiByZXF1aXJlZCBpZD1cXFwiY29tcGFueV9zdGF0ZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvbXBhbnlfY291bnRyeVxcXCI+Q29tcGFueSBjb3VudHJ5PC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgcmVxdWlyZWQgaWQ9XFxcImNvbXBhbnlfY291bnRyeVxcXCIgcmVxdWlyZWQgbmFtZT1cXFwiY29tcGFueV9jb3VudHJ5XFxcIj5cXHJcXG4gICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3tjb2RlfX1cXFwiPnt7bmFtZX19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb21wYW55X2NvbXBsaWFuY2VfZW1haWxcXFwiPkNvbXBhbnkgY29tcGxpYW5jZSBvZmZpY2VyIGVtYWlsPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb21wYW55X2NvbXBsaWFuY2VfZW1haWxcXFwiIHJlcXVpcmVkIGlkPVxcXCJjb21wYW55X2NvbXBsaWFuY2VfZW1haWxcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5cXHJcXG4gICAgICAgICAgICBJbiBhY2NvcmRhbmNlIHdpdGggYXBwbGljYWJsZSBGSU5SQSBydWxlcywgdXNlciB3aWxsIG5lZWQgdG8gb2J0YWluIGEgbGV0dGVyIHdyaXR0ZW5cXHJcXG4gICAgICAgICAgICBhbmQgc2lnbmVkIGJ5IGEgY29tcGxpYW5jZSBvZmZpY2VyIG9uIGNvbXBhbnkgbGV0dGVyaGVhZCBleHBsaWNpdGx5IGdyYW50aW5nIHBlcm1pc3Npb24gZm9yXFxyXFxuICAgICAgICAgICAgdGhlIGFwcGxpY2FudCB0byBjYXJyeSB0aGUgYWNjb3VudCBhbmQgZXhwbGljaXRseSBzdGF0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBmaXJtIHJlcXVpcmVzXFxyXFxuICAgICAgICAgICAgYWNjZXNzIHRvIGR1cGxpY2F0ZSBhY2NvdW50IHN0YXRlbWVudHMgYW5kL29yIHRyYWRlIGNvbmZpcm1hdGlvbnMuXFxyXFxuXFxyXFxuICAgICAgICAgICAgSWYgdGhlIGZpcm0gd291bGQgbGlrZSBvbmxpbmUgYWNjZXNzIHlvdXIgZHVwbGljYXRlIGFjY291bnQgc3RhdGVtZW50cyBhbmQvb3IgdHJhZGUgY29uZmlybWF0aW9ucyxcXHJcXG4gICAgICAgICAgICBpbmNsdWRlIGluIHRoZSBsZXR0ZXIgdGhlIGFwcGxpY2FudCdzIGZ1bGwgbmFtZSBhbmQgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiBmb3IgdGhlIGludGVyZXN0ZWRcXHJcXG4gICAgICAgICAgICBwYXJ0eTogRmlyc3QgYW5kIGxhc3QgbmFtZSwgdGl0bGUsIGVtYWlsIGFkZHJlc3MsIHRlbGVwaG9uZSBudW1iZXIuXFxyXFxuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIHt7e2ZpbGVVcGxvYWQgXFxcImFjY291bnRfYXBwcm92YWxfbGV0dGVyXFxcIiBcXFwiQWNjb3VudCBhcHByb3ZhbCBsZXR0ZXJcXFwifX19XFxyXFxuXFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBLeWNCYXNlIGZyb20gXCIuL0t5Y0Jhc2VcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IEt5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZEh0bWwgZnJvbSBcIi4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZC5odG1sXCI7XHJcbmltcG9ydCBDb3VudHJ5SGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0NvdW50cnlIZWxwZXJcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNBZmZpbGlhdGVPckNvbnRyb2xsZWQgZXh0ZW5kcyBLeWNCYXNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQga3ljQWZmaWxpYXRlT3JDb250cm9sbGVkVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkSHRtbClcclxuICAgICAgICByZXR1cm4ga3ljQWZmaWxpYXRlT3JDb250cm9sbGVkVGVtcGxhdGUoe2NvdW50cmllczogQ291bnRyeUhlbHBlci5Db3VudHJpZXN9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmJpbmRGaWxlVXBsb2FkcygpO1xyXG5cclxuICAgICAgICBsZXQgY29tcGFueV9jb3VudHJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlfY291bnRyeScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgY29tcGFueV9jb3VudHJ5Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3QgPSBldnQudGFyZ2V0IGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0LnZhbHVlID09PSAnVVNBJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXF1aXJlZCgnY29tcGFueV9zdGF0ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgnY29tcGFueV9zdGF0ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGNvbXBhbnlfbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55X25hbWUnKTtcclxuICAgICAgICBpZiAoIWNvbXBhbnlfbmFtZSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoJyNhZmZpbGlhdGVfb3JfY29udHJvbGxlZCcpXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgaWQ9XFxcImltbWVkaWF0ZV9mYW1pbHlcXFwiPlxcclxcbiAgICA8ZGl2PlNpbmNlIHlvdSBjaG9zZSB0aGF0IHlvdXIgaW1tZWRpYXRlIGZhbWlseSBtZW1iZXIsIHlvdSBuZWVkIHRvIGZpbGwgaW4gdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGlzY2xvc3VyZV9naXZlbl9uYW1lXFxcIj5HaXZlbiBuYW1lIG9mIHBvbGl0aWNhbCBwZXJzb248L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImRpc2Nsb3N1cmVfZ2l2ZW5fbmFtZVxcXCIgaWQ9XFxcImRpc2Nsb3N1cmVfZ2l2ZW5fbmFtZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImRpc2Nsb3N1cmVfZmFtaWx5X25hbWVcXFwiPkZhbWlseSBuYW1lIG9mIHBvbGl0aWNhbCBwZXJzb248L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImRpc2Nsb3N1cmVfZmFtaWx5X25hbWVcXFwiIGlkPVxcXCJkaXNjbG9zdXJlX2ZhbWlseV9uYW1lXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBLeWNCYXNlIGZyb20gXCIuL0t5Y0Jhc2VcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IEt5Y0ltbWVkaWF0ZUZhbWlseUh0bWwgZnJvbSBcIi4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0ltbWVkaWF0ZUZhbWlseS5odG1sXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljSW1tZWRpYXRlRmFtaWx5IGV4dGVuZHMgS3ljQmFzZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQga3ljSW1tZWRpYXRlRmFtaWx5VGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljSW1tZWRpYXRlRmFtaWx5SHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIGt5Y0ltbWVkaWF0ZUZhbWlseVRlbXBsYXRlKHt9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBsZXQgZGlzY2xvc3VyZV9naXZlbl9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2Nsb3N1cmVfZ2l2ZW5fbmFtZScpXHJcbiAgICAgICAgaWYgKCFkaXNjbG9zdXJlX2dpdmVuX25hbWUpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCcjaW1tZWRpYXRlX2ZhbWlseScpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBLeWNEaXNjbG9zdXJlSHRtbCBmcm9tIFwiLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljRGlzY2xvc3VyZXMuaHRtbFwiO1xyXG5pbXBvcnQgS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkIGZyb20gXCIuL0t5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZFwiO1xyXG5pbXBvcnQgS3ljSW1tZWRpYXRlRmFtaWx5IGZyb20gXCIuL0t5Y0ltbWVkaWF0ZUZhbWlseVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0Rpc2Nsb3N1cmVzIGV4dGVuZHMgS3ljQmFzZSB7XHJcbiAgICBreWNBZmZpbGlhdGVkT3JDb250cm9sbGVkOiBLeWNBZmZpbGlhdGVPckNvbnRyb2xsZWQ7XHJcbiAgICBreWNJbW1lZGlhdGVGYW1pbHk6IEt5Y0ltbWVkaWF0ZUZhbWlseTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcblxyXG4gICAgICAgIHRoaXMua3ljQWZmaWxpYXRlZE9yQ29udHJvbGxlZCA9IG5ldyBLeWNBZmZpbGlhdGVPckNvbnRyb2xsZWQodGhpcy5reWNGb3JtKTtcclxuICAgICAgICB0aGlzLmt5Y0ltbWVkaWF0ZUZhbWlseSA9IG5ldyBLeWNJbW1lZGlhdGVGYW1pbHkodGhpcy5reWNGb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGVkaXQgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNEaXNjbG9zdXJlSHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlKHtlZGl0OiBlZGl0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMua3ljRm9ybS5zdGVwcyA9PSA1KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjbG9zdXJlc19uZXh0JykhLmlubmVyVGV4dCA9ICdOZXh0OiBBZ3JlZW1lbnRzJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY2xvc3VyZXNfbmV4dCcpIS5pbm5lclRleHQgPSAnTmV4dDogVXBsb2FkIGRvY3VtZW50cyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hvd0ZpZWxkc2V0KCcua3ljRGlzY2xvc3VyZXMnLCAnRGlzY2xvc3VyZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuXHJcbiAgICAgICAgbGV0IGlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZEFmZmlsaWF0ZWRPckNvbnRyb2xDb21wb25lbnQoJ2lzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGlzX2NvbnRyb2xfcGVyc29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzX2NvbnRyb2xfcGVyc29uJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpc19jb250cm9sX3BlcnNvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZEFmZmlsaWF0ZWRPckNvbnRyb2xDb21wb25lbnQoJ2lzX2NvbnRyb2xfcGVyc29uJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRQZXAoJ2ltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGlzX3BvbGl0aWNhbGx5X2V4cG9zZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNfcG9saXRpY2FsbHlfZXhwb3NlZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaXNfcG9saXRpY2FsbHlfZXhwb3NlZD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudW5jaGVjaygnaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgbm9uZV9hYm92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub25lX2Fib3ZlJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBub25lX2Fib3ZlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVNaXNzaW5nSW5mbygnbm9uZV9hYm92ZV9lcnJvcicpO1xyXG4gICAgICAgICAgICBub25lX2Fib3ZlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IHByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY2xvc3VyZXNfcHJldicpO1xyXG4gICAgICAgIHByZXY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljVHJ1c3RlZENvbnRhY3Quc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgbmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjbG9zdXJlc19uZXh0Jyk7XHJcbiAgICAgICAgbmV4dD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZpZWxkcygpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmt5Y0Zvcm0uc3RlcHMgPT0gNSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0FjY291bnRBZ3JlZW1lbnQuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y1VwbG9hZC5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRBZmZpbGlhdGVkT3JDb250cm9sQ29tcG9uZW50KGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRJZCA9PSAnaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYScpIHtcclxuICAgICAgICAgICAgdGhpcy51bmNoZWNrKCdpc19jb250cm9sX3BlcnNvbicpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bmNoZWNrKCdpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBleHRyYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCArICdfZXh0cmEnKTtcclxuICAgICAgICBpZiAoIWV4dHJhKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgZXh0cmEuaW5uZXJIVE1MID0gdGhpcy5reWNBZmZpbGlhdGVkT3JDb250cm9sbGVkLnJlbmRlcigpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0FmZmlsaWF0ZWRPckNvbnRyb2xsZWQuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4dHJhLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRQZXAoZWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoZWxlbWVudElkID09ICdpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5jaGVjaygnaXNfcG9saXRpY2FsbHlfZXhwb3NlZCcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bmNoZWNrKCdpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGV4dHJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkICsgJ19leHRyYScpO1xyXG4gICAgICAgIGlmICghZXh0cmEpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBleHRyYS5pbm5lckhUTUwgPSB0aGlzLmt5Y0ltbWVkaWF0ZUZhbWlseS5yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5reWNJbW1lZGlhdGVGYW1pbHkuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4dHJhLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVuY2hlY2soZWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgZXh0cmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQgKyAnX2V4dHJhJykhO1xyXG4gICAgICAgIGV4dHJhLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmFsaWRhdGVGaWVsZHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoJy5reWNEaXNjbG9zdXJlcycpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKCF0aGlzLmt5Y0ltbWVkaWF0ZUZhbWlseS52YWxpZGF0ZSgpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKCF0aGlzLmt5Y0FmZmlsaWF0ZWRPckNvbnRyb2xsZWQudmFsaWRhdGUoKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgaXNfY29udHJvbF9wZXJzb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNfY29udHJvbF9wZXJzb24nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBpc19wb2xpdGljYWxseV9leHBvc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzX3BvbGl0aWNhbGx5X2V4cG9zZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgbm9uZV9hYm92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub25lX2Fib3ZlJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKCFub25lX2Fib3ZlLmNoZWNrZWQgJiYgIWlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEuY2hlY2tlZCAmJiAhaXNfY29udHJvbF9wZXJzb24uY2hlY2tlZFxyXG4gICAgICAgICAgICAmJiAhaXNfcG9saXRpY2FsbHlfZXhwb3NlZC5jaGVja2VkICYmICFpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQuY2hlY2tlZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCdub25lX2Fib3ZlX2Vycm9yJywgJ1lvdSBtdXN0IHNlbGVjdCwgXCJOb25lIG9mIHRoZSBhYm92ZSBhcHBseSB0byBtZSBvciBteSBmYW1pbHkuXCIgaWYgbm90aGluZyBpcyBzZWxlY3RlZCcsICdub25lX2Fib3ZlJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChub25lX2Fib3ZlLmNoZWNrZWQgJiYgKGlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEuY2hlY2tlZCB8fCBpc19jb250cm9sX3BlcnNvbi5jaGVja2VkXHJcbiAgICAgICAgICAgIHx8IGlzX3BvbGl0aWNhbGx5X2V4cG9zZWQuY2hlY2tlZCB8fCBpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQuY2hlY2tlZFxyXG4gICAgICAgICkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygnbm9uZV9hYm92ZV9lcnJvcicsICdZb3UgY2Fubm90IGhhdmUgXCJOb25lIG9mIHRoZSBhYm92ZSBhcHBseSB0byBtZSBvciBteSBmYW1pbHkuXCIgc2VsZWN0ZWQgYW5kIG90aGVyIG9wdGlvbnMgc2VsZWN0ZWQuIFBsZWFzZSBzZWxlY3Qgb25seSBvbmUnLCAnbm9uZV9hYm92ZScpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldCBjbGFzcz1cXFwia3ljQWNjb3VudEFncmVlbWVudCBoaWRkZW5cXFwiIGRhdGEtZm9ybT1cXFwiMVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImt5Y0FjY291bnRBZ3JlZW1lbnRHcmlkXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcImFjY291bnRfYWdyZWVtZW50X2Vycm9yXFxcIiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiYWNjb3VudF9hZ3JlZW1lbnRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJhY2NvdW50X2FncmVlbWVudFxcXCIgaWQ9XFxcImFjY291bnRfYWdyZWVtZW50XFxcIiB2YWx1ZT1cXFwiMVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImFjY291bnRfYWdyZWVtZW50XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIEkgYWdyZWUgdG8gPGEgaHJlZj1cXFwiaHR0cHM6Ly9maWxlcy5hbHBhY2EubWFya2V0cy9kaXNjbG9zdXJlcy9saWJyYXJ5L0FjY3RBcHBNYXJnaW5BbmRDdXN0QWdtdC5wZGZcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5BbHBhY2EgQ3VzdG9tZXIgQWdyZWVtZW50PC9hPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJjdXN0b21lcl9hZ3JlZW1lbnRfZXJyb3JcXFwiIGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjdXN0b21lcl9hZ3JlZW1lbnRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjdXN0b21lcl9hZ3JlZW1lbnRcXFwiIGlkPVxcXCJjdXN0b21lcl9hZ3JlZW1lbnRcXFwiIHZhbHVlPVxcXCIxXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY3VzdG9tZXJfYWdyZWVtZW50XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyIEFncmVlbWVudCBBY2tub3dsZWRnZW1lbnQ8L2xhYmVsPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIEkgaGF2ZSByZWFkLCB1bmRlcnN0b29kLCBhbmQgYWdyZWUgdG8gYmUgYm91bmQgYnkgQWxwYWNhIFNlY3VyaXRpZXMgTExDIGFuZCBMaW1pbmFsLm1hcmtldCBJbmMuXFxyXFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XFxyXFxuICAgICAgICAgICAgICAgICAgICB0ZXJtcyxcXHJcXG4gICAgICAgICAgICAgICAgICAgIGFuZCBhbGwgb3RoZXIgdGVybXMsIGRpc2Nsb3N1cmVzIGFuZCBkaXNjbGFpbWVycyBhcHBsaWNhYmxlIHRvIG1lLCBhcyByZWZlcmVuY2VkIGluIHRoZSBBbHBhY2FcXHJcXG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbWVyXFxyXFxuICAgICAgICAgICAgICAgICAgICBBZ3JlZW1lbnQuXFxyXFxuICAgICAgICAgICAgICAgICAgICBJIGFsc28gYWNrbm93bGVkZ2UgdGhhdCB0aGUgQWxwYWNhIEN1c3RvbWVyIEFncmVlbWVudCBjb250YWlucyBhIHByZS1kaXNwdXRlIGFyYml0cmF0aW9uIGNsYXVzZVxcclxcbiAgICAgICAgICAgICAgICAgICAgaW5cXHJcXG4gICAgICAgICAgICAgICAgICAgIFNlY3Rpb25cXHJcXG4gICAgICAgICAgICAgICAgICAgIDQzLlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwiZGlnaXRhbF9zaWduYXR1cmVfZXJyb3JcXFwiIGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJkaWdpdGFsX3NpZ25hdHVyZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImRpZ2l0YWxfc2lnbmF0dXJlXFxcIiBpZD1cXFwiZGlnaXRhbF9zaWduYXR1cmVcXFwiIHZhbHVlPVxcXCIxXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGlnaXRhbF9zaWduYXR1cmVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgRGlnaXRhbCBTaWduYXR1cmUgQWNrbm93bGVkZ2VtZW50PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICBJIHVuZGVyc3RhbmQgSSBhbSBzaWduaW5nIHRoaXMgYWdyZWVtZW50IGVsZWN0cm9uaWNhbGx5LFxcclxcbiAgICAgICAgICAgICAgICAgICAgYW5kIHRoYXQgbXkgZWxlY3Ryb25pYyBzaWduYXR1cmUgd2lsbCBoYXZlIHRoZSBzYW1lIGVmZmVjdCBhcyBwaHlzaWNhbGx5IHNpZ25pbmcgYW5kIHJldHVybmluZ1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhlXFxyXFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbiBBZ3JlZW1lbnQuXFxyXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkIGhpZGRlblxcXCIgaWQ9XFxcInc4ZGlzY2xvc3VyZV9kaXZcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInc4ZGlzY2xvc3VyZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcInc4ZGlzY2xvc3VyZVxcXCIgaWQ9XFxcInc4ZGlzY2xvc3VyZVxcXCIgdmFsdWU9XFxcIjFcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PjxsYWJlbCBmb3I9XFxcInc4ZGlzY2xvc3VyZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIEkgY2VydGlmeSB0aGF0IEkgYW0gbm90IGEgVVMgY2l0aXplbiwgVVMgcmVzaWRlbnQgYWxpZW4gb3Igb3RoZXIgVVMgcGVyc29uIGZvciBVUyB0YXggcHVycG9zZXMsXFxyXFxuICAgICAgICAgICAgICAgIGFuZCBJIGFtIHN1Ym1pdHRpbmcgdGhlIGFwcGxpY2FibGUgRm9ybSBXLTggQkVOIHdpdGggdGhpcyBmb3JtIHRvIGNlcnRpZnkgbXkgZm9yZWlnbiBzdGF0dXMgYW5kLFxcclxcbiAgICAgICAgICAgICAgICBpZiBhcHBsaWNhYmxlLCBjbGFpbSB0YXggdHJlYXR5IGJlbmVmaXRzLiA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJncmlkIGJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJhY2NvdW50X2FncmVlbWVudF9wcmV2XFxcIj5QcmV2aW91czogVXBsb2FkIGRvY3VtZW50czwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGlkPVxcXCJzdWJtaXRLWUNcXFwiPkNvbmZpcm0gaWRlbnRpdHk8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImFsZXJ0IGFsZXJ0LWRhbmdlclxcXCIgaWQ9XFxcImt5Y0Vycm9yXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+PC9kaXY+XFxyXFxuPC9maWVsZHNldD5cXHJcXG5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEt5Y0Jhc2UgZnJvbSBcIi4vS3ljQmFzZVwiO1xyXG5pbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vS1lDRm9ybVwiO1xyXG5pbXBvcnQgS3ljQWNjb3VudEFncmVlbWVudEh0bWwgZnJvbSBcIi4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0FjY291bnRBZ3JlZW1lbnQuaHRtbFwiO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IEtZQ1NlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vS1lDU2VydmljZVwiO1xyXG5pbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5pbXBvcnQgRm9ybUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Gb3JtSGVscGVyXCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4uLy4uL2VsZW1lbnRzL3RyYWRlcGFuZWwvRXhlY3V0ZVRyYWRlQnV0dG9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNBY2NvdW50QWdyZWVtZW50IGV4dGVuZHMgS3ljQmFzZSB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoZWRpdCA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y0FjY291bnRBZ3JlZW1lbnRIdG1sKTtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUoe2VkaXQ6IGVkaXR9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICB0aGlzLnNob3dGaWVsZHNldCgnLmt5Y0FjY291bnRBZ3JlZW1lbnQnLCAnQWdyZWVtZW50cycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5reWNGb3JtLnN0ZXBzID09IDUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRfYWdyZWVtZW50X3ByZXYnKSEuaW5uZXJUZXh0ID0gJ1ByZXZpb3VzOiBEaXNjbG9zdXJlJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9hZ3JlZW1lbnRfcHJldicpIS5pbm5lclRleHQgPSAnUHJldmlvdXM6IFVwbG9hZCBkb2N1bWVudHMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5reWNGb3JtLmt5Y0NvbnRhY3QudXNUYXhSZXNpZGVuY2UpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3c4ZGlzY2xvc3VyZV9kaXYnKT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndzhkaXNjbG9zdXJlX2RpdicpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuXHJcbiAgICAgICAgbGV0IGFjY291bnRfYWdyZWVtZW50X3ByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9hZ3JlZW1lbnRfcHJldicpXHJcbiAgICAgICAgYWNjb3VudF9hZ3JlZW1lbnRfcHJldj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmt5Y0Zvcm0uc3RlcHMgPT0gNSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0Rpc2Nsb3N1cmVzLnNob3coKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNVcGxvYWQuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kU3VibWl0S3ljKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBiaW5kU3VibWl0S3ljKGVkaXQgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBzdWJtaXRLWUMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0S1lDJyk7XHJcbiAgICAgICAgaWYgKCFzdWJtaXRLWUMpIHJldHVybjtcclxuXHJcbiAgICAgICAgc3VibWl0S1lDLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZWRpdCAmJiAhdGhpcy52YWxpZGF0ZSgpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgYWNjb3VudF9hZ3JlZW1lbnRfcHJldiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X2FncmVlbWVudF9wcmV2Jyk7XHJcbiAgICAgICAgICAgIC8vaWYgKGFjY291bnRfYWdyZWVtZW50X3ByZXYpIGFjY291bnRfYWdyZWVtZW50X3ByZXYuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2UnKTtcclxuICAgICAgICAgICAgLy8gaWYgKGxpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlKSBsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN1Ym1pdEJ0biA9IChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKHN1Ym1pdEJ0bik7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gRm9ybUhlbHBlci5nZXRQYXJhbXMoJyNreWNfd2l6YXJkX2Zvcm0nKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgIHBhcmFtcy5jaGFpbklkID0gbmV0d29ya0luZm8uQ2hhaW5JZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBreWNTZXJ2aWNlID0gbmV3IEtZQ1NlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBreWNTZXJ2aWNlLnNhdmVLWUNJbmZvKHBhcmFtcylcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgocmVhc29uOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3VudF9hZ3JlZW1lbnRfcHJldikgYWNjb3VudF9hZ3JlZW1lbnRfcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYXNvbi5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBreWNFcnJvciA9IG5ldyBLeWNWYWxpZGF0b3JFcnJvcihyZWFzb24ubWVzc2FnZSwgdGhpcy5reWNGb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAga3ljRXJyb3IuaGFuZGxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNXYWl0aW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgIEV4ZWN1dGVUcmFkZUJ1dHRvbi5JbnN0YW5jZS5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50X2FncmVlbWVudF9wcmV2KSBhY2NvdW50X2FncmVlbWVudF9wcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlKCkge1xyXG4gICAgICAgIGxldCBhY2NvdW50X2FncmVlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X2FncmVlbWVudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFhY2NvdW50X2FncmVlbWVudD8uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCdhY2NvdW50X2FncmVlbWVudF9lcnJvcicsICdZb3UgbmVlZCB0byBhZ3JlZSB0byBhZ3JlZW1lbnRzJywgJ2FjY291bnRfYWdyZWVtZW50JylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWlzc2luZ0luZm8oJ2FjY291bnRfYWdyZWVtZW50X2Vycm9yJywgJ2FjY291bnRfYWdyZWVtZW50Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY3VzdG9tZXJfYWdyZWVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbWVyX2FncmVlbWVudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFjdXN0b21lcl9hZ3JlZW1lbnQ/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygnY3VzdG9tZXJfYWdyZWVtZW50X2Vycm9yJywgJ1lvdSBuZWVkIHRvIGFncmVlIHRvIGN1c3RvbWVyIGFncmVtZW50JywgJ2N1c3RvbWVyX2FncmVlbWVudCcpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1pc3NpbmdJbmZvKCdjdXN0b21lcl9hZ3JlZW1lbnRfZXJyb3InLCAnY3VzdG9tZXJfYWdyZWVtZW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkaWdpdGFsX3NpZ25hdHVyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWdpdGFsX3NpZ25hdHVyZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFkaWdpdGFsX3NpZ25hdHVyZT8uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCdkaWdpdGFsX3NpZ25hdHVyZV9lcnJvcicsICdZb3UgbmVlZCB0byBzaWduJywgJ2RpZ2l0YWxfc2lnbmF0dXJlJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWlzc2luZ0luZm8oJ2RpZ2l0YWxfc2lnbmF0dXJlX2Vycm9yJywgJ2RpZ2l0YWxfc2lnbmF0dXJlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y1RydXN0ZWRDb250YWN0IGhpZGRlblxcXCIgZGF0YS1mb3JtPVxcXCIxXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICBBIHRydXN0ZWQgY29udGFjdCBpcyBhIHBlcnNvbiB5b3UgYXV0aG9yaXplIHlvdXIgZmluYW5jaWFsIGZpcm0gdG8gY29udGFjdCBpbiBsaW1pdGVkIGNpcmN1bXN0YW5jZXMsXFxyXFxuICAgICAgICBzdWNoIGFzIGlmIHRoZXJlIGlzIGEgY29uY2VybiBhYm91dCBhY3Rpdml0eSBpbiB5b3VyIGFjY291bnQgYW5kIHRoZXkgaGF2ZSBiZWVuIHVuYWJsZSB0byBnZXQgaW4gdG91Y2ggd2l0aCB5b3UuXFxyXFxuICAgICAgICA8YnIvPjxici8+XFxyXFxuICAgICAgICBBIHRydXN0ZWQgY29udGFjdCBtYXkgYmUgYSBmYW1pbHkgbWVtYmVyLCBhdHRvcm5leSwgYWNjb3VudGFudCBvciBhbm90aGVyIHRoaXJkLXBhcnR5IHdobyB5b3UgYmVsaWV2ZSB3b3VsZFxcclxcbiAgICAgICAgcmVzcGVjdCB5b3VyIHByaXZhY3kgYW5kIGtub3cgaG93IHRvIGhhbmRsZSB0aGUgcmVzcG9uc2liaWxpdHkuXFxyXFxuICAgICAgICBUaGUgdHJ1c3RlZCBwZXJzb24gc2hvdWxkIGJlIDE4IHllYXJzIG9sZCBvciBvbGRlci5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX2ZpcnN0X25hbWVcXFwiPkxlZ2FsIGZpcnN0IG5hbWUgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidHJ1c3RlZF9maXJzdF9uYW1lXFxcIiBuYW1lPVxcXCJ0cnVzdGVkX2ZpcnN0X25hbWVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX2xhc3RfbmFtZVxcXCI+TGVnYWwgbGFzdCBuYW1lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcInRydXN0ZWRfbGFzdF9uYW1lXFxcIiBuYW1lPVxcXCJ0cnVzdGVkX2xhc3RfbmFtZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIElmIHlvdSBmaWxsIGluIG5hbWUsIHlvdSBhcmUgcmVxdWlyZWQgdG8gZmlsbCBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZywgZW1haWwsIHBob25lIG9yIGFkZHJlc3NcXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwidHJ1c3RlZF9jb250YWN0X21pc3NpbmdfaW5mb1xcXCI+PC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX2VtYWlsXFxcIj5FbWFpbCBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX2VtYWlsXFxcIiB0eXBlPVxcXCJlbWFpbFxcXCIgbmFtZT1cXFwidHJ1c3RlZF9lbWFpbFxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInRydXN0ZWRfcGhvbmVcXFwiPlBob25lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcInRydXN0ZWRfcGhvbmVcXFwiIHR5cGU9XFxcInRlbFxcXCIgbmFtZT1cXFwidHJ1c3RlZF9waG9uZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInRydXN0ZWRfc3RyZWV0X2FkZHJlc3NcXFwiPkFkZHJlc3Mgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidHJ1c3RlZF9zdHJlZXRfYWRkcmVzc1xcXCIgbmFtZT1cXFwidHJ1c3RlZF9zdHJlZXRfYWRkcmVzc1xcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInRydXN0ZWRfY2l0eVxcXCI+Q2l0eSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX2NpdHlcXFwiIG5hbWU9XFxcInRydXN0ZWRfY2l0eVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInRydXN0ZWRfc3RhdGVcXFwiPlN0YXRlIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcInRydXN0ZWRfc3RhdGVcXFwiIG5hbWU9XFxcInRydXN0ZWRfc3RhdGVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX3Bvc3RhbF9jb2RlXFxcIj5Qb3N0YWwgY29kZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX3Bvc3RhbF9jb2RlXFxcIiBuYW1lPVxcXCJ0cnVzdGVkX3Bvc3RhbF9jb2RlXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidHJ1c3RlZF9jb3VudHJ5XFxcIj5Db3VudHJ5IG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJ0cnVzdGVkX2NvdW50cnlcXFwiIHJlcXVpcmVkIG5hbWU9XFxcInRydXN0ZWRfY291bnRyeVxcXCI+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3tjb2RlfX1cXFwiPnt7bmFtZX19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIHt7I3VubGVzcyBlZGl0fX1cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwidHJ1c3RlZENvbnRhY3RfcHJldlxcXCI+UHJldmlvdXM6IElkZW50aXR5PC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInRydXN0ZWRDb250YWN0X25leHRcXFwiPk5leHQ6IERpc2Nsb3N1cmVzPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICB7ey91bmxlc3N9fVxcclxcbiAgICB7eyNpZiBlZGl0fX1cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwidHJ1c3RlZENvbnRhY3RfcHJldlxcXCI+UHJldmlvdXM6IElkZW50aXR5PC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgaWQ9XFxcInN1Ym1pdEtZQ1xcXCI+VXBkYXRlIGFjY291bnQ8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImFsZXJ0IGFsZXJ0LWRhbmdlclxcXCIgaWQ9XFxcImt5Y0Vycm9yXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+PC9kaXY+XFxyXFxuICAgIHt7L2lmfX1cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBLeWNUcnVzdGVkQ29udGFjdEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljVHJ1c3RlZENvbnRhY3QuaHRtbCc7XHJcbmltcG9ydCBTdHJpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvU3RyaW5nSGVscGVyXCI7XHJcbmltcG9ydCBDb3VudHJ5SGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0NvdW50cnlIZWxwZXJcIjtcclxuXHJcbmltcG9ydCBLeWNBY2NvdW50QWdyZWVtZW50IGZyb20gXCIuL0t5Y0FjY291bnRBZ3JlZW1lbnRcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNUcnVzdGVkQ29udGFjdCBleHRlbmRzIEt5Y0Jhc2Uge1xyXG4gICAgZWRpdCA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGVkaXQgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuZWRpdCA9IGVkaXQ7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNUcnVzdGVkQ29udGFjdEh0bWwpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSh7ZWRpdDogZWRpdCwgY291bnRyaWVzOiBDb3VudHJ5SGVscGVyLkNvdW50cmllc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG4gICAgICAgIHRoaXMuc2hvd0ZpZWxkc2V0KCcua3ljVHJ1c3RlZENvbnRhY3QnLCAnVHJ1c3RlZCBjb250YWN0JylcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBsZXQgc2hvd1ByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZENvbnRhY3RfcHJldicpO1xyXG4gICAgICAgIHNob3dQcmV2Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0lkZW50aXR5LnNob3coKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgc2hvd05leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZENvbnRhY3RfbmV4dCcpO1xyXG4gICAgICAgIHNob3dOZXh0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKCkpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0Rpc2Nsb3N1cmVzLnNob3coKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lZGl0KSB7XHJcbiAgICAgICAgICAgIGxldCBreWNBY2NvdW50ID0gbmV3IEt5Y0FjY291bnRBZ3JlZW1lbnQodGhpcy5reWNGb3JtKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGt5Y0FjY291bnQuYmluZFN1Ym1pdEt5Yyh0aGlzLmVkaXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0TWlzc2luZ0luZm8oJ3RydXN0ZWRfY29udGFjdF9taXNzaW5nX2luZm8nLCAnJyk7XHJcblxyXG4gICAgICAgIGxldCB0cnVzdGVkX2ZpcnN0X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9maXJzdF9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAodHJ1c3RlZF9maXJzdF9uYW1lICYmICFTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX2ZpcnN0X25hbWUudmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGxldCB0cnVzdGVkX2VtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfZW1haWwnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgdHJ1c3RlZF9waG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnVzdGVkX3Bob25lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IHRydXN0ZWRfc3RyZWV0X2FkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9zdHJlZXRfYWRkcmVzcycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCB0cnVzdGVkX2NpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9jaXR5JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IHRydXN0ZWRfcG9zdGFsX2NvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9wb3N0YWxfY29kZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCB0cnVzdGVkX2NvdW50cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9jb3VudHJ5JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX2VtYWlsLnZhbHVlKSAmJiBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX3Bob25lLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9zdHJlZXRfYWRkcmVzcy52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWlzc2luZ0luZm8oJ3RydXN0ZWRfY29udGFjdF9taXNzaW5nX2luZm8nLCAnWW91IG5lZWQgdG8gZmlsbCBpbiBlaXRoZXIgZW1haWwsIHBob25lIG9yIGFkZHJlc3MnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX2VtYWlsLnZhbHVlKSAmJiB0cnVzdGVkX2VtYWlsLnZhbHVlLmluZGV4T2YoJ0AnKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygndHJ1c3RlZF9jb250YWN0X21pc3NpbmdfaW5mbycsICdFbWFpbCBpcyBub3QgdmFsaWQuIEl0IG11c3QgY29udGFpbiBAIHNpZ24nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX3N0cmVldF9hZGRyZXNzLnZhbHVlKSAmJlxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KHRydXN0ZWRfY2l0eS52YWx1ZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX3Bvc3RhbF9jb2RlLnZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KHRydXN0ZWRfY291bnRyeS52YWx1ZSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCd0cnVzdGVkX2NvbnRhY3RfbWlzc2luZ19pbmZvJywgJ1lvdSBuZWVkIGZpbGwgaW5uIGludG8gQ2l0eSwgUG9zdGFsIGNvZGUgYW5kIENvdW50cnkgd2hlbiBmaWxsaW5nIHRoZSBzdHJlZXQgYWRkcmVzcycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldCBjbGFzcz1cXFwia3ljVXBsb2FkIGhpZGRlblxcXCIgZGF0YS1mb3JtPVxcXCIxXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25cXFwiIFxcXCJQaG90byBJRCBGcm9udCAoRnJvbnQgb2YgcGFzc3BvcnQpXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25fMlxcXCIgXFxcIlBob3RvIElEIEJhY2sgKFBhc3Nwb3J0IHBpY3R1cmUgb2YgSUQpIFxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiYWRkcmVzc192ZXJpZmljYXRpb25cXFwiIFxcXCJQaWN0dXJlIG9mIGFkZHJlc3MgdmVyaWZpY2F0aW9uXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwidXBsb2FkX3ByZXZcXFwiPlByZXZpb3VzOiBEaXNjbG9zdXJlczwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJ1cGxvYWRfbmV4dFxcXCI+TmV4dDogQWdyZWVtZW50czwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLeWNVcGxvYWRIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y1VwbG9hZC5odG1sJztcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNVcGxvYWQgZXh0ZW5kcyBLeWNCYXNlIHtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3Ioa3ljRm9ybTogS1lDRm9ybSkge1xyXG4gICAgICAgIHN1cGVyKGt5Y0Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y1VwbG9hZEh0bWwpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSh7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5zaG93RmllbGRzZXQoJy5reWNVcGxvYWQnLCAnVXBsb2FkIGRvY3VtZW50cycpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5iaW5kRmlsZVVwbG9hZHMoKTtcclxuXHJcbiAgICAgICAgbGV0IHVwbG9hZF9wcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZF9wcmV2Jyk7XHJcbiAgICAgICAgdXBsb2FkX3ByZXY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljRGlzY2xvc3VyZXMuc2hvdygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IHVwbG9hZF9uZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZF9uZXh0Jyk7XHJcbiAgICAgICAgdXBsb2FkX25leHQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVSZXF1aXJlZEZpZWxkcygnLmt5Y1VwbG9hZCcpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljQWNjb3VudEFncmVlbWVudC5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBLeWNCYXNlIGZyb20gXCIuL0t5Y0Jhc2VcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IEtZQ1NlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vS1lDU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljV2FpdGluZyBleHRlbmRzIEt5Y0Jhc2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljX3JlZycpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWl0aW5nX2Zvcl9reWNfcmVnJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaW1pbmFsX21hcmtldF9tb2RhbF9kaXYgPiBhcnRpY2xlID4gaGVhZGVyID4gc3BhbicpIS5pbm5lckhUTUwgPSAnV2FpdGluZyBmb3IgS1lDIHRvIGJlIGFwcHJvdmVkJ1xyXG4gICAgICAgIHRoaXMua3ljRm9ybS50aW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tLeWNTdGF0dXMoKVxyXG4gICAgICAgIH0sIDUgKiAxMDAwKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBjaGVja0t5Y1N0YXR1cygpIHtcclxuICAgICAgICBsZXQga3ljU2VydmljZSA9IG5ldyBLWUNTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBreWNSZXNwb25zZSA9IGF3YWl0IGt5Y1NlcnZpY2UuaGFzVmFsaWRLWUMoKVxyXG5cclxuICAgICAgICBpZiAoa3ljUmVzcG9uc2UuaXNWYWxpZEt5Yykge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5reWNGb3JtLnRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrS3ljU3RhdHVzKClcclxuICAgICAgICAgICAgfSwgNSAqIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBLWUNGb3JtSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL0tZQ01vZGFsLmh0bWwnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuaW1wb3J0IEt5Y0NvbnRhY3QgZnJvbSBcIi4vS1lDL0t5Y0NvbnRhY3RcIjtcclxuaW1wb3J0IEt5Y0lkZW50aXR5IGZyb20gXCIuL0tZQy9LeWNJZGVudGl0eVwiO1xyXG5pbXBvcnQgS3ljRGlzY2xvc3VyZXMgZnJvbSBcIi4vS1lDL0t5Y0Rpc2Nsb3N1cmVzXCI7XHJcbmltcG9ydCBLeWNBY2NvdW50QWdyZWVtZW50IGZyb20gXCIuL0tZQy9LeWNBY2NvdW50QWdyZWVtZW50XCI7XHJcbmltcG9ydCBLeWNUcnVzdGVkQ29udGFjdCBmcm9tIFwiLi9LWUMvS3ljVHJ1c3RlZENvbnRhY3RcIjtcclxuaW1wb3J0IEt5Y1VwbG9hZCBmcm9tIFwiLi9LWUMvS3ljVXBsb2FkXCI7XHJcbmltcG9ydCBLeWNXYWl0aW5nIGZyb20gXCIuL0tZQy9LeWNXYWl0aW5nXCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4uL2VsZW1lbnRzL3RyYWRlcGFuZWwvRXhlY3V0ZVRyYWRlQnV0dG9uXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtZQ0Zvcm0ge1xyXG4gICAgc3RlcHMgPSA1O1xyXG4gICAgbW9kYWw6IE1vZGFsO1xyXG4gICAgdGltZW91dD86IGFueSA9IHVuZGVmaW5lZDtcclxuICAgIG9uSGlkZTogKCkgPT4gdm9pZDtcclxuICAgIGFjdGl2ZUZpZWxkc2V0U2VsZWN0b3IgPSAnLmt5Y0NvbnRhY3QnO1xyXG5cclxuICAgIGt5Y0NvbnRhY3Q6IEt5Y0NvbnRhY3Q7XHJcbiAgICBreWNJZGVudGl0eTogS3ljSWRlbnRpdHk7XHJcbiAgICBreWNEaXNjbG9zdXJlczogS3ljRGlzY2xvc3VyZXNcclxuICAgIGt5Y0FjY291bnRBZ3JlZW1lbnQ6IEt5Y0FjY291bnRBZ3JlZW1lbnQ7XHJcbiAgICBreWNUcnVzdGVkQ29udGFjdDogS3ljVHJ1c3RlZENvbnRhY3Q7XHJcbiAgICBreWNVcGxvYWQ6IEt5Y1VwbG9hZDtcclxuICAgIGt5Y1dhaXRpbmc6IEt5Y1dhaXRpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob25IaWRlOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIHRoaXMub25IaWRlID0gb25IaWRlO1xyXG5cclxuICAgICAgICB0aGlzLmt5Y0NvbnRhY3QgPSBuZXcgS3ljQ29udGFjdCh0aGlzKTtcclxuICAgICAgICB0aGlzLmt5Y0lkZW50aXR5ID0gbmV3IEt5Y0lkZW50aXR5KHRoaXMpO1xyXG4gICAgICAgIHRoaXMua3ljVHJ1c3RlZENvbnRhY3QgPSBuZXcgS3ljVHJ1c3RlZENvbnRhY3QodGhpcyk7XHJcbiAgICAgICAgdGhpcy5reWNEaXNjbG9zdXJlcyA9IG5ldyBLeWNEaXNjbG9zdXJlcyh0aGlzKTtcclxuICAgICAgICB0aGlzLmt5Y0FjY291bnRBZ3JlZW1lbnQgPSBuZXcgS3ljQWNjb3VudEFncmVlbWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLmt5Y1VwbG9hZCA9IG5ldyBLeWNVcGxvYWQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5reWNXYWl0aW5nID0gbmV3IEt5Y1dhaXRpbmcodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coY2xhc3NOYW1lOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgbGV0IGt5Y0Zvcm0gPSBuZXcgS1lDRm9ybSgoKSA9PiB7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHlwZSBPYmplY3RLZXkgPSBrZXlvZiB0eXBlb2Yga3ljRm9ybTtcclxuICAgICAgICBjb25zdCBibGUgPSBjbGFzc05hbWUgYXMgT2JqZWN0S2V5O1xyXG4gICAgICAgICh0aGlzW2JsZV0gYXMgYW55KS5zaG93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlRmllbGRzZXRTZWxlY3RvciA9IGNsYXNzTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0tZQ0Zvcm0oZWRpdCA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLWUNGb3JtSHRtbCk7XHJcbiAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgS3ljQ29udGFjdEh0bWw6IHRoaXMua3ljQ29udGFjdC5yZW5kZXIoKSxcclxuICAgICAgICAgICAgS3ljSWRlbnRpdHlIdG1sOiB0aGlzLmt5Y0lkZW50aXR5LnJlbmRlcigpLFxyXG4gICAgICAgICAgICBLeWNEaXNjbG9zdXJlSHRtbDogdGhpcy5reWNEaXNjbG9zdXJlcy5yZW5kZXIoKSxcclxuICAgICAgICAgICAgS3ljVHJ1c3RlZENvbnRhY3RIdG1sOiB0aGlzLmt5Y1RydXN0ZWRDb250YWN0LnJlbmRlcigpLFxyXG4gICAgICAgICAgICBLeWNBY2NvdW50QWdyZWVtZW50SHRtbDogdGhpcy5reWNBY2NvdW50QWdyZWVtZW50LnJlbmRlcigpLFxyXG4gICAgICAgICAgICBLeWNVcGxvYWRIdG1sOiB0aGlzLmt5Y1VwbG9hZC5yZW5kZXIoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKG9iaik7XHJcbiAgICAgICAgbGV0IG5ld01vZGFsID0gdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0tZQyAmIEFNTCcsIGNvbnRlbnQsIHRydWUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcclxuICAgICAgICAgICAgdGhpcy5vbkhpZGUoKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGxldCB0YXhSZXNpZGVuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRyeV9vZl90YXhfcmVzaWRlbmNlJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHRheFJlc2lkZW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXBzID0gKHRheFJlc2lkZW5jZS52YWx1ZSA9PSAnVVNBJykgPyA1IDogNjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuZXdNb2RhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0NvbnRhY3QuYmluZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0lkZW50aXR5LmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5reWNUcnVzdGVkQ29udGFjdC5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMua3ljRGlzY2xvc3VyZXMuYmluZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y1VwbG9hZC5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMua3ljQWNjb3VudEFncmVlbWVudC5iaW5kRXZlbnRzKCk7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljX3dpemFyZF9mb3JtJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5reWNDb250YWN0LnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U3RlcHMoc3RlcHM6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXJUaW1lb3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBLeWNTdGF0dXMgZnJvbSBcIi4uLy4uLy4uL2R0by9LeWNTdGF0dXNcIjtcclxuaW1wb3J0IEt5Y0FjdGlvblJlcXVpcmVkIGZyb20gXCIuL0t5Y0FjdGlvblJlcXVpcmVkXCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4uLy4uL2VsZW1lbnRzL3RyYWRlcGFuZWwvRXhlY3V0ZVRyYWRlQnV0dG9uXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y1N0YXR1c0hhbmRsZXIge1xyXG5cclxuICAgIC8qXHJcbiAgICBTVUJNSVRURURcdC9maXh0dXJlcy9zdGF0dXM9U1VCTUlUVEVEL2ZpeHR1cmVzL1xyXG5BQ1RJT05fUkVRVUlSRURcdC9maXh0dXJlcy9zdGF0dXM9QUNUSU9OX1JFUVVJUkVEL2ZpeHR1cmVzL1xyXG5BUFBST1ZBTF9QRU5ESU5HXHQvZml4dHVyZXMvc3RhdHVzPUFQUFJPVkFMX1BFTkRJTkcvZml4dHVyZXMvXHJcbkFQUFJPVkVEXHQvZml4dHVyZXMvc3RhdHVzPUFQUFJPVkVEL2ZpeHR1cmVzL1xyXG5SRUpFQ1RFRFx0L2ZpeHR1cmVzL3N0YXR1cz1SRUpFQ1RFRC9maXh0dXJlcy9cclxuQUNUSVZFXHQvZml4dHVyZXMvc3RhdHVzPUFDVElWRS9maXh0dXJlcy9cclxuRElTQUJMRURcdC9maXh0dXJlcy9zdGF0dXM9RElTQUJMRUQvZml4dHVyZXMvXHJcbkFDQ09VTlRfQ0xPU0VEXHQvZml4dHVyZXMvc3RhdHVzPUFDQ09VTlRfQ0xPU0VEL2ZpeHR1cmVzL1xyXG4gICAgICovXHJcblxyXG4gICAga3ljUmVzcG9uc2U6IEt5Y1N0YXR1cztcclxuICAgIGV4ZWN1dGVUcmFkZUJ1dHRvbjogRXhlY3V0ZVRyYWRlQnV0dG9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y1Jlc3BvbnNlOiBLeWNTdGF0dXMsIGV4ZWN1dGVUcmFkZUJ1dHRvbjogRXhlY3V0ZVRyYWRlQnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy5reWNSZXNwb25zZSA9IGt5Y1Jlc3BvbnNlO1xyXG4gICAgICAgIHRoaXMuZXhlY3V0ZVRyYWRlQnV0dG9uID0gZXhlY3V0ZVRyYWRlQnV0dG9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRCdXR0b25UZXh0KCkge1xyXG4gICAgICAgIGxldCB0eHQgPSAnRmluaXNoIEtZQyc7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmt5Y1Jlc3BvbnNlLnN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdTVUJNSVRURUQnOlxyXG4gICAgICAgICAgICBjYXNlICdPTkJPQVJESU5HJzpcclxuICAgICAgICAgICAgY2FzZSAnSU5BQ1RJVkUnOlxyXG4gICAgICAgICAgICBjYXNlICdBUFBST1ZFRCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0VESVRFRCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0FQUFJPVkFMX1BFTkRJTkcnOlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gJ1N1Ym1pdHRlZCB0byBLWUMgcHJvY2Vzc29yJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdBQ1RJT05fUkVRVUlSRUQnOlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gJ0FjdGlvbiByZXF1aXJlZC4gQ2xpY2sgdG8gY29udGludWUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1JFSkVDVEVEJzpcclxuICAgICAgICAgICAgICAgIHR4dCA9ICdZb3VyIGFwcGxpY2F0aW9uIHdhcyByZWplY3RlZCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnRElTQUJMRUQnOlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gJ1lvdXIgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFJzpcclxuICAgICAgICAgICAgY2FzZSAnQUNDT1VOVF9VUERBVEVEJzpcclxuICAgICAgICAgICAgICAgIHR4dCA9ICdZb3UgYXJlIGFwcHJvdmVkLiBLWUMgaXMgYmVpbmcgc2VudCB0byBibG9ja2NoYWluLiBHaXZlIGl0IGZldyBtaW51dGVzJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdBQ0NPVU5UX0NMT1NFRCc6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSAnWW91ciBhY2NvdW50IGhhcyBiZWVuIGNsb3NlZCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHR4dCArICc8c21hbGw+Q2xpY2sgZm9yIG1vcmUgaW5mbzwvc21hbGw+JztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnV0dG9uQ2xpY2tFdmVudChleGVjdXRlVHJhZGVCdXR0b246IEV4ZWN1dGVUcmFkZUJ1dHRvbikge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5reWNSZXNwb25zZS5zdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnU1VCTUlUVEVEJzpcclxuICAgICAgICAgICAgY2FzZSAnT05CT0FSRElORyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0lOQUNUSVZFJzpcclxuICAgICAgICAgICAgY2FzZSAnQVBQUk9WRUQnOlxyXG4gICAgICAgICAgICBjYXNlICdFRElURUQnOlxyXG4gICAgICAgICAgICBjYXNlICdBUFBST1ZBTF9QRU5ESU5HJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dNb2RhbCgnQXBwbGljYXRpb24gaXMgYmVpbmcgcHJvY2Vzc2VkJyxcclxuICAgICAgICAgICAgICAgICAgICBcIllvdSBuZWVkIHRvIHdhaXQgZm9yIEtZQyB0byBiZSBhcHByb3ZlZC4gVGhlbiB5b3UnbGwgYmUgYWJsZSB0byBkbyB0cmFkZXMuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgdXN1YWxseSB0YWtlcyBmZXcgbWludXRlcy4gV2Ugd2lsbCBlbWFpbCB5b3Ugd2hlbiB5b3UgYXJlIGFwcHJvdmVkIG9yIGlmIHRoZXJlIGFyZSBwcm9ibGVtczxiciAvPjxiciAvPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIklmIHRoaXMgc3RhdHVzIGhhcyBiZWVuIGZvciBtb3JlIHRoYW4gMSBkYXksIGFuZCB5b3UgaGF2ZW4ndCBnb3R0ZW4gYW55IGVtYWlsIGZyb20gdXMuIFBsZWFzZSBlbWFpbCB1cyBhdCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nbWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXQ/c3ViamVjdD1NeSBhcHBsaWNhdGlvbiBpcyBiZWluZyBwcm9jZXNzZWQgZm9yIHRvIGxvbmcmYm9keT1IaSwgY2FuIHlvdSBoZWxwIG1lIHRvIGZpbmQgb3V0IHdoYXQgdGhlIHByb2JsZW0gaXMsIHRoZSBLWUMgcHJvY2VzcyBoYXMgbm90IGNoYW5nZWQgZm9yIHNvbWUgdGltZT8gTXkgbmFtZSBpcyBfX19fX19fIGFuZCBJIHVzZWQgdGhlIGVtYWlsIF9fX19fX18gdG8gcmVnaXN0ZXIgYXQgbGltaW5hbC5tYXJrZXQnPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+XCIpO1xyXG4gICAgICAgICAgICBjYXNlICdBQ1RJT05fUkVRVUlSRUQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQga3ljQWN0aW9uUmVxdWlyZWQgPSBuZXcgS3ljQWN0aW9uUmVxdWlyZWQoZXhlY3V0ZVRyYWRlQnV0dG9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGt5Y0FjdGlvblJlcXVpcmVkLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNhc2UgJ1JFSkVDVEVEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dNb2RhbCgnQXBwbGljYXRpb24gd2FzIHJlamVjdGVkJyxcclxuICAgICAgICAgICAgICAgICAgICBcIllvdXIgYXBwbGljYXRpb24gaGFzIGJlZW4gcmVqZWN0ZWQgZHVyaW5nIEtZQyBwcm9jZXNzLjxiciAvPjxiciAvPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIldlIGRvbid0IGhhdmUgdGhlIGluZm9ybWF0aW9uIG9uIHdoeSB0aGF0IGhhcHBlbmVkLCBidXQgeW91IGNhbiBlbWFpbCB1cyBhdCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nbWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXQ/c3ViamVjdD1NeSBhcHBsaWNhdGlvbiB3YXMgcmVqZWN0ZWQmYm9keT1IaSwgY2FuIHlvdSBoZWxwIG1lIHRvIGZpbmQgb3V0IHdoYXQgdGhlIHByb2JsZW0gaXM/IE15IG5hbWUgaXMgX19fX19fXyBhbmQgSSB1c2VkIHRoZSBlbWFpbCBfX19fX19fIHRvIHJlZ2lzdGVyIGF0IGxpbWluYWwubWFya2V0Jz5pbmZvQGxpbWluYWwubWFya2V0PC9hPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIiBhbmQgd2UgY2FuIGZpbmQgb3V0LCBhbmQgd2Ugc2hvdWxkIGJlIGFibGUgdG8gc29sdmUgaXQgdG9nZXRoZXIuXCIpO1xyXG4gICAgICAgICAgICBjYXNlICdESVNBQkxFRCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93TW9kYWwoJ0FwcGxpY2F0aW9uIHdhcyBkaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJZb3VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQuPGJyIC8+PGJyIC8+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiV2UgZG9uJ3QgaGF2ZSB0aGUgaW5mb3JtYXRpb24gb24gd2h5IHRoYXQgaGFwcGVuZWQsIGJ1dCB5b3UgY2FuIGVtYWlsIHVzIGF0IFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldD9zdWJqZWN0PU15IGFwcGxpY2F0aW9uIHdhcyBkaXNhYmxlZCZib2R5PUhpLCBjYW4geW91IGhlbHAgbWUgdG8gZmluZCBvdXQgd2hhdCB0aGUgcHJvYmxlbSBpcz8gTXkgbmFtZSBpcyBfX19fX19fIGFuZCBJIHVzZWQgdGhlIGVtYWlsIF9fX19fX18gdG8gcmVnaXN0ZXIgYXQgbGltaW5hbC5tYXJrZXQnPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiIGFuZCB3ZSBjYW4gZmluZCBvdXQsIGFuZCB3ZSBzaG91bGQgYmUgYWJsZSB0byBzb2x2ZSBpdCB0b2dldGhlci5cIik7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdBQ0NPVU5UX0NMT1NFRCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93TW9kYWwoJ0FwcGxpY2F0aW9uIHdhcyBjbG9zZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiWW91ciBhY2NvdW50IGhhcyBiZWVuIGNsb3NlZC48YnIgLz48YnIgLz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJXZSBkb24ndCBoYXZlIHRoZSBpbmZvcm1hdGlvbiBvbiB3aHkgdGhhdCBoYXBwZW5lZCwgYnV0IHlvdSBjYW4gZW1haWwgdXMgYXQgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J21haWx0bzppbmZvQGxpbWluYWwubWFya2V0P3N1YmplY3Q9TXkgYXBwbGljYXRpb24gd2FzIGNsb3NlZCZib2R5PUhpLCBjYW4geW91IGhlbHAgbWUgdG8gZmluZCBvdXQgd2hhdCB0aGUgcHJvYmxlbSBpcz8gTXkgbmFtZSBpcyBfX19fX19fIGFuZCBJIHVzZWQgdGhlIGVtYWlsIF9fX19fX18gdG8gcmVnaXN0ZXIgYXQgbGltaW5hbC5tYXJrZXQnPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiIGFuZCB3ZSBjYW4gZmluZCBvdXQsIGFuZCB3ZSBzaG91bGQgYmUgYWJsZSB0byBzb2x2ZSBpdCB0b2dldGhlci5cIik7XHJcbiAgICAgICAgICAgIGNhc2UgJ0FDQ09VTlRfVVBEQVRFRCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93TW9kYWwoJ0FjY291bnQgc29vbiByZWFkeScsICdZb3VyIGFjY291bnQgaGFzIGJlZW4gYXBwcm92ZWQuLi48YnIgLz48YnIvPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICcuLmJ1dCwgYWZ0ZXIgd2UgYXBwcm92ZSB5b3VyIGFjY291bnQsIHdlIHdyaXRlIHRoZSBpbmZvcm1hdGlvbiB0byB0aGUgYmxvY2tjaGFpbi4nICtcclxuICAgICAgICAgICAgICAgICAgICAnIFRoaXMgdXN1YWxseSB0YWtlcyBqdXN0IGZldygyLTMpIG1pbnV0ZXMuPGJyIC8+PGJyLz4gSWYgdGhpcyBpcyB0YWtpbmcgbG9uZ2VyLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAncGxlYXNlIGVtYWlsIHVzIGF0IDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldD9zdWJqZWN0PUtZQyBpcyBiZWluZyB3cml0dGVuIHRvIGJsb2NrY2hhaW4mYm9keT1IaSwgY2FuIHlvdSBoZWxwIG1lIHRvIGZpbmQgb3V0IHdoYXQgdGhlIHByb2JsZW0gaXM/IE15IG5hbWUgaXMgX19fX19fXyBhbmQgSSB1c2VkIHRoZSBlbWFpbCBfX19fX19fIHRvIHJlZ2lzdGVyIGF0IGxpbWluYWwubWFya2V0XCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4nKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQga3ljRm9ybSA9IG5ldyBLWUNGb3JtKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYWRlQnV0dG9uLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAga3ljRm9ybS5zaG93S1lDRm9ybSgpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dNb2RhbCh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgbW9kYWwuc2hvd01vZGFsKHRpdGxlLCBjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8aDI+WW91IGFyZSBhY2NvdW50IGhhcyBiZWVuIGFwcHJvdmVkPC9oMj5cXHJcXG48cD5XZSBoYXZlIGFwcHJvdmVkIHlvdXIgYWNjb3VudC4gWW91IGNhbiBub3cgZnVuZCB5b3VyIGFjY291bnQgYW5kIHN0YXJ0IHRvIHRyYWRlLlxcclxcblxcclxcbiAgICA8YnV0dG9uIGlkPVxcXCJreWNBcHByb3ZlZEZ1bmRcXFwiPkZ1bmQgYWNjb3VudDwvYnV0dG9uPlxcclxcbjwvcD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IE1vcmFsaXMgZnJvbSBcIk1vcmFsaXNcIjtcclxuaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi8uLi8uLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IEF1dGhlbnRpY2F0ZVNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvQXV0aGVudGljYXRlU2VydmljZVwiO1xyXG5pbXBvcnQgQ29ubmVjdFdhbGxldCBmcm9tIFwiLi4vLi4vbW9kYWxzL0Nvbm5lY3RXYWxsZXRcIjtcclxuaW1wb3J0IEtZQ1NlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vS1lDU2VydmljZVwiO1xyXG5pbXBvcnQgQVVTRFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vQVVTRFNlcnZpY2VcIjtcclxuaW1wb3J0IEZha2VBVVNERnVuZCBmcm9tIFwiLi4vLi4vbW9kYWxzL0Z1bmRpbmcvRmFrZUFVU0RGdW5kXCI7XHJcbmltcG9ydCBTZWN1cml0eVRva2VuU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9TZWN1cml0eVRva2VuU2VydmljZVwiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IHtBZGRyZXNzWmVybywgcm91bmRCaWdOdW1iZXJEZWNpbWFsLCByb3VuZE51bWJlckRlY2ltYWwsIHNob3J0RXRofSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9TdWJzY3JpcHRpb25cIjtcclxuaW1wb3J0IHtUcmFkZVR5cGV9IGZyb20gJy4uLy4uLy4uL2VudW1zL1RyYWRlVHlwZSc7XHJcbmltcG9ydCBUcmFkZVBhbmVsSW5wdXQgZnJvbSBcIi4vVHJhZGVQYW5lbElucHV0XCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b25IdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24uaHRtbCc7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IFRyYWRlRXhlY3V0ZWRIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZUV4ZWN1dGVkLmh0bWwnXHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vLi4vbW9kYWxzL01vZGFsXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IE5hdGl2ZVRva2VuTmVlZGVkIGZyb20gXCIuLi8uLi9tb2RhbHMvTmF0aXZlVG9rZW5OZWVkZWRcIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBLeWNTdGF0dXNIYW5kbGVyIGZyb20gXCIuLi8uLi9tb2RhbHMvS1lDL0t5Y1N0YXR1c0hhbmRsZXJcIjtcclxuaW1wb3J0IEt5Y0FwcHJvdmVkSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNBcHByb3ZlZC5odG1sJztcclxuaW1wb3J0IEFVc2RCYWxhbmNlIGZyb20gXCIuLi9BVXNkQmFsYW5jZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4ZWN1dGVUcmFkZUJ1dHRvbiB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIGF1dGhlbnRpY2F0ZVNlcnZpY2U6IEF1dGhlbnRpY2F0ZVNlcnZpY2U7XHJcbiAgICBzZWxsVHJhZGVJbnB1dDogVHJhZGVQYW5lbElucHV0O1xyXG4gICAgYnV5VHJhZGVJbnB1dDogVHJhZGVQYW5lbElucHV0O1xyXG4gICAgdGVtcGxhdGU6IGFueTtcclxuICAgIGJ1dHRvbjogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBzdGF0aWMgSW5zdGFuY2U6IEV4ZWN1dGVUcmFkZUJ1dHRvbjtcclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzLCBzZWxsVHJhZGVJbnB1dDogVHJhZGVQYW5lbElucHV0LCBidXlUcmFkZUlucHV0OiBUcmFkZVBhbmVsSW5wdXQpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMuc2VsbFRyYWRlSW5wdXQgPSBzZWxsVHJhZGVJbnB1dDtcclxuICAgICAgICB0aGlzLmJ1eVRyYWRlSW5wdXQgPSBidXlUcmFkZUlucHV0O1xyXG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGVTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShFeGVjdXRlVHJhZGVCdXR0b25IdG1sKTtcclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9leGVjdXRlX3RyYWRlJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgRXhlY3V0ZVRyYWRlQnV0dG9uLkluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyQnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X2V4ZWN1dGVfdHJhZGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIC8vdGhpcy5idXR0b24ucmVwbGFjZVdpdGgodGhpcy5idXR0b24uY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZScpIS5vdXRlckhUTUwgPSB0aGlzLmJ1dHRvbi5vdXRlckhUTUw7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZGluZ0J1dHRvbih0aGlzLmJ1dHRvbik7XHJcblxyXG4gICAgICAgIC8vd2FsbGV0IGNvbm5lY3RlZFxyXG4gICAgICAgIGlmICghdGhpcy53YWxsZXRJc0Nvbm5lY3RlZCh0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3VzZXIgbG9nZ2VkIGluXHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJJc0xvZ2dlZEluKHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2hhaW4gaWQgY29ycmVjdFxyXG4gICAgICAgIGlmICghdGhpcy5jaGFpbklkSXNDb3JyZWN0KHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vbmF0aXZlIHRva2VuIGlzIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmICghYXdhaXQgdGhpcy51c2VySGFzTmF0aXZlVG9rZW4odGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9reWMgaXMgZG9uZVxyXG4gICAgICAgIGlmICghYXdhaXQgdGhpcy5reWNJc0RvbmUodGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9hdXNkIGlzIHNldHVwXHJcbiAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnVzZXJIYXNBVVNEKHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2F1c2QgPiBidXkgYW1vdW50XHJcbiAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnVzZXJIYXNFbm91Z2hRdHkodGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5oYXNRdWFudGl0eUFuZFN5bWJvbCh0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhd2FpdCB0aGlzLmlzTWFya2V0T3Blbih0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbmFibGVFeGVjdXRlVHJhZGUodGhpcy5idXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZW5hYmxlRXhlY3V0ZVRyYWRlKGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgLy9pZiAodGhpcy5zZWxsVHJhZGVJbnB1dC5xdWFudGl0eS5lcSgwKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvL2V4ZWN1dGUgdHJhZGUgY2FuIGJlIGRvbmVcclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ0V4ZWN1dGUgdHJhZGUnO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZSgnZGlzYWJsZWQnLCAnZW5hYmxlZCcpO1xyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICAgICAgbGV0IHByb3ZpZGVySW5mbyA9IFByb3ZpZGVySW5mby5JbnN0YW5jZTtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDb25maXJtIHRyYW5zYWN0aW9uIGluIHlvdXIgJyArIHByb3ZpZGVySW5mby5XYWxsZXROYW1lICsgJyB3YWxsZXQnO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsbFRyYWRlSW5wdXQuc3ltYm9sID09ICdhVVNEJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbWluYWxNYXJrZXRTZXJ2aWNlID0gbmV3IExpbWluYWxNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sQWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyh0aGlzLmJ1eVRyYWRlSW5wdXQuc3ltYm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sQWRkcmVzcyA9PT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbGltaW5hbE1hcmtldFNlcnZpY2UuY3JlYXRlVG9rZW4odGhpcy5idXlUcmFkZUlucHV0LnN5bWJvbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ0NyZWF0aW5nIHRva2VuLiBHaXZlIGl0IGZldyBzZWNvbmRzJztcclxuICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ0V4ZWN1dGUgdHJhZGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBCbG9ja2NoYWluRXJyb3IpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICBzeW1ib2xBZGRyZXNzID0gcmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFuc2ZlcihzeW1ib2xBZGRyZXNzLCBidXR0b24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbWluYWxNYXJrZXRTZXJ2aWNlID0gbmV3IExpbWluYWxNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sQWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyh0aGlzLnNlbGxUcmFkZUlucHV0LnN5bWJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY3VyaXR5VG9rZW5TZXJ2aWNlID0gbmV3IFNlY3VyaXR5VG9rZW5TZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzZWN1cml0eVRva2VuU2VydmljZS50cmFuc2ZlcihzeW1ib2xBZGRyZXNzLCB0aGlzLnNlbGxUcmFkZUlucHV0LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ0FUQ0ggLSBzZWN1cml0eVRva2VuU2VydmljZS50cmFuc2ZlcicsIHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbih0cmFuc2FjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUSEVOIC0gc2VjdXJpdHlUb2tlblNlcnZpY2UudHJhbnNmZXInLCB0cmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNhY3Rpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9uaXRvckV4ZWN1dGVUcmFkZSh0cmFuc2FjdGlvbiBhcyBNb3JhbGlzLkV4ZWN1dGVGdW5jdGlvblJlc3VsdCwgVHJhZGVUeXBlLlNlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnRXhlY3V0ZSB0cmFkZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVRyYW5zZmVyKHN5bWJvbEFkZHJlc3M6IHN0cmluZywgYnV0dG9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGxldCBhVXNkU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IGFVc2RTZXJ2aWNlLnRyYW5zZmVyKHN5bWJvbEFkZHJlc3MsIHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkpXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NBVENIIC0gYVVzZFNlcnZpY2UudHJhbnNmZXInLCByZWFzb24pO1xyXG4gICAgICAgICAgICB9KS50aGVuKHRyYW5zYWN0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdHJhbnNhY3Rpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vbml0b3JFeGVjdXRlVHJhZGUodHJhbnNhY3Rpb24gYXMgTW9yYWxpcy5FeGVjdXRlRnVuY3Rpb25SZXN1bHQsIFRyYWRlVHlwZS5CdXkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1RleHQoJ1NlbmRpbmcgdG8gYmxvY2tjaGFpbicsIHRyYW5zYWN0aW9uLmhhc2gpXHJcblxyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnRXhlY3V0ZSB0cmFkZSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRCdXlpbmdTaGFyZXNPYmoob2JqZWN0OiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gb2JqZWN0LndhbGxldEFkZHJlc3M7XHJcbiAgICAgICAgbGV0IHRva2VuQWRkcmVzcyA9IG9iamVjdC50b2tlbkFkZHJlc3M7XHJcbiAgICAgICAgbGV0IGJ1eWluZ1F1YW50aXR5ID0gb2JqZWN0LmZpbGxlZF9xdHk7XHJcbiAgICAgICAgbGV0IHNlbGxpbmdBbW91bnQgPSAnJCcgKyBuZXcgQmlnTnVtYmVyKG9iamVjdC5hbW91bnQpLmRpdigxMCAqKiAxOCkudG9GaXhlZCgpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZWxsaW5nTG9nbzogJy9pbWcvbG9nb3MvYVVTRC5wbmcnLFxyXG4gICAgICAgICAgICBzZWxsaW5nU3ltYm9sOiAnYVVTRCcsXHJcbiAgICAgICAgICAgIHNlbGxpbmdBbW91bnQ6IHNlbGxpbmdBbW91bnQsXHJcbiAgICAgICAgICAgIGJ1eWluZ0xvZ286ICcvaW1nL2xvZ29zLycgKyBvYmplY3Quc3ltYm9sICsgJy5wbmcnLFxyXG4gICAgICAgICAgICBidXlpbmdTeW1ib2w6IG9iamVjdC5zeW1ib2wsXHJcbiAgICAgICAgICAgIGJ1eWluZ1F1YW50aXR5OiBidXlpbmdRdWFudGl0eSxcclxuICAgICAgICAgICAgYnV5aW5nUm91bmRRdWFudGl0eTogcm91bmROdW1iZXJEZWNpbWFsKGJ1eWluZ1F1YW50aXR5LCA2KSArICcgc2hhcmVzJyxcclxuICAgICAgICAgICAgc2hvcnRFdGhBZGRyZXNzOiBzaG9ydEV0aChldGhBZGRyZXNzKSxcclxuICAgICAgICAgICAgdG9rZW5BZGRyZXNzOiB0b2tlbkFkZHJlc3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNlbGxTaGFyZXNPYmoob2JqZWN0OiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gb2JqZWN0LnNlbmRlcjtcclxuICAgICAgICBsZXQgdG9rZW5BZGRyZXNzID0gb2JqZWN0LnJlY2lwaWVudDtcclxuICAgICAgICBsZXQgYnV5aW5nUXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKG9iamVjdC5maWxsZWRfYXZnX3ByaWNlKS5tdWx0aXBsaWVkQnkobmV3IEJpZ051bWJlcihvYmplY3QuZmlsbGVkX3F0eSkpXHJcbiAgICAgICAgbGV0IHNlbGxpbmdBbW91bnQgPSBvYmplY3QuZmlsbGVkX3F0eTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2VsbGluZ0xvZ286ICcvaW1nL2xvZ29zLycgKyBvYmplY3Quc3ltYm9sICsgJy5wbmcnLFxyXG4gICAgICAgICAgICBzZWxsaW5nU3ltYm9sOiBvYmplY3Quc3ltYm9sLFxyXG4gICAgICAgICAgICBzZWxsaW5nQW1vdW50OiBzZWxsaW5nQW1vdW50ICsgJyBzaGFyZXMnLFxyXG4gICAgICAgICAgICBidXlpbmdMb2dvOiAnL2ltZy9sb2dvcy9hVVNELnBuZycsXHJcbiAgICAgICAgICAgIGJ1eWluZ1N5bWJvbDogJ2FVU0QnLFxyXG4gICAgICAgICAgICBidXlpbmdRdWFudGl0eTogYnV5aW5nUXVhbnRpdHkudG9GaXhlZCgpLFxyXG4gICAgICAgICAgICBidXlpbmdSb3VuZFF1YW50aXR5OiAnJCcgKyByb3VuZEJpZ051bWJlckRlY2ltYWwoYnV5aW5nUXVhbnRpdHksIDYpLnRvRml4ZWQoKSxcclxuICAgICAgICAgICAgc2hvcnRFdGhBZGRyZXNzOiBzaG9ydEV0aChldGhBZGRyZXNzKSxcclxuICAgICAgICAgICAgdG9rZW5BZGRyZXNzOiB0b2tlbkFkZHJlc3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3dUcmFkZUV4ZWN1dGVkKG9iamVjdDogYW55KSB7XHJcbiAgICAgICAgbGV0IHByb3ZpZGVySW5mbyA9IFByb3ZpZGVySW5mby5JbnN0YW5jZTtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCBpc0J1eSA9IChvYmplY3Quc2lkZSA9PSAnYnV5Jyk7XHJcblxyXG4gICAgICAgIGxldCBvYmogPSAoaXNCdXkpID8gdGhpcy5nZXRCdXlpbmdTaGFyZXNPYmoob2JqZWN0KSA6IHRoaXMuZ2V0U2VsbFNoYXJlc09iaihvYmplY3QpO1xyXG4gICAgICAgIG9iai53YWxsZXROYW1lID0gcHJvdmlkZXJJbmZvLldhbGxldE5hbWU7XHJcbiAgICAgICAgb2JqLmJsb2NrRXhwbG9yZXJMaW5rID0gbmV0d29ya0luZm8uQmxvY2tFeHBsb3JlciArICcvdHgvJyArIG9iamVjdC50cmFuc2FjdGlvbl9oYXNoO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoVHJhZGVFeGVjdXRlZEh0bWwpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUob2JqKTtcclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ1RyYWRlIGV4ZWN1dGVkJywgY29udGVudCk7XHJcblxyXG4gICAgICAgIGxldCBhZGRUb2tlblRvV2FsbGV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFRva2VuVG9XYWxsZXQnKTtcclxuICAgICAgICBpZiAoIWFkZFRva2VuVG9XYWxsZXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgYWRkVG9rZW5Ub1dhbGxldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBhZGRyZXNzID0gKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuYWRkcmVzcyBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIHdhbGxldEhlbHBlci5hZGRUb2tlblRvV2FsbGV0KGFkZHJlc3MsIHRoaXMuYnV5VHJhZGVJbnB1dC5zeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBhZGRUb2tlblRvV2FsbGV0RmFpbGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFRva2VuVG9XYWxsZXRGYWlsZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmICghYWRkVG9rZW5Ub1dhbGxldEZhaWxlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZFRva2VuVG9XYWxsZXRGYWlsZWQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbW9uaXRvckV4ZWN1dGVUcmFkZSh0cmFuc2FjdGlvbjogTW9yYWxpcy5FeGVjdXRlRnVuY3Rpb25SZXN1bHQsIHRyYWRlVHlwZTogVHJhZGVUeXBlKSB7XHJcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGhpcy5tb3JhbGlzKTtcclxuXHJcbiAgICAgICAgYXdhaXQgc3Vic2NyaXB0aW9uLnN1YnNjcmliZVRvVGFibGUodHJhZGVUeXBlLCBhc3luYyAob2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC53YWxsZXRBZGRyZXNzICE9IHVzZXIuZ2V0KCdldGhBZGRyZXNzJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvYmoud2FsbGV0QWRkcmVzczonICsgb2JqZWN0LndhbGxldEFkZHJlc3MgKyAnIHVzZXI6JyArIHVzZXIuZ2V0KCdldGhBZGRyZXNzJykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfZmlsbGVkJykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaG93VHJhZGVFeGVjdXRlZChvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgQVVzZEJhbGFuY2UuZm9yY2VMb2FkQVVTREJhbGFuY2VVSSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBleGVjdXRpbmdUcmFkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRpbmctdHJhZGUtcHJvZ3Jlc3MnKTtcclxuICAgICAgICAgICAgICAgIGlmICghZXhlY3V0aW5nVHJhZGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBleGVjdXRpbmdUcmFkZS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdvcmRlcl9mYWlsZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLnNob3dNb2RhbCgnT3JkZXIgZmFpbGVkJywgJ1dlIGNvdWxkIG5vdCBmaW5pc2ggeW91ciBvcmRlci4nKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFvYmplY3Quc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByb2dyZXNzVGV4dCgnUmVjZWl2ZWQgb3JkZXIgc2VuZGluZyB0byBzdG9jayBleGNoYW5nZScsIG9iamVjdC50cmFuc2FjdGlvbl9oYXNoKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ29yZGVyX3JlcXVlc3RlZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3NUZXh0KCdTZW50IHRvIHN0b2NrIGV4Y2hhbmdlJywgb2JqZWN0LnRyYW5zYWN0aW9uX2hhc2gpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgQVVzZEJhbGFuY2UuZm9yY2VMb2FkQVVTREJhbGFuY2VVSSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBleGVjdXRpbmdUcmFkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRpbmctdHJhZGUtcHJvZ3Jlc3MnKTtcclxuICAgICAgICBpZiAoIWV4ZWN1dGluZ1RyYWRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGV4ZWN1dGluZ1RyYWRlLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZGluZ0J1dHRvbihidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1idXN5JywgJ3RydWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHdhbGxldElzQ29ubmVjdGVkKGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgd2FsbGV0Q29ubmVjdGVkID0gdGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmlzV2FsbGV0Q29ubmVjdGVkKCk7XHJcbiAgICAgICAgaWYgKHdhbGxldENvbm5lY3RlZCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVDbGlja0V2ZW50KGJ1dHRvbik7XHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDb25uZWN0IHdhbGxldCc7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29ubmVjdFdhbGxldCA9IG5ldyBDb25uZWN0V2FsbGV0KHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGNvbm5lY3RXYWxsZXQuY2hvb3NlV2FsbGV0UHJvdmlkZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXNlcklzTG9nZ2VkSW4oYnV0dG9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGxldCB1c2VyTG9nZ2VkSW4gPSB0aGlzLmF1dGhlbnRpY2F0ZVNlcnZpY2UuaXNVc2VyTG9nZ2VkSW4oKTtcclxuICAgICAgICBpZiAodXNlckxvZ2dlZEluKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdMb2dpbic7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVNlcnZpY2UuYXV0aGVudGljYXRlVXNlcihDb25uZWN0V2FsbGV0LlByb3ZpZGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hhaW5JZElzQ29ycmVjdChidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGNoYWluSWQgPSB0aGlzLmF1dGhlbnRpY2F0ZVNlcnZpY2UuZ2V0Q2hhaW5JZCgpO1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKGNoYWluSWQgPT09IG5ldHdvcmtJbmZvLkNoYWluSWQpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgdXNlcnNXYWxsZXROZXR3b3JrID0gTmV0d29ya0luZm8uZ2V0TmV0d29ya0luZm9CeUNoYWluSWQoY2hhaW5JZCk7XHJcbiAgICAgICAgaWYgKHVzZXJzV2FsbGV0TmV0d29yaykge1xyXG4gICAgICAgICAgICBOZXR3b3JrSW5mby5zZXROZXR3b3JrQnlDaGFpbklkKGNoYWluSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnU3dpdGNoIE5ldHdvcmsnO1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgbmV0d29ya0luZm8uYWRkTmV0d29ya1RvV2FsbGV0KHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHVzZXJIYXNOYXRpdmVUb2tlbihidXR0b246IEhUTUxFbGVtZW50KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBsZXQgaGFzRW5vdWdoTmF0aXZlVG9rZW5zID0gYXdhaXQgbmV0d29ya0luZm8uaGFzRW5vdWdoTmF0aXZlVG9rZW5zKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgaWYgKGhhc0Vub3VnaE5hdGl2ZVRva2VucykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZSgnZW5hYmxlZCcsICdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1lvdSBuZWVkICcgKyBuZXR3b3JrSW5mby5OYXRpdmVDdXJyZW5jeU5hbWUgKyAnIHRva2Vucy4gQ2xpY2sgbWUgZm9yIHNvbWUgdG9rZW5zJztcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYXRpdmVUb2tlbk5lZWRlZE1vZGFsID0gbmV3IE5hdGl2ZVRva2VuTmVlZGVkKHRoaXMubW9yYWxpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5hdGl2ZVRva2VuTmVlZGVkTW9kYWwuc2hvdygpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGt5Y0lkRG9uZVRpbWVvdXQ6IGFueTtcclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGt5Y0lzRG9uZShidXR0b246IEhUTUxFbGVtZW50LCBpbnRlcnZhbENoZWNrID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQga3ljU2VydmljZSA9IG5ldyBLWUNTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGV0aEFkZHJlc3MgPSB0aGlzLmF1dGhlbnRpY2F0ZVNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG4gICAgICAgIGlmIChldGhBZGRyZXNzID09PSAnJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm8gRVRIIGFkZHJlc3MsIGt5YyBjaGVjayBmYWlsZWQnKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQga3ljUmVzcG9uc2UgPSBhd2FpdCBreWNTZXJ2aWNlLmhhc1ZhbGlkS1lDKCk7XHJcbiAgICAgICAgaWYgKCFreWNSZXNwb25zZS5pc1ZhbGlkS3ljICYmIGt5Y1Jlc3BvbnNlLnN0YXR1cyA9PSAnQUNUSVZFJykge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0lkRG9uZVRpbWVvdXQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBreWNSZXNwb25zZSA9IGF3YWl0IGt5Y1NlcnZpY2UuaGFzVmFsaWRLWUMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChreWNSZXNwb25zZS5pc1ZhbGlkS3ljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNCdXlpbmdQb3dlciA9IGt5Y1Jlc3BvbnNlLmhhc0J1eWluZ1Bvd2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5reWNJZERvbmVUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlckJ1dHRvbigpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwICogMTAwMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChreWNSZXNwb25zZS5pc1ZhbGlkS3ljKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxDaGVjaykge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmt5Y0lkRG9uZVRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNBcHByb3ZlZEh0bWwpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ0FjY291bnQgYXBwcm92ZWQnLCB0ZW1wbGF0ZSh7fSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmdW5kQWNjb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNBcHByb3ZlZEZ1bmQnKTtcclxuICAgICAgICAgICAgICAgIGZ1bmRBY2NvdW50Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5oaWRlTW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1c2RGdW5kID0gbmV3IEZha2VBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1c2RGdW5kLnNob3dBVVNERmFrZUZ1bmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGt5Y1N0YXR1c0hhbmRsZXIgPSBuZXcgS3ljU3RhdHVzSGFuZGxlcihreWNSZXNwb25zZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBreWNTdGF0dXNIYW5kbGVyLmdldEJ1dHRvblRleHQoKTtcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBreWNTdGF0dXNIYW5kbGVyLmdldEJ1dHRvbkNsaWNrRXZlbnQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGVja0t5Y0lzRG9uZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5reWNJZERvbmVUaW1lb3V0KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMua3ljSWREb25lVGltZW91dCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5reWNJc0RvbmUodGhpcy5idXR0b24sIHRydWUpO1xyXG4gICAgICAgIH0sIDEwICogMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tCYWxhbmNlSW50ZXJ2YWw6IGFueTtcclxuICAgIGhhc0J1eWluZ1Bvd2VyID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyB1c2VySGFzQVVTRChidXR0b246IEhUTUxFbGVtZW50KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgbGV0IGF1c2RTZXJ2aWNlID0gbmV3IEFVU0RTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGJhbGFuY2UgPSBhd2FpdCBhdXNkU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMuYXV0aGVudGljYXRlU2VydmljZS5nZXRFdGhBZGRyZXNzKCkpO1xyXG4gICAgICAgIGlmIChiYWxhbmNlLmlzR3JlYXRlclRoYW4oMCkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNCdXlpbmdQb3dlcikge1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1dlIGFyZSBmdW5kaW5nIHlvdSBhVVNEIHRva2VuJztcclxuICAgICAgICAgICAgdGhpcy5jaGVja0JhbGFuY2VJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEFVU0RTZXJ2aWNlLmxhc3RVcGRhdGUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGJhbGFuY2UgPSBhd2FpdCBhdXNkU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMuYXV0aGVudGljYXRlU2VydmljZS5nZXRFdGhBZGRyZXNzKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhbGFuY2UuaXNHcmVhdGVyVGhhbigwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEFVc2RCYWxhbmNlLmZvcmNlTG9hZEFVU0RCYWxhbmNlVUkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNoZWNrQmFsYW5jZUludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMCAqIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmIChuZXR3b3JrSW5mby5UZXN0TmV0d29yaykge1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1lvdSBuZWVkIGFVU0QuIENsaWNrIGhlcmUgdG8gZ2V0IHNvbWUnO1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXVzZEZ1bmQgPSBuZXcgRmFrZUFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhdXNkRnVuZC5zaG93QVVTREZha2VGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdZb3UgbmVlZCBhVVNELiBDbGljayBoZXJlIGZvciBpbnN0cnVjdGlvbnMnO1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXVzZEZ1bmQgPSBuZXcgRmFrZUFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhdXNkRnVuZC5zaG93QVVTREZ1bmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgdXNlckhhc0Vub3VnaFF0eShidXR0b246IEhUTUxFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGxldCBhdXNkU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGxUcmFkZUlucHV0LnN5bWJvbCA9PSAnYVVTRCcpIHtcclxuICAgICAgICAgICAgbGV0IGJhbGFuY2UgPSBhd2FpdCBhdXNkU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMuYXV0aGVudGljYXRlU2VydmljZS5nZXRFdGhBZGRyZXNzKCkpO1xyXG4gICAgICAgICAgICBpZiAoYmFsYW5jZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvKHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBcIllvdSBkb24ndCBoYXZlIGVub3VnaCBhVVNELiBDbGljayBmb3IgbW9yZSBmdW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXVzZEZ1bmQgPSBuZXcgRmFrZUFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXVzZEZ1bmQuc2hvd0FVU0RGYWtlRnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1c2RGdW5kLnNob3dBVVNERnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgc2VjdXJpdHlUb2tlblNlcnZpY2UgPSBuZXcgU2VjdXJpdHlUb2tlblNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgbGV0IGF1dGhlbnRpY2F0ZVNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgZXRoQWRkcmVzcyA9IGF1dGhlbnRpY2F0ZVNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXJRdWFudGl0eSA9IGF3YWl0IHNlY3VyaXR5VG9rZW5TZXJ2aWNlLmdldFF1YW50aXR5QnlBZGRyZXNzKHRoaXMuc2VsbFRyYWRlSW5wdXQuc3ltYm9sLCBldGhBZGRyZXNzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkgPD0gdXNlclF1YW50aXR5KSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBcIllvdSBkb24ndCBoYXZlIGVub3VnaCBcIiArIHRoaXMuc2VsbFRyYWRlSW5wdXQuc3ltYm9sO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoJ2Rpc2FibGUnLCAnZW5hYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBpc01hcmtldE9wZW4oYnV0dG9uOiBIVE1MRWxlbWVudCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBpc01hcmtldE9wZW4gPSBhd2FpdCB1c2VyU2VydmljZS5pc01hcmtldE9wZW5PclVzZXJPZmZIb3VycygpO1xyXG4gICAgICAgIGlmIChpc01hcmtldE9wZW4pIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ01hcmtldCBpcyBjbG9zZWQnXHJcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKCdlbmFibGVkJywgJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlQ2xpY2tFdmVudChidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGYgPSAoZXZlbnQ6IGFueSkgPT4gYnV0dG9uLm9uY2xpY2sgPyAoZXZlbnQpIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAoZikge1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYXNRdWFudGl0eUFuZFN5bWJvbChidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkuZXEoMCkpIHtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdUeXBlIGluIHF1YW50aXR5JztcclxuICAgICAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5idXlUcmFkZUlucHV0Lm5hbWUgPT0gJycpIHtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdTZWxlY3Qgc3RvY2sgdG8gYnV5JztcclxuICAgICAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0UHJvZ3Jlc3NUZXh0KHRleHQ6IHN0cmluZywgaGFzaDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHByb2dyZXNzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy10ZXh0Jyk7XHJcbiAgICAgICAgaWYgKHByb2dyZXNzVGV4dCkge1xyXG4gICAgICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICBwcm9ncmVzc1RleHQuaW5uZXJIVE1MID0gdGV4dCArICc8YnIgLz48YSBocmVmPVwiJyArIG5ldHdvcmtJbmZvLkJsb2NrRXhwbG9yZXIgKyAnL3R4LycgKyBoYXNoICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiIHN0eWxlPVwiZm9udC1zaXplOjEwcHhcIj5WaWV3PC9hPic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxhcnRpY2xlIGNsYXNzPVxcXCJ7e3RyYWRlVHlwZX19SW5wdXRzIHRyYWRlSW5wdXRBcnRpY2xlXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCB0cmFkZUlucHV0XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdF90b2tlblxcXCI+XFxyXFxuICAgICAgICAgICAgPGEgaWQ9XFxcInt7dHJhZGVUeXBlfX1TZWxlY3RTdG9ja1xcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcInt7bG9nb319XFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgIHt7c3ltYm9sfX1cXHJcXG4gICAgICAgICAgICA8L2E+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRyYWRlX2lucHV0XFxcIj48aW5wdXQgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIGF1dG9jb3JyZWN0PVxcXCJvZmZcXFwiIHR5cGU9XFxcInRlbFxcXCIgc3BlbGxjaGVjaz1cXFwiZmFsc2VcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJ7e3N0clF1YW50aXR5fX1cXFwiIHBsYWNlaG9sZGVyPVxcXCIwLjBcXFwiLz48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJhbGFuY2VcXFwiPkJhbGFuY2UgOiA8YWJiciB0aXRsZT1cXFwie3tiYWxhbmNlfX1cXFwiIGRhdGEtdG9vbHRpcD1cXFwie3tiYWxhbmNlfX1cXFwiIGNsYXNzPVxcXCJiYWxhbmNlX3ZhbHVlXFxcIj57e2FiYnJCYWxhbmNlfX08L2FiYnI+XFxyXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYmFsYW5jZV9tYXhcXFwiPk1heDwvYT48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInByaWNlX3Blcl9zaGFyZVxcXCI+PC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8cHJvZ3Jlc3MgY2xhc3M9XFxcInByb2dyZXNzIGQtbm9uZVxcXCIgdmFsdWU9XFxcIjBcXFwiIG1heD1cXFwiMVxcXCI+PC9wcm9ncmVzcz5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZXhjZWVkc193YWxsZXRfYmFsYW5jZSBkLW5vbmVcXFwiPkV4Y2VlZHMgd2FsbGV0IGJhbGFuY2U8L2Rpdj5cXHJcXG48L2FydGljbGU+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xyXG5pbXBvcnQgU2VjdXJpdGllc0xpc3QgZnJvbSBcIi4uL2VsZW1lbnRzL1NlY3VyaXRpZXNMaXN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN1cml0aWVzTGlzdE1vZGFsIHtcclxuICAgIHBhZ2U6IG51bWJlcjtcclxuICAgIHRib2R5SWQgPSAnbGltaW5hbF9tYXJrZXRfc2VjdXJpdGllc19saXN0JztcclxuICAgIGxvYWRtb3JlOiBib29sZWFuO1xyXG4gICAgbW9kYWw6IE1vZGFsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGFnZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sb2FkbW9yZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93TW9kYWwob25TZWxlY3RTeW1ib2w6IChzeW1ib2w6IHN0cmluZywgbmFtZTogc3RyaW5nLCBsb2dvOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllc0xpc3QgPSBuZXcgU2VjdXJpdGllc0xpc3QoKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHNlY3VyaXRpZXNMaXN0LnJlbmRlcigpO1xyXG5cclxuICAgICAgICBsZXQgbmV3SW5zdGFuY2UgPSB0aGlzLm1vZGFsLnNob3dNb2RhbCgnU2VsZWN0IHN0b2NrIHRvIGJ1eScsIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIHRydWUpO1xyXG4gICAgICAgIC8vaWYgKG5ld0luc3RhbmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdGllc0xpc3QuYmluZEV2ZW50cyhvblNlbGVjdFN5bWJvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhpZGVNb2RhbCgpIHtcclxuICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVJbmZvIHtcclxuICAgIHByaWNlIDogbnVtYmVyO1xyXG4gICAgbGFzdFRyYWRlIDogRGF0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwcmljZSA6IG51bWJlciwgbGFzdFRyYWRlIDogRGF0ZSkge1xyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcclxuICAgICAgICB0aGlzLmxhc3RUcmFkZSA9IGxhc3RUcmFkZTtcclxuICAgIH1cclxufSIsImltcG9ydCBJQ2xvdWRFcnJvciBmcm9tIFwiLi9JQ2xvdWRFcnJvclwiO1xyXG5pbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi9FcnJvckluZm9cIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vR2VuZXJhbEVycm9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwRXJyb3IgaW1wbGVtZW50cyBJQ2xvdWRFcnJvciB7XHJcbiAgICBtZXRob2QgOiBzdHJpbmc7XHJcbiAgICB1cmwgOiBzdHJpbmc7XHJcbiAgICBib2R5IDogc3RyaW5nO1xyXG4gICAgc2VydmVyRXJyb3IgOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob2JqIDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5tZXRob2QgPSBvYmoubWV0aG9kO1xyXG4gICAgICAgIHRoaXMudXJsID0gb2JqLnVybDtcclxuICAgICAgICB0aGlzLmJvZHkgPSBvYmouYm9keTtcclxuICAgICAgICB0aGlzLnNlcnZlckVycm9yID0gb2JqLnNlcnZlckVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgICAgICBFcnJvckluZm8ucmVwb3J0KG5ldyBHZW5lcmFsRXJyb3IoJ0Vycm9yIGRvaW5nIHJlcXVlc3QuIFNlcnZlciByZXNwb25zZSB3YXM6JyArIHRoaXMuc2VydmVyRXJyb3IuZGF0YS5tZXNzYWdlKSlcclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi9FcnJvckluZm9cIjtcclxuaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBJQ2xvdWRFcnJvciBmcm9tIFwiLi9jbG91ZC9JQ2xvdWRFcnJvclwiO1xyXG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCIuL2Nsb3VkL0h0dHBFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xvdWRFcnJvciBleHRlbmRzIEdlbmVyYWxFcnJvciB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGUpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGlmIChvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9ySGFuZGxlciA9IENsb3VkRXJyb3IuZ2V0QWN0aW9uSW5zdGFuY2Uob2JqLm5hbWUsIG9iaik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgRXJyb3JJbmZvLmVycm9yKG9iaik7XHJcbiAgICAgICAgfSBjYXRjaCAoanNvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIEVycm9ySW5mby5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRBY3Rpb25JbnN0YW5jZShhY3Rpb246IHN0cmluZywgb2JqOiBhbnkpOiBJQ2xvdWRFcnJvciB7XHJcbiAgICAgICAgbGV0IHRtcDogYW55ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPENsb3VkRXJyb3IuRXJyb3JzLmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgaWYgKENsb3VkRXJyb3IuRXJyb3JzW2ldLm5hbWUgPT09IGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9ySGFuZGxlciA9IENsb3VkRXJyb3IuRXJyb3JzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBlcnJvckhhbmRsZXIob2JqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRXJyb3JzID0gW1xyXG4gICAgICAgIEh0dHBFcnJvclxyXG4gICAgXVxyXG59IiwiaW1wb3J0IFRyYWRlSW5mbyBmcm9tIFwiLi9UcmFkZUluZm9cIjtcclxuaW1wb3J0IENsb3VkRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9DbG91ZEVycm9yXCI7XHJcbmltcG9ydCB7VHJhZGVUeXBlfSBmcm9tIFwiLi4vLi4vZW51bXMvVHJhZGVUeXBlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9ja1ByaWNlU2VydmljZSB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFN5bWJvbFByaWNlKHN5bWJvbDogc3RyaW5nLCB0cmFkZVR5cGU6IFRyYWRlVHlwZSk6IFByb21pc2U8VHJhZGVJbmZvPiB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBzeW1ib2w6IHN5bWJvbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oXCJnZXRTeW1ib2xQcmljZVwiLCBwYXJhbXMpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRFcnJvcihlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHF1b3RlID0gcmVzdWx0LnF1b3RlO1xyXG4gICAgICAgIGxldCBwcmljZSA9ICh0cmFkZVR5cGUgPT0gVHJhZGVUeXBlLlNlbGwpID8gcXVvdGUuYXAgOiBxdW90ZS5icDtcclxuICAgICAgICBsZXQgdHJhZGVJbmZvID0gbmV3IFRyYWRlSW5mbyhwcmljZSwgcXVvdGUudCk7XHJcbiAgICAgICAgcmV0dXJuIHRyYWRlSW5mbztcclxuXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YWJiciB0aXRsZT1cXFwiTGFzdCB0cmFkZSB3YXMge3tsYXN0VHJhZGVkfX1cXFwiIGRhdGEtdG9vbHRpcD1cXFwiTGFzdCB0cmFkZSB3YXMge3tsYXN0VHJhZGVkfX1cXFwiPnt7dGV4dH19PC9hYmJyPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgVHJhZGVJbnB1dEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9lbGVtZW50cy90cmFkZXBhbmVsL1RyYWRlSW5wdXQuaHRtbCc7XHJcbmltcG9ydCB7VHJhZGVUeXBlfSBmcm9tIFwiLi4vLi4vLi4vZW51bXMvVHJhZGVUeXBlXCI7XHJcbmltcG9ydCBTZWN1cml0aWVzTGlzdE1vZGFsIGZyb20gXCIuLi8uLi9tb2RhbHMvU2VjdXJpdGllc0xpc3RNb2RhbFwiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IFNlY3VyaXR5VG9rZW5TZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL1NlY3VyaXR5VG9rZW5TZXJ2aWNlXCI7XHJcbmltcG9ydCBBVVNEU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9BVVNEU2VydmljZVwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IHtyb3VuZEJpZ051bWJlciwgcm91bmRCaWdOdW1iZXJEZWNpbWFsLCByb3VuZE51bWJlckRlY2ltYWx9IGZyb20gXCIuLi8uLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgU3RvY2tQcmljZVNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvU3RvY2tQcmljZVNlcnZpY2VcIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBQcmljZVBlclNoYXJlSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvUHJpY2VQZXJTaGFyZS5odG1sJ1xyXG5pbXBvcnQgTW9yYWxpcyBmcm9tIFwibW9yYWxpc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYWRlUGFuZWxJbnB1dCB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIHN5bWJvbDogc3RyaW5nO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgbG9nbzogc3RyaW5nO1xyXG4gICAgYWRkcmVzczogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgdHJhZGVUeXBlOiBUcmFkZVR5cGU7XHJcbiAgICBxdWFudGl0eTogQmlnTnVtYmVyO1xyXG4gICAgc3RyUXVhbnRpdHkgOiBzdHJpbmc7XHJcbiAgICBiYWxhbmNlOiBCaWdOdW1iZXI7XHJcbiAgICBsYXN0UHJpY2U6IG51bWJlcjtcclxuICAgIGxhc3RUcmFkZWQ6IHN0cmluZztcclxuICAgIHF0eVBlckRvbGxhcjogbnVtYmVyO1xyXG4gICAgdGVtcGxhdGU6IGFueTtcclxuICAgIHByaWNlUGVyU2hhcmVUZW1wbGF0ZTogYW55O1xyXG4gICAgb3RoZXJUcmFkZVBhbmVsSW5wdXQ6IFRyYWRlUGFuZWxJbnB1dCB8IHVuZGVmaW5lZDtcclxuICAgIG9uVXBkYXRlIDogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xyXG4gICAgaXNEaXJ0eSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcywgc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbG9nbzogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcsIHRyYWRlVHlwZTogVHJhZGVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMubG9nbyA9IGxvZ287XHJcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcclxuICAgICAgICB0aGlzLnRyYWRlVHlwZSA9IHRyYWRlVHlwZTtcclxuICAgICAgICB0aGlzLnF1YW50aXR5ID0gbmV3IEJpZ051bWJlcigwKTtcclxuICAgICAgICB0aGlzLnN0clF1YW50aXR5ID0gJyc7XHJcbiAgICAgICAgdGhpcy5iYWxhbmNlID0gbmV3IEJpZ051bWJlcigwKTtcclxuICAgICAgICB0aGlzLmxhc3RQcmljZSA9IDA7XHJcbiAgICAgICAgdGhpcy5xdHlQZXJEb2xsYXIgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdFRyYWRlZCA9ICcnO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoVHJhZGVJbnB1dEh0bWwpO1xyXG4gICAgICAgIHRoaXMucHJpY2VQZXJTaGFyZVRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFByaWNlUGVyU2hhcmVIdG1sKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldE90aGVyVHJhZGVQYW5lbElucHV0KHRyYWRlUGFuZWxJbnB1dDogVHJhZGVQYW5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dCA9IHRyYWRlUGFuZWxJbnB1dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyVG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGJpbmRFdmVudHMgOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBlbGVtZW50Lm91dGVySFRNTCA9IHRoaXMucmVuZGVyVG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAoYmluZEV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5iaW5kUXVhbnRpdHlMaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMuYmluZFNlbGVjdFN0b2NrQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5iaW5kTWF4TGluaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTeW1ib2woc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbG9nbzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zeW1ib2wgPSBzeW1ib2w7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmxvZ28gPSBsb2dvO1xyXG5cclxuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZFNlbGVjdFN0b2NrQnV0dG9uKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RTdG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhpcy50cmFkZVR5cGUgKyAnU2VsZWN0U3RvY2snKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghc2VsZWN0U3RvY2spIHJldHVybjtcclxuXHJcbiAgICAgICAgc2VsZWN0U3RvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlY3VyaXR5TGlzdCA9IG5ldyBTZWN1cml0aWVzTGlzdE1vZGFsKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlY3VyaXR5TGlzdC5zaG93TW9kYWwoYXN5bmMgKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VjdXJpdHlMaXN0LmhpZGVNb2RhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0ICYmIHRoaXMuc3ltYm9sID09ICdhVVNEJyAmJiBzeW1ib2wgIT0gdGhpcy5zeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0LnNldFN5bWJvbCh0aGlzLnN5bWJvbCwgdGhpcy5uYW1lLCB0aGlzLmxvZ28pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW1ib2wgPSBzeW1ib2w7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvID0gbG9nbztcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbGltaW5hbE1hcmtldFNlcnZpY2UgPSBuZXcgTGltaW5hbE1hcmtldFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYWxhbmNlKCkudGhlbigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkTGFzdFRyYWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHRoaXMub25VcGRhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHByaXZhdGUgYmluZFF1YW50aXR5TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgbGV0IHF0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLnRyYWRlX2lucHV0IGlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAoIXF0eUlucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBpbnB1dFRpbWVyIDogYW55O1xyXG4gICAgICAgIHF0eUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRUaW1lcikgY2xlYXJUaW1lb3V0KGlucHV0VGltZXIpO1xyXG5cclxuICAgICAgICAgICAgaW5wdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0VmFsdWUgPSAoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UXVhbnRpdHkoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRQcm9ncmVzc2JhcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0KSB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0LnVwZGF0ZVF1YW50aXR5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkgdGhpcy5vblVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kTWF4TGluaygpIHtcclxuICAgICAgICBsZXQgbWF4QmFsYW5jZURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy50cmFkZVR5cGUgKyAnSW5wdXRzIC5iYWxhbmNlX21heCcpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghbWF4QmFsYW5jZURvbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBtYXhCYWxhbmNlRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy50cmFkZVR5cGUgKyAnSW5wdXRzIC50cmFkZV9pbnB1dCBpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICghcXR5SW5wdXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHF0eUlucHV0LnZhbHVlID0gdGhpcy5iYWxhbmNlLnRvRml4ZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRRdWFudGl0eShxdHlJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFByb2dyZXNzYmFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dCkgdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC51cGRhdGVRdWFudGl0eSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkgdGhpcy5vblVwZGF0ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGxvYWRCYWxhbmNlKCkge1xyXG4gICAgICAgIHRoaXMuYmFsYW5jZSA9IG5ldyBCaWdOdW1iZXIoMCk7XHJcblxyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdXNlclNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG5cclxuICAgICAgICBsZXQgYmFsYW5jZURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy50cmFkZVR5cGUgKyAnSW5wdXRzIC5iYWxhbmNlX3ZhbHVlJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFiYWxhbmNlRG9tKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN5bWJvbCA9PT0gJ2FVU0QnKSB7XHJcbiAgICAgICAgICAgIGlmIChldGhBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYVVzZFNlcnZpY2UgPSBuZXcgQVVTRFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IGF3YWl0IGFVc2RTZXJ2aWNlLmdldEFVU0RCYWxhbmNlT2YoZXRoQWRkcmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmFsYW5jZURvbS5pbm5lckhUTUwgPSAnJCcgKyByb3VuZEJpZ051bWJlcih0aGlzLmJhbGFuY2UpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IG5ldyBCaWdOdW1iZXIoMCk7XHJcbiAgICAgICAgICAgIGlmIChldGhBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VjdXJpdHlUb2tlblNlcnZpY2UgPSBuZXcgU2VjdXJpdHlUb2tlblNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IGF3YWl0IHNlY3VyaXR5VG9rZW5TZXJ2aWNlLmdldFF1YW50aXR5QnlBZGRyZXNzKHRoaXMuc3ltYm9sLCBldGhBZGRyZXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYWxhbmNlRG9tLmlubmVySFRNTCA9IHJvdW5kQmlnTnVtYmVyRGVjaW1hbCh0aGlzLmJhbGFuY2UsIDYpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJhbGFuY2VEb20uZGF0YXNldC50b29sdGlwID0gdGhpcy5iYWxhbmNlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgYmFsYW5jZURvbS50aXRsZSA9IHRoaXMuYmFsYW5jZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRQcm9ncmVzc2JhcigpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlTWF4QmFsYW5jZUxpbmsoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZExhc3RUcmFkZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zeW1ib2wgPT09ICdhVVNEJykge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RQcmljZSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMucXR5UGVyRG9sbGFyID0gMTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQgfHwgdGhpcy5uYW1lID09ICcnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBhVXNkUHJpY2VQZXJTaGFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC50cmFkZVR5cGUgKyAnSW5wdXRzIC5wcmljZV9wZXJfc2hhcmUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWFVc2RQcmljZVBlclNoYXJlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBwcmljZVBlclNoYXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLnByaWNlX3Blcl9zaGFyZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghcHJpY2VQZXJTaGFyZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBhVXNkUHJpY2VQZXJTaGFyZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcbiAgICAgICAgcHJpY2VQZXJTaGFyZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcblxyXG4gICAgICAgIGxldCBzdG9ja1ByaWNlU2VydmljZSA9IG5ldyBTdG9ja1ByaWNlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCB0cmFkZUluZm8gPSBhd2FpdCBzdG9ja1ByaWNlU2VydmljZS5nZXRTeW1ib2xQcmljZSh0aGlzLnN5bWJvbCwgdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC50cmFkZVR5cGUpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RQcmljZSA9IHRyYWRlSW5mby5wcmljZTtcclxuICAgICAgICB0aGlzLmxhc3RUcmFkZWQgPSB0cmFkZUluZm8ubGFzdFRyYWRlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5xdHlQZXJEb2xsYXIgPSAxIC8gdGhpcy5sYXN0UHJpY2U7XHJcblxyXG4gICAgICAgIGxldCBwcmljZVBlclNoYXJlSHRtbDogYW55ID0ge1xyXG4gICAgICAgICAgICBsYXN0VHJhZGVkOiB0aGlzLmxhc3RUcmFkZWQsXHJcbiAgICAgICAgICAgIHRleHQ6ICfiiYggJCcgKyB0aGlzLmxhc3RQcmljZSArICcgcGVyIHNoYXJlJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJpY2VQZXJTaGFyZS5pbm5lckhUTUwgPSB0aGlzLnByaWNlUGVyU2hhcmVUZW1wbGF0ZShwcmljZVBlclNoYXJlSHRtbCk7XHJcblxyXG4gICAgICAgIGxldCBwcmljZVBlckFVc2RIdG1sOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGxhc3RUcmFkZWQ6IHRoaXMubGFzdFRyYWRlZCxcclxuICAgICAgICAgICAgdGV4dDogJzEgYVVTRCDiiYggJyArIHJvdW5kTnVtYmVyRGVjaW1hbCh0aGlzLnF0eVBlckRvbGxhciwgNikgKyAnICcgKyB0aGlzLnN5bWJvbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYVVzZFByaWNlUGVyU2hhcmUuaW5uZXJIVE1MID0gdGhpcy5wcmljZVBlclNoYXJlVGVtcGxhdGUocHJpY2VQZXJBVXNkSHRtbCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVRdWFudGl0eSgpO1xyXG5cclxuICAgICAgICBhVXNkUHJpY2VQZXJTaGFyZS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtYnVzeScpO1xyXG4gICAgICAgIHByaWNlUGVyU2hhcmUucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlUXVhbnRpdHkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBxdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy50cmFkZVR5cGUgKyAnSW5wdXRzIC50cmFkZV9pbnB1dCBpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFxdHlJbnB1dCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnN5bWJvbCA9PT0gJ2FVU0QnKSB7XHJcbiAgICAgICAgICAgIHF0eUlucHV0LnZhbHVlID0gdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC5xdWFudGl0eS5kaXYodGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC5xdHlQZXJEb2xsYXIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXR5SW5wdXQudmFsdWUgPSB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0LnF1YW50aXR5Lm11bHRpcGxpZWRCeSh0aGlzLnF0eVBlckRvbGxhcikudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRRdWFudGl0eShxdHlJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkUHJvZ3Jlc3NiYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRQcm9ncmVzc2JhcigpIHtcclxuICAgICAgICBpZiAodGhpcy5xdWFudGl0eS5lcSgwKSB8fCB0aGlzLmJhbGFuY2UuZXEoMCkgfHwgdGhpcy50cmFkZVR5cGUgPT0gVHJhZGVUeXBlLkJ1eSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgcHJvZ3Jlc3NEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAucHJvZ3Jlc3MnKSBhcyBIVE1MUHJvZ3Jlc3NFbGVtZW50O1xyXG4gICAgICAgIGlmICghcHJvZ3Jlc3NEb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSB0aGlzLnF1YW50aXR5LmRpdih0aGlzLmJhbGFuY2UpLnRvTnVtYmVyKCk7XHJcbiAgICAgICAgcHJvZ3Jlc3NEb20udmFsdWUgPSBwZXJjZW50YWdlO1xyXG4gICAgICAgIHByb2dyZXNzRG9tLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG5cclxuICAgICAgICBsZXQgZXhjZWVkc0JhbGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAuZXhjZWVkc193YWxsZXRfYmFsYW5jZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChwZXJjZW50YWdlID4gMSkge1xyXG4gICAgICAgICAgICBleGNlZWRzQmFsYW5jZS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NEb20uc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4Y2VlZHNCYWxhbmNlLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIHN3aXRjaFBhbmVscyhzZWxsVHJhZGVQYW5lbElucHV0OiBUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dDogVHJhZGVQYW5lbElucHV0KTogUHJvbWlzZTxbVHJhZGVQYW5lbElucHV0LCBUcmFkZVBhbmVsSW5wdXRdPiB7XHJcbiAgICAgICAgbGV0IHNlbGxTeW1ib2wgPSBzZWxsVHJhZGVQYW5lbElucHV0LnN5bWJvbDtcclxuICAgICAgICBsZXQgc2VsbE5hbWUgPSBzZWxsVHJhZGVQYW5lbElucHV0Lm5hbWU7XHJcbiAgICAgICAgbGV0IHNlbGxMb2dvID0gc2VsbFRyYWRlUGFuZWxJbnB1dC5sb2dvO1xyXG4gICAgICAgIGxldCBzZWxsUXVhbnRpdHkgPSBzZWxsVHJhZGVQYW5lbElucHV0LnF1YW50aXR5O1xyXG4gICAgICAgIHNlbGxUcmFkZVBhbmVsSW5wdXQuc2V0U3ltYm9sKGJ1eVRyYWRlUGFuZWxJbnB1dC5zeW1ib2wsIGJ1eVRyYWRlUGFuZWxJbnB1dC5uYW1lLCBidXlUcmFkZVBhbmVsSW5wdXQubG9nbylcclxuICAgICAgICBzZWxsVHJhZGVQYW5lbElucHV0LnF1YW50aXR5ID0gYnV5VHJhZGVQYW5lbElucHV0LnF1YW50aXR5O1xyXG4gICAgICAgIGJ1eVRyYWRlUGFuZWxJbnB1dC5zZXRTeW1ib2woc2VsbFN5bWJvbCwgc2VsbE5hbWUsIHNlbGxMb2dvKVxyXG4gICAgICAgIGJ1eVRyYWRlUGFuZWxJbnB1dC5xdWFudGl0eSA9IHNlbGxRdWFudGl0eTtcclxuXHJcbiAgICAgICAgYXdhaXQgc2VsbFRyYWRlUGFuZWxJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG4gICAgICAgIGF3YWl0IGJ1eVRyYWRlUGFuZWxJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gW3NlbGxUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFF1YW50aXR5KHZhbHVlIDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09ICcnIHx8IHZhbHVlID09ICcwJykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICB0aGlzLnN0clF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcXVhbnRpdHlGb3JtYXR0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN5bWJvbCA9PT0gJ2FVU0QnKSA/ICckJyArIHRoaXMucXVhbnRpdHkgOiB0aGlzLnF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVQYW5lbCgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVF1YW50aXR5KCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZEJhbGFuY2UoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRMYXN0VHJhZGUoKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG9nZ2xlTWF4QmFsYW5jZUxpbmsoKSB7XHJcbiAgICAgICAgbGV0IG1heEJhbGFuY2VEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAuYmFsYW5jZV9tYXgnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIW1heEJhbGFuY2VEb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZS5lcSgwKSkge1xyXG4gICAgICAgICAgICBtYXhCYWxhbmNlRG9tLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEJhbGFuY2VEb20uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBjbGFzcz1cXFwiZ3JpZCB0cmFkZVN3aXRjaFxcXCI+XFxyXFxuICAgIDxhIHRpdGxlPVxcXCJTd2l0Y2ggdGhlIHRyYWRlXFxcIiBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJzd2l0Y2hCdG5cXFwiIGNsYXNzPVxcXCJvdXRsaW5lXFxcIj48L2E+XFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBUcmFkZVN3aXRjaEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9lbGVtZW50cy90cmFkZXBhbmVsL1RyYWRlU3dpdGNoLmh0bWwnO1xyXG5pbXBvcnQgVHJhZGVQYW5lbElucHV0IGZyb20gXCIuL1RyYWRlUGFuZWxJbnB1dFwiO1xyXG5pbXBvcnQgRXhlY3V0ZVRyYWRlQnV0dG9uIGZyb20gXCIuL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVTd2l0Y2gge1xyXG5cclxuICAgIHRlbXBsYXRlIDogYW55ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoVHJhZGVTd2l0Y2hIdG1sKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHJlbmRlclRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWRlU3dpdGNoJyk7XHJcbiAgICAgICAgaWYgKCFkb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgZG9tLm91dGVySFRNTCA9IHRoaXMucmVuZGVyVG9TdHJpbmcoKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKHNlbGxUcmFkZVBhbmVsSW5wdXQgOiBUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dCA6IFRyYWRlUGFuZWxJbnB1dCwgZXhlY3V0ZVRyYWRlQnV0dG9uIDogRXhlY3V0ZVRyYWRlQnV0dG9uKSB7XHJcbiAgICAgICAgbGV0IGRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2l0Y2hCdG4nKTtcclxuICAgICAgICBpZiAoIWRvbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgW3NlbGxUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dF0gPSBhd2FpdCBUcmFkZVBhbmVsSW5wdXQuc3dpdGNoUGFuZWxzKHNlbGxUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dCk7XHJcblxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEV4ZWN1dGVUcmFkZUJ1dHRvbiBmcm9tIFwiLi90cmFkZXBhbmVsL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5pbXBvcnQgU3RvY2tQcmljZVNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvU3RvY2tQcmljZVNlcnZpY2VcIjtcclxuaW1wb3J0IHtUcmFkZVR5cGV9IGZyb20gXCIuLi8uLi9lbnVtcy9UcmFkZVR5cGVcIjtcclxuaW1wb3J0IFRyYWRlUGFuZWxJbnB1dCBmcm9tIFwiLi90cmFkZXBhbmVsL1RyYWRlUGFuZWxJbnB1dFwiO1xyXG5pbXBvcnQgQ29udHJhY3RJbmZvIGZyb20gXCIuLi8uLi9jb250cmFjdHMvQ29udHJhY3RJbmZvXCI7XHJcbmltcG9ydCBUcmFkZVN3aXRjaCBmcm9tIFwiLi90cmFkZXBhbmVsL1RyYWRlU3dpdGNoXCI7XHJcbmltcG9ydCBTZWN1cml0aWVzTGlzdE1vZGFsIGZyb20gXCIuLi9tb2RhbHMvU2VjdXJpdGllc0xpc3RNb2RhbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVQYW5lbCB7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBxdWFudGl0eSA6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZW5kZXIoZWxlbWVudElkIDogc3RyaW5nLCBzeW1ib2w/IDogc3RyaW5nLCBuYW1lPyA6IHN0cmluZywgbG9nbz8gOiBzdHJpbmcsIGFkZHJlc3M/IDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgY29udHJhY3RJbmZvID0gQ29udHJhY3RJbmZvLmdldENvbnRyYWN0SW5mbygpO1xyXG5cclxuICAgICAgICBsZXQgc2VsbFRyYWRlSW5wdXQgPSBuZXcgVHJhZGVQYW5lbElucHV0KHRoaXMubW9yYWxpcywgXCJhVVNEXCIsIFwiYVVTRCBhdCBCcm9rZXJcIiwgXCIvaW1nL2F1c2QucG5nXCIsIGNvbnRyYWN0SW5mby5BVVNEX0FERFJFU1MsIFRyYWRlVHlwZS5TZWxsKTtcclxuICAgICAgICBsZXQgYnV5VHJhZGVJbnB1dCA6IFRyYWRlUGFuZWxJbnB1dDtcclxuICAgICAgICBpZiAoIXN5bWJvbCkge1xyXG4gICAgICAgICAgICBidXlUcmFkZUlucHV0ID0gbmV3IFRyYWRlUGFuZWxJbnB1dCh0aGlzLm1vcmFsaXMsIFwiU2VsZWN0IHN0b2NrXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFRyYWRlVHlwZS5CdXkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1eVRyYWRlSW5wdXQgPSBuZXcgVHJhZGVQYW5lbElucHV0KHRoaXMubW9yYWxpcywgc3ltYm9sIGFzIHN0cmluZywgbmFtZSBhcyBzdHJpbmcsbG9nbyBhcyBzdHJpbmcsYWRkcmVzcyBhcyBzdHJpbmcsIFRyYWRlVHlwZS5CdXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsbFRyYWRlSW5wdXQuc2V0T3RoZXJUcmFkZVBhbmVsSW5wdXQoYnV5VHJhZGVJbnB1dCk7XHJcbiAgICAgICAgYnV5VHJhZGVJbnB1dC5zZXRPdGhlclRyYWRlUGFuZWxJbnB1dChzZWxsVHJhZGVJbnB1dCk7XHJcblxyXG5cclxuICAgICAgICBsZXQgdHJhZGVTd2l0Y2ggPSBuZXcgVHJhZGVTd2l0Y2goKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGxJbnB1dCA9IHNlbGxUcmFkZUlucHV0LnJlbmRlclRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IGJ1eUlucHV0ID0gYnV5VHJhZGVJbnB1dC5yZW5kZXJUb1N0cmluZygpO1xyXG4gICAgICAgIGxldCBzd2l0Y2hIdG1sID0gdHJhZGVTd2l0Y2gucmVuZGVyVG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBzZWxsSW5wdXQgKyBzd2l0Y2hIdG1sICsgYnV5SW5wdXQ7XHJcblxyXG4gICAgICAgIGF3YWl0IHNlbGxUcmFkZUlucHV0LmxvYWRCYWxhbmNlKCk7XHJcbiAgICAgICAgYXdhaXQgYnV5VHJhZGVJbnB1dC5sb2FkQmFsYW5jZSgpO1xyXG4gICAgICAgIGlmIChzeW1ib2wpIHtcclxuICAgICAgICAgICAgYXdhaXQgYnV5VHJhZGVJbnB1dC5sb2FkTGFzdFRyYWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGxUcmFkZUlucHV0LmJpbmRFdmVudHMoKTtcclxuICAgICAgICBidXlUcmFkZUlucHV0LmJpbmRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgbGV0IGV4ZWN1dGVUcmFkZUJ1dHRvbiA9IG5ldyBFeGVjdXRlVHJhZGVCdXR0b24odGhpcy5tb3JhbGlzLCBzZWxsVHJhZGVJbnB1dCwgYnV5VHJhZGVJbnB1dCk7XHJcbiAgICAgICAgYXdhaXQgZXhlY3V0ZVRyYWRlQnV0dG9uLnJlbmRlckJ1dHRvbigpO1xyXG5cclxuICAgICAgICB0cmFkZVN3aXRjaC5iaW5kRXZlbnRzKHNlbGxUcmFkZUlucHV0LCBidXlUcmFkZUlucHV0LCBleGVjdXRlVHJhZGVCdXR0b24pO1xyXG4gICAgICAgIHNlbGxUcmFkZUlucHV0Lm9uVXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYnV5VHJhZGVJbnB1dC5pc0RpcnR5KSBidXlUcmFkZUlucHV0LnVwZGF0ZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIGV4ZWN1dGVUcmFkZUJ1dHRvbi5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnV5VHJhZGVJbnB1dC5vblVwZGF0ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHNlbGxUcmFkZUlucHV0LmlzRGlydHkpIHNlbGxUcmFkZUlucHV0LnVwZGF0ZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIGV4ZWN1dGVUcmFkZUJ1dHRvbi5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuICAgIHB1YmxpYyBmb3JtYXRCdXlQYW5lbChzeW1ib2wgOiBzdHJpbmcsIG5hbWUgOiBzdHJpbmcsIGxvZ28gOiBzdHJpbmcsIHRyYWRlVHlwZSA6IFRyYWRlVHlwZSwgY29udHJhY3RBZGRyZXNzIDogc3RyaW5nKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X3NlbGVjdF9zeW1ib2wnKSEuaW5uZXJIVE1MID0gc3ltYm9sO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2IGlkPVxcXCJ0cmFkaW5nUGFuZWxcXFwiPlxcclxcbiAgICA8YSBocmVmPVxcXCIjdXNlX3dhbGxldF9mb3Jfb3JkZXJzXFxcIiBpZD1cXFwidXNlX3dhbGxldF9mb3Jfb3JkZXJzX2xpbmtcXFwiIGNsYXNzPVxcXCJub3RfdmlzaWJsZVxcXCI+VHJhZGUgaW4geW91ciB3YWxsZXQgaW5zdGVhZCBvZlxcclxcbiAgICAgICAgaGVyZTwvYT5cXHJcXG4gICAgPGFydGljbGUgaWQ9XFxcImxpbWluYWxfbWFya2V0X3RyYWRlX3BhbmVsXFxcIj48L2FydGljbGU+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImV4ZWN1dGluZy10cmFkZS1wcm9ncmVzc1xcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJwcm9ncmVzcy10ZXh0XFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxwcm9ncmVzcz48L3Byb2dyZXNzPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGJ1dHRvbiBpZD1cXFwibGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZVxcXCI+PC9idXR0b24+XFxyXFxuXFxyXFxuICAgIDxhcnRpY2xlIGlkPVxcXCJ1c2Vfd2FsbGV0X2Zvcl9vcmRlcnNcXFwiPlxcclxcblxcclxcbiAgICAgICAgPGgzPkhvdyB0byBidXkgaW4gd2FsbGV0PC9oMz5cXHJcXG4gICAgICAgIDx1bD5cXHJcXG4gICAgICAgICAgICA8bGk+SWYgeW91IGhhdmVuJ3QgYWRkZWQgYVVTRCB0byB5b3VyIHdhbGxldCwgbm93IGlzIHRoZSB0aW1lIC0gPHNtYWxsPjxhIGhyZWY9XFxcIlxcXCIgaWQ9XFxcImFkZEFVU0RUb1dhbGxldFxcXCI+Q2xpY2tcXHJcXG4gICAgICAgICAgICAgICAgaGVyZSB0byBhZGQgYVVTRCB0byB3YWxsZXQ8L2E+PC9zbWFsbD48L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJmaW5kU3ltYm9sXFxcIj5GaW5kIHN5bWJvbDwvYT4geW91IHdhbnQgdG8gYnV5ICYgY2xpY2sgXFxcIkdldCBhZGRyZXNzXFxcIjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPkdvIHRvIHlvdXIgd2FsbGV0IGFuZCBmaW5kIHRoZSBhVVNEIHRva2VuLCBjbGljayBcXFwiU2VuZFxcXCI8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5QYXN0ZSBpbiB0aGUgYWRkcmVzcyB5b3UganVzdCBjb3BpZWQgZm9yIHRoZSBSZWNlaXZlci5cXHJcXG4gICAgICAgICAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxlbT5Ob3RlOiBJZiB5b3UgY2FuLCBzYXZlIHRoZSBhZGRyZXNzIHRvIHlvdXIgY29udGFjdCBsaXN0IGZvciBlYXN5IGFjY2VzcyBuZXh0IHRpbWU8L2VtPjwvbGk+XFxyXFxuICAgICAgICAgICAgICAgIDwvdWw+XFxyXFxuICAgICAgICAgICAgPC9saT5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8bGk+VHlwZSBpbiB0aGUgYW1vdW50ICYgY2xpY2sgQ29uZmlybTwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPllvdSBoYXZlIG5vdyBib3VnaHQgdGhlIHNoYXJlcywgZG9uJ3QgZm9yZ2V0IHRvIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImZpbmRTeW1ib2xcXFwiPmFkZCB0aGUgdG9rZW4gdG8gd2FsbGV0PC9hPi4gJiMxMjc4ODE7PC9saT5cXHJcXG4gICAgICAgIDwvdWw+XFxyXFxuICAgICAgICA8ZGl2IHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XFxcIj5cXHJcXG4gICAgICAgICAgICA8IS0tXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlmcmFtZSB3aWR0aD1cXFwiMzgwXFxcIiBoZWlnaHQ9XFxcIjUwMFxcXCIgc3JjPVxcXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9tMWlOb3RnYWljND9hdXRvcGxheT0xJmNjX2xvYWRfcG9saWN5PTEmcGxheWxpc3Q9bTFpTm90Z2FpYzQmbG9vcD0xXFxcIiB0aXRsZT1cXFwiWW91VHViZSB2aWRlbyBwbGF5ZXJcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBhbGxvdz1cXFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZVxcXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPlxcclxcbiAgICAgICAgICAgIC0tPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuXFxyXFxuICAgICAgICA8aDM+U2VsbCB5b3VyIHNlY3VyaXRpZXM8L2gzPlxcclxcblxcclxcbiAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgIDxsaT5GaW5kIHRoZSB0b2tlbiB5b3Ugd2FudCBzbyBzZWxsIGluIHlvdSB3YWxsZXQgYW5kIGNsaWNrIFNlbmQ8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5QdXQgdGhlIGluIHRoZSBhVVNEIGFkZHJlc3M8YnIvPjxpbnB1dCBpZD1cXFwiYVVzZEFkZHJlc3NcXFwiIHZhbHVlPVxcXCJ7e0FVU0RBZGRyZXNzfX1cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGk+PGVtPk5vdGU6IElmIHlvdSBjYW4sIHNhdmUgdGhlIGFkZHJlc3MgdG8geW91ciBjb250YWN0IGxpc3QgZm9yIGVhc3kgYWNjZXNzIG5leHQgdGltZTwvZW0+PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5UeXBlIGluIHRoZSBxdWFudGl0eSBvZiBzaGFyZXMgeW91IHdhbnQgdG8gc2VsbCAmIGNsaWNrIENvbmZpcm08L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5Zb3UgaGF2ZSBub3cgc29sZCB0aGUgc2hhcmVzICYjMTI3ODgxOzwvbGk+XFxyXFxuICAgICAgICA8L3VsPlxcclxcblxcclxcbiAgICA8L2FydGljbGU+XFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIlxcclxcblxcclxcbiAgICBZb3UgY2FuIGNvcHkgdGhlIGFkZHJlc3Mgb2Yge3tzeW1ib2x9fSBhbmQgaW1wb3J0IGl0IGludG8geW91ciB3YWxsZXRcXHJcXG4gICAgPGlucHV0IGlkPVxcXCJ0b2tlbkFkZHJlc3NcXFwiIHZhbHVlPVxcXCJ7e3Rva2VuQWRkcmVzc319XFxcIiAvPlxcclxcblxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgVHJhZGVQYW5lbCBmcm9tIFwiLi4vZWxlbWVudHMvVHJhZGVQYW5lbFwiO1xyXG5pbXBvcnQgVHJhZGVQYWdlSHRtbCBmcm9tIFwiLi4vLi4vaHRtbC9wYWdlcy90cmFkZS5odG1sXCI7XHJcbmltcG9ydCBDb250cmFjdEluZm8gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9Db250cmFjdEluZm9cIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0TW9kYWwgZnJvbSBcIi4uL21vZGFscy9TZWN1cml0aWVzTGlzdE1vZGFsXCI7XHJcbmltcG9ydCBBVVNEU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9BVVNEU2VydmljZVwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9tb2RhbHMvTW9kYWxcIjtcclxuaW1wb3J0IENvcHlUb2tlbkFkZHJlc3NUb0FkZFRvV2FsbGV0IGZyb20gJy4uLy4uL2h0bWwvbW9kYWwvQ29weVRva2VuQWRkcmVzc1RvQWRkVG9XYWxsZXQuaHRtbCc7XHJcbmltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVQYWdlIHtcclxuXHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGxvYWQoc3ltYm9sPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nLCBsb2dvPzogc3RyaW5nLCBhZGRyZXNzPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbl9jb250YWluZXInKTtcclxuICAgICAgICBpZiAoIW1haW5Db250YWluZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuXHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShUcmFkZVBhZ2VIdG1sKTtcclxuICAgICAgICBtYWluQ29udGFpbmVyLmlubmVySFRNTCA9IHRlbXBsYXRlKHtBVVNEQWRkcmVzczogY29udHJhY3RJbmZvLkFVU0RfQUREUkVTU30pO1xyXG5cclxuICAgICAgICBsZXQgdHJhZGVQYW5lbCA9IG5ldyBUcmFkZVBhbmVsKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgdHJhZGVQYW5lbC5yZW5kZXIoJ2xpbWluYWxfbWFya2V0X3RyYWRlX3BhbmVsJyk7XHJcblxyXG4gICAgICAgIGlmIChzeW1ib2wpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3RTeW1ib2woc3ltYm9sLCBuYW1lISwgbG9nbyEsIGFkZHJlc3MhKVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGV0aEFkZHJlc3MgPSB1c2VyLmdldEV0aEFkZHJlc3MoKTtcclxuXHJcbiAgICAgICAgbGV0IGFVU0RTZXJ2aWNlID0gbmV3IEFVU0RTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGF1c2RBbW91bnQgPSBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgIGlmIChldGhBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgIGF1c2RBbW91bnQgPSBhd2FpdCBhVVNEU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKGV0aEFkZHJlc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHVzZXJXYWxsZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlX3dhbGxldF9mb3Jfb3JkZXJzJyk7XHJcbiAgICAgICAgbGV0IHVzZXJXYWxsZXRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV93YWxsZXRfZm9yX29yZGVyc19saW5rJyk7XHJcbiAgICAgICAgaWYgKGF1c2RBbW91bnQuZXEoMCkpIHtcclxuICAgICAgICAgICAgdXNlcldhbGxldD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHVzZXJXYWxsZXRMaW5rPy5jbGFzc0xpc3QuYWRkKCdub3RfdmlzaWJsZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJXYWxsZXQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICB1c2VyV2FsbGV0TGluaz8uY2xhc3NMaXN0LnJlbW92ZSgnbm90X3Zpc2libGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaW5kU3ltYm9scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maW5kU3ltYm9sJyk7XHJcbiAgICAgICAgZmluZFN5bWJvbHM/LmZvckVhY2goZmluZFN5bWJvbCA9PiB7XHJcbiAgICAgICAgICAgIGZpbmRTeW1ib2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VjdXJpdGllc01vZGFsID0gbmV3IFNlY3VyaXRpZXNMaXN0TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHNlY3VyaXRpZXNNb2RhbC5zaG93TW9kYWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyaXRpZXNNb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgYWRkQVVTRFRvV2FsbGV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEFVU0RUb1dhbGxldCcpO1xyXG4gICAgICAgIGFkZEFVU0RUb1dhbGxldD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoY29udHJhY3RJbmZvLkFVU0RfQUREUkVTUywgJ2FVU0QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShDb3B5VG9rZW5BZGRyZXNzVG9BZGRUb1dhbGxldCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtzeW1ib2w6ICdhVVNEJywgdG9rZW5BZGRyZXNzOiBjb250cmFjdEluZm8uQVVTRF9BRERSRVNTfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ0FkZCBhVVNEIHRvIHdhbGxldCcsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzZWxlY3RTeW1ib2woc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbG9nbzogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdHJhZGVQYW5lbCA9IG5ldyBUcmFkZVBhbmVsKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgdHJhZGVQYW5lbC5yZW5kZXIoJ2xpbWluYWxfbWFya2V0X3RyYWRlX3BhbmVsJywgc3ltYm9sLCBuYW1lLCBsb2dvLCBhZGRyZXNzKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJcXHJcXG48YXJ0aWNsZSBpZD1cXFwic3RvY2tMaXN0XFxcIj5cXHJcXG4gPGRpdiBpZD1cXFwidWFcXFwiPjwvZGl2PlxcclxcbiA8ZGl2IGlkPVxcXCJsaXN0X29mX3NlY3VyaXRpZXNcXFwiPnt7e3NlY3VyaXRpZXN9fX08L2Rpdj5cXHJcXG5cXHJcXG48L2FydGljbGU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBMaW1pbmFsTWFya2V0U2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9MaW1pbmFsTWFya2V0U2VydmljZVwiO1xyXG5pbXBvcnQgU2VjdXJpdGllc0xpc3QgZnJvbSBcIi4uLy4uL3VpL2VsZW1lbnRzL1NlY3VyaXRpZXNMaXN0XCI7XHJcbmltcG9ydCBUcmFkZVBhZ2UgZnJvbSBcIi4uL3BhZ2VzL1RyYWRlUGFnZVwiO1xyXG5pbXBvcnQgU3RvY2tzUGFnZUh0bWwgZnJvbSAnLi4vLi4vaHRtbC9wYWdlcy9zdG9ja3NwYWdlLmh0bWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvY2tzUGFnZSB7XHJcblx0bW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cdGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG5cdFx0dGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBsb2FkKCkge1xyXG5cdFx0bGV0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbl9jb250YWluZXInKTtcclxuXHRcdGlmICghbWFpbkNvbnRhaW5lcikgcmV0dXJuO1xyXG5cclxuXHRcdGxldCBzZWN1cml0aWVzTGlzdCA9IG5ldyBTZWN1cml0aWVzTGlzdCgpO1xyXG5cdFx0bGV0IHNlY3VyaXRpZXMgPSBhd2FpdCBzZWN1cml0aWVzTGlzdC5yZW5kZXIoKTtcclxuXHJcblx0XHRsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoU3RvY2tzUGFnZUh0bWwpO1xyXG5cdFx0bWFpbkNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZW1wbGF0ZSh7c2VjdXJpdGllczpzZWN1cml0aWVzfSk7XHJcblxyXG5cdFx0YXdhaXQgc2VjdXJpdGllc0xpc3QubG9hZE1vcmUoKTtcclxuXHJcblx0XHRhd2FpdCBzZWN1cml0aWVzTGlzdC5iaW5kRXZlbnRzKGFzeW5jIChzeW1ib2wsIG5hbWUsIGxvZ28pID0+IHtcclxuXHRcdFx0bGV0IGxpbWluYWxNYXJrZXRTZXJ2aWNlID0gbmV3IExpbWluYWxNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcblx0XHRcdGxldCBhZGRyZXNzID0gYXdhaXQgbGltaW5hbE1hcmtldFNlcnZpY2UuZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbCk7XHJcblxyXG5cdFx0XHRsZXQgdHJhZGVQYWdlID0gbmV3IFRyYWRlUGFnZSh0aGlzLm1vcmFsaXMpO1xyXG5cdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdCdXkgc3RvY2tzJywgJyMvdHJhZGUnKTtcclxuXHRcdFx0YXdhaXQgdHJhZGVQYWdlLmxvYWQoc3ltYm9sLCBuYW1lLCBsb2dvLCBhZGRyZXNzKTtcclxuXHRcdH0pXHJcblx0fTtcclxuXHJcbn1cclxuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGgzPkRvY3VtZW50czwvaDM+XFxyXFxuPHA+VGhlc2UgYXJlIHlvdXIgZG9jdW1lbnRzIGZvciB5b3VyIHRyYWRlcywgZ2VuZXJhdGVkIGJ5IHRoZSBicm9rZXIuIFRoZXNlIGRvY3VtZW50cyBhcmUgdHJhZGUgY29uZmlybWF0aW9uICYgbW9udGhseSBzdGF0ZW1lbnRzLlxcclxcblxcdFRoZXkgYXJlIGdlbmVyYXRlZCBhdCB0aGUgZW5kIG9mIHRoZSBkYXksIGJldHdlZW4gMDY6MzBQTS0wNzozMFBNIEVTVC5cXHJcXG48L3A+XFxyXFxue3sjaWYgcmVzdWx0fX1cXHJcXG48dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWhvdmVyXFxcIj5cXHJcXG5cXHQ8dGhlYWQ+XFxyXFxuXFx0XFx0PHRyPlxcclxcblxcdFxcdFxcdDx0aD5UeXBlPC90aD5cXHJcXG5cXHRcXHRcXHQ8dGg+RGF0ZTwvdGg+XFxyXFxuXFx0XFx0XFx0PHRoPkRvd25sb2FkPC90aD5cXHJcXG5cXHRcXHQ8L3RyPlxcclxcblxcdDwvdGhlYWQ+XFxyXFxuXFx0PHRib2R5PlxcclxcblxcdFxcdHt7I2VhY2ggcmVzdWx0fX1cXHJcXG5cXHRcXHQ8dHI+XFxyXFxuXFx0XFx0XFx0PHRkIHRpdGxlPVxcXCJ7e2lkfX1cXFwiPnt7dHlwZX19PC9hPjwvdGQ+XFxyXFxuXFx0XFx0XFx0PHRkPnt7ZGF0ZX19PC90ZD5cXHJcXG5cXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiZG93bmxvYWREb2NcXFwiIGRhdGEtZG9jaWQ9XFxcInt7aWR9fVxcXCI+RG93bmxvYWQ8L2E+PC90ZD5cXHJcXG5cXHRcXHQ8L3RyPlxcclxcblxcdFxcdHt7L2VhY2h9fVxcclxcblxcdDwvdGJvZHk+XFxyXFxuPC90YWJsZT5cXHJcXG57ey9pZn19XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRTZXJ2aWNlIHtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXREb2N1bWVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2RvY3VtZW50cycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXREb2N1bWVudChkb2N1bWVudElkIDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBkb2N1bWVudElkOiBkb2N1bWVudElkXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bihcImRvd25sb2FkXCIsIHBhcmFtcyk7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJUb2tlbiBmb3Ige3tzeW1ib2x9fSBkb2VzIG5vdCBleGlzdC4gWW91IGNhbiBjbGljayB0aGUgYnV0dG9uIGJlbG93IHRvIGNyZWF0ZSB0aGUgdG9rZW4uIFRoaXMgd2lsbCBjb3N0IGEgYml0IG9mIGdhcy5cXHJcXG48YnIgLz48YnIgLz5cXHJcXG5BZnRlciB0aGUgdG9rZW4gaGFzIGJlZW4gY3JlYXRlZCB3ZSB3aWxsIHRyeSB0byBhZGQgaXQgdG8geW91ciB3YWxsZXQuXFxyXFxuPGJyIC8+PGJyIC8+XFxyXFxuPGJ1dHRvbiBpZD1cXFwiY3JlYXRlVG9rZW5CdG5cXFwiPkNyZWF0ZSB0b2tlbjwvYnV0dG9uPlxcclxcblxcclxcbjxkaXYgY2xhc3M9XFxcImQtbm9uZVxcXCIgaWQ9XFxcImNvcHlBZGRyZXNzSW5mb1xcXCI+XFxyXFxuICAgIFlvdSBjYW4gY29weSB0aGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gYW5kIGltcG9ydCBpdCBpbnRvIHlvdXIgd2FsbGV0XFxyXFxuICAgIDxpbnB1dCBpZD1cXFwidG9rZW5BZGRyZXNzXFxcIiAvPlxcclxcblxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuaW1wb3J0IENyZWF0ZVRva2VuSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL0NyZWF0ZVRva2VuLmh0bWwnO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IHtBZGRyZXNzWmVyb30gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuaW1wb3J0IEJsb2NrY2hhaW5FcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0Jsb2NrY2hhaW5FcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JlYXRlVG9rZW4ge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdyhzeW1ib2wgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKENyZWF0ZVRva2VuSHRtbCk7XHJcblxyXG5cclxuICAgICAgICBtb2RhbC5zaG93TW9kYWwoXCJUb2tlbiBcIiArIHN5bWJvbCArIFwiIGRvZXNuJ3QgZXhpc3RcIiwgdGVtcGxhdGUoe3N5bWJvbDpzeW1ib2x9KSk7XHJcblxyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlVG9rZW5CdG4nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWJ0bikgcmV0dXJuO1xyXG5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIuc2V0TG9hZGluZyhidG4hKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgYWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG4gICAgICAgICAgICBpZiAoYWRkcmVzcyA9PT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5jcmVhdGVUb2tlbihzeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ0NyZWF0aW5nIHRva2VuLiBHaXZlIGl0IGZldyBzZWNvbmRzJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBCbG9ja2NoYWluRXJyb3IgJiYgcmVzdWx0LmNvZGUgPT0gQmxvY2tjaGFpbkVycm9yLlVzZXJDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzID0gcmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdBZGQgdG9rZW4gdG8gd2FsbGV0JztcclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoYWRkcmVzcywgc3ltYm9sLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5BZGRyZXNzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9rZW5BZGRyZXNzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuQWRkcmVzc0lucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdG9rZW5BZGRyZXNzSW5wdXQuaW5uZXJIVE1MID0gYWRkcmVzcztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5QWRkcmVzc0luZm8nKSEuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YXJ0aWNsZSBjbGFzcz1cXFwibG9hZGVkLWNvbnRlbnQyXFxcIj5cXHJcXG5cXHQ8aDM+UG9zaXRpb25zPCEtLSA8YSBocmVmPVxcXCJcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInN5bmNXYWxsZXRcXFwiPlN5bmMgd2FsbGV0PC9hPi0tPjwvaDM+XFxyXFxuXFx0PHA+VGhlc2UgYXJlIHlvdXIgcG9zaXRpb25zIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYnJva2VyLiBUaGVzZSB3b3VsZCBiZSByZWdpc3RlcmVkIHRvIHlvdSBvbiB0aGUgc3RvY2sgZXhjaGFuZ2UgaWYgd2Ugd2VyZW4ndCBydW5uaW5nIG9uXFxyXFxuXFx0XFx0YSBzYW5kYm94IGF0IHRoZSBicm9rZXIuIFdhbnQgdG8ga25vdyB3aGVuIHdlIG9wZW4gZm9yIGxpdmUgdHJhZGluZz8gPGEgaHJlZj1cXFwiaHR0cHM6Ly9saW1pbmFsLm1hcmtldFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlJlZ2lzdGVyIHlvdXIgZW1haWwgd2l0aCB1czwvYT5cXHJcXG5cXHJcXG5cXHQ8L3A+XFxyXFxuXFx0PGZpZ3VyZT5cXHJcXG5cXHQ8dGFibGU+XFxyXFxuXFx0XFx0PHRoZWFkPlxcclxcblxcdFxcdFxcdDx0cj5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+PC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+U3ltYm9sPC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+Q3VycmVudCBwcmljZTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPkF2Zy4gZW50cnkgdmFsdWU8L3RoPlxcclxcblxcdFxcdFxcdFxcdDx0aD5RdWFudGl0eTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPk1hcmtldCB2YWx1ZTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPlVucmVhbGl6ZSBQTDwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPlRyYWRlPC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+QWRkIHRvIHdhbGxldDwvdGg+XFxyXFxuXFx0XFx0XFx0PC90cj5cXHJcXG5cXHRcXHQ8L3RoZWFkPlxcclxcblxcdFxcdDx0Ym9keT5cXHJcXG5cXHRcXHRcXHR7eyNpZiByZXN1bHR9fVxcclxcblxcdFxcdFxcdHt7I2VhY2ggcmVzdWx0fX1cXHJcXG5cXHRcXHRcXHQ8dHI+XFxyXFxuXFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJzeW1ib2xfbG9nb1xcXCI+PGltZyBpZD1cXFwic3ltYm9sX2xvZ29fe3tzeW1ib2x9fVxcXCIgc3JjPVxcXCIvaW1nL2xvZ29zL2RlZmF1bHRfbG9nby5wbmdcXFwiIC8+PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiaHR0cHM6Ly9zdHJpa2UubWFya2V0L3N0b2Nrcy97e3N5bWJvbH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tzeW1ib2x9fTwvYT48L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD57e2N1cnJlbnRfcHJpY2V9fTwvdGQ+XFxyXFxuXFx0XFx0XFx0XFx0PHRkPnt7cm91bmQyIGF2Z19lbnRyeV9wcmljZX19PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+e3tyb3VuZDIgcXR5fX08L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD4ke3tyb3VuZCBtYXJrZXRfdmFsdWV9fTwvdGQ+XFxyXFxuXFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJ7e2NsYXNzQ29sb3IgdW5yZWFsaXplZF9wbH19XFxcIj4ke3tyb3VuZCB1bnJlYWxpemVkX3BsfX0gKHt7cGVyYyB1bnJlYWxpemVkX3BscGN9fSk8L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD48YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwidHJhZGVTZWN1cml0eVxcXCIgZGF0YS1zeW1ib2w9XFxcInt7c3ltYm9sfX1cXFwiIGRhdGEtcXR5PXt7cXR5fX0+VHJhZGU8L2E+PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYWRkVG9XYWxsZXRcXFwiIGRhdGEtc3ltYm9sPVxcXCJ7e3N5bWJvbH19XFxcIj5BZGQ8L2E+PC90ZD5cXHJcXG5cXHRcXHRcXHQ8L3RyPlxcclxcblxcdFxcdFxcdHt7L2VhY2h9fVxcclxcblxcdFxcdFxcdHt7L2lmfX1cXHJcXG5cXHRcXHQ8L3Rib2R5PlxcclxcblxcdDwvdGFibGU+XFxyXFxuXFx0PC9maWd1cmU+XFxyXFxuXFx0PGRpdiBpZD1cXFwiZG9jdW1lbnRzXFxcIj48L2Rpdj5cXHJcXG5cXHJcXG48L2FydGljbGU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxhcnRpY2xlPlxcclxcbiAgICBJZiB5b3VyIHdhbGxldCBpcyBvdXQgb2Ygc3luYyB3aXRoIHlvdXIgcG9zaXRpb24geW91IGNhbiBzeW5jIGl0IGhlcmUuIFRoaXMgaGFwcGVucyB3aGVuIHlvdSBtb3ZlIGZyb21cXHJcXG4gICAgb25lIGNoYWluIHRvIGFub3RoZXIuIElmIHlvdSBsaWtlIHRvIHN3aXRjaCB0byBuZXcgY2hhaW4gY2xpY2sgdGhlIGJ1dHRvbiBiZWxvdy5cXHJcXG4gICAgPGJyLz48YnIvPlxcclxcbiAgICBZb3Ugd2lsbCBiZSBhc2tlZCB0byBjb25maXJtIGEgdHJhbnNhY3Rpb24gb2Yge3t0b3RhbENvc3R9fSB7e05hdGl2ZVN5bWJvbH19ICgke3twcmljZUluTmF0aXZlVG9rZW59fSkuXFxyXFxuICAgIEVhY2ggc3RvY2sgY29zdHMge3tjb3N0UGVyU2hhcmV9fSB7e05hdGl2ZVN5bWJvbH19IHRvIHN5bmMuIFlvdSBoYXZlIHRvdGFsIG9mIHt7c2hhcmVDb3VudH19IHNoYXJlLlxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuICAgIDxidXR0b24gaWQ9XFxcInN5bmNBbGxQb3NpdGlvbnNcXFwiPlN5bmMgc3RvY2sgdG8gbXkgd2FsbGV0PC9idXR0b24+XFxyXFxuPC9hcnRpY2xlPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uc1NlcnZpY2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFBvc2l0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigncG9zaXRpb25zJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0FkZHJlc3NaZXJvfSBmcm9tICcuLi8uLi91dGlsL0hlbHBlcic7XHJcbmltcG9ydCBMaW1pbmFsTWFya2V0U2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9MaW1pbmFsTWFya2V0U2VydmljZVwiO1xyXG5pbXBvcnQgU2VjdXJpdGllc1NlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jyb2tlci9TZWN1cml0aWVzU2VydmljZVwiO1xyXG5pbXBvcnQgV2FsbGV0SGVscGVyIGZyb20gXCIuLi8uLi91dGlsL1dhbGxldEhlbHBlclwiO1xyXG5pbXBvcnQgRG9jdW1lbnRzSHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL2RvY3VtZW50cy5odG1sJztcclxuaW1wb3J0IERvY3VtZW50U2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9Eb2N1bWVudFNlcnZpY2VcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi8uLi91aS9tb2RhbHMvTW9kYWxcIjtcclxuaW1wb3J0IENyZWF0ZVRva2VuIGZyb20gXCIuLi8uLi91aS9tb2RhbHMvQ3JlYXRlVG9rZW5cIjtcclxuaW1wb3J0IEFkZHJlc3NJbmZvSHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL0FkZHJlc3NJbmZvLmh0bWwnO1xyXG5pbXBvcnQgUG9zaXRpb25QYWdlSHRtbCBmcm9tICcuLi8uLi9odG1sL3BhZ2VzL3Bvc2l0aW9ucy5odG1sJztcclxuaW1wb3J0IFN5bmNTdG9ja0h0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9TeW5jU3RvY2suaHRtbCc7XHJcbmltcG9ydCBQb3NpdGlvbnNTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1Bvc2l0aW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IEhhbmRsZWJhckhlbHBlcnMgZnJvbSBcIi4uLy4uL3V0aWwvSGFuZGxlYmFySGVscGVyc1wiO1xyXG5pbXBvcnQgVHJhZGVQYWdlIGZyb20gXCIuL1RyYWRlUGFnZVwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NpdGlvbnNQYWdlIHtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIGRvY3VtZW50U2VydmljZSA6IERvY3VtZW50U2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnRTZXJ2aWNlID0gbmV3IERvY3VtZW50U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkKCkge1xyXG5cclxuICAgICAgICBsZXQgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluX2NvbnRhaW5lcicpO1xyXG4gICAgICAgIGlmICghbWFpbkNvbnRhaW5lcikgcmV0dXJuO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHBvc2l0aW9uU2VydmljZSA9IG5ldyBQb3NpdGlvbnNTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9ucyA9IGF3YWl0IHBvc2l0aW9uU2VydmljZS5nZXRQb3NpdGlvbnMoKTtcclxuXHJcbiAgICAgICAgSGFuZGxlYmFySGVscGVycy5yZWdpc3RlckhlbHBlcnMoKTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFBvc2l0aW9uUGFnZUh0bWwpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuaW5uZXJIVE1MID0gdGVtcGxhdGUoe3Jlc3VsdDpwb3NpdGlvbnN9KTtcclxuXHJcbiAgICAgICAgbGV0IHN5bmNXYWxsZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3luY1dhbGxldCcpO1xyXG4gICAgICAgIGlmIChzeW5jV2FsbGV0QnRuKSB7XHJcbiAgICAgICAgICAgIHN5bmNXYWxsZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3luY0FsbFRva2VucygpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBzeW1ib2xzID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICBjb25zdCBzZWxsTGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0cmFkZVNlY3VyaXR5Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxsTGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBzZWxsTGlua3NbaV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBzeW1ib2wgPSBlbGVtZW50LmRhdGFzZXQuc3ltYm9sO1xyXG4gICAgICAgICAgICBpZiAoIXN5bWJvbCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBzeW1ib2xzLnB1c2goc3ltYm9sKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGxMaW5rc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBzeW1ib2wgPSBlbGVtZW50LmRhdGFzZXQuc3ltYm9sO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzeW1ib2wpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbGltaW5hbE1hcmtldFNlcnZpY2UgPSBuZXcgTGltaW5hbE1hcmtldFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250cmFjdEFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3Moc3ltYm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VjdXJpdGllc1NlcnZpY2UgPSBhd2FpdCBTZWN1cml0aWVzU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlY3VyaXR5ID0gYXdhaXQgc2VjdXJpdGllc1NlcnZpY2UuZ2V0U2VjdXJpdHlCeVN5bWJvbChzeW1ib2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0cmFkZVBhZ2UgPSBuZXcgVHJhZGVQYWdlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0cmFkZVBhZ2UubG9hZChzeW1ib2wsIHNlY3VyaXR5Lk5hbWUsIHNlY3VyaXR5LkxvZ29QYXRoICsgc2VjdXJpdHkuTG9nbywgY29udHJhY3RBZGRyZXNzKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhZGRUb1dhbGxldExpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWRkVG9XYWxsZXQnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZFRvV2FsbGV0TGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWRkVG9XYWxsZXRMaW5rc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZ0LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGFkZFRvV2FsbGV0TGlua3NbaV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sID0gZWxlbWVudC5kYXRhc2V0LnN5bWJvbCE7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGxpbWluYWxNYXJrZXRTZXJ2aWNlID0gbmV3IExpbWluYWxNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udHJhY3RBZGRyZXNzID0gYXdhaXQgbGltaW5hbE1hcmtldFNlcnZpY2UuZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udHJhY3RBZGRyZXNzLnRvU3RyaW5nKCkgPT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3JlYXRlVG9rZW4gPSBuZXcgQ3JlYXRlVG9rZW4odGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUb2tlbi5zaG93KHN5bWJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB3YWxsZXRIZWxwZXIuYWRkVG9rZW5Ub1dhbGxldChjb250cmFjdEFkZHJlc3MudG9TdHJpbmcoKSwgc3ltYm9sLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEFkZHJlc3NJbmZvSHRtbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZSh7c3ltYm9sOiBzeW1ib2wsIGFkZHJlc3M6IGNvbnRyYWN0QWRkcmVzc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLnNob3dNb2RhbCgnSW1wb3J0IHRva2VuIHRvIHdhbGxldCcsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclN5bWJvbExvZ29zKHN5bWJvbHMpO1xyXG5cclxuICAgICAgICBsZXQgZG9jVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoRG9jdW1lbnRzSHRtbCk7XHJcbiAgICAgICAgbGV0IGRvY3VtZW50cyA9IGF3YWl0IHRoaXMuZG9jdW1lbnRTZXJ2aWNlLmdldERvY3VtZW50cygpO1xyXG4gICAgICAgIGxldCBkb2N1bWVudERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2N1bWVudHMnKTtcclxuICAgICAgICBpZiAoIWRvY3VtZW50RG9tKSByZXR1cm47XHJcblxyXG4gICAgICAgIGRvY3VtZW50RG9tLmlubmVySFRNTCA9IGRvY1RlbXBsYXRlKHtyZXN1bHQ6IGRvY3VtZW50c30pO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmluaXREb2N1bWVudHMoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJlbmRlclN5bWJvbExvZ29zKHN5bWJvbHM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllc1NlcnZpY2UgPSBhd2FpdCBTZWN1cml0aWVzU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IGF3YWl0IHNlY3VyaXRpZXNTZXJ2aWNlLmdldFNlY3VyaXRpZXMoKTtcclxuICAgICAgICBsZXQgYXNzZXQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFzc2V0ID0gYXNzZXRzLmdldChzeW1ib2xzW2ldKTtcclxuICAgICAgICAgICAgaWYgKGFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ltYm9sX2xvZ29fJyArIHN5bWJvbHNbaV0pIS5zZXRBdHRyaWJ1dGUoJ3NyYycsICcvaW1nL2xvZ29zLycgKyBhc3NldC5Mb2dvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc3luY0FsbFRva2VucygpIHtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCBjb3N0T2ZTeW5jID0gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignY29zdE9mU3luYycpO1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShTeW5jU3RvY2tIdG1sKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtcclxuICAgICAgICAgICAgc2hhcmVDb3VudDogY29zdE9mU3luYy5zaGFyZUNvdW50LFxyXG4gICAgICAgICAgICBjb3N0UGVyU2hhcmU6IE1vcmFsaXMuVW5pdHMuRnJvbVdlaShjb3N0T2ZTeW5jLmNvc3RQZXJTaGFyZSwgMTgpLFxyXG4gICAgICAgICAgICBwcmljZUluTmF0aXZlVG9rZW46IGNvc3RPZlN5bmMucHJpY2VJbk5hdGl2ZVRva2VuLFxyXG4gICAgICAgICAgICB0b3RhbENvc3Q6IE1vcmFsaXMuVW5pdHMuRnJvbVdlaShjb3N0T2ZTeW5jLmNvc3QsIDE4KSxcclxuICAgICAgICAgICAgTmF0aXZlU3ltYm9sOiBuZXR3b3JrSW5mby5OYXRpdmVTeW1ib2xcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdTeW5jIGFsbCBzdG9jayB0byB3YWxsZXQnLCBjb250ZW50KVxyXG5cclxuICAgICAgICBsZXQgc3luY0FsbFBvc2l0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeW5jQWxsUG9zaXRpb25zJyk7XHJcbiAgICAgICAgaWYgKHN5bmNBbGxQb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgc3luY0FsbFBvc2l0aW9ucy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGluaXREb2N1bWVudHMoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZG93bmxvYWREb2MnKTtcclxuICAgICAgICBjb25zdCB1c2VyID0gdGhpcy5tb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRvY3VtZW50SWQgPSAobGlua3NbaV0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuZG9jaWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50SWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb25VcmwgPSBhd2FpdCB0aGlzLmRvY3VtZW50U2VydmljZS5nZXREb2N1bWVudChkb2N1bWVudElkKTtcclxuICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvblVybCA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgZmluZCBkb2N1bWVudC4gUGxlYXNlIGNvbnRhY3QgdXMgaWYgeW91IHNob3VsZCBoYXZlIGdvdHRlbiBhIGRvY3VtZW50JylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBsb2NhdGlvblVybDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFN0b2Nrc1BhZ2UgZnJvbSBcIi4uL3VpL3BhZ2VzL1N0b2Nrc1BhZ2VcIjtcclxuaW1wb3J0IFRyYWRlUGFnZSBmcm9tIFwiLi4vdWkvcGFnZXMvVHJhZGVQYWdlXCI7XHJcbmltcG9ydCBQb3NpdGlvbnNQYWdlIGZyb20gXCIuLi91aS9wYWdlcy9Qb3NpdGlvbnNQYWdlXCI7XHJcbmltcG9ydCBGYWtlQVVTREZ1bmQgZnJvbSBcIi4uL3VpL21vZGFscy9GdW5kaW5nL0Zha2VBVVNERnVuZFwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGluZyB7XHJcblxyXG4gICAgc2V0dGluZ3M6IGFueSA9IHtcclxuICAgICAgICBzaG93X3RyYWRlOiB0aGlzLnNob3dUcmFkZSxcclxuICAgICAgICBzaG93X3Bvc2l0aW9uczogdGhpcy5zaG93UG9zaXRpb25zLFxyXG4gICAgICAgIHNob3dfc3RvY2tzOiB0aGlzLnNob3dTdG9ja3MsXHJcbiAgICAgICAgc2hvd19reWNfYWN0aW9uX3JlcXVpcmVkOiB0aGlzLnNob3dLeWNBY3Rpb25SZXF1aXJlZCxcclxuICAgICAgICBzaG93X2Z1bmRpbmc6IHRoaXMuc2hvd0Z1bmRpbmcsXHJcbiAgICAgICAgc2hvd19reWM6IHRoaXMuc2hvd0t5Y1xyXG4gICAgfTtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkUm91dGVzKCkge1xyXG4gICAgICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5yZXBsYWNlKCcvJywgJycpO1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSAnJykgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZSgnPycsICcnKTtcclxuICAgICAgICBpZiAocGF0aCA9PT0gJycpIHBhdGggPSAnc3RvY2tzJztcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2hOYXZMaW5rcygpO1xyXG5cclxuICAgICAgICBsZXQgZm4gPSB0aGlzLnNldHRpbmdzWydzaG93XycgKyBwYXRoXSA/PyB0aGlzLnNldHRpbmdzWydzaG93X3N0b2NrcyddO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZuKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd0t5Y0FjdGlvblJlcXVpcmVkKHJvdXRpbmc6IFJvdXRpbmcsIGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBUcmFkZVBhZ2Uocm91dGluZy5tb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmxvYWQoKTtcclxuXHJcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzdG9ja3MnLCAnIy9reWNfYWN0aW9uX3JlcXVpcmVkJyk7XHJcblxyXG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZScpXHJcbiAgICAgICAgYnV0dG9uPy5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd0t5Yyhyb3V0aW5nOiBSb3V0aW5nLCBldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZ0KSBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgbGV0IHBhZ2UgPSBuZXcgVHJhZGVQYWdlKHJvdXRpbmcubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5sb2FkKCk7XHJcblxyXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdCdXkgc3RvY2tzJywgJyMva3ljJyk7XHJcblxyXG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZScpXHJcbiAgICAgICAgYnV0dG9uPy5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd0Z1bmRpbmcocm91dGluZzogUm91dGluZywgZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2dCkgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBwYWdlID0gbmV3IFRyYWRlUGFnZShyb3V0aW5nLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHBhZ2UubG9hZCgpO1xyXG5cclxuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnQnV5IHN0b2NrcycsICcjL2Z1bmRpbmcnKTtcclxuXHJcbiAgICAgICAgbGV0IGFVU0RGdW5kaW5nTW9kYWwgPSBuZXcgRmFrZUFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuICAgICAgICAgICAgYVVTREZ1bmRpbmdNb2RhbC5zaG93QVVTREZha2VGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhVVNERnVuZGluZ01vZGFsLnNob3dBVVNERnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd1RyYWRlKHJvdXRpbmc6IFJvdXRpbmcsIGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBUcmFkZVBhZ2Uocm91dGluZy5tb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmxvYWQoKTtcclxuXHJcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzdG9ja3MnLCAnIy90cmFkZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93U3RvY2tzKHJvdXRpbmcgOiBSb3V0aW5nLGV2dCA6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZ0KSBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgbGV0IHBhZ2UgPSBuZXcgU3RvY2tzUGFnZShyb3V0aW5nLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHBhZ2UubG9hZCgpO1xyXG5cclxuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnU3RvY2tzJywgJyMvc3RvY2tzJyk7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIHNob3dQb3NpdGlvbnMocm91dGluZyA6IFJvdXRpbmcsZXZ0IDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBQb3NpdGlvbnNQYWdlKHJvdXRpbmcubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5sb2FkKCk7XHJcblxyXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdQb3NpdGlvbnMnLCAnIy9wb3NpdGlvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXR0YWNoTmF2TGlua3MoKSB7XHJcbiAgICAgICAgbGV0IHJvdXRlciA9IHRoaXM7XHJcblxyXG5cclxuICAgICAgICBsZXQgdHJhZGVOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cmFkZU5hdkxpbmsnKTtcclxuICAgICAgICB0cmFkZU5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgIChsaW5rIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uIChldnQgOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZXIuc2hvd1RyYWRlKHJvdXRlciwgZXZ0KTtcclxuICAgICAgICAgICAgICAgIGxpbmsucGFyZW50RWxlbWVudCEucGFyZW50RWxlbWVudCEucGFyZW50RWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpbnZlc3RMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnZlc3ROYXZMaW5rJyk7XHJcbiAgICAgICAgaW52ZXN0TGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgKGxpbmsgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyLnNob3dTdG9ja3Mocm91dGVyLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgbGluay5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGlvbkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc2l0aW9uTmF2TGluaycpO1xyXG4gICAgICAgIHBvc2l0aW9uTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgKGxpbmsgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyLnNob3dQb3NpdGlvbnMocm91dGVyLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgbGluay5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRJbWFnZSgpIHtcclxuICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keSA+IGhlYWRlcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghaGVhZGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgvaW1nL2hlYWRlci9cIiArIHJhbmRvbSArIFwiLmpwZylcIjtcclxuICAgIH1cclxufSIsImltcG9ydCBDb25uZWN0aW9uU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9iYWNrZW5kL0Nvbm5lY3Rpb25TZXJ2aWNlXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBSb3V0aW5nIGZyb20gXCIuL3JvdXRpbmcvUm91dGluZ1wiO1xyXG5pbXBvcnQgQ29ubmVjdFdhbGxldCBmcm9tIFwiLi91aS9tb2RhbHMvQ29ubmVjdFdhbGxldFwiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vdWkvZWxlbWVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9lcnJvcnMvR2VuZXJhbEVycm9yXCI7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vdWkvZWxlbWVudHMvSGVhZGVyXCI7XHJcbmltcG9ydCBBVXNkQmFsYW5jZSBmcm9tIFwiLi91aS9lbGVtZW50cy9BVXNkQmFsYW5jZVwiO1xyXG5cclxuY29uc3Qgc3RhcnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgc2xvd1NlcnZlclRpbWVyID0gc2V0VGltZW91dChzbG93U2VydmVyLCA1ICogMTAwMCk7XHJcblxyXG4gICAgbGV0IGNvbm5lY3Rpb25TZXJ2aWNlID0gbmV3IENvbm5lY3Rpb25TZXJ2aWNlKCk7XHJcbiAgICBjb25uZWN0aW9uU2VydmljZS5zdGFydCgpLnRoZW4oYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzbG93U2VydmVyVGltZXIpO1xyXG5cclxuICAgICAgICBsZXQgbG9hZGluZ01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQgbG9nZ2VkSW5Vc2VyID0gYXdhaXQgdXNlclNlcnZpY2UuaXNMb2dnZWRJbihsb2FkaW5nTWVzc2FnZSk7XHJcbmNvbnNvbGUubG9nKCdsb2dnZWRJblVzZXInLCBsb2dnZWRJblVzZXIpO1xyXG4gICAgICAgIGlmIChsb2dnZWRJblVzZXIpIHtcclxuICAgICAgICAgICAgbGV0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKE1vcmFsaXMsIChsb2dnZWRJblVzZXIgYXMgYW55KS5wcm92aWRlckluZm8sIGxvZ2dlZEluVXNlcik7XHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXJJbmZvLnJlbmRlcigndXNlcl9oZWFkZXJfaW5mbycpO1xyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9zaG93IENvbm5lY3QgV2FsbGV0IGJ1dHRvblxyXG4gICAgICAgICAgICBsZXQgY29ubmVjdFdhbGxldCA9IG5ldyBDb25uZWN0V2FsbGV0KE1vcmFsaXMpO1xyXG4gICAgICAgICAgICBjb25uZWN0V2FsbGV0LnJlbmRlckJ1dHRvbigndXNlcl9oZWFkZXJfaW5mbycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJvdXRpbmcgPSBuZXcgUm91dGluZyhNb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCByb3V0aW5nLmxvYWRSb3V0ZXMoKTtcclxuXHJcblxyXG4gICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgIEVycm9ySW5mby5yZXBvcnQobmV3IEdlbmVyYWxFcnJvcihcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLjxiciAvPjxiciAvPlwiICsgcmVhc29uKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIGxldCB1c2VySW5mb0Ryb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJJbmZvRHJvcGRvd24nKTtcclxuICAgICAgICBpZiAodXNlckluZm9Ecm9wZG93biAmJiAhdXNlckluZm9Ecm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Qtbm9uZScpKSB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvRHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBsZXQgd2FsbGV0SGVscGVyID0gbmV3IFdhbGxldEhlbHBlcihNb3JhbGlzKTtcclxuICAgIGlmICh3YWxsZXRIZWxwZXIuaXNXZWJ2aWV3KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSlcclxuICAgIHtcclxuICAgICAgICAvL2NvbnNvbGUgPSBFcnJvckluZm8gYXMgYW55O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBzbG93U2VydmVyKCkge1xyXG4gICAgICAgIGxldCBsb2FkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRpbmcnKTtcclxuICAgICAgICBpZiAoIWxvYWRpbmcpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNsb3dTZXJ2ZXJUaW1lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvYWRpbmcuaW5uZXJIVE1MID0gJ0htbW0uLi4uIG91ciBzZXJ2ZXJzIGFyZSBzbG93IGFuZCBtaWdodCBiZSBkb3duLiBHaXZlIGl0IGZldyBtaW51dGVzLidcclxuXHJcbiAgICB9XHJcbiAgICBIZWFkZXIubG9hZEltYWdlKCk7XHJcblxyXG59XHJcblxyXG5zdGFydCgpLnRoZW4oKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.ts\n");

            /***/
        })

        /******/
    });
    /************************************************************************/
    /******/ 	// The require scope
    /******/
    var __webpack_require__ = {};
    /******/
    /************************************************************************/
    /******/ 	/* webpack/runtime/make namespace object */
    /******/
    (() => {
        /******/ 		// define __esModule on exports
        /******/
        __webpack_require__.r = (exports) => {
            /******/
            if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
                /******/
                Object.defineProperty(exports, Symbol.toStringTag, {value: 'Module'});
                /******/
            }
            /******/
            Object.defineProperty(exports, '__esModule', {value: true});
            /******/
        };
        /******/
    })();
    /******/
    /************************************************************************/
    /******/
    /******/ 	// startup
    /******/ 	// Load entry module and return exports
    /******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
    /******/
    var __webpack_exports__ = {};
    /******/
    __webpack_modules__["./src/main.ts"](0, __webpack_exports__, __webpack_require__);
    /******/
    /******/
})()
;