/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/bignumber.js/bignumber.js":
/*!************************************************!*\
  !*** ./node_modules/bignumber.js/bignumber.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;;(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v9.0.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2021 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n      alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if less than two characters,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n              alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, P.lt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, P.gt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // THe index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    function maxOrMin(args, method) {\r\n      var n,\r\n        i = 1,\r\n        m = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        n = new BigNumber(args[i]);\r\n\r\n        // If any number is NaN, return NaN.\r\n        if (!n.s) {\r\n          m = n;\r\n          break;\r\n        } else if (method.call(m, n)) {\r\n          m = n;\r\n        }\r\n      }\r\n\r\n      return m;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on ±Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = n / pows10[d - j - 1] % 10 | 0;\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and ±Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = ±Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return ±0, else return ±Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, ±Infinity or ±0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return ±Infinity if either is ±Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return ±0 if either is ±0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return ±Infinity if either ±Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '5e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (true) {\r\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () { return BigNumber; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else {}\r\n})(this);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmlnbnVtYmVyLmpzL2JpZ251bWJlci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxtQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdURBQXVEO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFNBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLEtBQUs7QUFDL0MsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixLQUFLO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FB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QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5QkFBeUI7QUFDbkMsWUFBWSx5QkFBeUI7QUFDckM7QUFDQSxvREFBb0QsRUFBRTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxvQ0FBb0MsbURBQW1ELEdBQUcsR0FBRztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSztBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixLQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsS0FBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLE1BQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixFQUFFO0FBQ3BCO0FBQ0E7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O0FBQy9DLElBQUksbUNBQU8sY0FBYyxtQkFBbUI7QUFBQSxrR0FBQztBQUM3QztBQUNBO0FBQ0EsSUFBSSxLQUFLLEVBVU47QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9ub2RlX21vZHVsZXMvYmlnbnVtYmVyLmpzL2JpZ251bWJlci5qcz85MDFlIl0sInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24gKGdsb2JhbE9iamVjdCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbi8qXHJcbiAqICAgICAgYmlnbnVtYmVyLmpzIHY5LjAuMlxyXG4gKiAgICAgIEEgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBhcmJpdHJhcnktcHJlY2lzaW9uIGFyaXRobWV0aWMuXHJcbiAqICAgICAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvYmlnbnVtYmVyLmpzXHJcbiAqICAgICAgQ29weXJpZ2h0IChjKSAyMDIxIE1pY2hhZWwgTWNsYXVnaGxpbiA8TThjaDg4bEBnbWFpbC5jb20+XHJcbiAqICAgICAgTUlUIExpY2Vuc2VkLlxyXG4gKlxyXG4gKiAgICAgIEJpZ051bWJlci5wcm90b3R5cGUgbWV0aG9kcyAgICAgfCAgQmlnTnVtYmVyIG1ldGhvZHNcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgYWJzICAgIHwgIGNsb25lXHJcbiAqICAgICAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICAgICAgICB8ICBjb25maWcgICAgICAgICAgICAgICBzZXRcclxuICogICAgICBkZWNpbWFsUGxhY2VzICAgICAgICAgICAgZHAgICAgIHwgICAgICBERUNJTUFMX1BMQUNFU1xyXG4gKiAgICAgIGRpdmlkZWRCeSAgICAgICAgICAgICAgICBkaXYgICAgfCAgICAgIFJPVU5ESU5HX01PREVcclxuICogICAgICBkaXZpZGVkVG9JbnRlZ2VyQnkgICAgICAgaWRpdiAgIHwgICAgICBFWFBPTkVOVElBTF9BVFxyXG4gKiAgICAgIGV4cG9uZW50aWF0ZWRCeSAgICAgICAgICBwb3cgICAgfCAgICAgIFJBTkdFXHJcbiAqICAgICAgaW50ZWdlclZhbHVlICAgICAgICAgICAgICAgICAgICB8ICAgICAgQ1JZUFRPXHJcbiAqICAgICAgaXNFcXVhbFRvICAgICAgICAgICAgICAgIGVxICAgICB8ICAgICAgTU9EVUxPX01PREVcclxuICogICAgICBpc0Zpbml0ZSAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICBQT1dfUFJFQ0lTSU9OXHJcbiAqICAgICAgaXNHcmVhdGVyVGhhbiAgICAgICAgICAgIGd0ICAgICB8ICAgICAgRk9STUFUXHJcbiAqICAgICAgaXNHcmVhdGVyVGhhbk9yRXF1YWxUbyAgIGd0ZSAgICB8ICAgICAgQUxQSEFCRVRcclxuICogICAgICBpc0ludGVnZXIgICAgICAgICAgICAgICAgICAgICAgIHwgIGlzQmlnTnVtYmVyXHJcbiAqICAgICAgaXNMZXNzVGhhbiAgICAgICAgICAgICAgIGx0ICAgICB8ICBtYXhpbXVtICAgICAgICAgICAgICBtYXhcclxuICogICAgICBpc0xlc3NUaGFuT3JFcXVhbFRvICAgICAgbHRlICAgIHwgIG1pbmltdW0gICAgICAgICAgICAgIG1pblxyXG4gKiAgICAgIGlzTmFOICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgcmFuZG9tXHJcbiAqICAgICAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICAgICAgICB8ICBzdW1cclxuICogICAgICBpc1Bvc2l0aXZlICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBpc1plcm8gICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBtaW51cyAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBtb2R1bG8gICAgICAgICAgICAgICAgICAgbW9kICAgIHxcclxuICogICAgICBtdWx0aXBsaWVkQnkgICAgICAgICAgICAgdGltZXMgIHxcclxuICogICAgICBuZWdhdGVkICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBwbHVzICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBwcmVjaXNpb24gICAgICAgICAgICAgICAgc2QgICAgIHxcclxuICogICAgICBzaGlmdGVkQnkgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBzcXVhcmVSb290ICAgICAgICAgICAgICAgc3FydCAgIHxcclxuICogICAgICB0b0V4cG9uZW50aWFsICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0ZpeGVkICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0Zvcm1hdCAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0ZyYWN0aW9uICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0pTT04gICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b051bWJlciAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b1ByZWNpc2lvbiAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b1N0cmluZyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB2YWx1ZU9mICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICpcclxuICovXHJcblxyXG5cclxuICB2YXIgQmlnTnVtYmVyLFxyXG4gICAgaXNOdW1lcmljID0gL14tPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoPzplWystXT9cXGQrKT8kL2ksXHJcbiAgICBtYXRoY2VpbCA9IE1hdGguY2VpbCxcclxuICAgIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXHJcblxyXG4gICAgYmlnbnVtYmVyRXJyb3IgPSAnW0JpZ051bWJlciBFcnJvcl0gJyxcclxuICAgIHRvb01hbnlEaWdpdHMgPSBiaWdudW1iZXJFcnJvciArICdOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiAnLFxyXG5cclxuICAgIEJBU0UgPSAxZTE0LFxyXG4gICAgTE9HX0JBU0UgPSAxNCxcclxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLCAgICAgICAgIC8vIDJeNTMgLSAxXHJcbiAgICAvLyBNQVhfSU5UMzIgPSAweDdmZmZmZmZmLCAgICAgICAgICAgICAgICAgICAvLyAyXjMxIC0gMVxyXG4gICAgUE9XU19URU4gPSBbMSwgMTAsIDEwMCwgMWUzLCAxZTQsIDFlNSwgMWU2LCAxZTcsIDFlOCwgMWU5LCAxZTEwLCAxZTExLCAxZTEyLCAxZTEzXSxcclxuICAgIFNRUlRfQkFTRSA9IDFlNyxcclxuXHJcbiAgICAvLyBFRElUQUJMRVxyXG4gICAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBERUNJTUFMX1BMQUNFUywgVE9fRVhQX05FRywgVE9fRVhQX1BPUywgTUlOX0VYUCwgTUFYX0VYUCwgYW5kXHJcbiAgICAvLyB0aGUgYXJndW1lbnRzIHRvIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0LCBhbmQgdG9QcmVjaXNpb24uXHJcbiAgICBNQVggPSAxRTk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWF9JTlQzMlxyXG5cclxuXHJcbiAgLypcclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZ051bWJlciBjb25zdHJ1Y3Rvci5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjbG9uZShjb25maWdPYmplY3QpIHtcclxuICAgIHZhciBkaXYsIGNvbnZlcnRCYXNlLCBwYXJzZU51bWVyaWMsXHJcbiAgICAgIFAgPSBCaWdOdW1iZXIucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQmlnTnVtYmVyLCB0b1N0cmluZzogbnVsbCwgdmFsdWVPZjogbnVsbCB9LFxyXG4gICAgICBPTkUgPSBuZXcgQmlnTnVtYmVyKDEpLFxyXG5cclxuXHJcbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRURJVEFCTEUgQ09ORklHIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZXMgc3RhdGVkLlxyXG4gICAgICAvLyBUaGUgdmFsdWVzIGNhbiBhbHNvIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgQmlnTnVtYmVyLnNldC5cclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3Igb3BlcmF0aW9ucyBpbnZvbHZpbmcgZGl2aXNpb24uXHJcbiAgICAgIERFQ0lNQUxfUExBQ0VTID0gMjAsICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byB0aGUgYWJvdmUgZGVjaW1hbCBwbGFjZXMsIGFuZCB3aGVuIHVzaW5nXHJcbiAgICAgIC8vIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0IGFuZCB0b1ByZWNpc2lvbiwgYW5kIHJvdW5kIChkZWZhdWx0IHZhbHVlKS5cclxuICAgICAgLy8gVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgICAvLyBET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgICAvLyBDRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIEZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgICAgLy8gSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgICAgLy8gSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgICAvLyBIQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAgIC8vIEhBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIEhBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgIFJPVU5ESU5HX01PREUgPSA0LCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgICAvLyBFWFBPTkVOVElBTF9BVCA6IFtUT19FWFBfTkVHICwgVE9fRVhQX1BPU11cclxuXHJcbiAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICAvLyBOdW1iZXIgdHlwZTogLTdcclxuICAgICAgVE9fRVhQX05FRyA9IC03LCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1NQVhcclxuXHJcbiAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgLy8gTnVtYmVyIHR5cGU6IDIxXHJcbiAgICAgIFRPX0VYUF9QT1MgPSAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAgIC8vIFJBTkdFIDogW01JTl9FWFAsIE1BWF9FWFBdXHJcblxyXG4gICAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAgIC8vIE51bWJlciB0eXBlOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgICBNSU5fRVhQID0gLTFlNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAgIC8vIE51bWJlciB0eXBlOiAgMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICAgIC8vIEZvciBNQVhfRVhQID4gMWU3LCBlLmcuIG5ldyBCaWdOdW1iZXIoJzFlMTAwMDAwMDAwJykucGx1cygxKSBtYXkgYmUgc2xvdy5cclxuICAgICAgTUFYX0VYUCA9IDFlNywgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWFxyXG5cclxuICAgICAgLy8gV2hldGhlciB0byB1c2UgY3J5cHRvZ3JhcGhpY2FsbHktc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiwgaWYgYXZhaWxhYmxlLlxyXG4gICAgICBDUllQVE8gPSBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcclxuXHJcbiAgICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAgIC8vIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxyXG4gICAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBVUCAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgICAgLy8gRE9XTiAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQuXHJcbiAgICAgIC8vICAgICAgICAgICAgIFRoaXMgbW9kdWxvIG1vZGUgaXMgY29tbW9ubHkga25vd24gYXMgJ3RydW5jYXRlZCBkaXZpc2lvbicgYW5kIGlzXHJcbiAgICAgIC8vICAgICAgICAgICAgIGVxdWl2YWxlbnQgdG8gKGEgJSBuKSBpbiBKYXZhU2NyaXB0LlxyXG4gICAgICAvLyBGTE9PUiAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAgIC8vIEhBTEZfRVZFTiA2IFRoaXMgbW9kdWxvIG1vZGUgaW1wbGVtZW50cyB0aGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgICAvLyBFVUNMSUQgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuXHJcbiAgICAgIC8vICAgICAgICAgICAgIFRoZSByZW1haW5kZXIgaXMgYWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBUaGUgdHJ1bmNhdGVkIGRpdmlzaW9uLCBmbG9vcmVkIGRpdmlzaW9uLCBFdWNsaWRpYW4gZGl2aXNpb24gYW5kIElFRUUgNzU0IHJlbWFpbmRlclxyXG4gICAgICAvLyBtb2RlcyBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLlxyXG4gICAgICAvLyBBbHRob3VnaCB0aGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc28gYmUgdXNlZCwgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXHJcbiAgICAgIE1PRFVMT19NT0RFID0gMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgdGhlIGV4cG9uZW50aWF0ZWRCeSBvcGVyYXRpb24uXHJcbiAgICAgIC8vIElmIFBPV19QUkVDSVNJT04gaXMgMCwgdGhlcmUgd2lsbCBiZSB1bmxpbWl0ZWQgc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAgICBQT1dfUFJFQ0lTSU9OID0gMCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgICAvLyBUaGUgZm9ybWF0IHNwZWNpZmljYXRpb24gdXNlZCBieSB0aGUgQmlnTnVtYmVyLnByb3RvdHlwZS50b0Zvcm1hdCBtZXRob2QuXHJcbiAgICAgIEZPUk1BVCA9IHtcclxuICAgICAgICBwcmVmaXg6ICcnLFxyXG4gICAgICAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAgICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXHJcbiAgICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcsJyxcclxuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICAgICAgZnJhY3Rpb25Hcm91cFNpemU6IDAsXHJcbiAgICAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjogJ1xceEEwJywgICAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAgICAgIHN1ZmZpeDogJydcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIFRoZSBhbHBoYWJldCB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uIEl0IG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIGxvbmcsIHdpdGggbm8gJysnLFxyXG4gICAgICAvLyAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgICAvLyAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVokXydcclxuICAgICAgQUxQSEFCRVQgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyxcclxuICAgICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgLy8gQ09OU1RSVUNUT1JcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFRoZSBCaWdOdW1iZXIgY29uc3RydWN0b3IgYW5kIGV4cG9ydGVkIGZ1bmN0aW9uLlxyXG4gICAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYSBCaWdOdW1iZXIgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIHYge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICAgKiBbYl0ge251bWJlcn0gVGhlIGJhc2Ugb2Ygdi4gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBCaWdOdW1iZXIodiwgYikge1xyXG4gICAgICB2YXIgYWxwaGFiZXQsIGMsIGNhc2VDaGFuZ2VkLCBlLCBpLCBpc051bSwgbGVuLCBzdHIsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBFbmFibGUgY29uc3RydWN0b3IgY2FsbCB3aXRob3V0IGBuZXdgLlxyXG4gICAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnTnVtYmVyKSkgcmV0dXJuIG5ldyBCaWdOdW1iZXIodiwgYik7XHJcblxyXG4gICAgICBpZiAoYiA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIGlmICh2ICYmIHYuX2lzQmlnTnVtYmVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICAgICAgaWYgKCF2LmMgfHwgdi5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBNSU5fRVhQKSB7XHJcbiAgICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICAgICAgeC5jID0gdi5jLnNsaWNlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKChpc051bSA9IHR5cGVvZiB2ID09ICdudW1iZXInKSAmJiB2ICogMCA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gVXNlIGAxIC8gbmAgdG8gaGFuZGxlIG1pbnVzIHplcm8gYWxzby5cclxuICAgICAgICAgIHgucyA9IDEgLyB2IDwgMCA/ICh2ID0gLXYsIC0xKSA6IDE7XHJcblxyXG4gICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBpbnRlZ2Vycywgd2hlcmUgbiA8IDIxNDc0ODM2NDggKDIqKjMxKS5cclxuICAgICAgICAgIGlmICh2ID09PSB+fnYpIHtcclxuICAgICAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTAsIGUrKyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgICAgeC5jID0gW3ZdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgaWYgKCFpc051bWVyaWMudGVzdChzdHIgPSBTdHJpbmcodikpKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0pO1xyXG5cclxuICAgICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gICAgICAgIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgICAgICAgaWYgKChpID0gc3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICAgICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgICAgICAgIGUgKz0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBJbnRlZ2VyLlxyXG4gICAgICAgICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuXHJcbiAgICAgICAgLy8gQWxsb3cgZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYmUgdXNlZCB3aXRoIGJhc2UgMTAgYXJndW1lbnQsIHdoaWxlXHJcbiAgICAgICAgLy8gYWxzbyByb3VuZGluZyB0byBERUNJTUFMX1BMQUNFUyBhcyB3aXRoIG90aGVyIGJhc2VzLlxyXG4gICAgICAgIGlmIChiID09IDEwICYmIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cykge1xyXG4gICAgICAgICAgeCA9IG5ldyBCaWdOdW1iZXIodik7XHJcbiAgICAgICAgICByZXR1cm4gcm91bmQoeCwgREVDSU1BTF9QTEFDRVMgKyB4LmUgKyAxLCBST1VORElOR19NT0RFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ciA9IFN0cmluZyh2KTtcclxuXHJcbiAgICAgICAgaWYgKGlzTnVtID0gdHlwZW9mIHYgPT0gJ251bWJlcicpIHtcclxuXHJcbiAgICAgICAgICAvLyBBdm9pZCBwb3RlbnRpYWwgaW50ZXJwcmV0YXRpb24gb2YgSW5maW5pdHkgYW5kIE5hTiBhcyBiYXNlIDQ0KyB2YWx1ZXMuXHJcbiAgICAgICAgICBpZiAodiAqIDAgIT0gMCkgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBzdHIsIGlzTnVtLCBiKTtcclxuXHJcbiAgICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXHJcbiAgICAgICAgICBpZiAoQmlnTnVtYmVyLkRFQlVHICYmIHN0ci5yZXBsYWNlKC9eMFxcLjAqfFxcLi8sICcnKS5sZW5ndGggPiAxNSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFscGhhYmV0ID0gQUxQSEFCRVQuc2xpY2UoMCwgYik7XHJcbiAgICAgICAgZSA9IGkgPSAwO1xyXG5cclxuICAgICAgICAvLyBDaGVjayB0aGF0IHN0ciBpcyBhIHZhbGlkIGJhc2UgYiBudW1iZXIuXHJcbiAgICAgICAgLy8gRG9uJ3QgdXNlIFJlZ0V4cCwgc28gYWxwaGFiZXQgY2FuIGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzLlxyXG4gICAgICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoYWxwaGFiZXQuaW5kZXhPZihjID0gc3RyLmNoYXJBdChpKSkgPCAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjID09ICcuJykge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiAnLicgaXMgbm90IHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIGl0IGhhcyBub3QgYmUgZm91bmQgYmVmb3JlLlxyXG4gICAgICAgICAgICAgIGlmIChpID4gZSkge1xyXG4gICAgICAgICAgICAgICAgZSA9IGxlbjtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghY2FzZUNoYW5nZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQWxsb3cgZS5nLiBoZXhhZGVjaW1hbCAnRkYnIGFzIHdlbGwgYXMgJ2ZmJy5cclxuICAgICAgICAgICAgICBpZiAoc3RyID09IHN0ci50b1VwcGVyQ2FzZSgpICYmIChzdHIgPSBzdHIudG9Mb3dlckNhc2UoKSkgfHxcclxuICAgICAgICAgICAgICAgICAgc3RyID09IHN0ci50b0xvd2VyQ2FzZSgpICYmIChzdHIgPSBzdHIudG9VcHBlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2VDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGkgPSAtMTtcclxuICAgICAgICAgICAgICAgIGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOdW1lcmljKHgsIFN0cmluZyh2KSwgaXNOdW0sIGIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUHJldmVudCBsYXRlciBjaGVjayBmb3IgbGVuZ3RoIG9uIGNvbnZlcnRlZCBudW1iZXIuXHJcbiAgICAgICAgaXNOdW0gPSBmYWxzZTtcclxuICAgICAgICBzdHIgPSBjb252ZXJ0QmFzZShzdHIsIGIsIDEwLCB4LnMpO1xyXG5cclxuICAgICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIGVsc2UgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGkgPSAwOyBzdHIuY2hhckNvZGVBdChpKSA9PT0gNDg7IGkrKyk7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQoLS1sZW4pID09PSA0ODspO1xyXG5cclxuICAgICAgaWYgKHN0ciA9IHN0ci5zbGljZShpLCArK2xlbikpIHtcclxuICAgICAgICBsZW4gLT0gaTtcclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE51bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6IHtufSdcclxuICAgICAgICBpZiAoaXNOdW0gJiYgQmlnTnVtYmVyLkRFQlVHICYmXHJcbiAgICAgICAgICBsZW4gPiAxNSAmJiAodiA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdiAhPT0gbWF0aGZsb29yKHYpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyAoeC5zICogdikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICAgIGlmICgoZSA9IGUgLSBpIC0gMSkgPiBNQVhfRVhQKSB7XHJcblxyXG4gICAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICB4LmMgPSBbXTtcclxuXHJcbiAgICAgICAgICAvLyBUcmFuc2Zvcm0gYmFzZVxyXG5cclxuICAgICAgICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXHJcbiAgICAgICAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGNvZWZmaWNpZW50IGFycmF5LlxyXG4gICAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTsgIC8vIGkgPCAxXHJcblxyXG4gICAgICAgICAgaWYgKGkgPCBsZW4pIHtcclxuICAgICAgICAgICAgaWYgKGkpIHguYy5wdXNoKCtzdHIuc2xpY2UoMCwgaSkpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgICAgICAgeC5jLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGkgPSBMT0dfQkFTRSAtIChzdHIgPSBzdHIuc2xpY2UoaSkpLmxlbmd0aDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGkgLT0gbGVuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgICAgeC5jLnB1c2goK3N0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBDT05TVFJVQ1RPUiBQUk9QRVJUSUVTXHJcblxyXG5cclxuICAgIEJpZ051bWJlci5jbG9uZSA9IGNsb25lO1xyXG5cclxuICAgIEJpZ051bWJlci5ST1VORF9VUCA9IDA7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfRE9XTiA9IDE7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfRkxPT1IgPSAzO1xyXG4gICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfVVAgPSA0O1xyXG4gICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9FVkVOID0gNjtcclxuICAgIEJpZ051bWJlci5ST1VORF9IQUxGX0NFSUwgPSA3O1xyXG4gICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gICAgQmlnTnVtYmVyLkVVQ0xJRCA9IDk7XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBDb25maWd1cmUgaW5mcmVxdWVudGx5LWNoYW5naW5nIGxpYnJhcnktd2lkZSBzZXR0aW5ncy5cclxuICAgICAqXHJcbiAgICAgKiBBY2NlcHQgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwcm9wZXJ0aWVzIChpZiB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBpc1xyXG4gICAgICogYSBudW1iZXIsIGl0IG11c3QgYmUgYW4gaW50ZWdlciB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZSBzdGF0ZWQpOlxyXG4gICAgICpcclxuICAgICAqICAgREVDSU1BTF9QTEFDRVMgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgICAqICAgUk9VTkRJTkdfTU9ERSAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA4XHJcbiAgICAgKiAgIEVYUE9ORU5USUFMX0FUICAge251bWJlcnxudW1iZXJbXX0gIC1NQVggdG8gTUFYICBvciAgWy1NQVggdG8gMCwgMCB0byBNQVhdXHJcbiAgICAgKiAgIFJBTkdFICAgICAgICAgICAge251bWJlcnxudW1iZXJbXX0gIC1NQVggdG8gTUFYIChub3QgemVybykgIG9yICBbLU1BWCB0byAtMSwgMSB0byBNQVhdXHJcbiAgICAgKiAgIENSWVBUTyAgICAgICAgICAge2Jvb2xlYW59ICAgICAgICAgIHRydWUgb3IgZmFsc2VcclxuICAgICAqICAgTU9EVUxPX01PREUgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA5XHJcbiAgICAgKiAgIFBPV19QUkVDSVNJT04gICAgICAge251bWJlcn0gICAgICAgICAgIDAgdG8gTUFYXHJcbiAgICAgKiAgIEFMUEhBQkVUICAgICAgICAge3N0cmluZ30gICAgICAgICAgIEEgc3RyaW5nIG9mIHR3byBvciBtb3JlIHVuaXF1ZSBjaGFyYWN0ZXJzIHdoaWNoIGRvZXNcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGNvbnRhaW4gJy4nLlxyXG4gICAgICogICBGT1JNQVQgICAgICAgICAgIHtvYmplY3R9ICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCBzb21lIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAqICAgICBwcmVmaXggICAgICAgICAgICAgICAgIHtzdHJpbmd9XHJcbiAgICAgKiAgICAgZ3JvdXBTaXplICAgICAgICAgICAgICB7bnVtYmVyfVxyXG4gICAgICogICAgIHNlY29uZGFyeUdyb3VwU2l6ZSAgICAge251bWJlcn1cclxuICAgICAqICAgICBncm91cFNlcGFyYXRvciAgICAgICAgIHtzdHJpbmd9XHJcbiAgICAgKiAgICAgZGVjaW1hbFNlcGFyYXRvciAgICAgICB7c3RyaW5nfVxyXG4gICAgICogICAgIGZyYWN0aW9uR3JvdXBTaXplICAgICAge251bWJlcn1cclxuICAgICAqICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yIHtzdHJpbmd9XHJcbiAgICAgKiAgICAgc3VmZml4ICAgICAgICAgICAgICAgICB7c3RyaW5nfVxyXG4gICAgICpcclxuICAgICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXHJcbiAgICAgKlxyXG4gICAgICogRS5nLlxyXG4gICAgICogQmlnTnVtYmVyLmNvbmZpZyh7IERFQ0lNQUxfUExBQ0VTIDogMjAsIFJPVU5ESU5HX01PREUgOiA0IH0pXHJcbiAgICAgKlxyXG4gICAgICogSWdub3JlIHByb3BlcnRpZXMvcGFyYW1ldGVycyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQsIGV4Y2VwdCBmb3IgQUxQSEFCRVQuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGN1cnJlbnQgdmFsdWVzLlxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIuY29uZmlnID0gQmlnTnVtYmVyLnNldCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgdmFyIHAsIHY7XHJcblxyXG4gICAgICBpZiAob2JqICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcclxuXHJcbiAgICAgICAgICAvLyBERUNJTUFMX1BMQUNFUyB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gREVDSU1BTF9QTEFDRVMge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0RFQ0lNQUxfUExBQ0VTJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgREVDSU1BTF9QTEFDRVMgPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJPVU5ESU5HX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBST1VORElOR19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdST1VORElOR19NT0RFJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgOCwgcCk7XHJcbiAgICAgICAgICAgIFJPVU5ESU5HX01PREUgPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEVYUE9ORU5USUFMX0FUIHtudW1iZXJ8bnVtYmVyW119XHJcbiAgICAgICAgICAvLyBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gMCBpbmNsdXNpdmUsIDAgdG8gTUFYIGluY2x1c2l2ZV0uXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRVhQT05FTlRJQUxfQVQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0VYUE9ORU5USUFMX0FUJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaWYgKHYgJiYgdi5wb3ApIHtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAwLCBwKTtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgICAgIFRPX0VYUF9ORUcgPSB2WzBdO1xyXG4gICAgICAgICAgICAgIFRPX0VYUF9QT1MgPSB2WzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgVE9fRVhQX05FRyA9IC0oVE9fRVhQX1BPUyA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJBTkdFIHtudW1iZXJ8bnVtYmVyW119IE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAtMSBpbmNsdXNpdmUsIGludGVnZXIgMSB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBSQU5HRSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V8Y2Fubm90IGJlIHplcm99OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUkFOR0UnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIC0xLCBwKTtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAxLCBNQVgsIHApO1xyXG4gICAgICAgICAgICAgIE1JTl9FWFAgPSB2WzBdO1xyXG4gICAgICAgICAgICAgIE1BWF9FWFAgPSB2WzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICAgIE1JTl9FWFAgPSAtKE1BWF9FWFAgPSB2IDwgMCA/IC12IDogdik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgY2Fubm90IGJlIHplcm86ICcgKyB2KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQ1JZUFRPIG5vdCB0cnVlIG9yIGZhbHNlOiB7dn0nXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0NSWVBUTycpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGlmICh2ID09PSAhIXYpIHtcclxuICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgQ1JZUFRPID0gIXY7XHJcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIG5vdCB0cnVlIG9yIGZhbHNlOiAnICsgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBNT0RVTE9fTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDkgaW5jbHVzaXZlLlxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE1PRFVMT19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdNT0RVTE9fTU9ERScpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIDAsIDksIHApO1xyXG4gICAgICAgICAgICBNT0RVTE9fTU9ERSA9IHY7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUE9XX1BSRUNJU0lPTiB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUE9XX1BSRUNJU0lPTiB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUE9XX1BSRUNJU0lPTicpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFBPV19QUkVDSVNJT04gPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEZPUk1BVCB7b2JqZWN0fVxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEZPUk1BVCBub3QgYW4gb2JqZWN0OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRk9STUFUJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdvYmplY3QnKSBGT1JNQVQgPSB2O1xyXG4gICAgICAgICAgICBlbHNlIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgYW4gb2JqZWN0OiAnICsgdik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQUxQSEFCRVQge3N0cmluZ31cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBBTFBIQUJFVCBpbnZhbGlkOiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQUxQSEFCRVQnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzYWxsb3cgaWYgbGVzcyB0aGFuIHR3byBjaGFyYWN0ZXJzLFxyXG4gICAgICAgICAgICAvLyBvciBpZiBpdCBjb250YWlucyAnKycsICctJywgJy4nLCB3aGl0ZXNwYWNlLCBvciBhIHJlcGVhdGVkIGNoYXJhY3Rlci5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnICYmICEvXi4/JHxbK1xcLS5cXHNdfCguKS4qXFwxLy50ZXN0KHYpKSB7XHJcbiAgICAgICAgICAgICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdi5zbGljZSgwLCAxMCkgPT0gJzAxMjM0NTY3ODknO1xyXG4gICAgICAgICAgICAgIEFMUEhBQkVUID0gdjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBpbnZhbGlkOiAnICsgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gT2JqZWN0IGV4cGVjdGVkOiB7dn0nXHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdPYmplY3QgZXhwZWN0ZWQ6ICcgKyBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBERUNJTUFMX1BMQUNFUzogREVDSU1BTF9QTEFDRVMsXHJcbiAgICAgICAgUk9VTkRJTkdfTU9ERTogUk9VTkRJTkdfTU9ERSxcclxuICAgICAgICBFWFBPTkVOVElBTF9BVDogW1RPX0VYUF9ORUcsIFRPX0VYUF9QT1NdLFxyXG4gICAgICAgIFJBTkdFOiBbTUlOX0VYUCwgTUFYX0VYUF0sXHJcbiAgICAgICAgQ1JZUFRPOiBDUllQVE8sXHJcbiAgICAgICAgTU9EVUxPX01PREU6IE1PRFVMT19NT0RFLFxyXG4gICAgICAgIFBPV19QUkVDSVNJT046IFBPV19QUkVDSVNJT04sXHJcbiAgICAgICAgRk9STUFUOiBGT1JNQVQsXHJcbiAgICAgICAgQUxQSEFCRVQ6IEFMUEhBQkVUXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdiBpcyBhIEJpZ051bWJlciBpbnN0YW5jZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiBCaWdOdW1iZXIuREVCVUcgaXMgdHJ1ZSwgdGhyb3cgaWYgYSBCaWdOdW1iZXIgaW5zdGFuY2UgaXMgbm90IHdlbGwtZm9ybWVkLlxyXG4gICAgICpcclxuICAgICAqIHYge2FueX1cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gSW52YWxpZCBCaWdOdW1iZXI6IHt2fSdcclxuICAgICAqL1xyXG4gICAgQmlnTnVtYmVyLmlzQmlnTnVtYmVyID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgaWYgKCF2IHx8IHYuX2lzQmlnTnVtYmVyICE9PSB0cnVlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICghQmlnTnVtYmVyLkRFQlVHKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgIHZhciBpLCBuLFxyXG4gICAgICAgIGMgPSB2LmMsXHJcbiAgICAgICAgZSA9IHYuZSxcclxuICAgICAgICBzID0gdi5zO1xyXG5cclxuICAgICAgb3V0OiBpZiAoe30udG9TdHJpbmcuY2FsbChjKSA9PSAnW29iamVjdCBBcnJheV0nKSB7XHJcblxyXG4gICAgICAgIGlmICgocyA9PT0gMSB8fCBzID09PSAtMSkgJiYgZSA+PSAtTUFYICYmIGUgPD0gTUFYICYmIGUgPT09IG1hdGhmbG9vcihlKSkge1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBmaXJzdCBlbGVtZW50IGlzIHplcm8sIHRoZSBCaWdOdW1iZXIgdmFsdWUgbXVzdCBiZSB6ZXJvLlxyXG4gICAgICAgICAgaWYgKGNbMF0gPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKGUgPT09IDAgJiYgYy5sZW5ndGggPT09IDEpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIG51bWJlciBvZiBkaWdpdHMgdGhhdCBjWzBdIHNob3VsZCBoYXZlLCBiYXNlZCBvbiB0aGUgZXhwb25lbnQuXHJcbiAgICAgICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgICAgICAgaWYgKGkgPCAxKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICAgICAgICAvL2lmIChNYXRoLmNlaWwoTWF0aC5sb2coY1swXSArIDEpIC8gTWF0aC5MTjEwKSA9PSBpKSB7XHJcbiAgICAgICAgICBpZiAoU3RyaW5nKGNbMF0pLmxlbmd0aCA9PSBpKSB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIG4gPSBjW2ldO1xyXG4gICAgICAgICAgICAgIGlmIChuIDwgMCB8fCBuID49IEJBU0UgfHwgbiAhPT0gbWF0aGZsb29yKG4pKSBicmVhayBvdXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIExhc3QgZWxlbWVudCBjYW5ub3QgYmUgemVybywgdW5sZXNzIGl0IGlzIHRoZSBvbmx5IGVsZW1lbnQuXHJcbiAgICAgICAgICAgIGlmIChuICE9PSAwKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAvLyBJbmZpbml0eS9OYU5cclxuICAgICAgfSBlbHNlIGlmIChjID09PSBudWxsICYmIGUgPT09IG51bGwgJiYgKHMgPT09IG51bGwgfHwgcyA9PT0gMSB8fCBzID09PSAtMSkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnSW52YWxpZCBCaWdOdW1iZXI6ICcgKyB2KTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgICAqL1xyXG4gICAgQmlnTnVtYmVyLm1heGltdW0gPSBCaWdOdW1iZXIubWF4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCBQLmx0KTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgICAqL1xyXG4gICAgQmlnTnVtYmVyLm1pbmltdW0gPSBCaWdOdW1iZXIubWluID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCBQLmd0KTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxyXG4gICAgICogYW5kIHdpdGggZHAsIG9yIERFQ0lNQUxfUExBQ0VTIGlmIGRwIGlzIG9taXR0ZWQsIGRlY2ltYWwgcGxhY2VzIChvciBsZXNzIGlmIHRyYWlsaW5nXHJcbiAgICAgKiB6ZXJvcyBhcmUgcHJvZHVjZWQpLlxyXG4gICAgICpcclxuICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfSdcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBjcnlwdG8gdW5hdmFpbGFibGUnXHJcbiAgICAgKi9cclxuICAgIEJpZ051bWJlci5yYW5kb20gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgcG93Ml81MyA9IDB4MjAwMDAwMDAwMDAwMDA7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gYSA1MyBiaXQgaW50ZWdlciBuLCB3aGVyZSAwIDw9IG4gPCA5MDA3MTk5MjU0NzQwOTkyLlxyXG4gICAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXHJcbiAgICAgIC8vIElmIGl0IGRvZXMsIGFzc3VtZSBhdCBsZWFzdCA1MyBiaXRzIGFyZSBwcm9kdWNlZCwgb3RoZXJ3aXNlIGFzc3VtZSBhdCBsZWFzdCAzMCBiaXRzLlxyXG4gICAgICAvLyAweDQwMDAwMDAwIGlzIDJeMzAsIDB4ODAwMDAwIGlzIDJeMjMsIDB4MWZmZmZmIGlzIDJeMjEgLSAxLlxyXG4gICAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSAoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpICYgMHgxZmZmZmZcclxuICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0aGZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3cyXzUzKTsgfVxyXG4gICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoKE1hdGgucmFuZG9tKCkgKiAweDQwMDAwMDAwIHwgMCkgKiAweDgwMDAwMCkgK1xyXG4gICAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGRwKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGUsIGssIHYsXHJcbiAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgIGMgPSBbXSxcclxuICAgICAgICAgIHJhbmQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcblxyXG4gICAgICAgIGlmIChkcCA9PSBudWxsKSBkcCA9IERFQ0lNQUxfUExBQ0VTO1xyXG4gICAgICAgIGVsc2UgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcblxyXG4gICAgICAgIGsgPSBtYXRoY2VpbChkcCAvIExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgaWYgKENSWVBUTykge1xyXG5cclxuICAgICAgICAgIC8vIEJyb3dzZXJzIHN1cHBvcnRpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5cclxuICAgICAgICAgIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XHJcblxyXG4gICAgICAgICAgICBhID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoayAqPSAyKSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDUzIGJpdHM6XHJcbiAgICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSAqIE1hdGgucG93KDIsIDIxKSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgICAvLyAxMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMSAxMTEwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMFxyXG4gICAgICAgICAgICAgIC8vICgoTWF0aC5wb3coMiwgMzIpIC0gMSkgPj4+IDExKS50b1N0cmluZygyKVxyXG4gICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgICAgLy8gMHgyMDAwMCBpcyAyXjIxLlxyXG4gICAgICAgICAgICAgIHYgPSBhW2ldICogMHgyMDAwMCArIChhW2kgKyAxXSA+Pj4gMTEpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBSZWplY3Rpb24gc2FtcGxpbmc6XHJcbiAgICAgICAgICAgICAgLy8gMCA8PSB2IDwgOTAwNzE5OTI1NDc0MDk5MlxyXG4gICAgICAgICAgICAgIC8vIFByb2JhYmlsaXR5IHRoYXQgdiA+PSA5ZTE1LCBpc1xyXG4gICAgICAgICAgICAgIC8vIDcxOTkyNTQ3NDA5OTIgLyA5MDA3MTk5MjU0NzQwOTkyIH49IDAuMDAwOCwgaS5lLiAxIGluIDEyNTFcclxuICAgICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgICBiID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMikpO1xyXG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XHJcbiAgICAgICAgICAgICAgICBhW2kgKyAxXSA9IGJbMV07XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgICAgLy8gMCA8PSAodiAlIDFlMTQpIDw9IDk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgICBjLnB1c2godiAlIDFlMTQpO1xyXG4gICAgICAgICAgICAgICAgaSArPSAyO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpID0gayAvIDI7XHJcblxyXG4gICAgICAgICAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICAgICAgICAgIH0gZWxzZSBpZiAoY3J5cHRvLnJhbmRvbUJ5dGVzKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBidWZmZXJcclxuICAgICAgICAgICAgYSA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDcpO1xyXG5cclxuICAgICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXHJcbiAgICAgICAgICAgICAgLy8gMHgxMDAwMDAwMDAgaXMgMl4zMiwgMHgxMDAwMDAwIGlzIDJeMjRcclxuICAgICAgICAgICAgICAvLyAxMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMVxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgICB2ID0gKChhW2ldICYgMzEpICogMHgxMDAwMDAwMDAwMDAwKSArIChhW2kgKyAxXSAqIDB4MTAwMDAwMDAwMDApICtcclxuICAgICAgICAgICAgICAgICAoYVtpICsgMl0gKiAweDEwMDAwMDAwMCkgKyAoYVtpICsgM10gKiAweDEwMDAwMDApICtcclxuICAgICAgICAgICAgICAgICAoYVtpICsgNF0gPDwgMTYpICsgKGFbaSArIDVdIDw8IDgpICsgYVtpICsgNl07XHJcblxyXG4gICAgICAgICAgICAgIGlmICh2ID49IDllMTUpIHtcclxuICAgICAgICAgICAgICAgIGNyeXB0by5yYW5kb21CeXRlcyg3KS5jb3B5KGEsIGkpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gMCA8PSAodiAlIDFlMTQpIDw9IDk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgICBjLnB1c2godiAlIDFlMTQpO1xyXG4gICAgICAgICAgICAgICAgaSArPSA3O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpID0gayAvIDc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBDUllQVE8gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVzZSBNYXRoLnJhbmRvbS5cclxuICAgICAgICBpZiAoIUNSWVBUTykge1xyXG5cclxuICAgICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICAgICAgdiA9IHJhbmRvbTUzYml0SW50KCk7XHJcbiAgICAgICAgICAgIGlmICh2IDwgOWUxNSkgY1tpKytdID0gdiAlIDFlMTQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBrID0gY1stLWldO1xyXG4gICAgICAgIGRwICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHRyYWlsaW5nIGRpZ2l0cyB0byB6ZXJvcyBhY2NvcmRpbmcgdG8gZHAuXHJcbiAgICAgICAgaWYgKGsgJiYgZHApIHtcclxuICAgICAgICAgIHYgPSBQT1dTX1RFTltMT0dfQkFTRSAtIGRwXTtcclxuICAgICAgICAgIGNbaV0gPSBtYXRoZmxvb3IoayAvIHYpICogdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cclxuICAgICAgICBmb3IgKDsgY1tpXSA9PT0gMDsgYy5wb3AoKSwgaS0tKTtcclxuXHJcbiAgICAgICAgLy8gWmVybz9cclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIGMgPSBbZSA9IDBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICAgIGZvciAoZSA9IC0xIDsgY1swXSA9PT0gMDsgYy5zcGxpY2UoMCwgMSksIGUgLT0gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgICAgIC8vIENvdW50IHRoZSBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYyB0byBkZXRlcm1pbmUgbGVhZGluZyB6ZXJvcywgYW5kLi4uXHJcbiAgICAgICAgICBmb3IgKGkgPSAxLCB2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgICAvLyBhZGp1c3QgdGhlIGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICAgICAgaWYgKGkgPCBMT0dfQkFTRSkgZSAtPSBMT0dfQkFTRSAtIGk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByYW5kLmUgPSBlO1xyXG4gICAgICAgIHJhbmQuYyA9IGM7XHJcbiAgICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIuc3VtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgaSA9IDEsXHJcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICBzdW0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG4gICAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOykgc3VtID0gc3VtLnBsdXMoYXJnc1tpKytdKTtcclxuICAgICAgcmV0dXJuIHN1bTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFBSSVZBVEUgRlVOQ1RJT05TXHJcblxyXG5cclxuICAgIC8vIENhbGxlZCBieSBCaWdOdW1iZXIgYW5kIEJpZ051bWJlci5wcm90b3R5cGUudG9TdHJpbmcuXHJcbiAgICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBkZWNpbWFsID0gJzAxMjM0NTY3ODknO1xyXG5cclxuICAgICAgLypcclxuICAgICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAgICogRWcuIHRvQmFzZU91dCgnMjU1JywgMTAsIDE2KSByZXR1cm5zIFsxNSwgMTVdLlxyXG4gICAgICAgKiBFZy4gdG9CYXNlT3V0KCdmZicsIDE2LCAxMCkgcmV0dXJucyBbMiwgNSwgNV0uXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGFscGhhYmV0KSB7XHJcbiAgICAgICAgdmFyIGosXHJcbiAgICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgICBhcnJMLFxyXG4gICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKDsgaSA8IGxlbjspIHtcclxuICAgICAgICAgIGZvciAoYXJyTCA9IGFyci5sZW5ndGg7IGFyckwtLTsgYXJyW2FyckxdICo9IGJhc2VJbik7XHJcblxyXG4gICAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcclxuICAgICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCBhIG51bWVyaWMgc3RyaW5nIG9mIGJhc2VJbiB0byBhIG51bWVyaWMgc3RyaW5nIG9mIGJhc2VPdXQuXHJcbiAgICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgICAvLyBJZiB0aGUgY2FsbGVyIGlzIEJpZ051bWJlciwgd2UgYXJlIGNvbnZlcnRpbmcgZnJvbSBiYXNlSW4gdG8gYmFzZSAxMC5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIsIGJhc2VJbiwgYmFzZU91dCwgc2lnbiwgY2FsbGVySXNUb1N0cmluZykge1xyXG4gICAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgICBpID0gc3RyLmluZGV4T2YoJy4nKSxcclxuICAgICAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMsXHJcbiAgICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgICAgIGlmIChpID49IDApIHtcclxuICAgICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAgIC8vIFVubGltaXRlZCBwcmVjaXNpb24uXHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gMDtcclxuICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYmFzZUluKTtcclxuICAgICAgICAgIHggPSB5LnBvdyhzdHIubGVuZ3RoIC0gaSk7XHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgICAvLyBDb252ZXJ0IHN0ciBhcyBpZiBhbiBpbnRlZ2VyLCB0aGVuIHJlc3RvcmUgdGhlIGZyYWN0aW9uIHBhcnQgYnkgZGl2aWRpbmcgdGhlXHJcbiAgICAgICAgICAvLyByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIuXHJcblxyXG4gICAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgICAxMCwgYmFzZU91dCwgZGVjaW1hbCk7XHJcbiAgICAgICAgICB5LmUgPSB5LmMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGludGVnZXIuXHJcblxyXG4gICAgICAgIHhjID0gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBjYWxsZXJJc1RvU3RyaW5nXHJcbiAgICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICAgIDogKGFscGhhYmV0ID0gZGVjaW1hbCwgQUxQSEFCRVQpKTtcclxuXHJcbiAgICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGFzIGFuIGludGVnZXIgYW5kIGNvbnZlcnRlZCB0byBiYXNlT3V0LiBlIGlzIHRoZSBleHBvbmVudC5cclxuICAgICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoOyB4Y1stLWtdID09IDA7IHhjLnBvcCgpKTtcclxuXHJcbiAgICAgICAgLy8gWmVybz9cclxuICAgICAgICBpZiAoIXhjWzBdKSByZXR1cm4gYWxwaGFiZXQuY2hhckF0KDApO1xyXG5cclxuICAgICAgICAvLyBEb2VzIHN0ciByZXByZXNlbnQgYW4gaW50ZWdlcj8gSWYgc28sIG5vIG5lZWQgZm9yIHRoZSBkaXZpc2lvbi5cclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIC0tZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG5cclxuICAgICAgICAgIC8vIFRoZSBzaWduIGlzIG5lZWRlZCBmb3IgY29ycmVjdCByb3VuZGluZy5cclxuICAgICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgICB4ID0gZGl2KHgsIHksIGRwLCBybSwgYmFzZU91dCk7XHJcbiAgICAgICAgICB4YyA9IHguYztcclxuICAgICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgICBlID0geC5lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgICAvLyBUSGUgaW5kZXggb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgIGQgPSBlICsgZHAgKyAxO1xyXG5cclxuICAgICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgICAgaSA9IHhjW2RdO1xyXG5cclxuICAgICAgICAvLyBMb29rIGF0IHRoZSByb3VuZGluZyBkaWdpdHMgYW5kIG1vZGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcm91bmQgdXAuXHJcblxyXG4gICAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgICByID0gciB8fCBkIDwgMCB8fCB4Y1tkICsgMV0gIT0gbnVsbDtcclxuXHJcbiAgICAgICAgciA9IHJtIDwgNCA/IChpICE9IG51bGwgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBpbmRleCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB6ZXJvLCBvciB4YyByZXByZXNlbnRzXHJcbiAgICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgICAvLyBzdWNoIGFzIDAuMDAwMDEuXHJcbiAgICAgICAgaWYgKGQgPCAxIHx8ICF4Y1swXSkge1xyXG5cclxuICAgICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICAgIHN0ciA9IHIgPyB0b0ZpeGVkUG9pbnQoYWxwaGFiZXQuY2hhckF0KDEpLCAtZHAsIGFscGhhYmV0LmNoYXJBdCgwKSkgOiBhbHBoYWJldC5jaGFyQXQoMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB4YyB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgICAgeGMubGVuZ3RoID0gZDtcclxuXHJcbiAgICAgICAgICAvLyBSb3VuZCB1cD9cclxuICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBSb3VuZGluZyB1cCBtYXkgbWVhbiB0aGUgcHJldmlvdXMgZGlnaXQgaGFzIHRvIGJlIHJvdW5kZWQgdXAgYW5kIHNvIG9uLlxyXG4gICAgICAgICAgICBmb3IgKC0tYmFzZU91dDsgKyt4Y1stLWRdID4gYmFzZU91dDspIHtcclxuICAgICAgICAgICAgICB4Y1tkXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghZCkge1xyXG4gICAgICAgICAgICAgICAgKytlO1xyXG4gICAgICAgICAgICAgICAgeGMgPSBbMV0uY29uY2F0KHhjKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgICAgICBmb3IgKGsgPSB4Yy5sZW5ndGg7ICF4Y1stLWtdOyk7XHJcblxyXG4gICAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICAgIGZvciAoaSA9IDAsIHN0ciA9ICcnOyBpIDw9IGs7IHN0ciArPSBhbHBoYWJldC5jaGFyQXQoeGNbaSsrXSkpO1xyXG5cclxuICAgICAgICAgIC8vIEFkZCBsZWFkaW5nIHplcm9zLCBkZWNpbWFsIHBvaW50IGFuZCB0cmFpbGluZyB6ZXJvcyBhcyByZXF1aXJlZC5cclxuICAgICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsIGFscGhhYmV0LmNoYXJBdCgwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUaGUgY2FsbGVyIHdpbGwgYWRkIHRoZSBzaWduLlxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXHJcbiAgICBkaXYgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgLy8gQXNzdW1lIG5vbi16ZXJvIHggYW5kIGsuXHJcbiAgICAgIGZ1bmN0aW9uIG11bHRpcGx5KHgsIGssIGJhc2UpIHtcclxuICAgICAgICB2YXIgbSwgdGVtcCwgeGxvLCB4aGksXHJcbiAgICAgICAgICBjYXJyeSA9IDAsXHJcbiAgICAgICAgICBpID0geC5sZW5ndGgsXHJcbiAgICAgICAgICBrbG8gPSBrICUgU1FSVF9CQVNFLFxyXG4gICAgICAgICAga2hpID0gayAvIFNRUlRfQkFTRSB8IDA7XHJcblxyXG4gICAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgICAgeGxvID0geFtpXSAlIFNRUlRfQkFTRTtcclxuICAgICAgICAgIHhoaSA9IHhbaV0gLyBTUVJUX0JBU0UgfCAwO1xyXG4gICAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcclxuICAgICAgICAgIHRlbXAgPSBrbG8gKiB4bG8gKyAoKG0gJSBTUVJUX0JBU0UpICogU1FSVF9CQVNFKSArIGNhcnJ5O1xyXG4gICAgICAgICAgY2FycnkgPSAodGVtcCAvIGJhc2UgfCAwKSArIChtIC8gU1FSVF9CQVNFIHwgMCkgKyBraGkgKiB4aGk7XHJcbiAgICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2FycnkpIHggPSBbY2FycnldLmNvbmNhdCh4KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYiwgYUwsIGJMKSB7XHJcbiAgICAgICAgdmFyIGksIGNtcDtcclxuXHJcbiAgICAgICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgICAgICBjbXAgPSBhTCA+IGJMID8gMSA6IC0xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgZm9yIChpID0gY21wID0gMDsgaSA8IGFMOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChhW2ldICE9IGJbaV0pIHtcclxuICAgICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNtcDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc3VidHJhY3QoYSwgYiwgYUwsIGJhc2UpIHtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgICAgIGZvciAoOyBhTC0tOykge1xyXG4gICAgICAgICAgYVthTF0gLT0gaTtcclxuICAgICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgICAgICBhW2FMXSA9IGkgKiBiYXNlICsgYVthTF0gLSBiW2FMXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoOyAhYVswXSAmJiBhLmxlbmd0aCA+IDE7IGEuc3BsaWNlKDAsIDEpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geDogZGl2aWRlbmQsIHk6IGRpdmlzb3IuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoeCwgeSwgZHAsIHJtLCBiYXNlKSB7XHJcbiAgICAgICAgdmFyIGNtcCwgZSwgaSwgbW9yZSwgbiwgcHJvZCwgcHJvZEwsIHEsIHFjLCByZW0sIHJlbUwsIHJlbTAsIHhpLCB4TCwgeWMwLFxyXG4gICAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgICAgcyA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgICAgICB4YyA9IHguYyxcclxuICAgICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgICAgIGlmICgheGMgfHwgIXhjWzBdIHx8ICF5YyB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcclxuXHJcbiAgICAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXHJcbiAgICAgICAgICAgIXgucyB8fCAheS5zIHx8ICh4YyA/IHljICYmIHhjWzBdID09IHljWzBdIDogIXljKSA/IE5hTiA6XHJcblxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgwrEwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyDCsTAuXHJcbiAgICAgICAgICAgIHhjICYmIHhjWzBdID09IDAgfHwgIXljID8gcyAqIDAgOiBzIC8gMFxyXG4gICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcSA9IG5ldyBCaWdOdW1iZXIocyk7XHJcbiAgICAgICAgcWMgPSBxLmMgPSBbXTtcclxuICAgICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgICAgIHMgPSBkcCArIGUgKyAxO1xyXG5cclxuICAgICAgICBpZiAoIWJhc2UpIHtcclxuICAgICAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICAgICAgZSA9IGJpdEZsb29yKHguZSAvIExPR19CQVNFKSAtIGJpdEZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgICAgICAgIHMgPSBzIC8gTE9HX0JBU0UgfCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzdWx0IGV4cG9uZW50IG1heSBiZSBvbmUgbGVzcyB0aGVuIHRoZSBjdXJyZW50IHZhbHVlIG9mIGUuXHJcbiAgICAgICAgLy8gVGhlIGNvZWZmaWNpZW50cyBvZiB0aGUgQmlnTnVtYmVycyBmcm9tIGNvbnZlcnRCYXNlIG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoaSA9IDA7IHljW2ldID09ICh4Y1tpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICAgICAgaWYgKHljW2ldID4gKHhjW2ldIHx8IDApKSBlLS07XHJcblxyXG4gICAgICAgIGlmIChzIDwgMCkge1xyXG4gICAgICAgICAgcWMucHVzaCgxKTtcclxuICAgICAgICAgIG1vcmUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4TCA9IHhjLmxlbmd0aDtcclxuICAgICAgICAgIHlMID0geWMubGVuZ3RoO1xyXG4gICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICBzICs9IDI7XHJcblxyXG4gICAgICAgICAgLy8gTm9ybWFsaXNlIHhjIGFuZCB5YyBzbyBoaWdoZXN0IG9yZGVyIGRpZ2l0IG9mIHljIGlzID49IGJhc2UgLyAyLlxyXG5cclxuICAgICAgICAgIG4gPSBtYXRoZmxvb3IoYmFzZSAvICh5Y1swXSArIDEpKTtcclxuXHJcbiAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gaGFuZGxlIG9kZCBiYXNlcyB3aGVyZSB5Y1swXSA9PSAoYmFzZSAvIDIpIC0gMS5cclxuICAgICAgICAgIC8vIGlmIChuID4gMSB8fCBuKysgPT0gMSAmJiB5Y1swXSA8IGJhc2UgLyAyKSB7XHJcbiAgICAgICAgICBpZiAobiA+IDEpIHtcclxuICAgICAgICAgICAgeWMgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICAgIHhjID0gbXVsdGlwbHkoeGMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgeGkgPSB5TDtcclxuICAgICAgICAgIHJlbSA9IHhjLnNsaWNlKDAsIHlMKTtcclxuICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgIC8vIEFkZCB6ZXJvcyB0byBtYWtlIHJlbWFpbmRlciBhcyBsb25nIGFzIGRpdmlzb3IuXHJcbiAgICAgICAgICBmb3IgKDsgcmVtTCA8IHlMOyByZW1bcmVtTCsrXSA9IDApO1xyXG4gICAgICAgICAgeXogPSB5Yy5zbGljZSgpO1xyXG4gICAgICAgICAgeXogPSBbMF0uY29uY2F0KHl6KTtcclxuICAgICAgICAgIHljMCA9IHljWzBdO1xyXG4gICAgICAgICAgaWYgKHljWzFdID49IGJhc2UgLyAyKSB5YzArKztcclxuICAgICAgICAgIC8vIE5vdCBuZWNlc3NhcnksIGJ1dCB0byBwcmV2ZW50IHRyaWFsIGRpZ2l0IG4gPiBiYXNlLCB3aGVuIHVzaW5nIGJhc2UgMy5cclxuICAgICAgICAgIC8vIGVsc2UgaWYgKGJhc2UgPT0gMyAmJiB5YzAgPT0gMSkgeWMwID0gMSArIDFlLTE1O1xyXG5cclxuICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgbiA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgY21wID0gY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdHJpYWwgZGlnaXQsIG4uXHJcblxyXG4gICAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XHJcbiAgICAgICAgICAgICAgaWYgKHlMICE9IHJlbUwpIHJlbTAgPSByZW0wICogYmFzZSArIChyZW1bMV0gfHwgMCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgaG93IG1hbnkgdGltZXMgdGhlIGRpdmlzb3IgZ29lcyBpbnRvIHRoZSBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBuID0gbWF0aGZsb29yKHJlbTAgLyB5YzApO1xyXG5cclxuICAgICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAgIC8vICBwcm9kdWN0ID0gZGl2aXNvciBtdWx0aXBsaWVkIGJ5IHRyaWFsIGRpZ2l0IChuKS5cclxuICAgICAgICAgICAgICAvLyAgQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gIElmIHByb2R1Y3QgaXMgZ3JlYXRlciB0aGFuIHJlbWFpbmRlcjpcclxuICAgICAgICAgICAgICAvLyAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdCwgZGVjcmVtZW50IHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAgIC8vICBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IHdhcyBsZXNzIHRoYW4gcmVtYWluZGVyIGF0IHRoZSBsYXN0IGNvbXBhcmU6XHJcbiAgICAgICAgICAgICAgLy8gICAgQ29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yLlxyXG4gICAgICAgICAgICAgIC8vICAgIElmIHJlbWFpbmRlciBpcyBncmVhdGVyIHRoYW4gZGl2aXNvcjpcclxuICAgICAgICAgICAgICAvLyAgICAgIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIsIGluY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuXHJcbiAgICAgICAgICAgICAgaWYgKG4gPiAxKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbiBtYXkgYmUgPiBiYXNlIG9ubHkgd2hlbiBiYXNlIGlzIDMuXHJcbiAgICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSBuID0gYmFzZSAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICAgIHByb2QgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0ID4gcmVtYWluZGVyIHRoZW4gdHJpYWwgZGlnaXQgbiB0b28gaGlnaC5cclxuICAgICAgICAgICAgICAgIC8vIG4gaXMgMSB0b28gaGlnaCBhYm91dCA1JSBvZiB0aGUgdGltZSwgYW5kIGlzIG5vdCBrbm93biB0byBoYXZlXHJcbiAgICAgICAgICAgICAgICAvLyBldmVyIGJlZW4gbW9yZSB0aGFuIDEgdG9vIGhpZ2guXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShwcm9kLCByZW0sIHByb2RMLCByZW1MKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LlxyXG4gICAgICAgICAgICAgICAgICBzdWJ0cmFjdChwcm9kLCB5TCA8IHByb2RMID8geXogOiB5YywgcHJvZEwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICBjbXAgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbiBpcyAwIG9yIDEsIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAgIC8vIElmIG4gaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHljIGFuZCByZW0gYWdhaW4gYmVsb3csXHJcbiAgICAgICAgICAgICAgICAvLyBzbyBjaGFuZ2UgY21wIHRvIDEgdG8gYXZvaWQgaXQuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBuIGlzIDEsIGxlYXZlIGNtcCBhcyAtMSwgc28geWMgYW5kIHJlbSBhcmUgY29tcGFyZWQgYWdhaW4uXHJcbiAgICAgICAgICAgICAgICBpZiAobiA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBkaXZpc29yIDwgcmVtYWluZGVyLCBzbyBuIG11c3QgYmUgYXQgbGVhc3QgMS5cclxuICAgICAgICAgICAgICAgICAgY21wID0gbiA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3JcclxuICAgICAgICAgICAgICAgIHByb2QgPSB5Yy5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QgPSBbMF0uY29uY2F0KHByb2QpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCBuZXcgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBUcmlhbCBkaWdpdCBuIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGxvdyBhYm91dCA1JSBvZiB0aGUgdGltZSwgYW5kIHZlcnkgcmFyZWx5IDIgdG9vIGxvdy5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKHljLCByZW0sIHlMLCByZW1MKSA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgbisrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHljLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIG4rKztcclxuICAgICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICAgIH0gLy8gZWxzZSBjbXAgPT09IDEgYW5kIG4gd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIG5leHQgZGlnaXQsIG4sIHRvIHRoZSByZXN1bHQgYXJyYXkuXHJcbiAgICAgICAgICAgIHFjW2krK10gPSBuO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGlmIChyZW1bMF0pIHtcclxuICAgICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhjW3hpXSB8fCAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbSA9IFt4Y1t4aV1dO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPSBudWxsKSAmJiBzLS0pO1xyXG5cclxuICAgICAgICAgIG1vcmUgPSByZW1bMF0gIT0gbnVsbDtcclxuXHJcbiAgICAgICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgICAgICBpZiAoIXFjWzBdKSBxYy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmFzZSA9PSBCQVNFKSB7XHJcblxyXG4gICAgICAgICAgLy8gVG8gY2FsY3VsYXRlIHEuZSwgZmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHFjWzBdLlxyXG4gICAgICAgICAgZm9yIChpID0gMSwgcyA9IHFjWzBdOyBzID49IDEwOyBzIC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgICAgIHJvdW5kKHEsIGRwICsgKHEuZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSArIDEsIHJtLCBtb3JlKTtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGVyIGlzIGNvbnZlcnRCYXNlLlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBxLmUgPSBlO1xyXG4gICAgICAgICAgcS5yID0gK21vcmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcTtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIgbiBpbiBmaXhlZC1wb2ludCBvciBleHBvbmVudGlhbFxyXG4gICAgICogbm90YXRpb24gcm91bmRlZCB0byB0aGUgc3BlY2lmaWVkIGRlY2ltYWwgcGxhY2VzIG9yIHNpZ25pZmljYW50IGRpZ2l0cy5cclxuICAgICAqXHJcbiAgICAgKiBuOiBhIEJpZ051bWJlci5cclxuICAgICAqIGk6IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBkaWdpdCByZXF1aXJlZCAoaS5lLiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cCkuXHJcbiAgICAgKiBybTogdGhlIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAgKiBpZDogMSAodG9FeHBvbmVudGlhbCkgb3IgMiAodG9QcmVjaXNpb24pLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBmb3JtYXQobiwgaSwgcm0sIGlkKSB7XHJcbiAgICAgIHZhciBjMCwgZSwgbmUsIGxlbiwgc3RyO1xyXG5cclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICBpZiAoIW4uYykgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIGMwID0gbi5jWzBdO1xyXG4gICAgICBuZSA9IG4uZTtcclxuXHJcbiAgICAgIGlmIChpID09IG51bGwpIHtcclxuICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgICAgc3RyID0gaWQgPT0gMSB8fCBpZCA9PSAyICYmIChuZSA8PSBUT19FWFBfTkVHIHx8IG5lID49IFRPX0VYUF9QT1MpXHJcbiAgICAgICAgID8gdG9FeHBvbmVudGlhbChzdHIsIG5lKVxyXG4gICAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIG5lLCAnMCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSByb3VuZChuZXcgQmlnTnVtYmVyKG4pLCBpLCBybSk7XHJcblxyXG4gICAgICAgIC8vIG4uZSBtYXkgaGF2ZSBjaGFuZ2VkIGlmIHRoZSB2YWx1ZSB3YXMgcm91bmRlZCB1cC5cclxuICAgICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gdG9QcmVjaXNpb24gcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAgICAgIC8vIHNwZWNpZmllZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlclxyXG4gICAgICAgIC8vIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG5cclxuICAgICAgICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgICBpZiAoaWQgPT0gMSB8fCBpZCA9PSAyICYmIChpIDw9IGUgfHwgZSA8PSBUT19FWFBfTkVHKSkge1xyXG5cclxuICAgICAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgICAgIGZvciAoOyBsZW4gPCBpOyBzdHIgKz0gJzAnLCBsZW4rKyk7XHJcbiAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHN0ciwgZSk7XHJcblxyXG4gICAgICAgIC8vIEZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpIC09IG5lO1xyXG4gICAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgJzAnKTtcclxuXHJcbiAgICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgICBpZiAoZSArIDEgPiBsZW4pIHtcclxuICAgICAgICAgICAgaWYgKC0taSA+IDApIGZvciAoc3RyICs9ICcuJzsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGkgKz0gZSAtIGxlbjtcclxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGUgKyAxID09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgICAgICAgICBmb3IgKDsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG4ucyA8IDAgJiYgYzAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEhhbmRsZSBCaWdOdW1iZXIubWF4IGFuZCBCaWdOdW1iZXIubWluLlxyXG4gICAgZnVuY3Rpb24gbWF4T3JNaW4oYXJncywgbWV0aG9kKSB7XHJcbiAgICAgIHZhciBuLFxyXG4gICAgICAgIGkgPSAxLFxyXG4gICAgICAgIG0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbiA9IG5ldyBCaWdOdW1iZXIoYXJnc1tpXSk7XHJcblxyXG4gICAgICAgIC8vIElmIGFueSBudW1iZXIgaXMgTmFOLCByZXR1cm4gTmFOLlxyXG4gICAgICAgIGlmICghbi5zKSB7XHJcbiAgICAgICAgICBtID0gbjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kLmNhbGwobSwgbikpIHtcclxuICAgICAgICAgIG0gPSBuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBTdHJpcCB0cmFpbGluZyB6ZXJvcywgY2FsY3VsYXRlIGJhc2UgMTAgZXhwb25lbnQgYW5kIGNoZWNrIGFnYWluc3QgTUlOX0VYUCBhbmQgTUFYX0VYUC5cclxuICAgICAqIENhbGxlZCBieSBtaW51cywgcGx1cyBhbmQgdGltZXMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIG5vcm1hbGlzZShuLCBjLCBlKSB7XHJcbiAgICAgIHZhciBpID0gMSxcclxuICAgICAgICBqID0gYy5sZW5ndGg7XHJcblxyXG4gICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgIWNbLS1qXTsgYy5wb3AoKSk7XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQuIEZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgICBmb3IgKGogPSBjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgIGlmICgoZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgbi5jID0gbi5lID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIG4uYyA9IFtuLmUgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuLmUgPSBlO1xyXG4gICAgICAgIG4uYyA9IGM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXHJcbiAgICBwYXJzZU51bWVyaWMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2ksXHJcbiAgICAgICAgZG90QWZ0ZXIgPSAvXihbXi5dKylcXC4kLyxcclxuICAgICAgICBkb3RCZWZvcmUgPSAvXlxcLihbXi5dKykkLyxcclxuICAgICAgICBpc0luZmluaXR5T3JOYU4gPSAvXi0/KEluZmluaXR5fE5hTikkLyxcclxuICAgICAgICB3aGl0ZXNwYWNlT3JQbHVzID0gL15cXHMqXFwrKD89W1xcdy5dKXxeXFxzK3xcXHMrJC9nO1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh4LCBzdHIsIGlzTnVtLCBiKSB7XHJcbiAgICAgICAgdmFyIGJhc2UsXHJcbiAgICAgICAgICBzID0gaXNOdW0gPyBzdHIgOiBzdHIucmVwbGFjZSh3aGl0ZXNwYWNlT3JQbHVzLCAnJyk7XHJcblxyXG4gICAgICAgIC8vIE5vIGV4Y2VwdGlvbiBvbiDCsUluZmluaXR5IG9yIE5hTi5cclxuICAgICAgICBpZiAoaXNJbmZpbml0eU9yTmFOLnRlc3QocykpIHtcclxuICAgICAgICAgIHgucyA9IGlzTmFOKHMpID8gbnVsbCA6IHMgPCAwID8gLTEgOiAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoIWlzTnVtKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaVxyXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKGJhc2VQcmVmaXgsIGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICAgICAgICBiYXNlID0gKHAyID0gcDIudG9Mb3dlckNhc2UoKSkgPT0gJ3gnID8gMTYgOiBwMiA9PSAnYicgPyAyIDogODtcclxuICAgICAgICAgICAgICByZXR1cm4gIWIgfHwgYiA9PSBiYXNlID8gcDEgOiBtO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiKSB7XHJcbiAgICAgICAgICAgICAgYmFzZSA9IGI7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEUuZy4gJzEuJyB0byAnMScsICcuMScgdG8gJzAuMSdcclxuICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKGRvdEFmdGVyLCAnJDEnKS5yZXBsYWNlKGRvdEJlZm9yZSwgJzAuJDEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHN0ciAhPSBzKSByZXR1cm4gbmV3IEJpZ051bWJlcihzLCBiYXNlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgYmFzZSB7Yn0gbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgICBpZiAoQmlnTnVtYmVyLkRFQlVHKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ05vdCBhJyArIChiID8gJyBiYXNlICcgKyBiIDogJycpICsgJyBudW1iZXI6ICcgKyBzdHIpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE5hTlxyXG4gICAgICAgICAgeC5zID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSb3VuZCB4IHRvIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLiBDaGVjayBmb3Igb3Zlci91bmRlci1mbG93LlxyXG4gICAgICogSWYgciBpcyB0cnV0aHksIGl0IGlzIGtub3duIHRoYXQgdGhlcmUgYXJlIG1vcmUgZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcm91bmQoeCwgc2QsIHJtLCByKSB7XHJcbiAgICAgIHZhciBkLCBpLCBqLCBrLCBuLCBuaSwgcmQsXHJcbiAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgcG93czEwID0gUE9XU19URU47XHJcblxyXG4gICAgICAvLyBpZiB4IGlzIG5vdCBJbmZpbml0eSBvciBOYU4uLi5cclxuICAgICAgaWYgKHhjKSB7XHJcblxyXG4gICAgICAgIC8vIHJkIGlzIHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgICAgLy8gbiBpcyBhIGJhc2UgMWUxNCBudW1iZXIsIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBvZiBhcnJheSB4LmMgY29udGFpbmluZyByZC5cclxuICAgICAgICAvLyBuaSBpcyB0aGUgaW5kZXggb2YgbiB3aXRoaW4geC5jLlxyXG4gICAgICAgIC8vIGQgaXMgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAvLyBpIGlzIHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbiBpbmNsdWRpbmcgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAvLyBqIGlzIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIG4gKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG4gICAgICAgIG91dDoge1xyXG5cclxuICAgICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy5cclxuICAgICAgICAgIGZvciAoZCA9IDEsIGsgPSB4Y1swXTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuICAgICAgICAgIGkgPSBzZCAtIGQ7XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgICAgICAgaiA9IHNkO1xyXG4gICAgICAgICAgICBuID0geGNbbmkgPSAwXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICByZCA9IG4gLyBwb3dzMTBbZCAtIGogLSAxXSAlIDEwIHwgMDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5pID0gbWF0aGNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuaSA+PSB4Yy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOZWVkZWQgYnkgc3FydC5cclxuICAgICAgICAgICAgICAgIGZvciAoOyB4Yy5sZW5ndGggPD0gbmk7IHhjLnB1c2goMCkpO1xyXG4gICAgICAgICAgICAgICAgbiA9IHJkID0gMDtcclxuICAgICAgICAgICAgICAgIGQgPSAxO1xyXG4gICAgICAgICAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuICAgICAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG4gPSBrID0geGNbbmldO1xyXG5cclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAgICAgICBmb3IgKGQgPSAxOyBrID49IDEwOyBrIC89IDEwLCBkKyspO1xyXG5cclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLlxyXG4gICAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4sIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiBuIGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZC5cclxuICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIG4uXHJcbiAgICAgICAgICAgICAgcmQgPSBqIDwgMCA/IDAgOiBuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCB8IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByID0gciB8fCBzZCA8IDAgfHxcclxuXHJcbiAgICAgICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICAgICAgICAvLyBUaGUgZXhwcmVzc2lvbiAgbiAlIHBvd3MxMFtkIC0gaiAtIDFdICByZXR1cm5zIGFsbCBkaWdpdHMgb2YgbiB0byB0aGUgcmlnaHRcclxuICAgICAgICAgIC8vIG9mIHRoZSBkaWdpdCBhdCBqLCBlLmcuIGlmIG4gaXMgOTA4NzE0IGFuZCBqIGlzIDIsIHRoZSBleHByZXNzaW9uIGdpdmVzIDcxNC5cclxuICAgICAgICAgICB4Y1tuaSArIDFdICE9IG51bGwgfHwgKGogPCAwID8gbiA6IG4gJSBwb3dzMTBbZCAtIGogLSAxXSk7XHJcblxyXG4gICAgICAgICAgciA9IHJtIDwgNFxyXG4gICAgICAgICAgID8gKHJkIHx8IHIpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgciB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBkaWdpdCB0byB0aGUgbGVmdCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgb2RkLlxyXG4gICAgICAgICAgICAoKGkgPiAwID8gaiA+IDAgPyBuIC8gcG93czEwW2QgLSBqXSA6IDAgOiB4Y1tuaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgICAgICBpZiAoc2QgPCAxIHx8ICF4Y1swXSkge1xyXG4gICAgICAgICAgICB4Yy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgICAgICAgIHhjWzBdID0gcG93czEwWyhMT0dfQkFTRSAtIHNkICUgTE9HX0JBU0UpICUgTE9HX0JBU0VdO1xyXG4gICAgICAgICAgICAgIHguZSA9IC1zZCB8fCAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgICAgIHhjWzBdID0geC5lID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICAgICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHhjLmxlbmd0aCA9IG5pO1xyXG4gICAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgICAgbmktLTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHhjLmxlbmd0aCA9IG5pICsgMTtcclxuICAgICAgICAgICAgayA9IHBvd3MxMFtMT0dfQkFTRSAtIGldO1xyXG5cclxuICAgICAgICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygbi5cclxuICAgICAgICAgICAgeGNbbmldID0gaiA+IDAgPyBtYXRoZmxvb3IobiAvIHBvd3MxMFtkIC0gal0gJSBwb3dzMTBbal0pICogayA6IDA7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgICBpZiAocikge1xyXG5cclxuICAgICAgICAgICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0IHRvIGJlIHJvdW5kZWQgdXAgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICAgICAgICBpZiAobmkgPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGkgd2lsbCBiZSB0aGUgbGVuZ3RoIG9mIHhjWzBdIGJlZm9yZSBrIGlzIGFkZGVkLlxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG4gICAgICAgICAgICAgICAgaiA9IHhjWzBdICs9IGs7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwLCBrKyspO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIGkgIT0gayB0aGUgbGVuZ3RoIGhhcyBpbmNyZWFzZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSBrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHguZSsrO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoeGNbMF0gPT0gQkFTRSkgeGNbMF0gPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4Y1tuaV0gKz0gaztcclxuICAgICAgICAgICAgICAgIGlmICh4Y1tuaV0gIT0gQkFTRSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB4Y1tuaS0tXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7IHhjWy0taV0gPT09IDA7IHhjLnBvcCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE92ZXJmbG93PyBJbmZpbml0eS5cclxuICAgICAgICBpZiAoeC5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gVW5kZXJmbG93PyBaZXJvLlxyXG4gICAgICAgIH0gZWxzZSBpZiAoeC5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbHVlT2Yobikge1xyXG4gICAgICB2YXIgc3RyLFxyXG4gICAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgICBpZiAoZSA9PT0gbnVsbCkgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcobi5jKTtcclxuXHJcbiAgICAgIHN0ciA9IGUgPD0gVE9fRVhQX05FRyB8fCBlID49IFRPX0VYUF9QT1NcclxuICAgICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBlKVxyXG4gICAgICAgIDogdG9GaXhlZFBvaW50KHN0ciwgZSwgJzAnKTtcclxuXHJcbiAgICAgIHJldHVybiBuLnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBQUk9UT1RZUEUvSU5TVEFOQ0UgTUVUSE9EU1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICAgIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm5cclxuICAgICAqICAgMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiAgIC0xIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgICAqICAgMCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAgICAgKiAgIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgKi9cclxuICAgIFAuY29tcGFyZWRUbyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIElmIGRwIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZVxyXG4gICAgICogdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIMKxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAgICpcclxuICAgICAqIE90aGVyd2lzZSwgaWYgZHAgaXMgYSBudW1iZXIsIHJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBkcCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAgICogUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAgICpcclxuICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXM6IGludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgICAqL1xyXG4gICAgUC5kZWNpbWFsUGxhY2VzID0gUC5kcCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgICAgdmFyIGMsIG4sIHYsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICAgIHJldHVybiByb3VuZChuZXcgQmlnTnVtYmVyKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgICBuID0gKCh2ID0gYy5sZW5ndGggLSAxKSAtIGJpdEZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3QgbnVtYmVyLlxyXG4gICAgICBpZiAodiA9IGNbdl0pIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuICAgICAgaWYgKG4gPCAwKSBuID0gMDtcclxuXHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICBuIC8gMCA9IElcclxuICAgICAqICBuIC8gTiA9IE5cclxuICAgICAqICBuIC8gSSA9IDBcclxuICAgICAqICAwIC8gbiA9IDBcclxuICAgICAqICAwIC8gMCA9IE5cclxuICAgICAqICAwIC8gTiA9IE5cclxuICAgICAqICAwIC8gSSA9IDBcclxuICAgICAqICBOIC8gbiA9IE5cclxuICAgICAqICBOIC8gMCA9IE5cclxuICAgICAqICBOIC8gTiA9IE5cclxuICAgICAqICBOIC8gSSA9IE5cclxuICAgICAqICBJIC8gbiA9IElcclxuICAgICAqICBJIC8gMCA9IElcclxuICAgICAqICBJIC8gTiA9IE5cclxuICAgICAqICBJIC8gSSA9IE5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBkaXZpZGVkIGJ5IHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLCByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgICAqL1xyXG4gICAgUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgREVDSU1BTF9QTEFDRVMsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAgICogQmlnTnVtYmVyIGJ5IHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICAgKi9cclxuICAgIFAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5pZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIGRpdih0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpLCAwLCAxKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGV4cG9uZW50aWF0ZWQgYnkgbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiBtIGlzIHByZXNlbnQsIHJldHVybiB0aGUgcmVzdWx0IG1vZHVsbyBtLlxyXG4gICAgICogSWYgbiBpcyBuZWdhdGl2ZSByb3VuZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICAgKiBJZiBQT1dfUFJFQ0lTSU9OIGlzIG5vbi16ZXJvIGFuZCBtIGlzIG5vdCBwcmVzZW50LCByb3VuZCB0byBQT1dfUFJFQ0lTSU9OIHVzaW5nIFJPVU5ESU5HX01PREUuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG1vZHVsYXIgcG93ZXIgb3BlcmF0aW9uIHdvcmtzIGVmZmljaWVudGx5IHdoZW4geCwgbiwgYW5kIG0gYXJlIGludGVnZXJzLCBvdGhlcndpc2UgaXRcclxuICAgICAqIGlzIGVxdWl2YWxlbnQgdG8gY2FsY3VsYXRpbmcgeC5leHBvbmVudGlhdGVkQnkobikubW9kdWxvKG0pIHdpdGggYSBQT1dfUFJFQ0lTSU9OIG9mIDAuXHJcbiAgICAgKlxyXG4gICAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IFRoZSBleHBvbmVudC4gQW4gaW50ZWdlci5cclxuICAgICAqIFttXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IFRoZSBtb2R1bHVzLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBFeHBvbmVudCBub3QgYW4gaW50ZWdlcjoge259J1xyXG4gICAgICovXHJcbiAgICBQLmV4cG9uZW50aWF0ZWRCeSA9IFAucG93ID0gZnVuY3Rpb24gKG4sIG0pIHtcclxuICAgICAgdmFyIGhhbGYsIGlzTW9kRXhwLCBpLCBrLCBtb3JlLCBuSXNCaWcsIG5Jc05lZywgbklzT2RkLCB5LFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobik7XHJcblxyXG4gICAgICAvLyBBbGxvdyBOYU4gYW5kIMKxSW5maW5pdHksIGJ1dCBub3Qgb3RoZXIgbm9uLWludGVnZXJzLlxyXG4gICAgICBpZiAobi5jICYmICFuLmlzSW50ZWdlcigpKSB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdFeHBvbmVudCBub3QgYW4gaW50ZWdlcjogJyArIHZhbHVlT2YobikpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobSAhPSBudWxsKSBtID0gbmV3IEJpZ051bWJlcihtKTtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50IG9mIE1BWF9TQUZFX0lOVEVHRVIgaXMgMTUuXHJcbiAgICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG5cclxuICAgICAgLy8gSWYgeCBpcyBOYU4sIMKxSW5maW5pdHksIMKxMCBvciDCsTEsIG9yIG4gaXMgwrFJbmZpbml0eSwgTmFOIG9yIMKxMC5cclxuICAgICAgaWYgKCF4LmMgfHwgIXguY1swXSB8fCB4LmNbMF0gPT0gMSAmJiAheC5lICYmIHguYy5sZW5ndGggPT0gMSB8fCAhbi5jIHx8ICFuLmNbMF0pIHtcclxuXHJcbiAgICAgICAgLy8gVGhlIHNpZ24gb2YgdGhlIHJlc3VsdCBvZiBwb3cgd2hlbiB4IGlzIG5lZ2F0aXZlIGRlcGVuZHMgb24gdGhlIGV2ZW5uZXNzIG9mIG4uXHJcbiAgICAgICAgLy8gSWYgK24gb3ZlcmZsb3dzIHRvIMKxSW5maW5pdHksIHRoZSBldmVubmVzcyBvZiBuIHdvdWxkIGJlIG5vdCBiZSBrbm93bi5cclxuICAgICAgICB5ID0gbmV3IEJpZ051bWJlcihNYXRoLnBvdygrdmFsdWVPZih4KSwgbklzQmlnID8gMiAtIGlzT2RkKG4pIDogK3ZhbHVlT2YobikpKTtcclxuICAgICAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogeTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbklzTmVnID0gbi5zIDwgMDtcclxuXHJcbiAgICAgIGlmIChtKSB7XHJcblxyXG4gICAgICAgIC8vIHggJSBtIHJldHVybnMgTmFOIGlmIGFicyhtKSBpcyB6ZXJvLCBvciBtIGlzIE5hTi5cclxuICAgICAgICBpZiAobS5jID8gIW0uY1swXSA6ICFtLnMpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICAgIGlzTW9kRXhwID0gIW5Jc05lZyAmJiB4LmlzSW50ZWdlcigpICYmIG0uaXNJbnRlZ2VyKCk7XHJcblxyXG4gICAgICAgIGlmIChpc01vZEV4cCkgeCA9IHgubW9kKG0pO1xyXG5cclxuICAgICAgLy8gT3ZlcmZsb3cgdG8gwrFJbmZpbml0eTogPj0yKioxZTEwIG9yID49MS4wMDAwMDI0KioxZTE1LlxyXG4gICAgICAvLyBVbmRlcmZsb3cgdG8gwrEwOiA8PTAuNzkqKjFlMTAgb3IgPD0wLjk5OTk5NzUqKjFlMTUuXHJcbiAgICAgIH0gZWxzZSBpZiAobi5lID4gOSAmJiAoeC5lID4gMCB8fCB4LmUgPCAtMSB8fCAoeC5lID09IDBcclxuICAgICAgICAvLyBbMSwgMjQwMDAwMDAwXVxyXG4gICAgICAgID8geC5jWzBdID4gMSB8fCBuSXNCaWcgJiYgeC5jWzFdID49IDI0ZTdcclxuICAgICAgICAvLyBbODAwMDAwMDAwMDAwMDBdICBbOTk5OTk3NTAwMDAwMDBdXHJcbiAgICAgICAgOiB4LmNbMF0gPCA4ZTEzIHx8IG5Jc0JpZyAmJiB4LmNbMF0gPD0gOTk5OTk3NWU3KSkpIHtcclxuXHJcbiAgICAgICAgLy8gSWYgeCBpcyBuZWdhdGl2ZSBhbmQgbiBpcyBvZGQsIGsgPSAtMCwgZWxzZSBrID0gMC5cclxuICAgICAgICBrID0geC5zIDwgMCAmJiBpc09kZChuKSA/IC0wIDogMDtcclxuXHJcbiAgICAgICAgLy8gSWYgeCA+PSAxLCBrID0gwrFJbmZpbml0eS5cclxuICAgICAgICBpZiAoeC5lID4gLTEpIGsgPSAxIC8gaztcclxuXHJcbiAgICAgICAgLy8gSWYgbiBpcyBuZWdhdGl2ZSByZXR1cm4gwrEwLCBlbHNlIHJldHVybiDCsUluZmluaXR5LlxyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG5Jc05lZyA/IDEgLyBrIDogayk7XHJcblxyXG4gICAgICB9IGVsc2UgaWYgKFBPV19QUkVDSVNJT04pIHtcclxuXHJcbiAgICAgICAgLy8gVHJ1bmNhdGluZyBlYWNoIGNvZWZmaWNpZW50IGFycmF5IHRvIGEgbGVuZ3RoIG9mIGsgYWZ0ZXIgZWFjaCBtdWx0aXBsaWNhdGlvblxyXG4gICAgICAgIC8vIGVxdWF0ZXMgdG8gdHJ1bmNhdGluZyBzaWduaWZpY2FudCBkaWdpdHMgdG8gUE9XX1BSRUNJU0lPTiArIFsyOCwgNDFdLFxyXG4gICAgICAgIC8vIGkuZS4gdGhlcmUgd2lsbCBiZSBhIG1pbmltdW0gb2YgMjggZ3VhcmQgZGlnaXRzIHJldGFpbmVkLlxyXG4gICAgICAgIGsgPSBtYXRoY2VpbChQT1dfUFJFQ0lTSU9OIC8gTE9HX0JBU0UgKyAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG5Jc0JpZykge1xyXG4gICAgICAgIGhhbGYgPSBuZXcgQmlnTnVtYmVyKDAuNSk7XHJcbiAgICAgICAgaWYgKG5Jc05lZykgbi5zID0gMTtcclxuICAgICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpID0gTWF0aC5hYnMoK3ZhbHVlT2YobikpO1xyXG4gICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB5ID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG5cclxuICAgICAgLy8gUGVyZm9ybXMgNTQgbG9vcCBpdGVyYXRpb25zIGZvciBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEuXHJcbiAgICAgIGZvciAoOyA7KSB7XHJcblxyXG4gICAgICAgIGlmIChuSXNPZGQpIHtcclxuICAgICAgICAgIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgICAgICAgaWYgKCF5LmMpIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGlmIChrKSB7XHJcbiAgICAgICAgICAgIGlmICh5LmMubGVuZ3RoID4gaykgeS5jLmxlbmd0aCA9IGs7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTW9kRXhwKSB7XHJcbiAgICAgICAgICAgIHkgPSB5Lm1vZChtKTsgICAgLy95ID0geS5taW51cyhkaXYoeSwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpKSB7XHJcbiAgICAgICAgICBpID0gbWF0aGZsb29yKGkgLyAyKTtcclxuICAgICAgICAgIGlmIChpID09PSAwKSBicmVhaztcclxuICAgICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuID0gbi50aW1lcyhoYWxmKTtcclxuICAgICAgICAgIHJvdW5kKG4sIG4uZSArIDEsIDEpO1xyXG5cclxuICAgICAgICAgIGlmIChuLmUgPiAxNCkge1xyXG4gICAgICAgICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGkgPSArdmFsdWVPZihuKTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIGJyZWFrO1xyXG4gICAgICAgICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHggPSB4LnRpbWVzKHgpO1xyXG5cclxuICAgICAgICBpZiAoaykge1xyXG4gICAgICAgICAgaWYgKHguYyAmJiB4LmMubGVuZ3RoID4gaykgeC5jLmxlbmd0aCA9IGs7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgICAgeCA9IHgubW9kKG0pOyAgICAvL3ggPSB4Lm1pbnVzKGRpdih4LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzTW9kRXhwKSByZXR1cm4geTtcclxuICAgICAgaWYgKG5Jc05lZykgeSA9IE9ORS5kaXYoeSk7XHJcblxyXG4gICAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogayA/IHJvdW5kKHksIFBPV19QUkVDSVNJT04sIFJPVU5ESU5HX01PREUsIG1vcmUpIDogeTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGFuIGludGVnZXJcclxuICAgICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgICAqXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtybX0nXHJcbiAgICAgKi9cclxuICAgIFAuaW50ZWdlclZhbHVlID0gZnVuY3Rpb24gKHJtKSB7XHJcbiAgICAgIHZhciBuID0gbmV3IEJpZ051bWJlcih0aGlzKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcbiAgICAgIHJldHVybiByb3VuZChuLCBuLmUgKyAxLCBybSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzRXF1YWxUbyA9IFAuZXEgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA9PT0gMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzRmluaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gISF0aGlzLmM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0dyZWF0ZXJUaGFuID0gUC5ndCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID4gMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzR3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiAoYiA9IGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkpID09PSAxIHx8IGIgPT09IDA7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzSW50ZWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICEhdGhpcy5jICYmIGJpdEZsb29yKHRoaXMuZSAvIExPR19CQVNFKSA+IHRoaXMuYy5sZW5ndGggLSAyO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNMZXNzVGhhbiA9IFAubHQgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA8IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0xlc3NUaGFuT3JFcXVhbFRvID0gUC5sdGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gLTEgfHwgYiA9PT0gMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gIXRoaXMucztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnMgPiAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICEhdGhpcy5jICYmIHRoaXMuY1swXSA9PSAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICBuIC0gMCA9IG5cclxuICAgICAqICBuIC0gTiA9IE5cclxuICAgICAqICBuIC0gSSA9IC1JXHJcbiAgICAgKiAgMCAtIG4gPSAtblxyXG4gICAgICogIDAgLSAwID0gMFxyXG4gICAgICogIDAgLSBOID0gTlxyXG4gICAgICogIDAgLSBJID0gLUlcclxuICAgICAqICBOIC0gbiA9IE5cclxuICAgICAqICBOIC0gMCA9IE5cclxuICAgICAqICBOIC0gTiA9IE5cclxuICAgICAqICBOIC0gSSA9IE5cclxuICAgICAqICBJIC0gbiA9IElcclxuICAgICAqICBJIC0gMCA9IElcclxuICAgICAqICBJIC0gTiA9IE5cclxuICAgICAqICBJIC0gSSA9IE5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtaW51cyB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgICAqL1xyXG4gICAgUC5taW51cyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHZhciBpLCBqLCB0LCB4TFR5LFxyXG4gICAgICAgIHggPSB0aGlzLFxyXG4gICAgICAgIGEgPSB4LnM7XHJcblxyXG4gICAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuICAgICAgYiA9IHkucztcclxuXHJcbiAgICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICAgIGlmICghYSB8fCAhYikgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgICAgaWYgKGEgIT0gYikge1xyXG4gICAgICAgIHkucyA9IC1iO1xyXG4gICAgICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgICAvLyBFaXRoZXIgSW5maW5pdHk/XHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiB4YyA/ICh5LnMgPSAtYiwgeSkgOiBuZXcgQmlnTnVtYmVyKHljID8geCA6IE5hTik7XHJcblxyXG4gICAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICAgIGlmICgheGNbMF0gfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgICAgICByZXR1cm4geWNbMF0gPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOlxyXG5cclxuICAgICAgICAgICAvLyBJRUVFIDc1NCAoMjAwOCkgNi4zOiBuIC0gbiA9IC0wIHdoZW4gcm91bmRpbmcgdG8gLUluZmluaXR5XHJcbiAgICAgICAgICAgUk9VTkRJTkdfTU9ERSA9PSAzID8gLTAgOiAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhlID0gYml0Rmxvb3IoeGUpO1xyXG4gICAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgICAgeGMgPSB4Yy5zbGljZSgpO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHhMVHkgPSBhIDwgMCkge1xyXG4gICAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgICAgdCA9IHhjO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgICAgdCA9IHljO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdC5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgICAgIGZvciAoYiA9IGE7IGItLTsgdC5wdXNoKDApKTtcclxuICAgICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gRXhwb25lbnRzIGVxdWFsLiBDaGVjayBkaWdpdCBieSBkaWdpdC5cclxuICAgICAgICBqID0gKHhMVHkgPSAoYSA9IHhjLmxlbmd0aCkgPCAoYiA9IHljLmxlbmd0aCkpID8gYSA6IGI7XHJcblxyXG4gICAgICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKHhjW2JdICE9IHljW2JdKSB7XHJcbiAgICAgICAgICAgIHhMVHkgPSB4Y1tiXSA8IHljW2JdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHggPCB5PyBQb2ludCB4YyB0byB0aGUgYXJyYXkgb2YgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICAgIGlmICh4TFR5KSB0ID0geGMsIHhjID0geWMsIHljID0gdCwgeS5zID0gLXkucztcclxuXHJcbiAgICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XHJcblxyXG4gICAgICAvLyBBcHBlbmQgemVyb3MgdG8geGMgaWYgc2hvcnRlci5cclxuICAgICAgLy8gTm8gbmVlZCB0byBhZGQgemVyb3MgdG8geWMgaWYgc2hvcnRlciBhcyBzdWJ0cmFjdCBvbmx5IG5lZWRzIHRvIHN0YXJ0IGF0IHljLmxlbmd0aC5cclxuICAgICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCk7XHJcbiAgICAgIGIgPSBCQVNFIC0gMTtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IHljIGZyb20geGMuXHJcbiAgICAgIGZvciAoOyBqID4gYTspIHtcclxuXHJcbiAgICAgICAgaWYgKHhjWy0tal0gPCB5Y1tqXSkge1xyXG4gICAgICAgICAgZm9yIChpID0gajsgaSAmJiAheGNbLS1pXTsgeGNbaV0gPSBiKTtcclxuICAgICAgICAgIC0teGNbaV07XHJcbiAgICAgICAgICB4Y1tqXSArPSBCQVNFO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICAgIGZvciAoOyB4Y1swXSA9PSAwOyB4Yy5zcGxpY2UoMCwgMSksIC0teWUpO1xyXG5cclxuICAgICAgLy8gWmVybz9cclxuICAgICAgaWYgKCF4Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcclxuICAgICAgICAvLyBuIC0gbiA9ICswICBidXQgIG4gLSBuID0gLTAgIHdoZW4gcm91bmRpbmcgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgICAgeS5zID0gUk9VTkRJTkdfTU9ERSA9PSAzID8gLTEgOiAxO1xyXG4gICAgICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgICAgICByZXR1cm4geTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XHJcbiAgICAgIC8vIGZvciBmaW5pdGUgeCBhbmQgeS5cclxuICAgICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICAgbiAlIDAgPSAgTlxyXG4gICAgICogICBuICUgTiA9ICBOXHJcbiAgICAgKiAgIG4gJSBJID0gIG5cclxuICAgICAqICAgMCAlIG4gPSAgMFxyXG4gICAgICogIC0wICUgbiA9IC0wXHJcbiAgICAgKiAgIDAgJSAwID0gIE5cclxuICAgICAqICAgMCAlIE4gPSAgTlxyXG4gICAgICogICAwICUgSSA9ICAwXHJcbiAgICAgKiAgIE4gJSBuID0gIE5cclxuICAgICAqICAgTiAlIDAgPSAgTlxyXG4gICAgICogICBOICUgTiA9ICBOXHJcbiAgICAgKiAgIE4gJSBJID0gIE5cclxuICAgICAqICAgSSAlIG4gPSAgTlxyXG4gICAgICogICBJICUgMCA9ICBOXHJcbiAgICAgKiAgIEkgJSBOID0gIE5cclxuICAgICAqICAgSSAlIEkgPSAgTlxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1vZHVsbyB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKS4gVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSB2YWx1ZSBvZiBNT0RVTE9fTU9ERS5cclxuICAgICAqL1xyXG4gICAgUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHZhciBxLCBzLFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgSW5maW5pdHkgb3IgTmFOLCBvciB5IGlzIE5hTiBvciB6ZXJvLlxyXG4gICAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiB4IGlmIHkgaXMgSW5maW5pdHkgb3IgeCBpcyB6ZXJvLlxyXG4gICAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKE1PRFVMT19NT0RFID09IDkpIHtcclxuXHJcbiAgICAgICAgLy8gRXVjbGlkaWFuIGRpdmlzaW9uOiBxID0gc2lnbih5KSAqIGZsb29yKHggLyBhYnMoeSkpXHJcbiAgICAgICAgLy8gciA9IHggLSBxeSAgICB3aGVyZSAgMCA8PSByIDwgYWJzKHkpXHJcbiAgICAgICAgcyA9IHkucztcclxuICAgICAgICB5LnMgPSAxO1xyXG4gICAgICAgIHEgPSBkaXYoeCwgeSwgMCwgMyk7XHJcbiAgICAgICAgeS5zID0gcztcclxuICAgICAgICBxLnMgKj0gcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeSA9IHgubWludXMocS50aW1lcyh5KSk7XHJcblxyXG4gICAgICAvLyBUbyBtYXRjaCBKYXZhU2NyaXB0ICUsIGVuc3VyZSBzaWduIG9mIHplcm8gaXMgc2lnbiBvZiBkaXZpZGVuZC5cclxuICAgICAgaWYgKCF5LmNbMF0gJiYgTU9EVUxPX01PREUgPT0gMSkgeS5zID0geC5zO1xyXG5cclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogIG4gKiAwID0gMFxyXG4gICAgICogIG4gKiBOID0gTlxyXG4gICAgICogIG4gKiBJID0gSVxyXG4gICAgICogIDAgKiBuID0gMFxyXG4gICAgICogIDAgKiAwID0gMFxyXG4gICAgICogIDAgKiBOID0gTlxyXG4gICAgICogIDAgKiBJID0gTlxyXG4gICAgICogIE4gKiBuID0gTlxyXG4gICAgICogIE4gKiAwID0gTlxyXG4gICAgICogIE4gKiBOID0gTlxyXG4gICAgICogIE4gKiBJID0gTlxyXG4gICAgICogIEkgKiBuID0gSVxyXG4gICAgICogIEkgKiAwID0gTlxyXG4gICAgICogIEkgKiBOID0gTlxyXG4gICAgICogIEkgKiBJID0gSVxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG11bHRpcGxpZWQgYnkgdGhlIHZhbHVlXHJcbiAgICAgKiBvZiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICAgKi9cclxuICAgIFAubXVsdGlwbGllZEJ5ID0gUC50aW1lcyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHZhciBjLCBlLCBpLCBqLCBrLCBtLCB4Y0wsIHhsbywgeGhpLCB5Y0wsIHlsbywgeWhpLCB6YyxcclxuICAgICAgICBiYXNlLCBzcXJ0QmFzZSxcclxuICAgICAgICB4ID0gdGhpcyxcclxuICAgICAgICB4YyA9IHguYyxcclxuICAgICAgICB5YyA9ICh5ID0gbmV3IEJpZ051bWJlcih5LCBiKSkuYztcclxuXHJcbiAgICAgIC8vIEVpdGhlciBOYU4sIMKxSW5maW5pdHkgb3IgwrEwP1xyXG4gICAgICBpZiAoIXhjIHx8ICF5YyB8fCAheGNbMF0gfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTiwgb3Igb25lIGlzIDAgYW5kIHRoZSBvdGhlciBpcyBJbmZpbml0eS5cclxuICAgICAgICBpZiAoIXgucyB8fCAheS5zIHx8IHhjICYmICF4Y1swXSAmJiAheWMgfHwgeWMgJiYgIXljWzBdICYmICF4Yykge1xyXG4gICAgICAgICAgeS5jID0geS5lID0geS5zID0gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeS5zICo9IHgucztcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgaXMgwrFJbmZpbml0eS5cclxuICAgICAgICAgIGlmICgheGMgfHwgIXljKSB7XHJcbiAgICAgICAgICAgIHkuYyA9IHkuZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeS5jID0gWzBdO1xyXG4gICAgICAgICAgICB5LmUgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICAgIHkucyAqPSB4LnM7XHJcbiAgICAgIHhjTCA9IHhjLmxlbmd0aDtcclxuICAgICAgeWNMID0geWMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gRW5zdXJlIHhjIHBvaW50cyB0byBsb25nZXIgYXJyYXkgYW5kIHhjTCB0byBpdHMgbGVuZ3RoLlxyXG4gICAgICBpZiAoeGNMIDwgeWNMKSB6YyA9IHhjLCB4YyA9IHljLCB5YyA9IHpjLCBpID0geGNMLCB4Y0wgPSB5Y0wsIHljTCA9IGk7XHJcblxyXG4gICAgICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cclxuICAgICAgZm9yIChpID0geGNMICsgeWNMLCB6YyA9IFtdOyBpLS07IHpjLnB1c2goMCkpO1xyXG5cclxuICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgIHNxcnRCYXNlID0gU1FSVF9CQVNFO1xyXG5cclxuICAgICAgZm9yIChpID0geWNMOyAtLWkgPj0gMDspIHtcclxuICAgICAgICBjID0gMDtcclxuICAgICAgICB5bG8gPSB5Y1tpXSAlIHNxcnRCYXNlO1xyXG4gICAgICAgIHloaSA9IHljW2ldIC8gc3FydEJhc2UgfCAwO1xyXG5cclxuICAgICAgICBmb3IgKGsgPSB4Y0wsIGogPSBpICsgazsgaiA+IGk7KSB7XHJcbiAgICAgICAgICB4bG8gPSB4Y1stLWtdICUgc3FydEJhc2U7XHJcbiAgICAgICAgICB4aGkgPSB4Y1trXSAvIHNxcnRCYXNlIHwgMDtcclxuICAgICAgICAgIG0gPSB5aGkgKiB4bG8gKyB4aGkgKiB5bG87XHJcbiAgICAgICAgICB4bG8gPSB5bG8gKiB4bG8gKyAoKG0gJSBzcXJ0QmFzZSkgKiBzcXJ0QmFzZSkgKyB6Y1tqXSArIGM7XHJcbiAgICAgICAgICBjID0gKHhsbyAvIGJhc2UgfCAwKSArIChtIC8gc3FydEJhc2UgfCAwKSArIHloaSAqIHhoaTtcclxuICAgICAgICAgIHpjW2otLV0gPSB4bG8gJSBiYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgemNbal0gPSBjO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYykge1xyXG4gICAgICAgICsrZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB6Yy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBub3JtYWxpc2UoeSwgemMsIGUpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG5lZ2F0ZWQsXHJcbiAgICAgKiBpLmUuIG11bHRpcGxpZWQgYnkgLTEuXHJcbiAgICAgKi9cclxuICAgIFAubmVnYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgICB4LnMgPSAteC5zIHx8IG51bGw7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICBuICsgMCA9IG5cclxuICAgICAqICBuICsgTiA9IE5cclxuICAgICAqICBuICsgSSA9IElcclxuICAgICAqICAwICsgbiA9IG5cclxuICAgICAqICAwICsgMCA9IDBcclxuICAgICAqICAwICsgTiA9IE5cclxuICAgICAqICAwICsgSSA9IElcclxuICAgICAqICBOICsgbiA9IE5cclxuICAgICAqICBOICsgMCA9IE5cclxuICAgICAqICBOICsgTiA9IE5cclxuICAgICAqICBOICsgSSA9IE5cclxuICAgICAqICBJICsgbiA9IElcclxuICAgICAqICBJICsgMCA9IElcclxuICAgICAqICBJICsgTiA9IE5cclxuICAgICAqICBJICsgSSA9IElcclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBwbHVzIHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAgICovXHJcbiAgICBQLnBsdXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICB2YXIgdCxcclxuICAgICAgICB4ID0gdGhpcyxcclxuICAgICAgICBhID0geC5zO1xyXG5cclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcbiAgICAgIGIgPSB5LnM7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgICBpZiAoIWEgfHwgIWIpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgICAgeS5zID0gLWI7XHJcbiAgICAgICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgwrFJbmZpbml0eS5cclxuICAgICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIG5ldyBCaWdOdW1iZXIoYSAvIDApO1xyXG5cclxuICAgICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkgcmV0dXJuIHljWzBdID8geSA6IG5ldyBCaWdOdW1iZXIoeGNbMF0gPyB4IDogYSAqIDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4ZSA9IGJpdEZsb29yKHhlKTtcclxuICAgICAgeWUgPSBiaXRGbG9vcih5ZSk7XHJcbiAgICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgICAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcbiAgICAgICAgaWYgKGEgPiAwKSB7XHJcbiAgICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgICAgdCA9IHljO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgICB0ID0geGM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgICBmb3IgKDsgYS0tOyB0LnB1c2goMCkpO1xyXG4gICAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhID0geGMubGVuZ3RoO1xyXG4gICAgICBiID0geWMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gUG9pbnQgeGMgdG8gdGhlIGxvbmdlciBhcnJheSwgYW5kIGIgdG8gdGhlIHNob3J0ZXIgbGVuZ3RoLlxyXG4gICAgICBpZiAoYSAtIGIgPCAwKSB0ID0geWMsIHljID0geGMsIHhjID0gdCwgYiA9IGE7XHJcblxyXG4gICAgICAvLyBPbmx5IHN0YXJ0IGFkZGluZyBhdCB5Yy5sZW5ndGggLSAxIGFzIHRoZSBmdXJ0aGVyIGRpZ2l0cyBvZiB4YyBjYW4gYmUgaWdub3JlZC5cclxuICAgICAgZm9yIChhID0gMDsgYjspIHtcclxuICAgICAgICBhID0gKHhjWy0tYl0gPSB4Y1tiXSArIHljW2JdICsgYSkgLyBCQVNFIHwgMDtcclxuICAgICAgICB4Y1tiXSA9IEJBU0UgPT09IHhjW2JdID8gMCA6IHhjW2JdICUgQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGEpIHtcclxuICAgICAgICB4YyA9IFthXS5jb25jYXQoeGMpO1xyXG4gICAgICAgICsreWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuICAgICAgLy8geWUgPSBNQVhfRVhQICsgMSBwb3NzaWJsZVxyXG4gICAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogSWYgc2QgaXMgdW5kZWZpbmVkIG9yIG51bGwgb3IgdHJ1ZSBvciBmYWxzZSwgcmV0dXJuIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mXHJcbiAgICAgKiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIMKxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAgICogSWYgc2QgaXMgdHJ1ZSBpbmNsdWRlIGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvcyBpbiB0aGUgY291bnQuXHJcbiAgICAgKlxyXG4gICAgICogT3RoZXJ3aXNlLCBpZiBzZCBpcyBhIG51bWJlciwgcmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAgICogQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAgICogUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAgICpcclxuICAgICAqIHNkIHtudW1iZXJ8Ym9vbGVhbn0gbnVtYmVyOiBzaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbjogd2hldGhlciB0byBjb3VudCBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3M6IHRydWUgb3IgZmFsc2UuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtzZHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgICAgdmFyIGMsIG4sIHYsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoc2QgIT0gbnVsbCAmJiBzZCAhPT0gISFzZCkge1xyXG4gICAgICAgIGludENoZWNrKHNkLCAxLCBNQVgpO1xyXG4gICAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICAgIHJldHVybiByb3VuZChuZXcgQmlnTnVtYmVyKHgpLCBzZCwgcm0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIHYgPSBjLmxlbmd0aCAtIDE7XHJcbiAgICAgIG4gPSB2ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICAgICAgaWYgKHYgPSBjW3ZdKSB7XHJcblxyXG4gICAgICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3QgZWxlbWVudC5cclxuICAgICAgICBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgICBmb3IgKHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBuKyspO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2QgJiYgeC5lICsgMSA+IG4pIG4gPSB4LmUgKyAxO1xyXG5cclxuICAgICAgcmV0dXJuIG47XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgc2hpZnRlZCBieSBrIHBsYWNlc1xyXG4gICAgICogKHBvd2VycyBvZiAxMCkuIFNoaWZ0IHRvIHRoZSByaWdodCBpZiBuID4gMCwgYW5kIHRvIHRoZSBsZWZ0IGlmIG4gPCAwLlxyXG4gICAgICpcclxuICAgICAqIGsge251bWJlcn0gSW50ZWdlciwgLU1BWF9TQUZFX0lOVEVHRVIgdG8gTUFYX1NBRkVfSU5URUdFUiBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtrfSdcclxuICAgICAqL1xyXG4gICAgUC5zaGlmdGVkQnkgPSBmdW5jdGlvbiAoaykge1xyXG4gICAgICBpbnRDaGVjayhrLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUik7XHJcbiAgICAgIHJldHVybiB0aGlzLnRpbWVzKCcxZScgKyBrKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgc3FydCgtbikgPSAgTlxyXG4gICAgICogIHNxcnQoTikgPSAgTlxyXG4gICAgICogIHNxcnQoLUkpID0gIE5cclxuICAgICAqICBzcXJ0KEkpID0gIElcclxuICAgICAqICBzcXJ0KDApID0gIDBcclxuICAgICAqICBzcXJ0KC0wKSA9IC0wXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLFxyXG4gICAgICogcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICAgKi9cclxuICAgIFAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIG0sIG4sIHIsIHJlcCwgdCxcclxuICAgICAgICB4ID0gdGhpcyxcclxuICAgICAgICBjID0geC5jLFxyXG4gICAgICAgIHMgPSB4LnMsXHJcbiAgICAgICAgZSA9IHguZSxcclxuICAgICAgICBkcCA9IERFQ0lNQUxfUExBQ0VTICsgNCxcclxuICAgICAgICBoYWxmID0gbmV3IEJpZ051bWJlcignMC41Jyk7XHJcblxyXG4gICAgICAvLyBOZWdhdGl2ZS9OYU4vSW5maW5pdHkvemVybz9cclxuICAgICAgaWYgKHMgIT09IDEgfHwgIWMgfHwgIWNbMF0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcighcyB8fCBzIDwgMCAmJiAoIWMgfHwgY1swXSkgPyBOYU4gOiBjID8geCA6IDEgLyAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICAgICAgcyA9IE1hdGguc3FydCgrdmFsdWVPZih4KSk7XHJcblxyXG4gICAgICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gICAgICAvLyBQYXNzIHggdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gICAgICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgICAgICBuID0gY29lZmZUb1N0cmluZyhjKTtcclxuICAgICAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgICAgIHMgPSBNYXRoLnNxcnQoK24pO1xyXG4gICAgICAgIGUgPSBiaXRGbG9vcigoZSArIDEpIC8gMikgLSAoZSA8IDAgfHwgZSAlIDIpO1xyXG5cclxuICAgICAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHIgPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHIgPSBuZXcgQmlnTnVtYmVyKHMgKyAnJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciB6ZXJvLlxyXG4gICAgICAvLyByIGNvdWxkIGJlIHplcm8gaWYgTUlOX0VYUCBpcyBjaGFuZ2VkIGFmdGVyIHRoZSB0aGlzIHZhbHVlIHdhcyBjcmVhdGVkLlxyXG4gICAgICAvLyBUaGlzIHdvdWxkIGNhdXNlIGEgZGl2aXNpb24gYnkgemVybyAoeC90KSBhbmQgaGVuY2UgSW5maW5pdHkgYmVsb3csIHdoaWNoIHdvdWxkIGNhdXNlXHJcbiAgICAgIC8vIGNvZWZmVG9TdHJpbmcgdG8gdGhyb3cuXHJcbiAgICAgIGlmIChyLmNbMF0pIHtcclxuICAgICAgICBlID0gci5lO1xyXG4gICAgICAgIHMgPSBlICsgZHA7XHJcbiAgICAgICAgaWYgKHMgPCAzKSBzID0gMDtcclxuXHJcbiAgICAgICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gICAgICAgIGZvciAoOyA7KSB7XHJcbiAgICAgICAgICB0ID0gcjtcclxuICAgICAgICAgIHIgPSBoYWxmLnRpbWVzKHQucGx1cyhkaXYoeCwgdCwgZHAsIDEpKSk7XHJcblxyXG4gICAgICAgICAgaWYgKGNvZWZmVG9TdHJpbmcodC5jKS5zbGljZSgwLCBzKSA9PT0gKG4gPSBjb2VmZlRvU3RyaW5nKHIuYykpLnNsaWNlKDAsIHMpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGUgZXhwb25lbnQgb2YgciBtYXkgaGVyZSBiZSBvbmUgbGVzcyB0aGFuIHRoZSBmaW5hbCByZXN1bHQgZXhwb25lbnQsXHJcbiAgICAgICAgICAgIC8vIGUuZyAwLjAwMDk5OTkgKGUtNCkgLS0+IDAuMDAxIChlLTMpLCBzbyBhZGp1c3QgcyBzbyB0aGUgcm91bmRpbmcgZGlnaXRzXHJcbiAgICAgICAgICAgIC8vIGFyZSBpbmRleGVkIGNvcnJlY3RseS5cclxuICAgICAgICAgICAgaWYgKHIuZSA8IGUpIC0tcztcclxuICAgICAgICAgICAgbiA9IG4uc2xpY2UocyAtIDMsIHMgKyAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgICAvLyBhcmUgOTk5OSBvciA0OTk5IChpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnkpIGNvbnRpbnVlIHRoZVxyXG4gICAgICAgICAgICAvLyBpdGVyYXRpb24uXHJcbiAgICAgICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZVxyXG4gICAgICAgICAgICAgIC8vIGV4YWN0IHJlc3VsdCBhcyB0aGUgbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgICAgICByb3VuZCh0LCB0LmUgKyBERUNJTUFMX1BMQUNFUyArIDIsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGRwICs9IDQ7XHJcbiAgICAgICAgICAgICAgcyArPSA0O1xyXG4gICAgICAgICAgICAgIHJlcCA9IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBleGFjdFxyXG4gICAgICAgICAgICAgIC8vIHJlc3VsdC4gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAgICAgICByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDIsIDEpO1xyXG4gICAgICAgICAgICAgICAgbSA9ICFyLnRpbWVzKHIpLmVxKHgpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDEsIFJPVU5ESU5HX01PREUsIG0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFuZFxyXG4gICAgICogcm91bmRlZCB1c2luZyBST1VORElOR19NT0RFIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICpcclxuICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgICAqL1xyXG4gICAgUC50b0V4cG9uZW50aWFsID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICAgIGRwKys7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0sIDEpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kaW5nXHJcbiAgICAgKiB0byBkcCBmaXhlZCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZTogYXMgd2l0aCBKYXZhU2NyaXB0J3MgbnVtYmVyIHR5cGUsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsXHJcbiAgICAgKiBidXQgZS5nLiAoLTAuMDAwMDEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAudG9GaXhlZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgICBkcCA9IGRwICsgdGhpcy5lICsgMTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZm9ybWF0KHRoaXMsIGRwLCBybSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24gcm91bmRlZFxyXG4gICAgICogdXNpbmcgcm0gb3IgUk9VTkRJTkdfTU9ERSB0byBkcCBkZWNpbWFsIHBsYWNlcywgYW5kIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3BlcnRpZXNcclxuICAgICAqIG9mIHRoZSBmb3JtYXQgb3IgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5zZXQpLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBmb3JtYXR0aW5nIG9iamVjdCBtYXkgY29udGFpbiBzb21lIG9yIGFsbCBvZiB0aGUgcHJvcGVydGllcyBzaG93biBiZWxvdy5cclxuICAgICAqXHJcbiAgICAgKiBGT1JNQVQgPSB7XHJcbiAgICAgKiAgIHByZWZpeDogJycsXHJcbiAgICAgKiAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAqICAgc2Vjb25kYXJ5R3JvdXBTaXplOiAwLFxyXG4gICAgICogICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAgICogICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICAgKiAgIGZyYWN0aW9uR3JvdXBTaXplOiAwLFxyXG4gICAgICogICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAgICogICBzdWZmaXg6ICcnXHJcbiAgICAgKiB9O1xyXG4gICAgICpcclxuICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqIFtmb3JtYXRdIHtvYmplY3R9IEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlIEZPUk1BVCBwYmplY3QgYWJvdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQgbm90IGFuIG9iamVjdDoge2Zvcm1hdH0nXHJcbiAgICAgKi9cclxuICAgIFAudG9Gb3JtYXQgPSBmdW5jdGlvbiAoZHAsIHJtLCBmb3JtYXQpIHtcclxuICAgICAgdmFyIHN0cixcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChmb3JtYXQgPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChkcCAhPSBudWxsICYmIHJtICYmIHR5cGVvZiBybSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZm9ybWF0ID0gcm07XHJcbiAgICAgICAgICBybSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkcCAmJiB0eXBlb2YgZHAgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIGZvcm1hdCA9IGRwO1xyXG4gICAgICAgICAgZHAgPSBybSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvcm1hdCA9IEZPUk1BVDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCAhPSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnQXJndW1lbnQgbm90IGFuIG9iamVjdDogJyArIGZvcm1hdCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IHgudG9GaXhlZChkcCwgcm0pO1xyXG5cclxuICAgICAgaWYgKHguYykge1xyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXHJcbiAgICAgICAgICBnMSA9ICtmb3JtYXQuZ3JvdXBTaXplLFxyXG4gICAgICAgICAgZzIgPSArZm9ybWF0LnNlY29uZGFyeUdyb3VwU2l6ZSxcclxuICAgICAgICAgIGdyb3VwU2VwYXJhdG9yID0gZm9ybWF0Lmdyb3VwU2VwYXJhdG9yIHx8ICcnLFxyXG4gICAgICAgICAgaW50UGFydCA9IGFyclswXSxcclxuICAgICAgICAgIGZyYWN0aW9uUGFydCA9IGFyclsxXSxcclxuICAgICAgICAgIGlzTmVnID0geC5zIDwgMCxcclxuICAgICAgICAgIGludERpZ2l0cyA9IGlzTmVnID8gaW50UGFydC5zbGljZSgxKSA6IGludFBhcnQsXHJcbiAgICAgICAgICBsZW4gPSBpbnREaWdpdHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoZzIpIGkgPSBnMSwgZzEgPSBnMiwgZzIgPSBpLCBsZW4gLT0gaTtcclxuXHJcbiAgICAgICAgaWYgKGcxID4gMCAmJiBsZW4gPiAwKSB7XHJcbiAgICAgICAgICBpID0gbGVuICUgZzEgfHwgZzE7XHJcbiAgICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0cigwLCBpKTtcclxuICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICs9IGcxKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnN1YnN0cihpLCBnMSk7XHJcbiAgICAgICAgICBpZiAoZzIgPiAwKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnNsaWNlKGkpO1xyXG4gICAgICAgICAgaWYgKGlzTmVnKSBpbnRQYXJ0ID0gJy0nICsgaW50UGFydDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ciA9IGZyYWN0aW9uUGFydFxyXG4gICAgICAgICA/IGludFBhcnQgKyAoZm9ybWF0LmRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgKChnMiA9ICtmb3JtYXQuZnJhY3Rpb25Hcm91cFNpemUpXHJcbiAgICAgICAgICA/IGZyYWN0aW9uUGFydC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxkeycgKyBnMiArICd9XFxcXEInLCAnZycpLFxyXG4gICAgICAgICAgICckJicgKyAoZm9ybWF0LmZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgfHwgJycpKVxyXG4gICAgICAgICAgOiBmcmFjdGlvblBhcnQpXHJcbiAgICAgICAgIDogaW50UGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIChmb3JtYXQucHJlZml4IHx8ICcnKSArIHN0ciArIChmb3JtYXQuc3VmZml4IHx8ICcnKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdHdvIEJpZ051bWJlcnMgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZVxyXG4gICAgICogZnJhY3Rpb24gd2l0aCBhbiBpbnRlZ2VyIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci5cclxuICAgICAqIFRoZSBkZW5vbWluYXRvciB3aWxsIGJlIGEgcG9zaXRpdmUgbm9uLXplcm8gdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWRcclxuICAgICAqIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZVxyXG4gICAgICogdGhlIGxvd2VzdCB2YWx1ZSBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICAgICAqXHJcbiAgICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxLCBvciBJbmZpbml0eS4gVGhlIG1heGltdW0gZGVub21pbmF0b3IuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9IDoge21kfSdcclxuICAgICAqL1xyXG4gICAgUC50b0ZyYWN0aW9uID0gZnVuY3Rpb24gKG1kKSB7XHJcbiAgICAgIHZhciBkLCBkMCwgZDEsIGQyLCBlLCBleHAsIG4sIG4wLCBuMSwgcSwgciwgcyxcclxuICAgICAgICB4ID0gdGhpcyxcclxuICAgICAgICB4YyA9IHguYztcclxuXHJcbiAgICAgIGlmIChtZCAhPSBudWxsKSB7XHJcbiAgICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobWQpO1xyXG5cclxuICAgICAgICAvLyBUaHJvdyBpZiBtZCBpcyBsZXNzIHRoYW4gb25lIG9yIGlzIG5vdCBhbiBpbnRlZ2VyLCB1bmxlc3MgaXQgaXMgSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCFuLmlzSW50ZWdlcigpICYmIChuLmMgfHwgbi5zICE9PSAxKSB8fCBuLmx0KE9ORSkpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdBcmd1bWVudCAnICtcclxuICAgICAgICAgICAgICAobi5pc0ludGVnZXIoKSA/ICdvdXQgb2YgcmFuZ2U6ICcgOiAnbm90IGFuIGludGVnZXI6ICcpICsgdmFsdWVPZihuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXhjKSByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcclxuXHJcbiAgICAgIGQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICAgIG4xID0gZDAgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICAgIGQxID0gbjAgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSBpbml0aWFsIGRlbm9taW5hdG9yLlxyXG4gICAgICAvLyBkIGlzIGEgcG93ZXIgb2YgMTAgYW5kIHRoZSBtaW5pbXVtIG1heCBkZW5vbWluYXRvciB0aGF0IHNwZWNpZmllcyB0aGUgdmFsdWUgZXhhY3RseS5cclxuICAgICAgZSA9IGQuZSA9IHMubGVuZ3RoIC0geC5lIC0gMTtcclxuICAgICAgZC5jWzBdID0gUE9XU19URU5bKGV4cCA9IGUgJSBMT0dfQkFTRSkgPCAwID8gTE9HX0JBU0UgKyBleHAgOiBleHBdO1xyXG4gICAgICBtZCA9ICFtZCB8fCBuLmNvbXBhcmVkVG8oZCkgPiAwID8gKGUgPiAwID8gZCA6IG4xKSA6IG47XHJcblxyXG4gICAgICBleHAgPSBNQVhfRVhQO1xyXG4gICAgICBNQVhfRVhQID0gMSAvIDA7XHJcbiAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG5cclxuICAgICAgLy8gbjAgPSBkMSA9IDBcclxuICAgICAgbjAuY1swXSA9IDA7XHJcblxyXG4gICAgICBmb3IgKDsgOykgIHtcclxuICAgICAgICBxID0gZGl2KG4sIGQsIDAsIDEpO1xyXG4gICAgICAgIGQyID0gZDAucGx1cyhxLnRpbWVzKGQxKSk7XHJcbiAgICAgICAgaWYgKGQyLmNvbXBhcmVkVG8obWQpID09IDEpIGJyZWFrO1xyXG4gICAgICAgIGQwID0gZDE7XHJcbiAgICAgICAgZDEgPSBkMjtcclxuICAgICAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMiA9IG4xKSk7XHJcbiAgICAgICAgbjAgPSBkMjtcclxuICAgICAgICBkID0gbi5taW51cyhxLnRpbWVzKGQyID0gZCkpO1xyXG4gICAgICAgIG4gPSBkMjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZDIgPSBkaXYobWQubWludXMoZDApLCBkMSwgMCwgMSk7XHJcbiAgICAgIG4wID0gbjAucGx1cyhkMi50aW1lcyhuMSkpO1xyXG4gICAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICAgICAgbjAucyA9IG4xLnMgPSB4LnM7XHJcbiAgICAgIGUgPSBlICogMjtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDFcclxuICAgICAgciA9IGRpdihuMSwgZDEsIGUsIFJPVU5ESU5HX01PREUpLm1pbnVzKHgpLmFicygpLmNvbXBhcmVkVG8oXHJcbiAgICAgICAgICBkaXYobjAsIGQwLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKSkgPCAxID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgICAgIE1BWF9FWFAgPSBleHA7XHJcblxyXG4gICAgICByZXR1cm4gcjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXHJcbiAgICAgKi9cclxuICAgIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiArdmFsdWVPZih0aGlzKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIHNkIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSBvciBST1VORElOR19NT0RFLiBJZiBzZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHNcclxuICAgICAqIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24sIHRoZW4gdXNlXHJcbiAgICAgKiBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAgICovXHJcbiAgICBQLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gICAgICBpZiAoc2QgIT0gbnVsbCkgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICAgIHJldHVybiBmb3JtYXQodGhpcywgc2QsIHJtLCAyKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBiYXNlIGIsIG9yIGJhc2UgMTAgaWYgYiBpc1xyXG4gICAgICogb21pdHRlZC4gSWYgYSBiYXNlIGlzIHNwZWNpZmllZCwgaW5jbHVkaW5nIGJhc2UgMTAsIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmRcclxuICAgICAqIFJPVU5ESU5HX01PREUuIElmIGEgYmFzZSBpcyBub3Qgc3BlY2lmaWVkLCBhbmQgdGhpcyBCaWdOdW1iZXIgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnRcclxuICAgICAqIHRoYXQgaXMgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIFRPX0VYUF9QT1MsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuXHJcbiAgICAgKiBUT19FWFBfTkVHLCByZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogW2JdIHtudW1iZXJ9IEludGVnZXIsIDIgdG8gQUxQSEFCRVQubGVuZ3RoIGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICAgKi9cclxuICAgIFAudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xyXG4gICAgICB2YXIgc3RyLFxyXG4gICAgICAgIG4gPSB0aGlzLFxyXG4gICAgICAgIHMgPSBuLnMsXHJcbiAgICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5IG9yIE5hTj9cclxuICAgICAgaWYgKGUgPT09IG51bGwpIHtcclxuICAgICAgICBpZiAocykge1xyXG4gICAgICAgICAgc3RyID0gJ0luZmluaXR5JztcclxuICAgICAgICAgIGlmIChzIDwgMCkgc3RyID0gJy0nICsgc3RyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdHIgPSAnTmFOJztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGIgPT0gbnVsbCkge1xyXG4gICAgICAgICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICAgICAgID8gdG9FeHBvbmVudGlhbChjb2VmZlRvU3RyaW5nKG4uYyksIGUpXHJcbiAgICAgICAgICAgOiB0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBlLCAnMCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMTAgJiYgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzKSB7XHJcbiAgICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgREVDSU1BTF9QTEFDRVMgKyBlICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgICAgICBzdHIgPSB0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBuLmUsICcwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIGUsICcwJyksIDEwLCBiLCBzLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYXMgdG9TdHJpbmcsIGJ1dCBkbyBub3QgYWNjZXB0IGEgYmFzZSBhcmd1bWVudCwgYW5kIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24gZm9yXHJcbiAgICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlT2YodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBQLl9pc0JpZ051bWJlciA9IHRydWU7XHJcblxyXG4gICAgaWYgKGNvbmZpZ09iamVjdCAhPSBudWxsKSBCaWdOdW1iZXIuc2V0KGNvbmZpZ09iamVjdCk7XHJcblxyXG4gICAgcmV0dXJuIEJpZ051bWJlcjtcclxuICB9XHJcblxyXG5cclxuICAvLyBQUklWQVRFIEhFTFBFUiBGVU5DVElPTlNcclxuXHJcbiAgLy8gVGhlc2UgZnVuY3Rpb25zIGRvbid0IG5lZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyxcclxuICAvLyBlLmcuIERFQ0lNQUxfUExBQ0VTLCBpbiB0aGUgc2NvcGUgb2YgdGhlIGBjbG9uZWAgZnVuY3Rpb24gYWJvdmUuXHJcblxyXG5cclxuICBmdW5jdGlvbiBiaXRGbG9vcihuKSB7XHJcbiAgICB2YXIgaSA9IG4gfCAwO1xyXG4gICAgcmV0dXJuIG4gPiAwIHx8IG4gPT09IGkgPyBpIDogaSAtIDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gUmV0dXJuIGEgY29lZmZpY2llbnQgYXJyYXkgYXMgYSBzdHJpbmcgb2YgYmFzZSAxMCBkaWdpdHMuXHJcbiAgZnVuY3Rpb24gY29lZmZUb1N0cmluZyhhKSB7XHJcbiAgICB2YXIgcywgeixcclxuICAgICAgaSA9IDEsXHJcbiAgICAgIGogPSBhLmxlbmd0aCxcclxuICAgICAgciA9IGFbMF0gKyAnJztcclxuXHJcbiAgICBmb3IgKDsgaSA8IGo7KSB7XHJcbiAgICAgIHMgPSBhW2krK10gKyAnJztcclxuICAgICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XHJcbiAgICAgIGZvciAoOyB6LS07IHMgPSAnMCcgKyBzKTtcclxuICAgICAgciArPSBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaiA9IHIubGVuZ3RoOyByLmNoYXJDb2RlQXQoLS1qKSA9PT0gNDg7KTtcclxuXHJcbiAgICByZXR1cm4gci5zbGljZSgwLCBqICsgMSB8fCAxKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBDb21wYXJlIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXJzIHggYW5kIHkuXHJcbiAgZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XHJcbiAgICB2YXIgYSwgYixcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0geS5jLFxyXG4gICAgICBpID0geC5zLFxyXG4gICAgICBqID0geS5zLFxyXG4gICAgICBrID0geC5lLFxyXG4gICAgICBsID0geS5lO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xyXG5cclxuICAgIGEgPSB4YyAmJiAheGNbMF07XHJcbiAgICBiID0geWMgJiYgIXljWzBdO1xyXG5cclxuICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgaWYgKGEgfHwgYikgcmV0dXJuIGEgPyBiID8gMCA6IC1qIDogaTtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgICBhID0gaSA8IDA7XHJcbiAgICBiID0gayA9PSBsO1xyXG5cclxuICAgIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4gYiA/IDAgOiAheGMgXiBhID8gMSA6IC0xO1xyXG5cclxuICAgIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gICAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xyXG5cclxuICAgIGogPSAoayA9IHhjLmxlbmd0aCkgPCAobCA9IHljLmxlbmd0aCkgPyBrIDogbDtcclxuXHJcbiAgICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykgaWYgKHhjW2ldICE9IHljW2ldKSByZXR1cm4geGNbaV0gPiB5Y1tpXSBeIGEgPyAxIDogLTE7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gICAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGEgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBDaGVjayB0aGF0IG4gaXMgYSBwcmltaXRpdmUgbnVtYmVyLCBhbiBpbnRlZ2VyLCBhbmQgaW4gcmFuZ2UsIG90aGVyd2lzZSB0aHJvdy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpbnRDaGVjayhuLCBtaW4sIG1heCwgbmFtZSkge1xyXG4gICAgaWYgKG4gPCBtaW4gfHwgbiA+IG1heCB8fCBuICE9PSBtYXRoZmxvb3IobikpIHtcclxuICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgIChiaWdudW1iZXJFcnJvciArIChuYW1lIHx8ICdBcmd1bWVudCcpICsgKHR5cGVvZiBuID09ICdudW1iZXInXHJcbiAgICAgICAgID8gbiA8IG1pbiB8fCBuID4gbWF4ID8gJyBvdXQgb2YgcmFuZ2U6ICcgOiAnIG5vdCBhbiBpbnRlZ2VyOiAnXHJcbiAgICAgICAgIDogJyBub3QgYSBwcmltaXRpdmUgbnVtYmVyOiAnKSArIFN0cmluZyhuKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQXNzdW1lcyBmaW5pdGUgbi5cclxuICBmdW5jdGlvbiBpc09kZChuKSB7XHJcbiAgICB2YXIgayA9IG4uYy5sZW5ndGggLSAxO1xyXG4gICAgcmV0dXJuIGJpdEZsb29yKG4uZSAvIExPR19CQVNFKSA9PSBrICYmIG4uY1trXSAlIDIgIT0gMDtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHN0ciwgZSkge1xyXG4gICAgcmV0dXJuIChzdHIubGVuZ3RoID4gMSA/IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgOiBzdHIpICtcclxuICAgICAoZSA8IDAgPyAnZScgOiAnZSsnKSArIGU7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gdG9GaXhlZFBvaW50KHN0ciwgZSwgeikge1xyXG4gICAgdmFyIGxlbiwgenM7XHJcblxyXG4gICAgLy8gTmVnYXRpdmUgZXhwb25lbnQ/XHJcbiAgICBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MuXHJcbiAgICAgIGZvciAoenMgPSB6ICsgJy4nOyArK2U7IHpzICs9IHopO1xyXG4gICAgICBzdHIgPSB6cyArIHN0cjtcclxuXHJcbiAgICAvLyBQb3NpdGl2ZSBleHBvbmVudFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIEFwcGVuZCB6ZXJvcy5cclxuICAgICAgaWYgKCsrZSA+IGxlbikge1xyXG4gICAgICAgIGZvciAoenMgPSB6LCBlIC09IGxlbjsgLS1lOyB6cyArPSB6KTtcclxuICAgICAgICBzdHIgKz0genM7XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IGxlbikge1xyXG4gICAgICAgIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gRVhQT1JUXHJcblxyXG5cclxuICBCaWdOdW1iZXIgPSBjbG9uZSgpO1xyXG4gIEJpZ051bWJlclsnZGVmYXVsdCddID0gQmlnTnVtYmVyLkJpZ051bWJlciA9IEJpZ051bWJlcjtcclxuXHJcbiAgLy8gQU1ELlxyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJpZ051bWJlcjsgfSk7XHJcblxyXG4gIC8vIE5vZGUuanMgYW5kIG90aGVyIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMuXHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEJpZ051bWJlcjtcclxuXHJcbiAgLy8gQnJvd3Nlci5cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKCFnbG9iYWxPYmplY3QpIHtcclxuICAgICAgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiA/IHNlbGYgOiB3aW5kb3c7XHJcbiAgICB9XHJcblxyXG4gICAgZ2xvYmFsT2JqZWN0LkJpZ051bWJlciA9IEJpZ051bWJlcjtcclxuICB9XHJcbn0pKHRoaXMpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/bignumber.js/bignumber.js\n");

/***/ }),

/***/ "./src/main.ts":
        /*!***********************************!*\
          !*** ./src/main.ts + 143 modules ***!
          \***********************************/
        /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

            "use strict";
            eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n;// CONCATENATED MODULE: ./src/networks/Network.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass Network {\r\n    constructor() {\r\n        this.ServerUrl = \"\";\r\n        this.AppId = \"\";\r\n        this.ChainId = 0;\r\n        this.Name = \"\";\r\n        this.ChainName = '';\r\n        this.NativeCurrencyName = \"\";\r\n        this.NativeSymbol = \"\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = '';\r\n        this.BlockExplorer = '';\r\n        this.TestNetwork = true;\r\n        this.FaucetUrl = '';\r\n        this.BuyUrl = '';\r\n    }\r\n    addNetworkToWallet(moralis) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const web3 = yield moralis.enableWeb3();\r\n            if (!web3 || !web3.provider.request)\r\n                return;\r\n            web3.provider.request({\r\n                method: 'wallet_addEthereumChain',\r\n                params: [{\r\n                        chainId: '0x' + this.ChainId.toString(16),\r\n                        chainName: this.ChainName,\r\n                        nativeCurrency: {\r\n                            name: this.NativeCurrencyName,\r\n                            symbol: this.NativeSymbol,\r\n                            decimals: this.NativeDecimal\r\n                        },\r\n                        rpcUrls: [this.RpcUrl],\r\n                        blockExplorerUrls: [this.BlockExplorer]\r\n                    }]\r\n            }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    }\r\n    hasEnoughNativeTokens(moralis) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            //TODO: remove later, Moralis doesnt support getNativeBalance on localhost so it's always true\r\n            if (this.Name == 'localhost') {\r\n                return true;\r\n            }\r\n            else {\r\n                const options = { chain: '0x' + this.ChainId.toString(16) };\r\n                const result = yield moralis.Web3API.account.getNativeBalance(options);\r\n                const balance = parseFloat(Moralis.Units.FromWei(result.balance, 18));\r\n                if (balance < 0.005) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/localhost-network.ts\n\r\n//localhost\r\nclass localhostNetwork extends Network {\r\n    constructor() {\r\n        super();\r\n        this.ServerUrl = \"https://dqet8dfymvzj.usemoralis.com:2053/server\";\r\n        this.AppId = \"TXR6YesK99VgRCxSecnySRMp1KI5rLnCfIetQuuU\";\r\n        this.ChainId = 31337;\r\n        this.Name = \"localhost\";\r\n        this.ChainName = 'localhost test';\r\n        this.NativeCurrencyName = \"Ethereum\";\r\n        this.NativeSymbol = \"ETH\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = 'https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161';\r\n        this.BlockExplorer = 'https://rinkeby.etherscan.io';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/mumbai-network.ts\n\r\nclass mumbaiNetwork extends Network {\r\n    constructor() {\r\n        super();\r\n        this.ServerUrl = \"https://f8t1vrrwtboa.usemoralis.com:2053/server\";\r\n        this.AppId = \"XZhp3wQobrKiCib0Bf4FPVKAUhbHM9SvTLKOKvBb\";\r\n        this.ChainId = 80001;\r\n        this.Name = \"mumbai\";\r\n        this.ChainName = 'Polygon Mumbai';\r\n        this.NativeCurrencyName = \"Matic\";\r\n        this.NativeSymbol = \"MATIC\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = 'https://matic-mumbai.chainstacklabs.com/';\r\n        this.BlockExplorer = 'https://mumbai.polygonscan.com/';\r\n        this.FaucetUrl = 'https://faucet.polygon.technology/';\r\n        this.BuyUrl = 'https://www.moonpay.com/buy/matic';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/CookieHelper.ts\nclass CookieHelper {\r\n    constructor(document) {\r\n        this.setCookieNetwork = (name) => {\r\n            this.setCookie(\"network\", name);\r\n        };\r\n        this.document = document;\r\n    }\r\n    setCookie(name, value) {\r\n        let date = new Date();\r\n        this.document.cookie = name + \"=\" + value + \"; expires=Mon, 2 Dec 2024 12:00:00 UTC;path=/;SameSite=Strict\";\r\n    }\r\n    getCookieValue(name) {\r\n        var _a;\r\n        return ((_a = this.document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)')) === null || _a === void 0 ? void 0 : _a.pop()) || '';\r\n    }\r\n    setCookieProvider(providerName) {\r\n        this.setCookie(\"provider\", providerName);\r\n    }\r\n    deleteCookie(name) {\r\n        this.document.cookie = name + \"=0; expires=Mon, 2 Dec 2020 12:00:00 UTC;path=/\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/fuji-network.ts\n\r\nclass fujiNetwork extends Network {\r\n    constructor() {\r\n        super();\r\n        this.ServerUrl = \"https://f8t1vrrwtboa.usemoralis.com:2053/server\";\r\n        this.AppId = \"XZhp3wQobrKiCib0Bf4FPVKAUhbHM9SvTLKOKvBb\";\r\n        this.ChainId = 43113;\r\n        this.Name = \"fuji\";\r\n        this.ChainName = 'Avax test';\r\n        this.NativeCurrencyName = \"Avax\";\r\n        this.NativeSymbol = \"AVAX\";\r\n        this.NativeDecimal = 18;\r\n        this.RpcUrl = 'https://api.avax-test.network/ext/bc/C/rpc';\r\n        this.BlockExplorer = 'https://explorer.avax-test.network/';\r\n        this.FaucetUrl = 'https://faucet.avax-test.network/';\r\n        this.BuyUrl = 'https://www.moonpay.com/buy/avax';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/networks/NetworkInfo.ts\n\r\n\r\n\r\n\r\nconst networkInfos = [localhostNetwork, mumbaiNetwork, fujiNetwork];\r\nclass NetworkInfo {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    static getInstance() {\r\n        if (NetworkInfo.instance)\r\n            return NetworkInfo.instance;\r\n        if (ethereum && ethereum.chainId) {\r\n            let networkInfo = this.getNetworkInfoByChainId(ethereum.chainId);\r\n            if (networkInfo) {\r\n                NetworkInfo.instance = networkInfo;\r\n                return NetworkInfo.instance;\r\n            }\r\n        }\r\n        NetworkInfo.instance = this.getNetworkInfo();\r\n        return NetworkInfo.instance;\r\n    }\r\n    static loadNetwork(networkName) {\r\n        NetworkInfo.instance = this.getNetworkInfo(networkName);\r\n    }\r\n    static setNetworkByChainId(chainId) {\r\n        let network = this.getNetworkInfoByChainId(chainId);\r\n        if (network) {\r\n            NetworkInfo.instance = network;\r\n        }\r\n    }\r\n    static getNetworks() {\r\n        let networks = new Array();\r\n        let isLocalhost = window.location.host.indexOf('localhost') != -1;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (!isLocalhost && tmp.Name == \"localhost\")\r\n                return;\r\n            networks.push(tmp);\r\n        });\r\n        return networks;\r\n    }\r\n    static getNetworkInfoByChainId(chainId) {\r\n        let networkInfo;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (tmp.ChainId == chainId) {\r\n                networkInfo = tmp;\r\n            }\r\n        });\r\n        return networkInfo;\r\n    }\r\n    static getNetworkInfo(networkName) {\r\n        let cookieHelper = new CookieHelper(document);\r\n        //if (window.location.host.indexOf('localhost')) networkName = 'localhost'\r\n        if (!networkName)\r\n            networkName = cookieHelper.getCookieValue('network');\r\n        if (!networkName)\r\n            networkName = 'mumbai';\r\n        let networkInfo = null;\r\n        networkInfos.forEach(networkInfoType => {\r\n            let tmp = new networkInfoType();\r\n            if (tmp.Name == networkName) {\r\n                networkInfo = tmp;\r\n            }\r\n        });\r\n        if (networkInfo)\r\n            return networkInfo;\r\n        cookieHelper.setCookieNetwork('mumbai');\r\n        console.error(\"Network '\" + networkName + \"' could not be found. Defaulting to Mumbai network.\");\r\n        return new mumbaiNetwork();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/ConnectionService.ts\nvar ConnectionService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass ConnectionService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n        this.options = { serverUrl: '', appId: '' };\r\n    }\r\n    getOptions() {\r\n        return this.options;\r\n    }\r\n    start() {\r\n        return ConnectionService_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            this.options = { serverUrl: networkInfo.ServerUrl, appId: networkInfo.AppId };\r\n            yield this.moralis.start(this.options).catch(function (err) {\r\n                if (err.message.indexOf('Invalid session token') != -1) {\r\n                    Moralis.User.logOut();\r\n                }\r\n                ;\r\n            });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/MarketService.ts\nvar MarketService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass MarketService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n    }\r\n    isMarketOpen() {\r\n        return MarketService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('isOpen');\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/GeneralError.ts\nclass GeneralError extends Error {\r\n    constructor(e) {\r\n        super();\r\n        this.code = 0;\r\n        this.stack = \"\";\r\n        if (!e.message) {\r\n            this.message = e.toString();\r\n        }\r\n        else if (e.message.data) {\r\n            this.code = e.message.data.code;\r\n            this.message = e.message.data.message;\r\n            this.error = e;\r\n            this.headers = e.message.headers;\r\n            this.stack = e.stack;\r\n        }\r\n        else if (typeof (e.data) == 'object') {\r\n            this.code = e.data.code;\r\n            this.message = e.data.message;\r\n            this.stack = e.stack;\r\n        }\r\n        else if (e.message) {\r\n            this.message = e.message;\r\n        }\r\n        else {\r\n            this.message = e.toString();\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/WrongNetwork.html\n// Module\nvar code = \"<div id=\\\"switchNetworkInfo\\\">\\r\\n    You are using wrong network in your wallet.\\r\\n    You can choose any of these networks.\\r\\n    <ul>\\r\\n        {{#each networks}}\\r\\n        <li><a href=\\\"\\\" class=\\\"setNetwork\\\"\\r\\n               data-chainid=\\\"{{ChainId}}\\\">{{ChainName}}</a></li>\\r\\n        {{/each}}\\r\\n    </ul>\\r\\n</div>\\r\\n<div id=\\\"jsSwitchNetworkNotWorking\\\" class=\\\"d-none\\\">\\r\\n    It seem as we can't add the network automatically for your, so you need to add it your self.\\r\\n    This is the information you need to add the network. You will need to figure out where to\\r\\n    add new network for your wallet, as it difference between wallets.\\r\\n    <form>\\r\\n        <label>ChainId:\\r\\n            <input id=\\\"switchChainId\\\"/>\\r\\n        </label>\\r\\n        <label>Chain name\\r\\n            <input id=\\\"switchChainName\\\"/>\\r\\n        </label>\\r\\n        <label>Currency name\\r\\n            <input id=\\\"switchCurrencyName\\\"/>\\r\\n        </label>\\r\\n        <label>\\r\\n            Symbol\\r\\n            <input id=\\\"switchSymbol\\\"/>\\r\\n        </label>\\r\\n        <label>Decimal\\r\\n            <input id=\\\"switchDecimal\\\"/>\\r\\n        </label>\\r\\n        <label>Rpc Url\\r\\n            <input id=\\\"switchRpcUrl\\\"/>\\r\\n        </label>\\r\\n    </form>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const WrongNetwork = (code);\n;// CONCATENATED MODULE: ./src/html/modal/Modal.html\n// Module\nvar Modal_code = \"<dialog id=\\\"liminal_market_modal_div\\\" data-title=\\\"{{{title}}}\\\">\\r\\n    <article>\\r\\n        <header>\\r\\n            <span>{{title}}</span>\\r\\n            <a href=\\\"#close\\\" aria-label=\\\"Close\\\" class=\\\"close\\\" id=\\\"liminal_market_modal_close\\\"></a>\\r\\n        </header>\\r\\n        {{{content}}}\\r\\n    </article>\\r\\n\\r\\n</dialog>\";\n// Exports\n/* harmony default export */ const modal_Modal = (Modal_code);\n;// CONCATENATED MODULE: ./src/ui/modals/Modal.ts\n\r\nclass Modal {\r\n    constructor() {\r\n        this.modalId = 'liminal_market_modal_div';\r\n    }\r\n    hideModal() {\r\n        let modalDiv = document.getElementById(this.modalId);\r\n        modalDiv.removeAttribute('open');\r\n        if (this.onHide) {\r\n            this.onHide();\r\n        }\r\n    }\r\n    showModal(title, content, reuseModalIfSameTitle = false, onHide, hideOnOutsideClick = true) {\r\n        var _a;\r\n        let modalDiv = document.getElementById(this.modalId);\r\n        if (modalDiv) {\r\n            let modalTitle = modalDiv.dataset.title;\r\n            if (reuseModalIfSameTitle && modalTitle && modalTitle === title) {\r\n                modalDiv.setAttribute('open', '');\r\n                return false;\r\n            }\r\n        }\r\n        let template = Handlebars.compile(modal_Modal);\r\n        let obj = {\r\n            title: title, content: content\r\n        };\r\n        let html = template(obj);\r\n        if (modalDiv) {\r\n            document.body.removeChild(modalDiv);\r\n        }\r\n        document.body.insertAdjacentHTML('beforeend', html);\r\n        modalDiv = document.getElementById(this.modalId);\r\n        modalDiv.setAttribute('open', '');\r\n        if (hideOnOutsideClick) {\r\n            modalDiv.addEventListener('mousedown', (evt) => {\r\n                if (evt.target && evt.target.id === 'liminal_market_modal_div') {\r\n                    this.hideModal();\r\n                }\r\n            });\r\n        }\r\n        let liminal_market_modal_close = document.getElementById('liminal_market_modal_close');\r\n        if (liminal_market_modal_close)\r\n            liminal_market_modal_close.style.display = 'block';\r\n        (_a = document.getElementById('liminal_market_modal_close')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            this.hideModal();\r\n        });\r\n        this.onHide = onHide;\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/Security.ts\nclass Security {\r\n    constructor() {\r\n        this.Class = \"\";\r\n        this.Exchange = \"\";\r\n        this.Symbol = \"\";\r\n        this.Name = \"\";\r\n        this.Status = \"\";\r\n        this.Tradable = false;\r\n        this.Fractionable = false;\r\n        this.Logo = \"\";\r\n        this.Favorite = 0;\r\n        this.LogoPath = \"/img/logos/\";\r\n        this.LogoPath = \"/img/logos/\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/broker/SecuritiesService.ts\nvar SecuritiesService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass SecuritiesService {\r\n    constructor() {\r\n        this.securities = new Map();\r\n        this.symbols = [\"MSFT\", \"AAPL\", \"AMZN\", \"TSLA\", \"GOOGL\", \"GOOG\", \"GME\", \"META\", \"NVDA\", \"BRK.B\", \"JPM\", \"HD\", \"JNJ\", \"UNH\", \"PG\", \"BAC\", \"V\", \"ADBE\", \"NFLX\", \"CRM\", \"PFE\", \"DIS\", \"MA\", \"XOM\", \"TMO\", \"COST\"];\r\n        this.securities = new Map();\r\n        this.page = 1;\r\n    }\r\n    static getInstance() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (!SecuritiesService.instance) {\r\n                SecuritiesService.instance = new SecuritiesService();\r\n                SecuritiesService.instance.securities = yield SecuritiesService.instance.getSecurities();\r\n            }\r\n            return SecuritiesService.instance;\r\n        });\r\n    }\r\n    getSecurities() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (this.securities.size != 0)\r\n                return this.securities;\r\n            const response = yield fetch('/securities/securities.json');\r\n            const results = yield response.json();\r\n            for (let i = 0; i < results.length; i++) {\r\n                this.securities.set(results[i].Symbol, Object.assign(new Security, results[i]));\r\n            }\r\n            this.securitiesArray = Array.from(this.securities);\r\n            return this.securities;\r\n        });\r\n    }\r\n    getSecurityBySymbol(symbol) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield this.getSecurities();\r\n            let security = securities.get(symbol);\r\n            return (security) ? security : new Security();\r\n        });\r\n    }\r\n    getTopSecurities() {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield this.getSecurities();\r\n            let topSecurities = new Array();\r\n            for (const symbol of this.symbols) {\r\n                let security = securities.get(symbol);\r\n                if (security) {\r\n                    topSecurities.push(security);\r\n                }\r\n            }\r\n            return topSecurities;\r\n        });\r\n    }\r\n    getPaginatingSecurities(page) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            if (page == 0)\r\n                return this.getTopSecurities();\r\n            let securitiesOnPage = new Array();\r\n            let i = page * this.symbols.length;\r\n            let pageCount = i + 10;\r\n            for (; i < pageCount && i < this.securitiesArray.length; i++) {\r\n                securitiesOnPage.push(this.securitiesArray[i][1]);\r\n            }\r\n            return securitiesOnPage;\r\n        });\r\n    }\r\n    find(search) {\r\n        return SecuritiesService_awaiter(this, void 0, void 0, function* () {\r\n            let results = new Array();\r\n            search = search.toLocaleLowerCase();\r\n            this.securities.forEach(function (security) {\r\n                if (security.Symbol.toLowerCase().indexOf(search) != -1 ||\r\n                    security.Name.toLowerCase().indexOf(search) != -1) {\r\n                    results.push(security);\r\n                }\r\n            });\r\n            return results;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/LoadingHelper.ts\nclass LoadingHelper {\r\n    static setLoading(element) {\r\n        if (LoadingHelper.lastElement) {\r\n            LoadingHelper.lastElement.removeAttribute('aria-busy');\r\n        }\r\n        if (!element)\r\n            return;\r\n        element.setAttribute('aria-busy', 'true');\r\n        LoadingHelper.lastElement = element;\r\n    }\r\n    static removeLoading() {\r\n        if (this.lastElement) {\r\n            this.lastElement.removeAttribute('aria-busy');\r\n        }\r\n    }\r\n}\r\nLoadingHelper.lastElement = undefined;\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/InfoBarType.ts\nvar InfoBarType;\r\n(function (InfoBarType) {\r\n    InfoBarType[\"Info\"] = \"infoBar\";\r\n    InfoBarType[\"Warning\"] = \"warningBar\";\r\n    InfoBarType[\"Error\"] = \"errorBar\";\r\n})(InfoBarType || (InfoBarType = {}));\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/InfoBar.ts\n\r\nclass InfoBar {\r\n    static show(message, type, timeoutInSeconds = 4) {\r\n        let infoBar = document.getElementById('infoBar');\r\n        if (!infoBar) {\r\n            infoBar = document.createElement('div');\r\n            infoBar.classList.add('notificationBar');\r\n            document.body.insertAdjacentElement('beforeend', infoBar);\r\n        }\r\n        ;\r\n        infoBar.innerHTML = message;\r\n        infoBar.classList.remove('d-none');\r\n        infoBar.classList.remove(InfoBarType.Info);\r\n        infoBar.classList.remove(InfoBarType.Warning);\r\n        infoBar.classList.remove(InfoBarType.Error);\r\n        infoBar.classList.add(type);\r\n        if (timeoutInSeconds > 0) {\r\n            setTimeout(() => {\r\n                infoBar === null || infoBar === void 0 ? void 0 : infoBar.classList.add('d-none');\r\n            }, timeoutInSeconds * 1000);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/WalletMissing.html\n// Module\nvar WalletMissing_code = \"\\r\\nYou need to set up a wallet in your browser before you can use liminal.market.\\r\\n<br/><br/>\\r\\nTo make it simple, we would like to suggest two options. In your browser or your phone.\\r\\n<ul>\\r\\n    <li>For the browser we recommend <a href=\\\"https://metamask.io/download/\\\"\\r\\n                                                                         target=\\\"_blank\\\">Metamask</a>.\\r\\n    </li>\\r\\n    <li>\\r\\n        For your phone, we like <a href=\\\"https://www.tokenpocket.pro/en/download/app\\\" target=\\\"_blank\\\">Token Poket</a>\\r\\n    </li>\\r\\n</ul>\\r\\n<br/>\\r\\nBut, you have <a href=\\\"https://ethereum.org/en/wallets/\\\" target=\\\"_blank\\\">many options</a> if you want to learn more.\";\n// Exports\n/* harmony default export */ const WalletMissing = (WalletMissing_code);\n;// CONCATENATED MODULE: ./src/errors/PredefinedErrorHandlers.ts\n\r\n\r\n\r\n\r\nclass PredefinedErrorHandlers {\r\n    constructor() {\r\n        this.errorMessageMapping = new Map();\r\n        this.SentLoginRequest = \"We have sent request to you wallet to login. Open your wallet to login\";\r\n        this.errorMessageMapping.set('already processing eth_requestaccounts', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('request of type \\'wallet_requestPermissions\\' already pending', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('already has been called, but is not finished yet', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('request is already in progress', this.SentLoginRequest);\r\n        this.errorMessageMapping.set('web3 instance', () => {\r\n            let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n            if (elements.length > 0) {\r\n                elements[0].dispatchEvent(new MouseEvent('click'));\r\n                return;\r\n            }\r\n        });\r\n        this.errorMessageMapping.set('user rejected the request', () => {\r\n            Moralis.User.logOut();\r\n            window.location.reload();\r\n        });\r\n        this.errorMessageMapping.set('Non ethereum enabled browser', () => {\r\n            let modal = new Modal();\r\n            let template = Handlebars.compile(WalletMissing);\r\n            modal.showModal('New to blockchain?', template(null), false, () => {\r\n                window.location.reload();\r\n            });\r\n        });\r\n    }\r\n    handle(message) {\r\n        let handled = false;\r\n        this.errorMessageMapping.forEach((value, key) => {\r\n            if (!handled && message.toLowerCase().indexOf(key.toLowerCase()) != -1) {\r\n                if (typeof value == 'string') {\r\n                    InfoBar.show(value.toString(), InfoBarType.Warning, 10);\r\n                }\r\n                else {\r\n                    value();\r\n                }\r\n                handled = true;\r\n                return handled;\r\n            }\r\n        });\r\n        return handled;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/ErrorInfo.ts\n\r\n\r\n\r\nclass ErrorInfo {\r\n    constructor(errorInfo) {\r\n        this.errorInfo = errorInfo;\r\n    }\r\n    getErrorInfo() {\r\n        return this.errorInfo;\r\n    }\r\n    static report(error) {\r\n        LoadingHelper.removeLoading();\r\n        if (!error)\r\n            return;\r\n        let errorHandler = new PredefinedErrorHandlers();\r\n        if (errorHandler.handle(error.message)) {\r\n            return;\r\n        }\r\n        if (error.callback) {\r\n            error.callback();\r\n            return;\r\n        }\r\n        if (error) {\r\n            console.error(error.toString());\r\n        }\r\n        //InfoBar.show(error.message, InfoBarType.Error);\r\n    }\r\n    static log(obj) {\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n    static info(obj) {\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n    static error(obj) {\r\n        console.log(obj);\r\n        ErrorInfo.report(new GeneralError(obj));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/WalletHelper.ts\nvar WalletHelper_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass WalletHelper {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getAUsdAsset() {\r\n        return {\r\n            Logo: '../ausd.png'\r\n        };\r\n    }\r\n    addTokenToWallet(address, symbol, fallbackTimeout) {\r\n        return WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            const asset = (symbol == 'aUSD') ? this.getAUsdAsset() : yield securitiesService.getSecurityBySymbol(symbol);\r\n            let web3 = this.moralis.web3;\r\n            if (!web3) {\r\n                web3 = (yield this.moralis.enableWeb3().catch(reason => {\r\n                    ErrorInfo.report(reason);\r\n                }));\r\n                if (!web3) {\r\n                    return;\r\n                }\r\n            }\r\n            if (!web3.provider.request)\r\n                return;\r\n            let timeout = (WalletHelper.addTokenFallbackLoaded === undefined) ? 2 * 1000 : 200;\r\n            setTimeout(() => {\r\n                if (WalletHelper.addTokenFallbackLoaded !== false) {\r\n                    WalletHelper.addTokenFallbackLoaded = true;\r\n                    if (fallbackTimeout)\r\n                        fallbackTimeout();\r\n                }\r\n            }, timeout);\r\n            const wasAdded = yield web3.provider.request({\r\n                method: 'wallet_watchAsset',\r\n                params: {\r\n                    type: 'ERC20',\r\n                    options: {\r\n                        address: address,\r\n                        symbol: symbol,\r\n                        decimals: 18,\r\n                        image: 'https://app.liminal.market/img/logos/' + asset.Logo,\r\n                    },\r\n                },\r\n            }).then((result) => {\r\n                return true;\r\n            }).catch((error) => {\r\n                LoadingHelper.removeLoading();\r\n                return false;\r\n            }).finally(() => {\r\n                WalletHelper.addTokenFallbackLoaded = false;\r\n            });\r\n            return wasAdded;\r\n        });\r\n    }\r\n    ;\r\n    isWebview(ua) {\r\n        // if it says it's a webview, let's go with that\r\n        let rules = ['WebView',\r\n            // iOS webview will be the same as safari but missing \"Safari\"\r\n            '(iPhone|iPod|iPad)(?!.*Safari)',\r\n            // Android Lollipop and Above: webview will be the same as native but it will contain \"wv\"\r\n            // Android KitKat to lollipop webview will put {version}.0.0.0\r\n            'Android.*(wv|.0.0.0)',\r\n            // old chrome android webview agent\r\n            'Linux; U; Android',\r\n            'SDK'\r\n        ];\r\n        let webviewRegExp = new RegExp('(' + rules.join('|') + ')', 'ig');\r\n        return !!ua.match(webviewRegExp);\r\n    }\r\n    switchNetwork(network) {\r\n        return WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n            let web3 = this.moralis.web3;\r\n            return yield web3.provider.request({\r\n                method: 'wallet_switchEthereumChain',\r\n                params: [{ chainId: '0x' + network.ChainId.toString(16) }]\r\n            })\r\n                .then((result) => {\r\n                console.log('switch result:', result);\r\n                return true;\r\n            })\r\n                .catch((err) => WalletHelper_awaiter(this, void 0, void 0, function* () {\r\n                // This error code indicates that the chain has not been added to MetaMask\r\n                if (err.code === 4902) {\r\n                    return yield web3.provider.request({\r\n                        method: 'wallet_addEthereumChain',\r\n                        params: [\r\n                            {\r\n                                chainName: network.ChainName,\r\n                                chainId: '0x' + network.ChainId.toString(16),\r\n                                nativeCurrency: {\r\n                                    name: network.NativeCurrencyName,\r\n                                    decimals: network.NativeDecimal,\r\n                                    symbol: network.NativeSymbol\r\n                                },\r\n                                rpcUrls: [network.RpcUrl]\r\n                            }\r\n                        ]\r\n                    })\r\n                        .then((result) => {\r\n                        console.log('addChain result:' + result);\r\n                        return true;\r\n                    }).catch((error) => {\r\n                        console.log('error on addNetwork:', error);\r\n                        throw new GeneralError(error);\r\n                    });\r\n                }\r\n                else {\r\n                    throw new GeneralError(err);\r\n                }\r\n            }));\r\n        });\r\n    }\r\n}\r\nWalletHelper.addTokenFallbackLoaded = undefined;\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/SwitchNetworkModal.ts\nvar SwitchNetworkModal_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass SwitchNetworkModal {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    show() {\r\n        let template = Handlebars.compile(WrongNetwork);\r\n        let networks = NetworkInfo.getNetworks();\r\n        let content = template({ networks: networks });\r\n        let modal = new Modal();\r\n        modal.showModal('Switch network', content, false, () => SwitchNetworkModal_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.selectedNetwork)\r\n                return;\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            yield walletHelper.switchNetwork(this.selectedNetwork);\r\n        }));\r\n        let setNetworkLinks = document.querySelectorAll('.setNetwork');\r\n        setNetworkLinks.forEach(setNetworkLink => {\r\n            setNetworkLink.addEventListener('click', (evt) => SwitchNetworkModal_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                let dataset = evt.target.dataset;\r\n                this.selectedNetwork = NetworkInfo.getNetworkInfoByChainId(parseInt(dataset.chainid));\r\n                if (!this.selectedNetwork)\r\n                    throw new GeneralError('Could not find chainId:' + dataset.chainid);\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                let successAddingNetwork = yield walletHelper.switchNetwork(this.selectedNetwork)\r\n                    .catch((error) => {\r\n                    let jsSwitchNetworkNotWorking = document.getElementById('jsSwitchNetworkNotWorking');\r\n                    if (!jsSwitchNetworkNotWorking)\r\n                        throw error;\r\n                    jsSwitchNetworkNotWorking.classList.remove('d-none');\r\n                    let switchNetworkInfo = document.getElementById('switchNetworkInfo');\r\n                    switchNetworkInfo.classList.add('d-none');\r\n                    document.getElementById('switchChainId').value = dataset.chainid + ' or it might be: ' + '0x' + parseInt(dataset.chainid).toString(16);\r\n                    document.getElementById('switchChainName').value = dataset.chainname;\r\n                    document.getElementById('switchCurrencyName').value = dataset.currencyname;\r\n                    document.getElementById('switchSymbol').value = dataset.symbol;\r\n                    document.getElementById('switchDecimal').value = dataset.decimal;\r\n                    document.getElementById('switchRpcUrl').value = dataset.rpcurl;\r\n                });\r\n                if (successAddingNetwork) {\r\n                    modal.hideModal();\r\n                    let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n                    if (elements.length > 0) {\r\n                        elements[0].dispatchEvent(new MouseEvent('click'));\r\n                        return;\r\n                    }\r\n                }\r\n            }));\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/AuthenticateService.ts\nvar AuthenticateService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass AuthenticateService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    authenticateUser(provider, enableWeb3Callback, authenticatedCallback) {\r\n        return AuthenticateService_awaiter(this, void 0, void 0, function* () {\r\n            let moralis = this.moralis;\r\n            let chainId = NetworkInfo.getInstance().ChainId;\r\n            let web3Result = yield moralis.enableWeb3({\r\n                provider: provider,\r\n                chainId: chainId, appLogo: 'https://app.liminal.market/img/logos/default_logo.png'\r\n            })\r\n                .catch((reason) => AuthenticateService_awaiter(this, void 0, void 0, function* () {\r\n                throw new GeneralError(reason);\r\n            }));\r\n            if (enableWeb3Callback) {\r\n                enableWeb3Callback(web3Result);\r\n            }\r\n            let user = this.moralis.User.current();\r\n            if (user) {\r\n                if (authenticatedCallback)\r\n                    authenticatedCallback(user);\r\n                return;\r\n            }\r\n            if (web3Result.network.chainId != chainId) {\r\n                let userNetwork = NetworkInfo.getNetworkInfoByChainId(web3Result.network.chainId);\r\n                if (userNetwork) {\r\n                    NetworkInfo.setNetworkByChainId(web3Result.network.chainId);\r\n                }\r\n                else {\r\n                    let modal = new SwitchNetworkModal(this.moralis);\r\n                    modal.show();\r\n                    return;\r\n                }\r\n            }\r\n            let result = yield moralis.authenticate({\r\n                signingMessage: \"You are logging into Liminal.market.\\n\\n\",\r\n                provider: provider,\r\n                chainId: chainId\r\n            }).catch((reason) => {\r\n                console.log(reason);\r\n                throw new GeneralError(reason);\r\n            });\r\n            if (authenticatedCallback) {\r\n                authenticatedCallback(result);\r\n            }\r\n            else {\r\n                location.reload();\r\n            }\r\n        });\r\n    }\r\n    getUser() {\r\n        return this.moralis.User.current();\r\n    }\r\n    getEthAddress() {\r\n        let user = this.getUser();\r\n        if (!user)\r\n            return '';\r\n        let ethAddress = user.get('ethAddress');\r\n        return ethAddress;\r\n    }\r\n    isWalletConnected() {\r\n        return this.moralis.isWeb3Enabled();\r\n    }\r\n    isUserLoggedIn() {\r\n        return (this.moralis.User.current() !== null);\r\n    }\r\n    getChainId() {\r\n        if (!this.moralis.chainId)\r\n            return 0;\r\n        return parseInt(this.moralis.chainId, 16);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/enums/WalletType.ts\nvar WalletType;\r\n(function (WalletType) {\r\n    WalletType[\"Metamask\"] = \"metamask\";\r\n    WalletType[\"WalletConnect\"] = \"walletConnect\";\r\n    WalletType[\"CoinbaseWallet\"] = \"coinbase\";\r\n    WalletType[\"Unknown\"] = \"unknown\";\r\n})(WalletType || (WalletType = {}));\r\n\n;// CONCATENATED MODULE: ./src/wallet/ProviderInfo.ts\n\r\nclass ProviderInfo {\r\n    constructor(walletConnectionInfo) {\r\n        this.ProviderName = 'unknown';\r\n        this.WalletName = '';\r\n        this.WalletUrl = '';\r\n        this.WalletType = WalletType.Unknown;\r\n        this.ChainId = 0;\r\n        this.UserAddress = '';\r\n        if (!walletConnectionInfo || !walletConnectionInfo.provider)\r\n            return;\r\n        this.walletConnectionInfo = walletConnectionInfo;\r\n        if (this.walletConnectionInfo.connection && this.walletConnectionInfo.connection.url == 'metamask') {\r\n            this.loadMetamask(walletConnectionInfo);\r\n        }\r\n        else if (this.walletConnectionInfo.provider.wc) {\r\n            this.loadWalletConnect(walletConnectionInfo);\r\n        }\r\n        else {\r\n            console.error('Dont have provider for this', walletConnectionInfo);\r\n        }\r\n        ProviderInfo.Instance = this;\r\n    }\r\n    loadMetamask(walletConnectionInfo) {\r\n        this.ProviderName = 'metamask';\r\n        this.WalletName = \"Metamask\";\r\n        this.WalletUrl = 'https://metamask.io/';\r\n        this.WalletType = WalletType.Metamask;\r\n        this.ChainId = walletConnectionInfo.provider.chainId;\r\n        this.UserAddress = walletConnectionInfo.provider.selectedAddress;\r\n    }\r\n    loadWalletConnect(walletConnectionInfo) {\r\n        var _a;\r\n        let wc = walletConnectionInfo.provider.wc;\r\n        this.ProviderName = \"walletConnect\";\r\n        this.WalletName = wc._peerMeta.name;\r\n        this.WalletUrl = (_a = wc._peerMeta.url) !== null && _a !== void 0 ? _a : '';\r\n        this.WalletType = WalletType.WalletConnect;\r\n        this.ChainId = walletConnectionInfo.provider.chainId;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/UserService.ts\nvar UserService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass UserService {\r\n    constructor(moralis) {\r\n        if (!moralis)\r\n            moralis = Moralis;\r\n        this.moralis = moralis;\r\n    }\r\n    logIn() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.moralis.enableWeb3();\r\n                let user = this.moralis.User.current();\r\n                if (user)\r\n                    return Promise.resolve(user);\r\n                return this.moralis.authenticate();\r\n            }\r\n            catch (e) {\r\n                console.log(e);\r\n            }\r\n        });\r\n    }\r\n    logOut() {\r\n        return this.moralis.User.logOut();\r\n    }\r\n    isLoggedIn(loadingMessage) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (user) {\r\n                let cookieHelper = new CookieHelper(document);\r\n                let providerName = cookieHelper.getCookieValue('provider');\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                if (walletHelper.isWebview(window.navigator.userAgent))\r\n                    providerName = ' ';\r\n                if (!providerName) {\r\n                    return undefined;\r\n                }\r\n                if (!this.moralis.isWeb3Enabled()) {\r\n                    let str = 'We are sending login request to your wallet. If you cancel we will simply log you out. You can always log again in.';\r\n                    str += '<button id=\"logoutButton\">Logout</button>';\r\n                    loadingMessage.innerHTML = str;\r\n                    let logoutButton = document.getElementById('logoutButton');\r\n                    if (logoutButton) {\r\n                        logoutButton.addEventListener('click', () => {\r\n                            this.moralis.User.logOut();\r\n                        });\r\n                    }\r\n                    let result = yield this.moralis.enableWeb3({ provider: providerName })\r\n                        .catch((reason) => UserService_awaiter(this, void 0, void 0, function* () {\r\n                        ErrorInfo.report(reason);\r\n                    }));\r\n                    if (!result)\r\n                        return;\r\n                }\r\n                let providerInfo = new ProviderInfo(null);\r\n                let authenticationService = new AuthenticateService(this.moralis);\r\n                yield authenticationService.authenticateUser(providerName, (walletConnectionInfo) => {\r\n                    providerInfo = new ProviderInfo(walletConnectionInfo);\r\n                });\r\n                user.providerInfo = providerInfo;\r\n                return user;\r\n            }\r\n            return undefined;\r\n        });\r\n    }\r\n    isMarketOpenOrUserOffHours() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let marketService = new MarketService(this.moralis);\r\n            let isOpen = yield marketService.isMarketOpen();\r\n            if (isOpen)\r\n                return true;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            if (!networkInfo.TestNetwork)\r\n                return false;\r\n            return false;\r\n        });\r\n    }\r\n    getUser() {\r\n        return this.moralis.User.current();\r\n    }\r\n    getAlpacaId() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.getUser();\r\n            if (!user)\r\n                return '';\r\n            return (yield user.fetch()).get('alpacaId').toString();\r\n        });\r\n    }\r\n    getAccount() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.getUser();\r\n            if (!user)\r\n                return;\r\n            return yield this.moralis.Cloud.run('account');\r\n        });\r\n    }\r\n    getEthAddress() {\r\n        var _a;\r\n        return (_a = this.getUser()) === null || _a === void 0 ? void 0 : _a.get('ethAddress');\r\n    }\r\n    kycActionRequired() {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            let kycResults = yield this.moralis.Cloud.run('kycActionRequired');\r\n            return kycResults;\r\n        });\r\n    }\r\n    updateName(given_name, middle_name, family_name) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateName', {\r\n                given_name: given_name,\r\n                middle_name: middle_name,\r\n                family_name: family_name\r\n            });\r\n        });\r\n    }\r\n    updateContact(data) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateContact', data);\r\n        });\r\n    }\r\n    updateTrustedContact(data) {\r\n        return UserService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('updateTrustedContact', data);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/localhost-contract-addresses.ts\nclass localhostContractAddresses {\r\n    constructor() {\r\n        this.NetworkName = \"localhost\";\r\n        this.KYC_ADDRESS = \"0x2856a0C8034bF887928845D05179847e0ADC2209\";\r\n        this.AUSD_ADDRESS = \"0x6aCE712D412e99727aDf2272BE24f8e45aF76270\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xbd1270f3f8175927Fe427a220b9253b360Be52Bd\";\r\n        this.MARKET_CALENDAR_ADDRESS = \"0x459239D96976440d68fd78e1401983376840d563\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/ContractAddresses.ts\nclass ContractAddresses {\r\n    constructor() {\r\n        this.KYC_ADDRESS = \"0xEBC688DaF0924D1A3b95B869717b987087A52156\";\r\n        this.AUSD_ADDRESS = \"0x8E32f274476CE23D64ae0037CE80CE8b8D670658\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xe8C8C9Ff944c04318f43FE1479A1d51EBAf2EBD8\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/rinkeby-contract-addresses.ts\n\r\nclass rinkebyContractAddresses extends ContractAddresses {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.KYC_ADDRESS = \"0x1d8AeaC4cEaBe985e1AD73B8F09ae57284834Fd7\";\r\n        this.AUSD_ADDRESS = \"0x4925f35Db2b3fB7FF2A5F0525Da29CB4F5F12cAc\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0xFBaAb9F394F1aA80182dD6FFb5187E48cAFB9922\";\r\n        this.USDC_ADDRESS = \"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/mumbai-contract-addresses.ts\n\r\nclass mumbaiContractAddresses extends ContractAddresses {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.KYC_ADDRESS = \"0x23c2d25Ba4E8dD2d465348A7039c8D5aaaa72c5B\";\r\n        this.AUSD_ADDRESS = \"0xe65Fb29C8CeB720755D456233c971DDb11fcbb8d\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0x2BFb0207BC88BA9e2Ac74F19c9e88EdCcdBbC2a9\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/fuji-contract-addresses.ts\nclass fujiContractAddresses {\r\n    constructor() {\r\n        this.NetworkName = \"fuji\";\r\n        this.KYC_ADDRESS = \"0x0594D04FDB5C98Fb7F777a799139424Ae2414AaD\";\r\n        this.AUSD_ADDRESS = \"0xbAc482aE0b0d652854df377be566445984A021ED\";\r\n        this.LIMINAL_MARKET_ADDRESS = \"0x098A512B017408008a23ECe22843788799CDebFd\";\r\n        this.MARKET_CALENDAR_ADDRESS = \"0x77E6A62Be8398B18d2dA81CDB6Eb097bD8132ccB\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/contracts/ContractInfo.ts\n/*\r\nexport const KYC_ADDRESS = \"0xD5f071F2D8BF6E7d6BC25A1D89e9b1430AC78A58\";\r\nexport const LIMINAL_ADDRESS = \"0x3D7CD28EfD08FfE9Ce8cA329EC2e67822C756526\";\r\nexport const AUSD_ADDRESS = \"0x6854DC0e58Ef1029aA42Ba61ca1160527bBeC01E\";\r\nexport const SECURITY_FACTORY_ADDRESS = \"0x0c8Cd13ff68D41263E6937224B9e5c7fF54d72f9\";\r\nexport const SECURITY_TOKEN_OWNER = \"0x0c8Cd13ff68D41263E6937224B9e5c7fF54d72f9\";\r\nexport const USDC_ADDRESS = \"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b\";\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nclass ContractInfo {\r\n    static getContractInfo(networkName) {\r\n        let contractInfos = {\r\n            localhostContractAddresses: localhostContractAddresses, rinkebyContractAddresses: rinkebyContractAddresses,\r\n            mumbaiContractAddresses: mumbaiContractAddresses, fujiContractAddresses: fujiContractAddresses\r\n        };\r\n        if (!networkName) {\r\n            networkName = NetworkInfo.getInstance().Name;\r\n        }\r\n        const contractInfoType = contractInfos[networkName + 'ContractAddresses'];\r\n        return new contractInfoType();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/MarketIsClosed.html\n// Module\nvar MarketIsClosed_code = \"<div class=\\\"center\\\">\\r\\n    The stock market is currently closed.<br/>\\r\\nIt is usually open monday to friday between 9:30 AM and 4:00 PM EST (9:30 - 16:00 EST).\\r\\n    <br/><br/>\\r\\nToday is {{dayOfWeek}}\\r\\n<br /><br/>\\r\\nYour current time is {{currentTime}} ({{GMT}})\\r\\n    <br/><br/>\\r\\nThat means the market is open your time between\\r\\n{{openFrom}} - {{openTo}}\\r\\n</div>\";\n// Exports\n/* harmony default export */ const MarketIsClosed = (MarketIsClosed_code);\n;// CONCATENATED MODULE: ./src/util/DateHelper.ts\nclass DateHelper {\r\n    static isOlderThen(date, minutes) {\r\n        let currentTime = new Date().getTime();\r\n        return (currentTime > (date.getTime() + minutes * 60 * 1000));\r\n    }\r\n    ;\r\n    static getWeekday() {\r\n        const weekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        const d = new Date();\r\n        return weekday[d.getDay()];\r\n    }\r\n    static getOpenAndCloseHours() {\r\n        const d = new Date();\r\n        let openHour = 9 + 4 + (-1 * (d.getTimezoneOffset() / 60));\r\n        let closeHour = 16 + 4 + (-1 * (d.getTimezoneOffset() / 60));\r\n        return [openHour + ':30', closeHour + ':00'];\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/BlockchainError.ts\n\r\n\r\n\r\n\r\nclass BlockchainError extends GeneralError {\r\n    constructor(e) {\r\n        super(e);\r\n        this.message = e.toString();\r\n        if (this.userDeniedTransactionSignature()) {\r\n            this.code = BlockchainError.UserCancelled;\r\n        }\r\n        else if (this.addressIsNotValidKYC()) {\r\n            this.code = BlockchainError.AddressIsNotValidKYC;\r\n        }\r\n        else if (this.isMarketClosed()) {\r\n            this.code = BlockchainError.MarketIsClosed;\r\n            this.callback = this.marketIsClosedModal;\r\n        }\r\n        if (e.data && e.data.message) {\r\n            let msg = e.data.message;\r\n            let searchStr = 'reverted with reason string';\r\n            let idx = msg.indexOf(searchStr) + searchStr.length;\r\n            if (idx != -1) {\r\n                this.message = msg.substring(idx).trim().replace(/'/g, '');\r\n                this.code = BlockchainError.ErrorFromContract;\r\n            }\r\n        }\r\n    }\r\n    userDeniedTransactionSignature() {\r\n        return this.message.indexOf('denied transaction signature') !== -1;\r\n    }\r\n    addressIsNotValidKYC() {\r\n        return this.message.indexOf('address is not kyc valid') !== -1;\r\n    }\r\n    isMarketClosed() {\r\n        let searchStr = 'Market is closed';\r\n        return this.message.indexOf(searchStr) !== -1;\r\n    }\r\n    marketIsClosedModal() {\r\n        let [openHour, closeHour] = DateHelper.getOpenAndCloseHours();\r\n        let time = new Date().toTimeString().split(' ');\r\n        let obj = {\r\n            currentTime: time[0],\r\n            GMT: time[1],\r\n            dayOfWeek: DateHelper.getWeekday(),\r\n            openFrom: openHour,\r\n            openTo: closeHour\r\n        };\r\n        let modal = new Modal();\r\n        let template = Handlebars.compile(MarketIsClosed);\r\n        modal.showModal('Market is closed', template(obj));\r\n    }\r\n}\r\nBlockchainError.ErrorFromContract = -1;\r\nBlockchainError.UserCancelled = 1;\r\nBlockchainError.AddressIsNotValidKYC = 2;\r\nBlockchainError.MarketIsClosed = 3;\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/LiminalMarketService.ts\nvar LiminalMarketService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass LiminalMarketService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getSymbolContractAddress(symbol) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            const options = yield this.getOptions(\"getSecurityToken\", {\r\n                symbol: symbol\r\n            });\r\n            let result = yield this.moralis.executeFunction(options)\r\n                .then((value) => {\r\n                return value.toString();\r\n            }).catch((reason) => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, params) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let abi = yield this.getLiminalMarketAbi();\r\n            const options = {\r\n                contractAddress: contractInfo.LIMINAL_MARKET_ADDRESS,\r\n                functionName: functionName,\r\n                abi: abi,\r\n                params: params,\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n    getLiminalMarketAbi() {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            if (LiminalMarketService.LiminalMarketInfo)\r\n                return LiminalMarketService.LiminalMarketInfo.abi;\r\n            let response = yield fetch('../abi/LiminalMarket.json');\r\n            LiminalMarketService.LiminalMarketInfo = yield response.json();\r\n            return LiminalMarketService.LiminalMarketInfo.abi;\r\n        });\r\n    }\r\n    createToken(symbol, creatingToken) {\r\n        return LiminalMarketService_awaiter(this, void 0, void 0, function* () {\r\n            let salt = (new Date().getTime() + (Math.random() * 100000)).toString();\r\n            salt = salt.substring(0, salt.indexOf('.'));\r\n            const liminalOptions = yield this.getOptions(\"createToken\", {\r\n                symbol: symbol,\r\n                salt: salt\r\n            });\r\n            let result = yield this.moralis.executeFunction(liminalOptions)\r\n                .then(result => {\r\n                return result;\r\n            }).catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                if (blockchainError.userDeniedTransactionSignature()) {\r\n                    return blockchainError;\r\n                }\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            if (result instanceof BlockchainError)\r\n                return result;\r\n            creatingToken();\r\n            yield result.wait();\r\n            return yield this.getSymbolContractAddress(symbol);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/SecuritiesList.html\n// Module\nvar SecuritiesList_code = \"<figure>\\r\\n    <table id=\\\"liminal_market_securities_table\\\" role=\\\"grid\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th colspan=\\\"2\\\"><input autocomplete=\\\"off\\\" type=\\\"search\\\" id=\\\"search_for_symbol\\\" placeholder=\\\"Search for name or symbol in {{securitiesCount}} stocks\\\"></th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody id=\\\"{{tbodyId}}\\\">\\r\\n    {{>securities}}\\r\\n    </tbody>\\r\\n</table>\\r\\n<span id=\\\"liminal_market_load_more\\\"></span>\\r\\n</figure>\";\n// Exports\n/* harmony default export */ const elements_SecuritiesList = (SecuritiesList_code);\n;// CONCATENATED MODULE: ./src/html/elements/Securities.html\n// Module\nvar Securities_code = \"{{#each securities}}\\r\\n<tr data-symbol=\\\"{{{Symbol}}}\\\" data-logo=\\\"{{LogoPath}}{{Logo}}\\\" data-name=\\\"{{Name}}\\\">\\r\\n    <td class=\\\"symbol_logo\\\"><img src=\\\"{{LogoPath}}{{Logo}}\\\"/></td>\\r\\n    <td class=\\\"security_information\\\">\\r\\n        <strong>{{Name}}</strong><br/>\\r\\n        <nav class=\\\"security_extra\\\">\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"https://strike.market/stocks/{{Symbol}}\\\" target=\\\"_blank\\\">{{Symbol}}</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"\\\" class=\\\"getAddress\\\" data-symbol=\\\"{{Symbol}}\\\">Get address</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n            <ul>\\r\\n                <li>\\r\\n                    <a href=\\\"\\\" class=\\\"addToWallet\\\" data-symbol=\\\"{{Symbol}}\\\">Add to wallet</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </nav>\\r\\n    </td>\\r\\n</tr>\\r\\n{{/each}}\";\n// Exports\n/* harmony default export */ const Securities = (Securities_code);\n;// CONCATENATED MODULE: ./src/util/CopyHelper.ts\nvar CopyHelper_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass CopyHelper {\r\n    fallbackCopyTextToClipboard(text) {\r\n        let textArea = document.createElement(\"textarea\");\r\n        textArea.value = text;\r\n        // Avoid scrolling to bottom\r\n        textArea.style.top = \"0\";\r\n        textArea.style.left = \"0\";\r\n        textArea.style.position = \"fixed\";\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n        try {\r\n            let successful = document.execCommand('copy');\r\n            return successful;\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n            return false;\r\n        }\r\n        finally {\r\n            document.body.removeChild(textArea);\r\n        }\r\n    }\r\n    copyTextToClipboard(text) {\r\n        return CopyHelper_awaiter(this, void 0, void 0, function* () {\r\n            if (!navigator.clipboard) {\r\n                return this.fallbackCopyTextToClipboard(text);\r\n            }\r\n            let result = yield navigator.clipboard.writeText(text).then(ble => {\r\n                console.log('ble', ble);\r\n                return true;\r\n            }).\r\n                catch(function (err) {\r\n                console.info(err);\r\n                return false;\r\n            });\r\n            console.log(result);\r\n            return result;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/AddressInfo.html\n// Module\nvar AddressInfo_code = \"<article id=\\\"symbolInfoToCopy\\\">\\r\\n    This is the address for the symbol {{symbol}}.\\r\\n    <br/>\\r\\n    <input value=\\\"{{address}}\\\"/>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const AddressInfo = (AddressInfo_code);\n;// CONCATENATED MODULE: ./src/html/elements/ContractAddressNotFound.html\n// Module\nvar ContractAddressNotFound_code = \"<tr id=\\\"symbolInfoToCopy\\\">\\r\\n    <td colspan=\\\"4\\\">\\r\\n        <article>\\r\\n        This symbol has never been bought and does not exist. Buy this symbol and address will become available.\\r\\n        </article>\\r\\n    </td>\\r\\n</tr>\";\n// Exports\n/* harmony default export */ const ContractAddressNotFound = (ContractAddressNotFound_code);\n// EXTERNAL MODULE: ./node_modules/bignumber.js/bignumber.js\nvar bignumber = __webpack_require__(\"./node_modules/bignumber.js/bignumber.js\");\nvar bignumber_default = /*#__PURE__*/__webpack_require__.n(bignumber);\n;// CONCATENATED MODULE: ./src/util/Helper.ts\n\r\nconst showContainer = function (id) {\r\n    let containers = document.querySelectorAll('.container');\r\n    for (let i = 0; i < containers.length; i++) {\r\n        let element = containers[i];\r\n        if (element.id == id) {\r\n            element.classList.remove('d-none');\r\n            element.style.display = 'block';\r\n        }\r\n        else {\r\n            element.style.display = 'none';\r\n        }\r\n    }\r\n};\r\nconst roundNumber = function (number) {\r\n    return Math.round(number * 100) / 100;\r\n};\r\nconst roundNumberDecimal = function (number, decimal) {\r\n    let hundred = parseInt('1' + '0'.repeat(decimal));\r\n    return Math.round(number * hundred) / hundred;\r\n};\r\nconst roundBigNumber = function (number) {\r\n    return new (bignumber_default())(Math.round(number.toNumber() * 100) / 100);\r\n};\r\nconst roundBigNumberDecimal = function (number, decimal) {\r\n    let hundred = parseInt('1' + '0'.repeat(decimal));\r\n    return new (bignumber_default())(Math.round(number.toNumber() * hundred) / hundred);\r\n};\r\nconst AddressZero = \"0x0000000000000000000000000000000000000000\";\r\nconst isJSON = function (str) {\r\n    try {\r\n        JSON.parse(str);\r\n        return true;\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n};\r\nconst shortEth = function (ethAddress) {\r\n    if (!ethAddress)\r\n        return '';\r\n    return ethAddress.substring(0, 6) + \"...\" + ethAddress.substring(ethAddress.length - 4);\r\n};\r\nconst upperFirstLetter = function (text) {\r\n    return text[0].toUpperCase() + text.substring(1);\r\n};\r\n\n;// CONCATENATED MODULE: ./src/html/elements/AddToWallet.html\n// Module\nvar AddToWallet_code = \"<tr id=\\\"symbolInfoToCopy\\\">\\r\\n    <td colspan=\\\"4\\\">\\r\\n        <article>\\r\\n        Some wallets detect automatically the coins that are registered to your address.\\r\\n        Those that don't do automatic detection, you need to add them manually.\\r\\n        <br /><br />\\r\\n        This is the address for the symbol {{symbol}},\\r\\n        you need to copy it and import the token in your wallet\\r\\n        <br />\\r\\n        <input value=\\\"{{address}}\\\" />\\r\\n        </article>\\r\\n    </td>\\r\\n</tr>\";\n// Exports\n/* harmony default export */ const AddToWallet = (AddToWallet_code);\n;// CONCATENATED MODULE: ./src/ui/elements/SecuritiesList.ts\nvar SecuritiesList_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SecuritiesList {\r\n    constructor() {\r\n        this.tbodyId = 'liminal_market_securities_list';\r\n        this.onSelectSymbol = undefined;\r\n        this.page = 0;\r\n        this.loadmore = true;\r\n    }\r\n    render() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let securitiesCount = securitiesService.securitiesArray.length;\r\n            let securities = yield securitiesService.getPaginatingSecurities(this.page++);\r\n            Handlebars.registerPartial(\"securities\", Securities);\r\n            let template = Handlebars.compile(elements_SecuritiesList);\r\n            let obj = {\r\n                tbodyId: this.tbodyId,\r\n                securities: securities,\r\n                securitiesCount: securitiesCount\r\n            };\r\n            return template(obj);\r\n        });\r\n    }\r\n    bindEvents(onSelectSymbol) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            this.bindOnClickEvent(onSelectSymbol);\r\n            yield this.bindSearchEvent();\r\n            this.bindLoadMore();\r\n        });\r\n    }\r\n    bindOnClickEvent(onSelectSymbol) {\r\n        let table = document.getElementById('liminal_market_securities_table');\r\n        if (!table) {\r\n            ErrorInfo.report(new GeneralError(\"Page could not load correctly, try reloading\"));\r\n            return;\r\n        }\r\n        this.onSelectSymbol = onSelectSymbol;\r\n        table.onclick = (evt) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            yield this.handleClick(evt);\r\n        });\r\n    }\r\n    handleClick(evt) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            console.log('evt on handleClick', evt);\r\n            let element = evt.target;\r\n            if (element.tagName.toLocaleLowerCase() === 'a') {\r\n                yield this.addToWalletOrGetAddress(evt, element);\r\n                return;\r\n            }\r\n            let parentTr = element.parentElement;\r\n            if (!parentTr)\r\n                return;\r\n            if (parentTr.tagName.toLocaleLowerCase() !== 'tr') {\r\n                parentTr = parentTr.parentElement;\r\n            }\r\n            let symbol = parentTr.dataset.symbol;\r\n            if (!symbol)\r\n                return;\r\n            let name = parentTr.dataset.name;\r\n            let logo = parentTr.dataset.logo;\r\n            if (this.onSelectSymbol) {\r\n                this.onSelectSymbol(symbol, name, logo);\r\n            }\r\n        });\r\n    }\r\n    bindSearchEvent() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let searchForSymbol = document.getElementById('search_for_symbol');\r\n            if (!searchForSymbol)\r\n                return;\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let timeout = null;\r\n            searchForSymbol.addEventListener('keyup', (evt) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n                if (timeout != null)\r\n                    clearTimeout(timeout);\r\n                timeout = setTimeout(() => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n                    let search = evt.target.value;\r\n                    if (!search || search.length < 2) {\r\n                        this.loadmore = true;\r\n                        yield this.showTopSecurities(securitiesService);\r\n                        return;\r\n                    }\r\n                    this.loadmore = false;\r\n                    let securities = yield securitiesService.find(search);\r\n                    this.loadSecuritiesToDom(securities);\r\n                }), 500);\r\n            }));\r\n        });\r\n    }\r\n    showTopSecurities(securitiesService) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let securities = yield securitiesService.getTopSecurities();\r\n            this.loadSecuritiesToDom(securities);\r\n        });\r\n    }\r\n    loadSecuritiesToDom(securities) {\r\n        let tbody = document.getElementById(this.tbodyId);\r\n        if (!tbody)\r\n            return;\r\n        let template = Handlebars.compile(Securities);\r\n        let obj = {\r\n            securities: securities\r\n        };\r\n        let content = template(obj);\r\n        tbody.innerHTML = content;\r\n    }\r\n    bindLoadMore() {\r\n        const el = document.querySelector('#liminal_market_load_more');\r\n        const observer = new window.IntersectionObserver(([entry]) => SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (entry.isIntersecting) {\r\n                yield this.loadMore();\r\n            }\r\n        }), {\r\n            root: null,\r\n            threshold: 0.1, // set offset 0.1 means trigger if atleast 10% of element in viewport\r\n        });\r\n        observer.observe(el);\r\n    }\r\n    loadMore() {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.loadmore)\r\n                return;\r\n            let tbody = document.getElementById(this.tbodyId);\r\n            if (!tbody)\r\n                return;\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            let securities = yield securitiesService.getPaginatingSecurities(this.page++);\r\n            let template = Handlebars.compile(Securities);\r\n            let obj = {\r\n                securities: securities\r\n            };\r\n            let content = template(obj);\r\n            tbody.insertAdjacentHTML('beforeend', content);\r\n        });\r\n    }\r\n    addToWalletOrGetAddress(event, element) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            let className = element.className;\r\n            if (className != 'getAddress' && className != 'addToWallet') {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            let symbol = element.dataset.symbol;\r\n            if (!symbol)\r\n                return;\r\n            LoadingHelper.setLoading(element);\r\n            let liminalMarketService = new LiminalMarketService(Moralis);\r\n            let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (className == 'getAddress') {\r\n                yield this.showGetAddress(element, symbol, address);\r\n            }\r\n            else {\r\n                yield this.showAddToWallet(element, symbol, address);\r\n            }\r\n            LoadingHelper.removeLoading();\r\n        });\r\n    }\r\n    showGetAddress(element, symbol, address) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (address !== AddressZero) {\r\n                let copyHelper = new CopyHelper();\r\n                let success = yield copyHelper.copyTextToClipboard(address);\r\n                if (success) {\r\n                    element.innerText = 'Copied';\r\n                    return;\r\n                }\r\n            }\r\n            this.renderContractInfoToString(element, address, symbol, AddressInfo);\r\n        });\r\n    }\r\n    showAddToWallet(element, symbol, address) {\r\n        return SecuritiesList_awaiter(this, void 0, void 0, function* () {\r\n            if (address !== AddressZero) {\r\n                let walletHelper = new WalletHelper(Moralis);\r\n                let added = yield walletHelper.addTokenToWallet(address, symbol, () => {\r\n                    LoadingHelper.removeLoading();\r\n                    this.renderContractInfoToString(element, address, symbol, AddToWallet);\r\n                });\r\n                if (added) {\r\n                    return '';\r\n                }\r\n            }\r\n            this.renderContractInfoToString(element, address, symbol, AddToWallet);\r\n        });\r\n    }\r\n    renderContractInfoToString(element, address, symbol, template) {\r\n        let symbolInfoToCopy = document.getElementById('symbolInfoToCopy');\r\n        if (symbolInfoToCopy)\r\n            symbolInfoToCopy.remove();\r\n        let content = '';\r\n        if (address === AddressZero) {\r\n            let template = Handlebars.compile(ContractAddressNotFound);\r\n            content = template(null);\r\n        }\r\n        else {\r\n            let template = Handlebars.compile(AddressInfo);\r\n            let obj = {\r\n                symbol: symbol,\r\n                address: address\r\n            };\r\n            content = template(obj);\r\n        }\r\n        element.parentElement.parentElement.parentElement.insertAdjacentHTML('afterend', content);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/UserInfo.html\n// Module\nvar UserInfo_code = \"<div id=\\\"userMenuPanel\\\">\\r\\n    <a href=\\\"#\\\" id=\\\"userInfoAction\\\" aria-expanded=\\\"false\\\">\\r\\n        <img src=\\\"https://effigy.im/a/{{ethAddress}}.png\\\" width=\\\"24\\\">\\r\\n        <span id=\\\"user_info_ethAddress\\\">{{shortEthAddress}}</span>\\r\\n    </a>\\r\\n\\r\\n    <div id=\\\"userInfoDropdown\\\" class=\\\"d-none\\\">\\r\\n        <div class=\\\"grid account_info\\\">\\r\\n            <h6>Account</h6>\\r\\n            <a id=\\\"disconnectFromNetwork\\\" href=\\\"#\\\">Disconnect</a>\\r\\n\\r\\n        </div>\\r\\n        <div class=\\\"edit_account grid\\\">\\r\\n            <a id=\\\"editName\\\" href=\\\"#\\\">Edit name</a>\\r\\n            <a id=\\\"editContact\\\" href=\\\"#\\\">Edit contact info</a>\\r\\n        </div>\\r\\n        <div class=\\\"edit_account\\\">\\r\\n            <a id=\\\"editTrustedContact\\\" href=\\\"#\\\">Edit trusted contact</a>\\r\\n        </div>\\r\\n        <hr/>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <img src=\\\"https://effigy.im/a/{{ethAddress}}.png\\\">\\r\\n            </div>\\r\\n            <div>\\r\\n                <strong class=\\\"d-block\\\"><a href=\\\"{{blockchainExplorer}}{{ethAddress}}\\\" target=\\\"_blank\\\">{{shortEthAddress}}</a></strong>\\r\\n                <small>{{walletName}}</small>\\r\\n            </div>\\r\\n        </div>\\r\\n        <hr/>\\r\\n        <div class=\\\"hidden\\\" id=\\\"userInfoAUsdBalance\\\">\\r\\n            <div class=\\\"grid\\\">\\r\\n                <div><img src=\\\"https://app.liminal.market/img/ausd.png\\\"></div>\\r\\n                <div>\\r\\n                    <strong class=\\\"d-block\\\">aUSD <span id=\\\"user_info_ausd_balance\\\"></span></strong>\\r\\n\\r\\n                    <button class=\\\"fund_account\\\"></button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <hr/>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <strong class=\\\"d-block\\\">Network</strong>\\r\\n            <small>{{networkName}}</small>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const elements_UserInfo = (UserInfo_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditName.html\n// Module\nvar KycEditName_code = \"<fieldset id=\\\"kycEditName\\\">\\r\\n    <div class=\\\"infoBar\\\">You can only change the name once. Be careful of what you change</div>\\r\\n    <div>\\r\\n        <label for=\\\"given_name\\\">Legal First name</label>\\r\\n        <input required id=\\\"given_name\\\" name=\\\"given_name\\\"\\r\\n               placeholder=\\\"Ron\\\"\\r\\n               value=\\\"{{given_name}}\\\" autocomplete=\\\"given-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"middle_name\\\">Legal Middle name</label>\\r\\n        <input id=\\\"middle_name\\\" name=\\\"middle_name\\\"\\r\\n               placeholder=\\\"\\\"\\r\\n               value=\\\"{{middle_name}}\\\" autocomplete=\\\"additional-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"family_name\\\">Legal Last name</label>\\r\\n        <input required id=\\\"family_name\\\" name=\\\"family_name\\\"\\r\\n               placeholder=\\\"Swanson\\\"\\r\\n               value=\\\"{{family_name}}\\\" autocomplete=\\\"family-name\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button id=\\\"kycEditNameConfirm\\\">Confirm</button>\\r\\n    </div>\\r\\n</fieldset>\\r\\n\\r\\n<fieldset class=\\\"hidden\\\" id=\\\"confirmNameFieldset\\\">\\r\\n    <div class=\\\"confirm_name\\\">\\r\\n        <label for=\\\"confirm_name\\\" id=\\\"label_confirm_name\\\">Please type</label>\\r\\n        <input name=\\\"confirm_name\\\" id=\\\"confirm_name\\\"/>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"input_error\\\" id=\\\"kycEditNameError\\\"></div>\\r\\n\\r\\n    <div class=\\\"buttons grid\\\">\\r\\n        <button id=\\\"kycEditNameBack\\\">Back</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"kycEditNameSave\\\">Confirm</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const KycEditName = (KycEditName_code);\n;// CONCATENATED MODULE: ./src/util/StringHelper.ts\nclass StringHelper {\r\n    static isNullOrEmpty(str) {\r\n        return !str || str.toString().trim().length == 0;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditNameForm.ts\nvar KycEditNameForm_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditNameForm {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            let kycEditNameError = document.getElementById('kycEditNameError');\r\n            if (kycEditNameError)\r\n                kycEditNameError.style.display = 'none';\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let given_name = account.identity.given_name;\r\n            let middle_name = account.identity.middle_name;\r\n            let family_name = account.identity.family_name;\r\n            let template = Handlebars.compile(KycEditName);\r\n            let content = template({ given_name: given_name, middle_name: middle_name, family_name: family_name });\r\n            this.modal.showModal('Edit name', content);\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let kycEditNameConfirm = document.getElementById('kycEditNameConfirm');\r\n        kycEditNameConfirm === null || kycEditNameConfirm === void 0 ? void 0 : kycEditNameConfirm.addEventListener('click', (evt) => KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            var _a, _b;\r\n            let given_name = document.getElementById('given_name');\r\n            let middle_name = document.getElementById('middle_name');\r\n            let family_name = document.getElementById('family_name');\r\n            if (StringHelper.isNullOrEmpty(given_name.value)) {\r\n                this.showError('Given name cannot be empty');\r\n                return;\r\n            }\r\n            if (StringHelper.isNullOrEmpty(family_name.value)) {\r\n                this.showError('Family name cannot be empty');\r\n                return;\r\n            }\r\n            let full_name = this.getFullName();\r\n            let label_confirm_name = document.getElementById('label_confirm_name');\r\n            if (!label_confirm_name) {\r\n                //TODO: report error in form\r\n                return;\r\n            }\r\n            label_confirm_name.innerHTML = 'Please type in the full name \"' + full_name + '\" in the box below to confirm. You WILL NOT be able to change it again.';\r\n            (_a = document.getElementById('confirmNameFieldset')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n            (_b = document.getElementById('kycEditName')) === null || _b === void 0 ? void 0 : _b.classList.add('hidden');\r\n        }));\r\n        let kycEditNameBack = document.getElementById('kycEditNameBack');\r\n        kycEditNameBack === null || kycEditNameBack === void 0 ? void 0 : kycEditNameBack.addEventListener('click', (evt) => {\r\n            var _a, _b;\r\n            (_a = document.getElementById('confirmNameFieldset')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n            (_b = document.getElementById('kycEditName')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        });\r\n        let confirm_name = document.getElementById('confirm_name');\r\n        if (!confirm_name) {\r\n            //TODO: report error in form\r\n            return;\r\n        }\r\n        let kycEditNameSave = document.getElementById('kycEditNameSave');\r\n        kycEditNameSave.disabled = true;\r\n        confirm_name.setAttribute('aria-invalid', 'true');\r\n        confirm_name.addEventListener('keyup', (evt) => {\r\n            if (confirm_name.value == this.getFullName()) {\r\n                confirm_name.setAttribute('aria-invalid', 'false');\r\n                kycEditNameSave.disabled = false;\r\n            }\r\n            else {\r\n                confirm_name.setAttribute('aria-invalid', 'true');\r\n                kycEditNameSave.disabled = true;\r\n            }\r\n        });\r\n        kycEditNameSave === null || kycEditNameSave === void 0 ? void 0 : kycEditNameSave.addEventListener('click', (evt) => KycEditNameForm_awaiter(this, void 0, void 0, function* () {\r\n            let confirm_name = document.getElementById('confirm_name');\r\n            if (confirm_name && confirm_name.value != this.getFullName()) {\r\n                alert(confirm_name.value + ' is not same as ' + this.getFullName() + '. Go over the name and make sure it is identical');\r\n                return;\r\n            }\r\n            let given_name = document.getElementById('given_name');\r\n            let middle_name = document.getElementById('middle_name');\r\n            let family_name = document.getElementById('family_name');\r\n            LoadingHelper.setLoading(kycEditNameSave);\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateName(given_name.value, middle_name.value, family_name.value)\r\n                .then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditNameError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n    getFullName() {\r\n        let given_name = document.getElementById('given_name');\r\n        let middle_name = document.getElementById('middle_name');\r\n        let family_name = document.getElementById('family_name');\r\n        return given_name.value + ' ' + (!StringHelper.isNullOrEmpty(middle_name.value) ? middle_name.value + ' ' : '') + family_name.value;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditContactForm.html\n// Module\nvar KycEditContactForm_code = \"<fieldset id=\\\"kycEditContactFieldset\\\">\\r\\n    <form id=\\\"kycEditContactForm\\\">\\r\\n        <div>\\r\\n            <label for=\\\"email_address\\\">Email</label>\\r\\n            <input type=\\\"email\\\" required class=\\\"form-control\\\" id=\\\"email_address\\\" name=\\\"email_address\\\"\\r\\n                   placeholder=\\\"name@example.com\\\" autocomplete=\\\"email\\\"\\r\\n                   value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"phone_number\\\">Phone</label>\\r\\n            <input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"phone_number\\\" name=\\\"phone_number\\\"\\r\\n                   placeholder=\\\"+1-555-666-7788\\\" autocomplete=\\\"tel\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"street_address\\\">Permanent Residential Address</label>\\r\\n            <div class=\\\"explain\\\">It must be a physical address, not a PO box.</div>\\r\\n            <input required id=\\\"street_address\\\" name=\\\"street_address\\\"\\r\\n                   placeholder=\\\"20 N San Mateo Dr\\\" value=\\\"\\\" autocomplete=\\\"address-line1\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"unit\\\">Unit / Apt #</label>\\r\\n            <input id=\\\"unit\\\" name=\\\"unit\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"city\\\">City</label>\\r\\n            <input id=\\\"city\\\" name=\\\"city\\\" placeholder=\\\"Pawnee\\\"\\r\\n                   value=\\\"\\\" autocomplete=\\\"address-level2\\\">\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"postal_code\\\">Postal code</label>\\r\\n            <input required id=\\\"postal_code\\\" autocomplete=\\\"postal-code\\\" name=\\\"postal_code\\\"\\r\\n                   placeholder=\\\"94401\\\"\\r\\n                   value=\\\"\\\">\\r\\n        </div>\\r\\n        {{#if usa}}\\r\\n        <div id=\\\"state_div\\\">\\r\\n            <label for=\\\"state\\\">State (2 letters)</label>\\r\\n            <input required maxlength=\\\"2\\\" id=\\\"state\\\" name=\\\"state\\\" placeholder=\\\"NY\\\"\\r\\n                   value=\\\"\\\" autocomplete=\\\"address-level1\\\">\\r\\n        </div>\\r\\n        {{/if}}\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycEditContactError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"kycEditContactSave\\\">Save</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycEditContactForm = (KycEditContactForm_code);\n;// CONCATENATED MODULE: ./src/util/FormHelper.ts\n\r\nclass FormHelper {\r\n    static getParams(selector) {\r\n        let form = document.querySelector(selector);\r\n        if (!form)\r\n            return;\r\n        let data = new FormData(form);\r\n        return this.serialize(data);\r\n    }\r\n    static serialize(data) {\r\n        let obj = {};\r\n        for (let [key, value] of data) {\r\n            if (obj[key] !== undefined) {\r\n                if (!Array.isArray(obj[key])) {\r\n                    obj[key] = [obj[key]];\r\n                }\r\n                obj[key].push(value);\r\n            }\r\n            else {\r\n                obj[key] = value;\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n    static fillInputs(properties, item) {\r\n        properties.forEach((value) => {\r\n            let input = document.querySelector('input[name=' + value + ']');\r\n            if (input) {\r\n                if (input.type == 'radio') {\r\n                    console.log('checkbox', input, item[value]);\r\n                    input.value = item[value];\r\n                }\r\n                else {\r\n                    input.value = item[value];\r\n                }\r\n                input.dispatchEvent(new Event('change'));\r\n            }\r\n            else {\r\n                let select = document.querySelector('select[name=' + value + ']');\r\n                if (select) {\r\n                    select.value = item[value];\r\n                    select.dispatchEvent(new Event('change'));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    static validate(selector) {\r\n        let inputs = document.querySelectorAll(selector + ' input[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (StringHelper.isNullOrEmpty(input.value)) {\r\n                input.setAttribute('aria-invalid', 'true');\r\n                input.focus();\r\n                input.addEventListener('change', (evt) => {\r\n                    if (!StringHelper.isNullOrEmpty(input.value)) {\r\n                        input.setAttribute('aria-invalid', 'false');\r\n                    }\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditContactForm.ts\nvar KycEditContactForm_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditContactForm {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditContactForm_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let usa = account.identity.country_of_tax_residence == 'USA';\r\n            let template = Handlebars.compile(Kyc_KycEditContactForm);\r\n            this.modal.showModal('Edit contact information', template({ usa: usa }));\r\n            let contactProperties = Object.getOwnPropertyNames(account.contact);\r\n            FormHelper.fillInputs(contactProperties, account.contact);\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let kycEditContactSave = document.getElementById('kycEditContactSave');\r\n        kycEditContactSave === null || kycEditContactSave === void 0 ? void 0 : kycEditContactSave.addEventListener('click', (evt) => KycEditContactForm_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!this.validate())\r\n                return;\r\n            LoadingHelper.setLoading(kycEditContactSave);\r\n            let data = FormHelper.getParams('#kycEditContactForm');\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateContact(data).then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                let accountInfo = response;\r\n                let email_address = document.getElementById('email_address');\r\n                if (accountInfo.contact.email_address != (email_address === null || email_address === void 0 ? void 0 : email_address.value)) {\r\n                    this.showError('Email was not changed. The email ' + (email_address === null || email_address === void 0 ? void 0 : email_address.value) + ' is already registered under different account.');\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditContactError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n    validate() {\r\n        let inputs = document.querySelectorAll('#kycEditContactFieldset input[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (StringHelper.isNullOrEmpty(input.value)) {\r\n                input.setAttribute('aria-invalid', 'true');\r\n                input.addEventListener('change', (evt) => {\r\n                    if (!StringHelper.isNullOrEmpty(input.value)) {\r\n                        input.setAttribute('aria-invalid', 'false');\r\n                    }\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycEditTrustedContact.html\n// Module\nvar KycEditTrustedContact_code = \"<fieldset class=\\\"kycTrustedContact\\\">\\r\\n    <form id=\\\"kycTrustedContactForm\\\" method=\\\"post\\\">\\r\\n        <div class=\\\"explain\\\">\\r\\n            A trusted contact is a person you authorize your financial firm to contact in limited circumstances,\\r\\n            such as if there is a concern about activity in your account and they have been unable to get in touch with\\r\\n            you.\\r\\n            <br/><br/>\\r\\n            A trusted contact may be a family member, attorney, accountant or another third-party who you believe would\\r\\n            respect your privacy and know how to handle the responsibility.\\r\\n            The trusted person should be 18 years old or older.\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"given_name\\\">Legal given name of trusted contact</label>\\r\\n            <input required id=\\\"given_name\\\" name=\\\"given_name\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"family_name\\\">Legal family name of trusted contact</label>\\r\\n            <input required id=\\\"family_name\\\" name=\\\"family_name\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            If you fill in name, you are required to fill in one of the following, email, phone or address\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"contact_missing_info\\\"></div>\\r\\n        <div>\\r\\n            <label for=\\\"email_address\\\">Email of trusted contact</label>\\r\\n            <input id=\\\"email_address\\\" type=\\\"email\\\" name=\\\"email_address\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"phone_number\\\">Phone of trusted contact</label>\\r\\n            <input id=\\\"phone_number\\\" type=\\\"tel\\\" name=\\\"phone_number\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"street_address\\\">Address of trusted contact</label>\\r\\n            <input id=\\\"street_address\\\" name=\\\"street_address\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"city\\\">City of trusted contact</label>\\r\\n            <input id=\\\"city\\\" name=\\\"city\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"state\\\">State of trusted contact</label>\\r\\n            <input id=\\\"state\\\" name=\\\"state\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"postal_code\\\">Postal code of trusted contact</label>\\r\\n            <input id=\\\"postal_code\\\" name=\\\"postal_code\\\"/>\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"country\\\">Country of trusted contact</label>\\r\\n            <select required id=\\\"country\\\" required name=\\\"country\\\">\\r\\n                <option value=\\\"\\\"></option>\\r\\n                {{#each countries}}\\r\\n                <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n                {{/each}}\\r\\n            </select>\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycEditNameError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"trustedContactSubmit\\\">Submit</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycEditTrustedContact = (KycEditTrustedContact_code);\n;// CONCATENATED MODULE: ./src/util/CountryHelper.ts\nclass CountryHelper {\r\n}\r\nCountryHelper.Countries = [\r\n    { \"name\": \"United States of America\", \"code\": \"USA\" },\r\n    { \"name\": \"United Kingdom\", \"code\": \"GBR\" },\r\n    { \"name\": \"Afghanistan\", \"code\": \"AFG\" }, { \"name\": \"Albania\", \"code\": \"ALB\" }, {\r\n        \"name\": \"Algeria\",\r\n        \"code\": \"DZA\"\r\n    }, { \"name\": \"American Samoa\", \"code\": \"ASM\" }, { \"name\": \"Andorra\", \"code\": \"AND\" }, {\r\n        \"name\": \"Angola\",\r\n        \"code\": \"AGO\"\r\n    }, { \"name\": \"Anguilla\", \"code\": \"AIA\" }, { \"name\": \"Antarctica\", \"code\": \"ATA\" }, {\r\n        \"name\": \"Antigua and Barbuda\",\r\n        \"code\": \"ATG\"\r\n    }, { \"name\": \"Argentina\", \"code\": \"ARG\" }, { \"name\": \"Armenia\", \"code\": \"ARM\" }, {\r\n        \"name\": \"Aruba\",\r\n        \"code\": \"ABW\"\r\n    }, { \"name\": \"Australia\", \"code\": \"AUS\" }, { \"name\": \"Austria\", \"code\": \"AUT\" }, {\r\n        \"name\": \"Azerbaijan\",\r\n        \"code\": \"AZE\"\r\n    }, { \"name\": \"Åland Islands\", \"code\": \"ALA\" }, { \"name\": \"Bahamas\", \"code\": \"BHS\" }, {\r\n        \"name\": \"Bahrain\",\r\n        \"code\": \"BHR\"\r\n    }, { \"name\": \"Bangladesh\", \"code\": \"BGD\" }, { \"name\": \"Barbados\", \"code\": \"BRB\" }, {\r\n        \"name\": \"Belarus\",\r\n        \"code\": \"BLR\"\r\n    }, { \"name\": \"Belgium\", \"code\": \"BEL\" }, { \"name\": \"Belize\", \"code\": \"BLZ\" }, {\r\n        \"name\": \"Benin\",\r\n        \"code\": \"BEN\"\r\n    }, { \"name\": \"Bermuda\", \"code\": \"BMU\" }, {\r\n        \"name\": \"Bhutan\",\r\n        \"code\": \"BTN\"\r\n    }, { \"name\": \"Bolivia (Plurinational State of)\", \"code\": \"BOL\" }, {\r\n        \"name\": \"Bonaire, Sint Eustatius and Saba\",\r\n        \"code\": \"BES\"\r\n    }, { \"name\": \"Bosnia and Herzegovina\", \"code\": \"BIH\" }, {\r\n        \"name\": \"Botswana\",\r\n        \"code\": \"BWA\"\r\n    }, { \"name\": \"Bouvet Island\", \"code\": \"BVT\" }, {\r\n        \"name\": \"Brazil\",\r\n        \"code\": \"BRA\"\r\n    }, { \"name\": \"British Indian Ocean Territory\", \"code\": \"IOT\" }, {\r\n        \"name\": \"Brunei Darussalam\",\r\n        \"code\": \"BRN\"\r\n    }, { \"name\": \"Bulgaria\", \"code\": \"BGR\" }, { \"name\": \"Burkina Faso\", \"code\": \"BFA\" }, {\r\n        \"name\": \"Burundi\",\r\n        \"code\": \"BDI\"\r\n    }, { \"name\": \"Cabo Verde\", \"code\": \"CPV\" }, { \"name\": \"Cambodia\", \"code\": \"KHM\" }, {\r\n        \"name\": \"Cameroon\",\r\n        \"code\": \"CMR\"\r\n    }, { \"name\": \"Canada\", \"code\": \"CAN\" }, {\r\n        \"name\": \"Cayman Islands\",\r\n        \"code\": \"CYM\"\r\n    }, { \"name\": \"Central African Republic\", \"code\": \"CAF\" }, { \"name\": \"Chad\", \"code\": \"TCD\" }, {\r\n        \"name\": \"Chile\",\r\n        \"code\": \"CHL\"\r\n    }, { \"name\": \"China\", \"code\": \"CHN\" }, {\r\n        \"name\": \"Christmas Island\",\r\n        \"code\": \"CXR\"\r\n    }, { \"name\": \"Cocos (Keeling) Islands\", \"code\": \"CCK\" }, { \"name\": \"Colombia\", \"code\": \"COL\" }, {\r\n        \"name\": \"Comoros\",\r\n        \"code\": \"COM\"\r\n    }, { \"name\": \"Congo (the Democratic Republic of the)\", \"code\": \"COD\" }, {\r\n        \"name\": \"Congo\",\r\n        \"code\": \"COG\"\r\n    }, { \"name\": \"Cook Islands\", \"code\": \"COK\" }, { \"name\": \"Costa Rica\", \"code\": \"CRI\" }, {\r\n        \"name\": \"Croatia\",\r\n        \"code\": \"HRV\"\r\n    }, { \"name\": \"Cuba\", \"code\": \"CUB\" }, { \"name\": \"Curaçao\", \"code\": \"CUW\" }, {\r\n        \"name\": \"Cyprus\",\r\n        \"code\": \"CYP\"\r\n    }, { \"name\": \"Czechia\", \"code\": \"CZE\" }, { \"name\": \"Côte d'Ivoire\", \"code\": \"CIV\" }, {\r\n        \"name\": \"Denmark\",\r\n        \"code\": \"DNK\"\r\n    }, { \"name\": \"Djibouti\", \"code\": \"DJI\" }, { \"name\": \"Dominica\", \"code\": \"DMA\" }, {\r\n        \"name\": \"Dominican Republic\",\r\n        \"code\": \"DOM\"\r\n    }, { \"name\": \"Ecuador\", \"code\": \"ECU\" }, { \"name\": \"Egypt\", \"code\": \"EGY\" }, {\r\n        \"name\": \"El Salvador\",\r\n        \"code\": \"SLV\"\r\n    }, { \"name\": \"Equatorial Guinea\", \"code\": \"GNQ\" }, { \"name\": \"Eritrea\", \"code\": \"ERI\" }, {\r\n        \"name\": \"Estonia\",\r\n        \"code\": \"EST\"\r\n    }, { \"name\": \"Eswatini\", \"code\": \"SWZ\" }, {\r\n        \"name\": \"Ethiopia\",\r\n        \"code\": \"ETH\"\r\n    }, { \"name\": \"Falkland Islands [Malvinas]\", \"code\": \"FLK\" }, {\r\n        \"name\": \"Faroe Islands\",\r\n        \"code\": \"FRO\"\r\n    }, { \"name\": \"Fiji\", \"code\": \"FJI\" }, { \"name\": \"Finland\", \"code\": \"FIN\" }, {\r\n        \"name\": \"France\",\r\n        \"code\": \"FRA\"\r\n    }, { \"name\": \"French Guiana\", \"code\": \"GUF\" }, {\r\n        \"name\": \"French Polynesia\",\r\n        \"code\": \"PYF\"\r\n    }, { \"name\": \"French Southern Territories\", \"code\": \"ATF\" }, { \"name\": \"Gabon\", \"code\": \"GAB\" }, {\r\n        \"name\": \"Gambia\",\r\n        \"code\": \"GMB\"\r\n    }, { \"name\": \"Georgia\", \"code\": \"GEO\" }, { \"name\": \"Germany\", \"code\": \"DEU\" }, {\r\n        \"name\": \"Ghana\",\r\n        \"code\": \"GHA\"\r\n    }, { \"name\": \"Gibraltar\", \"code\": \"GIB\" }, { \"name\": \"Greece\", \"code\": \"GRC\" }, {\r\n        \"name\": \"Greenland\",\r\n        \"code\": \"GRL\"\r\n    }, { \"name\": \"Grenada\", \"code\": \"GRD\" }, { \"name\": \"Guadeloupe\", \"code\": \"GLP\" }, {\r\n        \"name\": \"Guam\",\r\n        \"code\": \"GUM\"\r\n    }, { \"name\": \"Guatemala\", \"code\": \"GTM\" }, { \"name\": \"Guernsey\", \"code\": \"GGY\" }, {\r\n        \"name\": \"Guinea\",\r\n        \"code\": \"GIN\"\r\n    }, { \"name\": \"Guinea-Bissau\", \"code\": \"GNB\" }, { \"name\": \"Guyana\", \"code\": \"GUY\" }, {\r\n        \"name\": \"Haiti\",\r\n        \"code\": \"HTI\"\r\n    }, { \"name\": \"Heard Island and McDonald Islands\", \"code\": \"HMD\" }, {\r\n        \"name\": \"Holy See\",\r\n        \"code\": \"VAT\"\r\n    }, { \"name\": \"Honduras\", \"code\": \"HND\" }, { \"name\": \"Hong Kong\", \"code\": \"HKG\" }, {\r\n        \"name\": \"Hungary\",\r\n        \"code\": \"HUN\"\r\n    }, { \"name\": \"Iceland\", \"code\": \"ISL\" }, { \"name\": \"India\", \"code\": \"IND\" }, {\r\n        \"name\": \"Indonesia\",\r\n        \"code\": \"IDN\"\r\n    }, { \"name\": \"Iran (Islamic Republic of)\", \"code\": \"IRN\" }, { \"name\": \"Iraq\", \"code\": \"IRQ\" }, {\r\n        \"name\": \"Ireland\",\r\n        \"code\": \"IRL\"\r\n    }, { \"name\": \"Isle of Man\", \"code\": \"IMN\" }, { \"name\": \"Israel\", \"code\": \"ISR\" }, {\r\n        \"name\": \"Italy\",\r\n        \"code\": \"ITA\"\r\n    }, { \"name\": \"Jamaica\", \"code\": \"JAM\" }, { \"name\": \"Japan\", \"code\": \"JPN\" }, {\r\n        \"name\": \"Jersey\",\r\n        \"code\": \"JEY\"\r\n    }, { \"name\": \"Jordan\", \"code\": \"JOR\" }, { \"name\": \"Kazakhstan\", \"code\": \"KAZ\" }, {\r\n        \"name\": \"Kenya\",\r\n        \"code\": \"KEN\"\r\n    }, { \"name\": \"Kiribati\", \"code\": \"KIR\" }, {\r\n        \"name\": \"Korea (the Democratic People's Republic of)\",\r\n        \"code\": \"PRK\"\r\n    }, { \"name\": \"Korea (the Republic of)\", \"code\": \"KOR\" }, { \"name\": \"Kuwait\", \"code\": \"KWT\" }, {\r\n        \"name\": \"Kyrgyzstan\",\r\n        \"code\": \"KGZ\"\r\n    }, { \"name\": \"Lao People's Democratic Republic\", \"code\": \"LAO\" }, {\r\n        \"name\": \"Latvia\",\r\n        \"code\": \"LVA\"\r\n    }, { \"name\": \"Lebanon\", \"code\": \"LBN\" }, { \"name\": \"Lesotho\", \"code\": \"LSO\" }, {\r\n        \"name\": \"Liberia\",\r\n        \"code\": \"LBR\"\r\n    }, { \"name\": \"Libya\", \"code\": \"LBY\" }, { \"name\": \"Liechtenstein\", \"code\": \"LIE\" }, {\r\n        \"name\": \"Lithuania\",\r\n        \"code\": \"LTU\"\r\n    }, { \"name\": \"Luxembourg\", \"code\": \"LUX\" }, { \"name\": \"Macao\", \"code\": \"MAC\" }, {\r\n        \"name\": \"Madagascar\",\r\n        \"code\": \"MDG\"\r\n    }, { \"name\": \"Malawi\", \"code\": \"MWI\" }, { \"name\": \"Malaysia\", \"code\": \"MYS\" }, {\r\n        \"name\": \"Maldives\",\r\n        \"code\": \"MDV\"\r\n    }, { \"name\": \"Mali\", \"code\": \"MLI\" }, { \"name\": \"Malta\", \"code\": \"MLT\" }, {\r\n        \"name\": \"Marshall Islands\",\r\n        \"code\": \"MHL\"\r\n    }, { \"name\": \"Martinique\", \"code\": \"MTQ\" }, { \"name\": \"Mauritania\", \"code\": \"MRT\" }, {\r\n        \"name\": \"Mauritius\",\r\n        \"code\": \"MUS\"\r\n    }, { \"name\": \"Mayotte\", \"code\": \"MYT\" }, {\r\n        \"name\": \"Mexico\",\r\n        \"code\": \"MEX\"\r\n    }, { \"name\": \"Micronesia (Federated States of)\", \"code\": \"FSM\" }, {\r\n        \"name\": \"Moldova (the Republic of)\",\r\n        \"code\": \"MDA\"\r\n    }, { \"name\": \"Monaco\", \"code\": \"MCO\" }, { \"name\": \"Mongolia\", \"code\": \"MNG\" }, {\r\n        \"name\": \"Montenegro\",\r\n        \"code\": \"MNE\"\r\n    }, { \"name\": \"Montserrat\", \"code\": \"MSR\" }, { \"name\": \"Morocco\", \"code\": \"MAR\" }, {\r\n        \"name\": \"Mozambique\",\r\n        \"code\": \"MOZ\"\r\n    }, { \"name\": \"Myanmar\", \"code\": \"MMR\" }, { \"name\": \"Namibia\", \"code\": \"NAM\" }, {\r\n        \"name\": \"Nauru\",\r\n        \"code\": \"NRU\"\r\n    }, { \"name\": \"Nepal\", \"code\": \"NPL\" }, { \"name\": \"Netherlands\", \"code\": \"NLD\" }, {\r\n        \"name\": \"New Caledonia\",\r\n        \"code\": \"NCL\"\r\n    }, { \"name\": \"New Zealand\", \"code\": \"NZL\" }, { \"name\": \"Nicaragua\", \"code\": \"NIC\" }, {\r\n        \"name\": \"Niger\",\r\n        \"code\": \"NER\"\r\n    }, { \"name\": \"Nigeria\", \"code\": \"NGA\" }, { \"name\": \"Niue\", \"code\": \"NIU\" }, {\r\n        \"name\": \"Norfolk Island\",\r\n        \"code\": \"NFK\"\r\n    }, { \"name\": \"Northern Mariana Islands\", \"code\": \"MNP\" }, { \"name\": \"Norway\", \"code\": \"NOR\" }, {\r\n        \"name\": \"Oman\",\r\n        \"code\": \"OMN\"\r\n    }, { \"name\": \"Pakistan\", \"code\": \"PAK\" }, { \"name\": \"Palau\", \"code\": \"PLW\" }, {\r\n        \"name\": \"Palestine, State of\",\r\n        \"code\": \"PSE\"\r\n    }, { \"name\": \"Panama\", \"code\": \"PAN\" }, { \"name\": \"Papua New Guinea\", \"code\": \"PNG\" }, {\r\n        \"name\": \"Paraguay\",\r\n        \"code\": \"PRY\"\r\n    }, { \"name\": \"Peru\", \"code\": \"PER\" }, { \"name\": \"Philippines\", \"code\": \"PHL\" }, {\r\n        \"name\": \"Pitcairn\",\r\n        \"code\": \"PCN\"\r\n    }, { \"name\": \"Poland\", \"code\": \"POL\" }, { \"name\": \"Portugal\", \"code\": \"PRT\" }, {\r\n        \"name\": \"Puerto Rico\",\r\n        \"code\": \"PRI\"\r\n    }, { \"name\": \"Qatar\", \"code\": \"QAT\" }, { \"name\": \"Republic of North Macedonia\", \"code\": \"MKD\" }, {\r\n        \"name\": \"Romania\",\r\n        \"code\": \"ROU\"\r\n    }, { \"name\": \"Russian Federation\", \"code\": \"RUS\" }, { \"name\": \"Rwanda\", \"code\": \"RWA\" }, {\r\n        \"name\": \"Réunion\",\r\n        \"code\": \"REU\"\r\n    }, { \"name\": \"Saint Barthélemy\", \"code\": \"BLM\" }, {\r\n        \"name\": \"Saint Helena, Ascension and Tristan da Cunha\",\r\n        \"code\": \"SHN\"\r\n    }, { \"name\": \"Saint Kitts and Nevis\", \"code\": \"KNA\" }, {\r\n        \"name\": \"Saint Lucia\",\r\n        \"code\": \"LCA\"\r\n    }, { \"name\": \"Saint Martin (French part)\", \"code\": \"MAF\" }, {\r\n        \"name\": \"Saint Pierre and Miquelon\",\r\n        \"code\": \"SPM\"\r\n    }, { \"name\": \"Saint Vincent and the Grenadines\", \"code\": \"VCT\" }, {\r\n        \"name\": \"Samoa\",\r\n        \"code\": \"WSM\"\r\n    }, { \"name\": \"San Marino\", \"code\": \"SMR\" }, {\r\n        \"name\": \"Sao Tome and Principe\",\r\n        \"code\": \"STP\"\r\n    }, { \"name\": \"Saudi Arabia\", \"code\": \"SAU\" }, { \"name\": \"Senegal\", \"code\": \"SEN\" }, {\r\n        \"name\": \"Serbia\",\r\n        \"code\": \"SRB\"\r\n    }, { \"name\": \"Seychelles\", \"code\": \"SYC\" }, { \"name\": \"Sierra Leone\", \"code\": \"SLE\" }, {\r\n        \"name\": \"Singapore\",\r\n        \"code\": \"SGP\"\r\n    }, { \"name\": \"Sint Maarten (Dutch part)\", \"code\": \"SXM\" }, {\r\n        \"name\": \"Slovakia\",\r\n        \"code\": \"SVK\"\r\n    }, { \"name\": \"Slovenia\", \"code\": \"SVN\" }, { \"name\": \"Solomon Islands\", \"code\": \"SLB\" }, {\r\n        \"name\": \"Somalia\",\r\n        \"code\": \"SOM\"\r\n    }, { \"name\": \"South Africa\", \"code\": \"ZAF\" }, {\r\n        \"name\": \"South Georgia and the South Sandwich Islands\",\r\n        \"code\": \"SGS\"\r\n    }, { \"name\": \"South Sudan\", \"code\": \"SSD\" }, { \"name\": \"Spain\", \"code\": \"ESP\" }, {\r\n        \"name\": \"Sri Lanka\",\r\n        \"code\": \"LKA\"\r\n    }, { \"name\": \"Sudan\", \"code\": \"SDN\" }, { \"name\": \"Suriname\", \"code\": \"SUR\" }, {\r\n        \"name\": \"Svalbard and Jan Mayen\",\r\n        \"code\": \"SJM\"\r\n    }, { \"name\": \"Sweden\", \"code\": \"SWE\" }, { \"name\": \"Switzerland\", \"code\": \"CHE\" }, {\r\n        \"name\": \"Syrian Arab Republic\",\r\n        \"code\": \"SYR\"\r\n    }, { \"name\": \"Taiwan (Province of China)\", \"code\": \"TWN\" }, {\r\n        \"name\": \"Tajikistan\",\r\n        \"code\": \"TJK\"\r\n    }, { \"name\": \"Tanzania, United Republic of\", \"code\": \"TZA\" }, {\r\n        \"name\": \"Thailand\",\r\n        \"code\": \"THA\"\r\n    }, { \"name\": \"Timor-Leste\", \"code\": \"TLS\" }, { \"name\": \"Togo\", \"code\": \"TGO\" }, {\r\n        \"name\": \"Tokelau\",\r\n        \"code\": \"TKL\"\r\n    }, { \"name\": \"Tonga\", \"code\": \"TON\" }, { \"name\": \"Trinidad and Tobago\", \"code\": \"TTO\" }, {\r\n        \"name\": \"Tunisia\",\r\n        \"code\": \"TUN\"\r\n    }, { \"name\": \"Turkey\", \"code\": \"TUR\" }, {\r\n        \"name\": \"Turkmenistan\",\r\n        \"code\": \"TKM\"\r\n    }, { \"name\": \"Turks and Caicos Islands\", \"code\": \"TCA\" }, { \"name\": \"Tuvalu\", \"code\": \"TUV\" }, {\r\n        \"name\": \"Uganda\",\r\n        \"code\": \"UGA\"\r\n    }, { \"name\": \"Ukraine\", \"code\": \"UKR\" }, {\r\n        \"name\": \"United Arab Emirates\",\r\n        \"code\": \"ARE\"\r\n    }, {\r\n        \"name\": \"United Kingdom of Great Britain and Northern Ireland\",\r\n        \"code\": \"GBR\"\r\n    }, { \"name\": \"United States Minor Outlying Islands\", \"code\": \"UMI\" }, {\r\n        \"name\": \"United States of America\",\r\n        \"code\": \"USA\"\r\n    }, { \"name\": \"Uruguay\", \"code\": \"URY\" }, { \"name\": \"Uzbekistan\", \"code\": \"UZB\" }, {\r\n        \"name\": \"Vanuatu\",\r\n        \"code\": \"VUT\"\r\n    }, { \"name\": \"Venezuela (Bolivarian Republic of)\", \"code\": \"VEN\" }, {\r\n        \"name\": \"Viet Nam\",\r\n        \"code\": \"VNM\"\r\n    }, { \"name\": \"Virgin Islands (British)\", \"code\": \"VGB\" }, {\r\n        \"name\": \"Virgin Islands (U.S.)\",\r\n        \"code\": \"VIR\"\r\n    }, { \"name\": \"Wallis and Futuna\", \"code\": \"WLF\" }, { \"name\": \"Western Sahara\", \"code\": \"ESH\" }, {\r\n        \"name\": \"Yemen\",\r\n        \"code\": \"YEM\"\r\n    }, { \"name\": \"Zambia\", \"code\": \"ZMB\" }, { \"name\": \"Zimbabwe\", \"code\": \"ZWE\" }\r\n];\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycEditTrustedContact.ts\nvar KycEditTrustedContact_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycEditTrustedContact {\r\n    constructor() {\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        return KycEditTrustedContact_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let account = yield userService.getAccount();\r\n            let template = Handlebars.compile(Kyc_KycEditTrustedContact);\r\n            this.modal.showModal('Edit trusted contact', template({ countries: CountryHelper.Countries }));\r\n            if (account.trusted_contact) {\r\n                let contactProperties = Object.getOwnPropertyNames(account.trusted_contact);\r\n                FormHelper.fillInputs(contactProperties, account.trusted_contact);\r\n            }\r\n            this.bindEvents();\r\n        });\r\n    }\r\n    bindEvents() {\r\n        let trustedContactSubmit = document.getElementById('trustedContactSubmit');\r\n        trustedContactSubmit === null || trustedContactSubmit === void 0 ? void 0 : trustedContactSubmit.addEventListener('click', (evt) => KycEditTrustedContact_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!FormHelper.validate('#kycTrustedContactForm'))\r\n                return;\r\n            LoadingHelper.setLoading(trustedContactSubmit);\r\n            let params = FormHelper.getParams('#kycTrustedContactForm');\r\n            let userService = new UserService(Moralis);\r\n            yield userService.updateTrustedContact(params).then((response) => {\r\n                if (response.message) {\r\n                    this.showError(response.message);\r\n                    return;\r\n                }\r\n                this.modal.hideModal();\r\n            }).catch(reason => {\r\n                if (reason.message) {\r\n                    this.showError(JSON.parse(reason.message).message);\r\n                }\r\n                else {\r\n                    this.showError(reason);\r\n                }\r\n            }).finally(() => {\r\n                LoadingHelper.removeLoading();\r\n            });\r\n        }));\r\n    }\r\n    showError(message) {\r\n        let kycEditNameError = document.getElementById('kycEditNameError');\r\n        if (!kycEditNameError)\r\n            return;\r\n        kycEditNameError.innerHTML = message;\r\n        kycEditNameError.style.display = 'block';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/UserInfo.ts\nvar UserInfo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass UserInfo {\r\n    constructor(moralis, providerInfo, user) {\r\n        this.moralis = moralis;\r\n        this.user = user;\r\n        this.userService = new UserService(this.moralis);\r\n        this.providerInfo = providerInfo;\r\n    }\r\n    render(elementId) {\r\n        return UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.user)\r\n                return;\r\n            this.listenForWalletChanges();\r\n            this.loadUserMenuUI(elementId);\r\n        });\r\n    }\r\n    listenForWalletChanges() {\r\n        this.moralis.onChainChanged(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onAccountChanged(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onDisconnect(function () {\r\n            location.reload();\r\n        });\r\n        this.moralis.onConnect(function () {\r\n            location.reload();\r\n        });\r\n    }\r\n    loadUserMenuUI(elementId) {\r\n        if (!this.user)\r\n            return;\r\n        let userInfoDiv = document.getElementById(elementId);\r\n        if (!userInfoDiv)\r\n            return;\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        let obj = {\r\n            ethAddress: this.user.get('ethAddress'),\r\n            shortEthAddress: shortEth(this.user.get('ethAddress')),\r\n            walletName: this.providerInfo.WalletName,\r\n            networkName: networkInfo.ChainName + ((networkInfo.TestNetwork) ? ' - (Test network)' : ''),\r\n            blockchainExplorer: networkInfo.BlockExplorer + '/address/',\r\n            provider: ''\r\n        };\r\n        let template = Handlebars.compile(elements_UserInfo);\r\n        let html = template(obj);\r\n        userInfoDiv.innerHTML = html;\r\n        let userInfoAction = document.getElementById('userInfoAction');\r\n        userInfoAction === null || userInfoAction === void 0 ? void 0 : userInfoAction.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            let userInfoDropdown = document.getElementById('userInfoDropdown');\r\n            if (!userInfoDropdown)\r\n                return;\r\n            userInfoDropdown.classList.toggle('d-none');\r\n            userInfoDropdown.addEventListener('click', (evt) => {\r\n                evt.stopPropagation();\r\n            });\r\n        });\r\n        let disconnectFromNetwork = document.getElementById('disconnectFromNetwork');\r\n        disconnectFromNetwork === null || disconnectFromNetwork === void 0 ? void 0 : disconnectFromNetwork.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            this.moralis.User.logOut();\r\n            window.location.reload();\r\n        });\r\n        this.bindUserActionEvents();\r\n    }\r\n    bindUserActionEvents() {\r\n        let editName = document.getElementById('editName');\r\n        editName === null || editName === void 0 ? void 0 : editName.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditNameForm();\r\n            yield kycModal.show();\r\n        }));\r\n        let editContact = document.getElementById('editContact');\r\n        editContact === null || editContact === void 0 ? void 0 : editContact.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditContactForm();\r\n            yield kycModal.show();\r\n        }));\r\n        let editTrustedContact = document.getElementById('editTrustedContact');\r\n        editTrustedContact === null || editTrustedContact === void 0 ? void 0 : editTrustedContact.addEventListener('click', (evt) => UserInfo_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let kycModal = new KycEditTrustedContact();\r\n            yield kycModal.show();\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/ConnectWalletButton.html\n// Module\nvar ConnectWalletButton_code = \"<button class=\\\"liminal_market_connect_wallet outline\\\">Connect wallet</button>\";\n// Exports\n/* harmony default export */ const ConnectWalletButton = (ConnectWalletButton_code);\n;// CONCATENATED MODULE: ./src/html/modal/SelectWalletProvider.html\n// Module\nvar SelectWalletProvider_code = \"\\r\\n<article id=\\\"tos_pp_cookie_panel\\\">\\r\\n    <p>\\r\\n        By connecting a wallet, I agree to liminal.market Terms of Use, Cookies Policy and Privacy Policy.\\r\\n    </p>\\r\\n    <ul>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"all\\\" value=\\\"1\\\">\\r\\n\\r\\n        I accept all\\r\\n\\r\\n    </label>\\r\\n        </li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"tos\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept <a href=\\\"https://www.liminal.market/terms-of-service\\\" target=\\\"_blank\\\">Terms of service</a>\\r\\n        <small>Things to note. You are taking a risk by buying stocks. You will be asked to do KYC/AML. You are responsible for any transaction you make.</small>\\r\\n      </span>\\r\\n    </label></li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"pp\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept the <a href=\\\"https://www.liminal.market/privacy-policy\\\" target=\\\"_blank\\\">Privacy Policy</a>\\r\\n        <small>Liminal.market doesn't store any personal data. Any KYC info is stored with the broker. If you register on our mailing list, that will be the only personal info we store.</small>\\r\\n      </span>\\r\\n    </label></li>\\r\\n        <li>\\r\\n    <label>\\r\\n        <input type=\\\"checkbox\\\" name=\\\"cookie\\\" value=\\\"1\\\">\\r\\n        <span>\\r\\n        I accept <a href=\\\"https://www.liminal.market/cookie-policy\\\" target=\\\"_blank\\\">Cookie policy</a>\\r\\n        <small>We use some cookies & services to improve our service. You don't have to accept but we will then just store essential cookies.</small>\\r\\n      </span>\\r\\n    </label>\\r\\n        </li>\\r\\n    </ul>\\r\\n</article>\\r\\n\\r\\n<div class=\\\"d-none\\\" id=\\\"wallet_connector_panel\\\">\\r\\n    <article class=\\\"provider\\\" id=\\\"connect_wallet_walletConnect\\\" data-provider=\\\"walletConnect\\\">\\r\\n\\r\\n        <h3>Connect using WalletConnect</h3>\\r\\n        <p>\\r\\n            Popular option to connect your mobile wallet.\\r\\n            For mobile we like <a href=\\\"https://www.tokenpocket.pro/\\\" target=\\\"_blank onclick='event.stopProgation();'\\\">Token\\r\\n            Poket</a>\\r\\n            as is support test network</p>\\r\\n\\r\\n    </article>\\r\\n    <div class=\\\"d-none\\\" id=\\\"walletConnectConnectionInfo\\\"></div>\\r\\n    <!--\\r\\n    <article class=\\\"provider\\\" id=\\\"connect_wallet_coinbaseWallet\\\" data-provider=\\\"coinbase\\\">\\r\\n\\r\\n        <h3>Coinbase wallet</h3>\\r\\n        <p>Connect using your Coinbase app</p>\\r\\n\\r\\n    </article>\\r\\n    -->\\r\\n    <article id=\\\"connect_wallet_metamask\\\" class=\\\"provider\\\" data-provider=\\\"metamask\\\">\\r\\n\\r\\n        <h3>Metamask</h3>\\r\\n        <p>Connect using your Metamask</p>\\r\\n\\r\\n    </article>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const SelectWalletProvider = (SelectWalletProvider_code);\n;// CONCATENATED MODULE: ./src/ui/modals/ConnectWallet.ts\nvar ConnectWallet_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ConnectWallet {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.modal = new Modal();\r\n        this.providerInfo = new ProviderInfo(null);\r\n    }\r\n    renderButton(elementId) {\r\n        if (!document.getElementById(elementId))\r\n            return;\r\n        document.getElementById(elementId).innerHTML = ConnectWalletButton;\r\n        let elements = document.querySelectorAll(\".liminal_market_connect_wallet\");\r\n        elements.forEach(el => {\r\n            el.removeEventListener('click', () => this.chooseWalletProvider());\r\n            el.addEventListener('click', () => this.chooseWalletProvider());\r\n        });\r\n    }\r\n    chooseWalletProvider() {\r\n        this.modal.showModal('Connect to a wallet', SelectWalletProvider);\r\n        this.setupCheckboxes();\r\n        this.setupProviders();\r\n    }\r\n    setupCheckboxes() {\r\n        let checkboxes = { all: false, tos: false, pp: false, cookie: false };\r\n        let cookieHelper = new CookieHelper(document);\r\n        let tosConfirmed = cookieHelper.getCookieValue('tos');\r\n        if (tosConfirmed) {\r\n            checkboxes = { tos: true, pp: true };\r\n            this.toggleProviders(checkboxes);\r\n            document.getElementById('tos_pp_cookie_panel').classList.add('d-none');\r\n            return;\r\n        }\r\n        let inputs = document.querySelectorAll('#tos_pp_cookie_panel input');\r\n        inputs.forEach(input => {\r\n            let checkbox = input;\r\n            checkbox.addEventListener('click', () => {\r\n                let name = checkbox.getAttribute('name');\r\n                if (name == 'all') {\r\n                    let valueToSet = checkbox.checked;\r\n                    inputs.forEach(tmp => {\r\n                        let otherInput = tmp;\r\n                        checkboxes[otherInput.name] = valueToSet;\r\n                        otherInput.checked = valueToSet;\r\n                    });\r\n                }\r\n                else {\r\n                    checkboxes[name] = checkbox.checked;\r\n                }\r\n                this.toggleProviders(checkboxes);\r\n            });\r\n        });\r\n    }\r\n    setupProviders() {\r\n        let anchors = document.querySelectorAll('#wallet_connector_panel .provider');\r\n        anchors.forEach(element => {\r\n            element.addEventListener('click', (evt) => {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n                let provider = evt.currentTarget.dataset.provider;\r\n                this.connectWallet(provider);\r\n            }, { capture: true });\r\n        });\r\n    }\r\n    toggleProviders(checkboxes) {\r\n        let cookieHelper = new CookieHelper(document);\r\n        if (checkboxes.tos && checkboxes.pp) {\r\n            cookieHelper.setCookie('tos', new Date().toDateString());\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            if (walletHelper.isWebview(window.navigator.userAgent)) {\r\n                this.modal.hideModal();\r\n                this.connectWallet('');\r\n            }\r\n            else {\r\n                document.getElementById('wallet_connector_panel').classList.remove('d-none');\r\n            }\r\n        }\r\n        else {\r\n            cookieHelper.deleteCookie('tos');\r\n            document.getElementById('wallet_connector_panel').classList.add('d-none');\r\n        }\r\n    }\r\n    showUnsupportedNetworkMessage(connectionInfo) {\r\n        let str = 'The network you are connecting to is not supported.';\r\n        str += 'Following networks are supported. ';\r\n        let networks = NetworkInfo.getNetworks();\r\n        for (let i = 0; i < networks.length; i++) {\r\n            if (i != 0)\r\n                str += ', ';\r\n            str += networks[i].Name;\r\n        }\r\n        connectionInfo.innerHTML = str;\r\n    }\r\n    connectWallet(providerName) {\r\n        let authenticationService = new AuthenticateService(this.moralis);\r\n        let cookieHelper = new CookieHelper(document);\r\n        cookieHelper.setCookieProvider(providerName);\r\n        authenticationService.authenticateUser(providerName, (walletConnectionInfo) => {\r\n            this.web3EnabledResult(providerName, walletConnectionInfo);\r\n        }, (user) => ConnectWallet_awaiter(this, void 0, void 0, function* () {\r\n            this.modal.hideModal();\r\n            let userInfo = new UserInfo(this.moralis, this.providerInfo, user);\r\n            yield userInfo.render('user_header_info');\r\n            if (document.getElementById('liminal_market_execute_trade')) {\r\n                let page = new TradePage(this.moralis);\r\n                yield page.load();\r\n            }\r\n        }))\r\n            .catch((reason) => {\r\n            ErrorInfo.report(reason);\r\n        });\r\n    }\r\n    web3EnabledResult(providerName, walletConnectionInfo) {\r\n        this.providerInfo = new ProviderInfo(walletConnectionInfo);\r\n        let connectionInfo = document.getElementById(providerName + 'ConnectionInfo');\r\n        if (!connectionInfo)\r\n            return;\r\n        connectionInfo.classList.replace('alert-warning', 'alert-info');\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        if (this.providerInfo.ChainId != networkInfo.ChainId) {\r\n            let userNetwork = NetworkInfo.getNetworkInfoByChainId(this.providerInfo.ChainId);\r\n            if (!userNetwork) {\r\n                this.showUnsupportedNetworkMessage(connectionInfo);\r\n            }\r\n            else {\r\n                NetworkInfo.setNetworkByChainId(this.providerInfo.ChainId);\r\n            }\r\n        }\r\n        let str = 'Connecting to you wallet \"' + this.providerInfo.WalletName + '\" to address ' + shortEth(this.providerInfo.UserAddress);\r\n        str += '. Open ' + this.providerInfo.WalletName + ' and <strong>Confirm</strong> the sign in.';\r\n        connectionInfo.innerHTML = str;\r\n        connectionInfo.classList.remove('d-none');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/AUSDService.ts\nvar AUSDService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass AUSDService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getAUSDBalanceOf(ethAddress) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            if (AUSDService.lastUpdate && AUSDService.aUSDAmount &&\r\n                DateHelper.isOlderThen(AUSDService.lastUpdate, 5)) {\r\n                return AUSDService.aUSDAmount;\r\n            }\r\n            let options = yield this.getOptions(\"balanceOf\", {\r\n                account: ethAddress\r\n            });\r\n            return yield this.moralis.executeFunction(options).then(balanceOf => {\r\n                let amount = this.moralis.Units.FromWei(balanceOf.toString(), 18);\r\n                AUSDService.aUSDAmount = new (bignumber_default())(amount);\r\n                AUSDService.lastUpdate = new Date();\r\n                return AUSDService.aUSDAmount;\r\n            }).catch((reason) => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                ErrorInfo.report(blockchainError);\r\n                return new (bignumber_default())(0);\r\n            });\r\n        });\r\n    }\r\n    getAUsdAbi() {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            if (AUSDService.AUSDInfo)\r\n                return AUSDService.AUSDInfo.abi;\r\n            let response = yield fetch('../abi/aUSD.json');\r\n            AUSDService.AUSDInfo = yield response.json();\r\n            return AUSDService.AUSDInfo.abi;\r\n        });\r\n    }\r\n    transfer(symbolAddress, qty) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            const options = yield this.getOptions('transfer', {\r\n                recipient: symbolAddress,\r\n                amount: Moralis.Units.Token(qty.toString(), 18)\r\n            });\r\n            let result = yield Moralis.executeFunction(options)\r\n                .then(result => { return result; })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            AUSDService.aUSDAmount = undefined;\r\n            AUSDService.lastUpdate = undefined;\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, params) {\r\n        return AUSDService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let abi = yield this.getAUsdAbi();\r\n            const options = {\r\n                contractAddress: contractInfo.AUSD_ADDRESS,\r\n                functionName: functionName,\r\n                abi: abi,\r\n                params: params,\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/FakeFunding.html\n// Module\nvar FakeFunding_code = \"<article>\\r\\n    <div id=\\\"beforeFunding\\\">\\r\\n        To use liminal.market you need some aUSD. aUSD is the same value as USD.\\r\\n        We can give you some aUSD (this is all fake money), so you can play with the system.\\r\\n\\r\\n        First, you need to add aUSD to you wallet.\\r\\n\\r\\n        <button id=\\\"addTokenToWallet\\\">Add aUSD to wallet</button>\\r\\n        <blockquote id=\\\"needToCopy\\\" class=\\\"d-none\\\">\\r\\n            If the button didn't work, you can copy the address here and import it into your wallet\\r\\n            <input value=\\\"{{aUSDAddress}}\\\"/>\\r\\n        </blockquote>\\r\\n        When you have aUSD to you wallet, you can request some money to trade with.\\r\\n\\r\\n        <button id=\\\"requestFakeAUSD\\\">Request some aUSD</button>\\r\\n        <div class=\\\"warningBar notificationBar d-none\\\" id=\\\"fundingError\\\"></div>\\r\\n    </div>\\r\\n    <div id=\\\"afterFunding\\\" class=\\\"d-none center\\\">\\r\\n        We have now sending aUSD to your wallet. This usually takes few minutes, so lets wait.\\r\\n<br /><br />\\r\\n        When you have the aUSD in you wallet, we will tell you.\\r\\n        <div>\\r\\n            <h3>Current aUSD balance</h3>\\r\\n            <div id=\\\"currentAUSDBalance\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"errorAfterTryFunding\\\" class=\\\"d-none\\\">\\r\\n        We had an error while trying to fund you. We'll be cracking at the issue soon to fix it.\\r\\n        Try again in few minutes. If not, try again in few hours.\\r\\n    </div>\\r\\n</article>\";\n// Exports\n/* harmony default export */ const FakeFunding = (FakeFunding_code);\n;// CONCATENATED MODULE: ./src/services/broker/FundingService.ts\nvar FundingService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass FundingService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    requestFakeFunding() {\r\n        return FundingService_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            return yield this.moralis.Cloud.run('fundUser', { chainId: networkInfo.ChainId });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/AUSDFund.ts\nvar AUSDFund_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AUSDFund {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.currentBalance = new (bignumber_default())(-1);\r\n    }\r\n    showAUSDFund(callback) {\r\n        //this is real instruction how to transfer to broker\r\n        callback();\r\n    }\r\n    showAUSDFakeFund(callback) {\r\n        let template = Handlebars.compile(FakeFunding);\r\n        let contractInfo = ContractInfo.getContractInfo();\r\n        let content = template({ aUSDAddress: contractInfo.AUSD_ADDRESS });\r\n        let modal = new Modal();\r\n        modal.showModal('Fund my account (Fake money)', content);\r\n        let addToWallet = document.getElementById('addTokenToWallet');\r\n        if (!addToWallet)\r\n            return;\r\n        addToWallet.addEventListener('click', (evt) => AUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            let result = yield walletHelper.addTokenToWallet(contractInfo.AUSD_ADDRESS, 'aUSD', () => {\r\n                this.showCopyField();\r\n            });\r\n            if (!result)\r\n                this.showCopyField();\r\n        }));\r\n        let requestFakeAUSD = document.getElementById('requestFakeAUSD');\r\n        if (!requestFakeAUSD)\r\n            return;\r\n        requestFakeAUSD.addEventListener('click', (evt) => AUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            requestFakeAUSD.setAttribute('aria-busy', 'true');\r\n            let fundingService = new FundingService(this.moralis);\r\n            let result = yield fundingService.requestFakeFunding()\r\n                .catch((reason) => {\r\n                this.errorWhileFunding({});\r\n            });\r\n            console.log('success', result.success);\r\n            if (!result.success) {\r\n                console.log(result);\r\n                let fundingError = document.getElementById('fundingError');\r\n                if (fundingError) {\r\n                    requestFakeAUSD.removeAttribute('aria-busy');\r\n                    fundingError.classList.remove('d-none');\r\n                    fundingError.innerHTML = result.message;\r\n                    setTimeout(() => {\r\n                        fundingError.classList.add('d-none');\r\n                    }, 10 * 1000);\r\n                }\r\n            }\r\n            else if (result.success) {\r\n                let beforeFunding = document.getElementById('beforeFunding');\r\n                let afterFunding = document.getElementById('afterFunding');\r\n                if (!beforeFunding || !afterFunding)\r\n                    return;\r\n                yield this.loadAUSDBalance();\r\n                beforeFunding.classList.add('d-none');\r\n                afterFunding.classList.remove('d-none');\r\n            }\r\n            else {\r\n                this.errorWhileFunding(result);\r\n            }\r\n            //callback();\r\n        }));\r\n    }\r\n    loadAUSDBalance() {\r\n        return AUSDFund_awaiter(this, void 0, void 0, function* () {\r\n            let currentAUSDBalance = document.getElementById('currentAUSDBalance');\r\n            if (!currentAUSDBalance)\r\n                return;\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let userService = new UserService(this.moralis);\r\n            let ethAddress = userService.getEthAddress();\r\n            let amount = yield aUSDService.getAUSDBalanceOf(ethAddress);\r\n            currentAUSDBalance.innerHTML = '$' + roundBigNumber(amount).toString();\r\n            if (this.currentBalance.eq(-1)) {\r\n                this.currentBalance = amount;\r\n            }\r\n            if (this.currentBalance.eq(amount)) {\r\n                setTimeout(() => AUSDFund_awaiter(this, void 0, void 0, function* () {\r\n                    yield this.loadAUSDBalance();\r\n                }), 5 * 1000);\r\n            }\r\n            else {\r\n                window.location.reload();\r\n            }\r\n        });\r\n    }\r\n    showCopyField() {\r\n        let needToCopy = document.getElementById('needToCopy');\r\n        if (!needToCopy)\r\n            return;\r\n        needToCopy.classList.remove('d-none');\r\n    }\r\n    errorWhileFunding(result) {\r\n        let beforeFunding = document.getElementById('beforeFunding');\r\n        let errorAfterFunding = document.getElementById('errorAfterTryFunding');\r\n        if (!beforeFunding || !errorAfterFunding)\r\n            return;\r\n        if (result.message) {\r\n            errorAfterFunding.innerHTML = result.message;\r\n        }\r\n        beforeFunding.classList.add('d-none');\r\n        errorAfterFunding.classList.remove('d-none');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/AUsdBalance.ts\nvar AUsdBalance_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass AUsdBalance {\r\n    constructor(moralis, user) {\r\n        this.user = user;\r\n        this.moralis = moralis;\r\n    }\r\n    loadAUSDBalanceUI() {\r\n        return AUsdBalance_awaiter(this, void 0, void 0, function* () {\r\n            if (!this.user)\r\n                return;\r\n            let userInfoAUsdBalance = document.getElementById('userInfoAUsdBalance');\r\n            let frontpageAUsdBalance = document.getElementById('frontpageAUsdBalance');\r\n            if (!this.user.get('alpacaId')) {\r\n                frontpageAUsdBalance === null || frontpageAUsdBalance === void 0 ? void 0 : frontpageAUsdBalance.classList.add('hidden');\r\n                userInfoAUsdBalance === null || userInfoAUsdBalance === void 0 ? void 0 : userInfoAUsdBalance.classList.add('hidden');\r\n                return;\r\n            }\r\n            else {\r\n                frontpageAUsdBalance === null || frontpageAUsdBalance === void 0 ? void 0 : frontpageAUsdBalance.classList.remove('hidden');\r\n                userInfoAUsdBalance === null || userInfoAUsdBalance === void 0 ? void 0 : userInfoAUsdBalance.classList.remove('hidden');\r\n            }\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let aUsdValue = yield aUSDService.getAUSDBalanceOf(this.user.get('ethAddress'));\r\n            aUsdValue = roundBigNumber(aUsdValue);\r\n            let frontpageAUSDBalance = document.getElementById('front_page_aUSD_balance');\r\n            if (frontpageAUSDBalance)\r\n                frontpageAUSDBalance.innerHTML = '$' + aUsdValue;\r\n            let userInfoAUSDBalance = document.getElementById('user_info_ausd_balance');\r\n            if (userInfoAUSDBalance)\r\n                userInfoAUSDBalance.innerHTML = '$' + aUsdValue;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let fund_accountButtons = document.querySelectorAll('.fund_account');\r\n            fund_accountButtons.forEach(element => {\r\n                let aUSDFundingModal = new AUSDFund(this.moralis);\r\n                if (networkInfo.TestNetwork) {\r\n                    element.innerHTML = 'Click for some aUSD';\r\n                    element.addEventListener('click', (evt) => {\r\n                        evt.preventDefault();\r\n                        aUSDFundingModal.showAUSDFakeFund(() => {\r\n                        });\r\n                    });\r\n                }\r\n                else {\r\n                    element.innerHTML = 'Fund your account';\r\n                    element.addEventListener('click', (evt) => {\r\n                        evt.preventDefault();\r\n                        aUSDFundingModal.showAUSDFund(() => {\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n            if (aUsdValue.isLessThan(10)) {\r\n                let frontpage_fund_account = document.getElementById('frontpage_fund_account');\r\n                if (!frontpage_fund_account)\r\n                    return;\r\n                frontpage_fund_account.classList.remove('hidden');\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/KYCService.ts\nvar KYCService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass KYCService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getKYCAbi() {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            if (KYCService.KYCInfo)\r\n                return KYCService.KYCInfo.abi;\r\n            const response = yield fetch(\"../abi/KYC.json\");\r\n            KYCService.KYCInfo = yield response.json();\r\n            return KYCService.KYCInfo.abi;\r\n        });\r\n    }\r\n    hasValidKYC() {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            if (KYCService.KycResponse && KYCService.KycResponse.isValidKyc)\r\n                return KYCService.KycResponse;\r\n            KYCService.KycResponse = (yield this.moralis.Cloud.run('isValidKyc', { chainId: this.moralis.chainId })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                if (blockchainError.addressIsNotValidKYC()) {\r\n                    return false;\r\n                }\r\n                ErrorInfo.report(blockchainError);\r\n                return false;\r\n            }));\r\n            if (KYCService.KycResponse.alpacaId) {\r\n                let user = this.moralis.User.current();\r\n                user === null || user === void 0 ? void 0 : user.set('alpacaId', KYCService.KycResponse.alpacaId);\r\n                let aUsdBalance = new AUsdBalance(this.moralis, user);\r\n                yield aUsdBalance.loadAUSDBalanceUI();\r\n            }\r\n            return KYCService.KycResponse;\r\n        });\r\n    }\r\n    saveKYCInfo(data) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"kycRegistration\", data);\r\n        });\r\n    }\r\n    updateKYCInfo(data) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"updateAccount\", data);\r\n        });\r\n    }\r\n    isValidAccountId(str) {\r\n        const regex = new RegExp('^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$');\r\n        return regex.test(str);\r\n    }\r\n    updateDocuments(params) {\r\n        return KYCService_awaiter(this, void 0, void 0, function* () {\r\n            let user = this.moralis.User.current();\r\n            if (!user)\r\n                throw new GeneralError(\"You need to be logged in to do KYC. Please login again.\");\r\n            return yield this.moralis.Cloud.run(\"kycActionRequiredUpdate\", params);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/blockchain/SecurityTokenService.ts\nvar SecurityTokenService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SecurityTokenService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getQuantityByAddress(symbol, ethAddress) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let liminalMarketService = new LiminalMarketService(this.moralis);\r\n            let symbolAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (symbolAddress === AddressZero)\r\n                return new (bignumber_default())(0);\r\n            let options = yield this.getOptions('balanceOf', symbolAddress, {\r\n                account: ethAddress\r\n            });\r\n            return yield this.moralis.executeFunction(options)\r\n                .then(balanceOf => {\r\n                let amount = this.moralis.Units.FromWei(balanceOf.toString(), 18);\r\n                return new (bignumber_default())(amount);\r\n            }).catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                ErrorInfo.report(blockchainError);\r\n                return new (bignumber_default())(0);\r\n            });\r\n        });\r\n    }\r\n    transfer(symbolAddress, qty) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let options = yield this.getOptions('transfer', symbolAddress, {\r\n                recipient: contractInfo.AUSD_ADDRESS,\r\n                amount: Moralis.Units.Token(qty.toString(), 18)\r\n            });\r\n            let result = yield this.moralis.executeFunction(options)\r\n                .then(result => {\r\n                return result;\r\n            })\r\n                .catch(reason => {\r\n                let blockchainError = new BlockchainError(reason);\r\n                throw ErrorInfo.report(blockchainError);\r\n            });\r\n            return result;\r\n        });\r\n    }\r\n    getOptions(functionName, symbolAddress, params) {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            let securitySymbolAbi = yield this.getSecurityTokenAbi();\r\n            const options = {\r\n                contractAddress: symbolAddress,\r\n                functionName: functionName,\r\n                abi: securitySymbolAbi,\r\n                params: params\r\n            };\r\n            return options;\r\n        });\r\n    }\r\n    getSecurityTokenAbi() {\r\n        return SecurityTokenService_awaiter(this, void 0, void 0, function* () {\r\n            if (SecurityTokenService.SecurityTokenInfo)\r\n                return SecurityTokenService.SecurityTokenInfo.abi;\r\n            let response = yield fetch('../abi/SecurityToken.json');\r\n            SecurityTokenService.SecurityTokenInfo = yield response.json();\r\n            return SecurityTokenService.SecurityTokenInfo.abi;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/Progress.ts\nclass Progress {\r\n    show(message, percentage, warning, hideElements) {\r\n        let progress = document.getElementById('progress');\r\n        if (!progress)\r\n            return;\r\n        if (hideElements) {\r\n            hideElements.forEach((el) => {\r\n                let element = document.getElementById(el);\r\n                if (!element)\r\n                    return;\r\n                element.style.display = 'none';\r\n            });\r\n        }\r\n        progress.style.display = 'block';\r\n        progress.innerHTML = '<div class=\"progress_text\">' + message + '</div>';\r\n        progress.style.width = percentage + '%';\r\n        progress.classList.toggle('progress-bar-striped', (percentage != 100));\r\n        progress.classList.toggle('progress-bar-animated', (percentage != 100));\r\n        if (warning) {\r\n            progress.classList.add('bg-warning');\r\n            progress.classList.add('progress_text_attn');\r\n        }\r\n        else {\r\n            progress.classList.remove('bg-warning');\r\n            progress.classList.remove('progress_text_attn');\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/Subscription.ts\nvar Subscription_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass Subscription {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getOrderBuyTablePrefix() {\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        return networkInfo.Name;\r\n    }\r\n    ;\r\n    subscribeToTable(tradeType, onUpdateCallback) {\r\n        return Subscription_awaiter(this, void 0, void 0, function* () {\r\n            let tableName = this.getOrderBuyTablePrefix() + 'Order' + tradeType;\r\n            console.log('subscribe to table:' + tableName);\r\n            let query = new this.moralis.Query(tableName);\r\n            let subscription = yield query.subscribe();\r\n            subscription.on('update', (response) => {\r\n                const object = response.toJSON();\r\n                console.log('object updated', JSON.stringify(object), object);\r\n                let ethLink = ' <a class=\"white-link\" target=\"_blank\" href=\"https://mumbai.polygonscan.com/tx/' + object.transaction_hash + '\">View transaction</a>';\r\n                onUpdateCallback(object);\r\n                console.log('status:', object.status);\r\n                let progress = new Progress();\r\n                if ((!object.status && object.confirmed) || object.status == 'money_sent') {\r\n                    progress.show('Blockchain has confirmed, money has been sent to broker.' + ethLink, 56);\r\n                    //blockchain has confirmed, money will arrive soon to broker\r\n                }\r\n                else if (object.status == 'money_arrived') {\r\n                    progress.show('Money has arrived, will now execute your buy order.' + ethLink, 70);\r\n                    //money has arrived to broker, we will now execute your order\r\n                }\r\n                else if (object.status == 'order_requested') {\r\n                    //order has been executed, we are waiting on response from the stock exchange\r\n                    progress.show('Buy order has been executed. We will update you when it has been filled.' + ethLink, 84);\r\n                }\r\n                else if (object.status == 'order_filled') {\r\n                    //order has been filled, you got object.filledQty of shares. You will see it soon in your wallet\r\n                    progress.show('Order has been filled, you will receive ' + object.filledQty + ' ' + Symbol + ' soon into your wallet.' + ethLink, 100);\r\n                }\r\n                else {\r\n                    progress.show('Waiting for blockchain to confirm transaction.', 99);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/enums/TradeType.ts\nvar TradeType;\r\n(function (TradeType) {\r\n    TradeType[\"Sell\"] = \"Sell\";\r\n    TradeType[\"Buy\"] = \"Buy\";\r\n})(TradeType || (TradeType = {}));\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/ExecuteTradeButton.html\n// Module\nvar ExecuteTradeButton_code = \"<button id=\\\"liminal_market_execute_trade\\\"></button>\";\n// Exports\n/* harmony default export */ const tradepanel_ExecuteTradeButton = (ExecuteTradeButton_code);\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeExecuted.html\n// Module\nvar TradeExecuted_code = \"\\r\\n<article class=\\\"trade_executed\\\">\\r\\n    <nav>\\r\\n    <ul>\\r\\n        <li>\\r\\n            <img src=\\\"{{sellingLogo}}\\\"><br />\\r\\n            {{sellingSymbol}}<br />\\r\\n            {{sellingAmount}}\\r\\n        </li>\\r\\n    </ul>\\r\\n    <ul>\\r\\n        <li> ----> </li>\\r\\n    </ul>\\r\\n    <ul>\\r\\n        <li>\\r\\n            <img src=\\\"{{buyingLogo}}\\\" /><br />\\r\\n            {{buyingSymbol}}<br />\\r\\n            <abbr title=\\\"{{buyingQuantity}}\\\" data-tooltip=\\\"{{buyingQuantity}}\\\">{{buyingRoundQuantity}}</abbr>\\r\\n        </li>\\r\\n    </ul>\\r\\n    </nav>\\r\\n    <div>\\r\\n        If you haven't already, add the {{buyingSymbol}} to your wallet.\\r\\n        <br /><br />\\r\\n        <button id=\\\"addTokenToWallet\\\" data-address=\\\"{{tokenAddress}}\\\">Add {{buyingSymbol}} to wallet</button>\\r\\n        <div id=\\\"addTokenToWalletFailed\\\" class=\\\"d-none\\\">\\r\\n            You can copy the address, to import the token\\r\\n            <input value=\\\"{{tokenAddress}}\\\" />\\r\\n        </div>\\r\\n        <br />\\r\\n        Should be visible in your {{walletName}} on address {{shortEthAddress}}.\\r\\n        <br /><br />\\r\\n        <small>You can view the <a href=\\\"{{blockExplorerLink}}\\\" target=\\\"_blank\\\">block transaction here</a></small>\\r\\n    </div>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const TradeExecuted = (TradeExecuted_code);\n;// CONCATENATED MODULE: ./src/html/modal/FakeNativeTokenNeeded.html\n// Module\nvar FakeNativeTokenNeeded_code = \"You need to have {{symbol}} currency in your wallet. You use {{symbol}} to pay for using the blockchain.\\r\\n\\r\\nTo get some {{symbol}} currency\\r\\n<ol>\\r\\n    <li>Copy your address shown below\\r\\n        <input value=\\\"{{ethAddress}}\\\" />\\r\\n    </li>\\r\\n    <li>Open <a href=\\\"{{faucetUrl}}\\\" id=\\\"getNativeTokens\\\" target=\\\"_blank\\\">{{faucetUrl}}</a></li>\\r\\n    <li>Paste in your address you just copied and click the submit button</li>\\r\\n</ol>\\r\\n\\r\\n<div class=\\\"infoBar d-none\\\" id=\\\"waitingForNativeToken\\\">Waiting for {{symbol}}. Window will close when you have some in\\r\\n    you wallet.\\r\\n    It might take few minutes after you requested it.\\r\\n    <progress></progress>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const FakeNativeTokenNeeded = (FakeNativeTokenNeeded_code);\n;// CONCATENATED MODULE: ./src/html/modal/NativeTokenNeeded.html\n// Module\nvar NativeTokenNeeded_code = \"You need to have {{symbol}} currency in your wallet. You use {{symbol}} to pay for using the blockchain.\\r\\n\\r\\nTo get some {{symbol}} currency\\r\\n<ol>\\r\\n    <li>Copy your address shown below\\r\\n        <input value=\\\"{{ethAddress}}\\\" />\\r\\n    </li>\\r\\n    <li>Open <a href=\\\"{{buyUrl}}\\\" target=\\\"_blank\\\">{{buyUrl}}</a></li>\\r\\n    <li>Paste in your address you just copied and click the submit button</li>\\r\\n</ol>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const modal_NativeTokenNeeded = (NativeTokenNeeded_code);\n;// CONCATENATED MODULE: ./src/ui/modals/NativeTokenNeeded.ts\nvar NativeTokenNeeded_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass NativeTokenNeeded {\r\n    constructor(moralis, onNativeTokenArrived) {\r\n        this.timeOut = undefined;\r\n        this.moralis = moralis;\r\n        this.onNativeTokenArrived = onNativeTokenArrived;\r\n        this.modal = new Modal();\r\n    }\r\n    show() {\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        let userService = new UserService();\r\n        let ethAddress = userService.getEthAddress();\r\n        if (networkInfo.TestNetwork) {\r\n            let template = Handlebars.compile(FakeNativeTokenNeeded);\r\n            let content = template({ symbol: networkInfo.NativeSymbol, faucetUrl: networkInfo.FaucetUrl, ethAddress: ethAddress });\r\n            this.modal.showModal('Get some ' + networkInfo.NativeSymbol, content, false, () => {\r\n                this.cancelTimer();\r\n            });\r\n        }\r\n        else {\r\n            let template = Handlebars.compile(modal_NativeTokenNeeded);\r\n            let content = template({ symbol: networkInfo.NativeSymbol, buyUrl: networkInfo.BuyUrl, ethAddress: ethAddress });\r\n            this.modal.showModal('Get some ' + networkInfo.NativeSymbol, content, false, () => {\r\n                this.cancelTimer();\r\n            });\r\n        }\r\n        let link = document.getElementById('getNativeTokens');\r\n        if (!link)\r\n            return;\r\n        link.addEventListener('click', () => NativeTokenNeeded_awaiter(this, void 0, void 0, function* () {\r\n            let waitingForNativeToken = document.getElementById('waitingForNativeToken');\r\n            waitingForNativeToken === null || waitingForNativeToken === void 0 ? void 0 : waitingForNativeToken.classList.remove('d-none');\r\n            yield this.checkForNativeTokens();\r\n        }));\r\n    }\r\n    cancelTimer() {\r\n        if (this.timeOut)\r\n            clearTimeout(this.timeOut);\r\n    }\r\n    checkForNativeTokens() {\r\n        return NativeTokenNeeded_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let hasEnoughNativeTokens = yield networkInfo.hasEnoughNativeTokens(this.moralis);\r\n            if (hasEnoughNativeTokens) {\r\n                this.modal.hideModal();\r\n                this.onNativeTokenArrived();\r\n            }\r\n            else {\r\n                this.timeOut = setTimeout(() => this.checkForNativeTokens(), 5 * 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycActionRequired.html\n// Module\nvar KycActionRequired_code = \"<div id=\\\"kycActionRequiredDiv\\\">\\r\\n\\r\\n    {{#if Other}}\\r\\n    <strong>This is the message from KYC processor we received</strong>\\r\\n    <blockquote>\\r\\n        {{Other}}\\r\\n    </blockquote>\\r\\n    {{/if}}\\r\\n    <form novalidate id=\\\"kycActionRequiredForm\\\" name=\\\"kycActionRequiredForm\\\" onsubmit=\\\"return false;\\\">\\r\\n        {{{KycInfo}}}\\r\\n        {{#if SubmitData}}\\r\\n        <div class=\\\"input_error\\\" id=\\\"kycActionRequiredError\\\"></div>\\r\\n        <div class=\\\"buttons\\\">\\r\\n            <button type=\\\"submit\\\" id=\\\"kycActionRequiredSubmit\\\">Send new information</button>\\r\\n        </div>\\r\\n        {{/if}}\\r\\n    </form>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"kycActionRequiredSubmittedDiv\\\" class=\\\"hidden center\\\">\\r\\n    <h3>You documents have been submitted.<br/>We will email you when your account is ready.</h3>\\r\\n    You can close this window.\\r\\n</div>\";\n// Exports\n/* harmony default export */ const Kyc_KycActionRequired = (KycActionRequired_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/WeDontKnowWhy.html\n// Module\nvar WeDontKnowWhy_code = \"<fieldset>\\r\\n    Your application has been rejected during KYC process.<br/><br/>\\r\\n    We don't have the information on why that happened, but you can email us at\\r\\n    <a href='mailto:info@liminal.market?subject=My application was rejected&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\\r\\n    and we can find out, and we should be able to solve it together.\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const WeDontKnowWhy = (WeDontKnowWhy_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/IDENTITY_VERIFICATION.html\n// Module\nvar IDENTITY_VERIFICATION_code = \"<fieldset>\\r\\n    <p>\\r\\n        Identity needs to be verified.\\r\\n        This means you need to upload\\r\\n        a new photo of your id. You might try another type of ID, such as\\r\\n        driver's license if you tried passport before\\r\\n    </p>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const IDENTITY_VERIFICATION = (IDENTITY_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/ADDRESS_VERIFICATION.html\n// Module\nvar ADDRESS_VERIFICATION_code = \"<fieldset>\\r\\n    <p>\\r\\n        Address needs to be verified. Please upload document that confirms your address.\\r\\n        A bill from the government or utility company in that last 30 days with your name it should work.\\r\\n    </p>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"address_verification\\\" \\\"Picture of address verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const ADDRESS_VERIFICATION = (ADDRESS_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/AFFILIATED.html\n// Module\nvar AFFILIATED_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is affiliated to finra or an exchange\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const AFFILIATED = (AFFILIATED_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/CONTROL_PERSON.html\n// Module\nvar CONTROL_PERSON_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is a control person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const CONTROL_PERSON = (CONTROL_PERSON_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/COUNTRY_NOT_SUPPORTED.html\n// Module\nvar COUNTRY_NOT_SUPPORTED_code = \"<fieldset>\\r\\n    The account owner’s country of tax residence is not supported by our KYC providers.\\r\\n    In this case, we’ll manually perform KYC on the user\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const COUNTRY_NOT_SUPPORTED = (COUNTRY_NOT_SUPPORTED_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/DATE_OF_BIRTH.html\n// Module\nvar DATE_OF_BIRTH_code = \"<fieldset>\\r\\n    Date of birth needs to be verified. Please upload document that confirms your date of birth.\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"date_of_birth_verification\\\" \\\"Date of birth verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const DATE_OF_BIRTH = (DATE_OF_BIRTH_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/FAMILY_MEMBER_PEP.html\n// Module\nvar FAMILY_MEMBER_PEP_code = \"<fieldset>\\r\\n    Further information needs to be submitted if family member is a politically exposed person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const FAMILY_MEMBER_PEP = (FAMILY_MEMBER_PEP_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/INVALID_IDENTITY_PASSPORT.html\n// Module\nvar INVALID_IDENTITY_PASSPORT_code = \"<fieldset>\\r\\n    Identity needs to be verified via a government issued ID.\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const INVALID_IDENTITY_PASSPORT = (INVALID_IDENTITY_PASSPORT_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/PEP.html\n// Module\nvar PEP_code = \"<fieldset>\\r\\n    Further information needs to be submitted if account owner is politically exposed person\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const PEP = (PEP_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/SELFIE_VERIFICATION.html\n// Module\nvar SELFIE_VERIFICATION_code = \"<fieldset>\\r\\n    Identity needs to be verified via a live selfie of the account owner\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Live selfie verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const SELFIE_VERIFICATION = (SELFIE_VERIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/TAX_IDENTIFICATION.html\n// Module\nvar TAX_IDENTIFICATION_code = \"<fieldset>\\r\\n    Tax ID number needs to be verified. Please upload document that confirms your Tax Id\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"tax_id_verification\\\" \\\"Tax id verification\\\"}}}\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const TAX_IDENTIFICATION = (TAX_IDENTIFICATION_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/VISA_TYPE_OTHER.html\n// Module\nvar VISA_TYPE_OTHER_code = \"<fieldset>\\r\\n    Further information needs to be submitted about account owner’s visa\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const VISA_TYPE_OTHER = (VISA_TYPE_OTHER_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/ActionRequired/W8BEN_CORRECTION.html\n// Module\nvar W8BEN_CORRECTION_code = \"<fieldset>\\r\\n    Identifying information submitted by the user was incorrect so a new, corrected, W8BEN needs to be submitted\\r\\n    <br/>\\r\\n    Please contact us at <a href=\\\"mailto:info@liminal.market\\\">info@liminal.market</a> for further information\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const W8BEN_CORRECTION = (W8BEN_CORRECTION_code);\n;// CONCATENATED MODULE: ./src/html/elements/FileUpload.html\n// Module\nvar FileUpload_code = \"<div>\\r\\n    <label for=\\\"{{inputId}}\\\">{{label}}</label>\\r\\n    <input type=\\\"file\\\" required id=\\\"{{inputId}}\\\" accept=\\\"{{accept}}\\\" capture=\\\"{{capture}}\\\"/>\\r\\n    <input type=\\\"hidden\\\" id=\\\"{{inputId}}_base64\\\" name=\\\"{{inputId}}_base64\\\"/>\\r\\n    <div class=\\\"error hidden\\\" id=\\\"{{inputId}}_error\\\"></div>\\r\\n</div>\\r\\n<div id=\\\"{{inputId}}_preview\\\">\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const elements_FileUpload = (FileUpload_code);\n;// CONCATENATED MODULE: ./src/ui/elements/FileUpload.ts\n\r\nclass FileUpload {\r\n    constructor(inputId, label, accept = \"image/png,image/jpeg,.pdf\", capture = 'environment') {\r\n        this.maxFileSize = 8 * 1024 * 1024 * 10; //10MB\r\n        this.accept = \"image/*,.pdf\";\r\n        this.capture = 'environment';\r\n        this.inputId = inputId;\r\n        this.label = label;\r\n        this.accept = accept;\r\n        this.capture = capture;\r\n    }\r\n    render() {\r\n        let template = Handlebars.compile(elements_FileUpload);\r\n        return template(this);\r\n    }\r\n    bindEvents() {\r\n        let fileInput = document.getElementById(this.inputId);\r\n        fileInput === null || fileInput === void 0 ? void 0 : fileInput.addEventListener('change', (evt) => {\r\n            this.processFile(fileInput);\r\n        });\r\n    }\r\n    processFile(element) {\r\n        this.hideFileRelatedInfo(element.id);\r\n        let files = element.files;\r\n        if (!files)\r\n            return;\r\n        let file = files[0];\r\n        if (!file) {\r\n            this.showFileRelatedInfo(element.id, 'No file selected. Please select file.');\r\n            this.setBase64Input(element.id, '');\r\n            return;\r\n        }\r\n        if (file.size > this.maxFileSize) {\r\n            this.showFileRelatedInfo(element.id, 'File ' + file.name + ' is to large. Files cannot be larger then 10MB. You need to make it smaller before submitting your application');\r\n            this.setBase64Input(element.id, '');\r\n            return;\r\n        }\r\n        let reader = new FileReader();\r\n        reader.addEventListener('load', () => {\r\n            this.setBase64Input(element.id, reader.result);\r\n        });\r\n        reader.addEventListener('error', () => {\r\n            this.showFileRelatedInfo(element.id, 'Could not read file ' + file.name + '. Either the file is corrupt or your browser does not allow us to read it');\r\n        });\r\n        reader.readAsDataURL(file);\r\n    }\r\n    setBase64Input(elementId, value) {\r\n        let base64Input = document.getElementById(elementId + '_base64');\r\n        base64Input.value = value;\r\n        let previewElement = document.getElementById(elementId + '_preview');\r\n        if (!previewElement)\r\n            return;\r\n        if (value.indexOf('data:image') != -1) {\r\n            previewElement.innerHTML = '<img src=\"' + base64Input.value + '\" />';\r\n        }\r\n        else {\r\n            previewElement.innerHTML = '';\r\n        }\r\n    }\r\n    showFileRelatedInfo(elementId, text) {\r\n        let fileRelatedInfo = document.getElementById(elementId + '_error');\r\n        if (!fileRelatedInfo)\r\n            return;\r\n        fileRelatedInfo.innerHTML = text;\r\n        fileRelatedInfo.classList.remove('hidden');\r\n    }\r\n    hideFileRelatedInfo(elementId) {\r\n        let fileRelatedInfo = document.getElementById(elementId + '_error');\r\n        if (!fileRelatedInfo)\r\n            return;\r\n        fileRelatedInfo.classList.add('hidden');\r\n    }\r\n    static registerHandler() {\r\n        Handlebars.registerHelper('fileUpload', (id, label) => {\r\n            let fileUpload = new FileUpload(id, label);\r\n            FileUpload.fileUploads.push(fileUpload);\r\n            return fileUpload.render();\r\n        });\r\n    }\r\n}\r\nFileUpload.fileUploads = [];\r\n\n;// CONCATENATED MODULE: ./src/util/FormValidator.ts\n\r\nclass FormValidator {\r\n    constructor(selector) {\r\n        this.selector = selector;\r\n    }\r\n    validateRequiredFields() {\r\n        let inputs = document.querySelectorAll(this.selector + ' input[required], ' + this.selector + ' select[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (this.isMissingInputFromUser(input)) {\r\n                let obj = {\r\n                    message: 'You must fill into this field',\r\n                    inputName: input.id,\r\n                    labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                    pattern: input.pattern\r\n                };\r\n                this.handle(obj);\r\n                return false;\r\n            }\r\n            if (input.pattern) {\r\n                let pattern = input.pattern;\r\n                let matches = input.value.match(pattern);\r\n                if (matches == null) {\r\n                    let obj = {\r\n                        message: 'This is not valid date format, please use YYYY-MM-DD (year-month-date)',\r\n                        inputName: input.id,\r\n                        labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                        pattern: input.pattern\r\n                    };\r\n                    this.handle(obj);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    isMissingInputFromUser(input) {\r\n        return ((input.type == 'checkbox' && !input.checked) || StringHelper.isNullOrEmpty(input.value));\r\n    }\r\n    removeMissingInfo(errorDivId, focusElementId) {\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.style.display = 'none';\r\n        if (!focusElementId)\r\n            return;\r\n        let focusElement = document.getElementById(focusElementId);\r\n        if (focusElement) {\r\n            focusElement.removeAttribute('aria-invalid');\r\n        }\r\n    }\r\n    setMissingInfo(errorDivId, text, focusElementId) {\r\n        var _a, _b;\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n        if (text == '') {\r\n            element.style.display = 'none';\r\n        }\r\n        else {\r\n            element.style.display = 'block';\r\n            if (focusElementId) {\r\n                (_a = document.getElementById(focusElementId)) === null || _a === void 0 ? void 0 : _a.focus();\r\n                (_b = document.getElementById(focusElementId)) === null || _b === void 0 ? void 0 : _b.setAttribute('aria-invalid', 'true');\r\n            }\r\n        }\r\n    }\r\n    handle(obj) {\r\n        let input = document.getElementById(obj.inputName);\r\n        if (!input)\r\n            return;\r\n        let inputError = input.parentElement.querySelector('.input_error');\r\n        if (inputError) {\r\n            inputError.scrollIntoView({ block: 'center' });\r\n            return;\r\n        }\r\n        input.setAttribute('aria-invalid', 'true');\r\n        input.insertAdjacentHTML(\"beforebegin\", '<div class=\"input_error\" style=\"display: block\" id=\"input_error_' + obj.inputName + '\">' + obj.message + '</div>');\r\n        input.focus();\r\n        if (obj.pattern) {\r\n            input.setAttribute('pattern', obj.pattern);\r\n        }\r\n        input.addEventListener('blur', (evt) => {\r\n            evt.preventDefault();\r\n            setTimeout(() => {\r\n                let input = evt.target;\r\n                let pattern = input.getAttribute('pattern');\r\n                if ((pattern && input.value.match(pattern)) || (input.required && input.value) || input.checked) {\r\n                    input.removeAttribute('aria-invalid');\r\n                    let errorMessage = document.getElementById('input_error_' + obj.inputName);\r\n                    if (errorMessage)\r\n                        errorMessage.remove();\r\n                }\r\n            }, 800);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycActionRequired.ts\nvar KycActionRequired_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycActionRequired {\r\n    constructor(executeTradeButton) {\r\n        this.modal = new Modal();\r\n        this.templates = new Map();\r\n        this.executeTradeButton = executeTradeButton;\r\n        this.templates.set('WeDontKnowWhyHtml', WeDontKnowWhy);\r\n        this.templates.set('ADDRESS_VERIFICATION', ADDRESS_VERIFICATION);\r\n        this.templates.set('AFFILIATED', AFFILIATED);\r\n        this.templates.set('CONTROL_PERSON', CONTROL_PERSON);\r\n        this.templates.set('COUNTRY_NOT_SUPPORTED', COUNTRY_NOT_SUPPORTED);\r\n        this.templates.set('DATE_OF_BIRTH', DATE_OF_BIRTH);\r\n        this.templates.set('FAMILY_MEMBER_PEP', FAMILY_MEMBER_PEP);\r\n        this.templates.set('IDENTITY_VERIFICATION', IDENTITY_VERIFICATION);\r\n        this.templates.set('INVALID_IDENTITY_PASSPORT', INVALID_IDENTITY_PASSPORT);\r\n        this.templates.set('PEP', PEP);\r\n        this.templates.set('SELFIE_VERIFICATION', SELFIE_VERIFICATION);\r\n        this.templates.set('TAX_IDENTIFICATION', TAX_IDENTIFICATION);\r\n        this.templates.set('VISA_TYPE_OTHER', VISA_TYPE_OTHER);\r\n        this.templates.set('W8BEN_CORRECTION', W8BEN_CORRECTION);\r\n        FileUpload.registerHandler();\r\n    }\r\n    show() {\r\n        return KycActionRequired_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(Moralis);\r\n            let kycResult = yield userService.kycActionRequired();\r\n            if (!kycResult)\r\n                return;\r\n            let kycInfo = this.getKycMessages(kycResult.messages);\r\n            let template = Handlebars.compile(Kyc_KycActionRequired);\r\n            let content = template({\r\n                json: JSON.stringify(kycResult),\r\n                KycInfo: kycInfo,\r\n                Other: kycResult.additional_information,\r\n                SubmitData: kycInfo.indexOf('<input') != -1\r\n            });\r\n            this.modal.showModal('Action required', content, false, () => {\r\n            }, false);\r\n            let kycActionRequiredForm = document.getElementById('kycActionRequiredForm');\r\n            kycActionRequiredForm === null || kycActionRequiredForm === void 0 ? void 0 : kycActionRequiredForm.addEventListener('submit', (evt) => KycActionRequired_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                this.hideError();\r\n                let submitBtn = document.getElementById('kycActionRequiredSubmit');\r\n                LoadingHelper.setLoading(submitBtn);\r\n                let formValidator = new FormValidator('#kycActionRequiredForm');\r\n                if (!formValidator.validateRequiredFields())\r\n                    return;\r\n                let params = FormHelper.getParams('#kycActionRequiredForm');\r\n                let kycService = new KYCService(Moralis);\r\n                yield kycService.updateDocuments(params)\r\n                    .then(() => {\r\n                    let kycActionRequiredDiv = document.getElementById('kycActionRequiredDiv');\r\n                    kycActionRequiredDiv === null || kycActionRequiredDiv === void 0 ? void 0 : kycActionRequiredDiv.classList.add('hidden');\r\n                    let kycActionRequiredSubmittedDiv = document.getElementById('kycActionRequiredSubmittedDiv');\r\n                    kycActionRequiredSubmittedDiv === null || kycActionRequiredSubmittedDiv === void 0 ? void 0 : kycActionRequiredSubmittedDiv.classList.remove('hidden');\r\n                    this.executeTradeButton.checkKycIsDone();\r\n                    this.executeTradeButton.renderButton();\r\n                })\r\n                    .catch(reason => {\r\n                    this.showError(reason);\r\n                }).finally(() => {\r\n                    LoadingHelper.removeLoading();\r\n                });\r\n            }));\r\n            for (let i = 0; i < FileUpload.fileUploads.length; i++) {\r\n                FileUpload.fileUploads[i].bindEvents();\r\n            }\r\n        });\r\n    }\r\n    getKycMessages(messages) {\r\n        let kycInfo = '';\r\n        for (let i = 0; i < messages.length; i++) {\r\n            let htmlTemplate = this.templates.get(messages[i].key);\r\n            if (!htmlTemplate) {\r\n                //TODO: Here we should to logger, critical that we dont know why\r\n                continue;\r\n            }\r\n            let template = Handlebars.compile(htmlTemplate);\r\n            kycInfo += template({ message: messages[i].message });\r\n        }\r\n        if (kycInfo == '') {\r\n            let html = this.templates.get('WeDontKnowWhyHtml');\r\n            let template = Handlebars.compile(html);\r\n            kycInfo = template({});\r\n        }\r\n        return kycInfo;\r\n    }\r\n    hideError() {\r\n        let kycActionRequiredError = document.getElementById('kycActionRequiredError');\r\n        if (!kycActionRequiredError)\r\n            return;\r\n        kycActionRequiredError.style.display = 'none';\r\n    }\r\n    showError(reason) {\r\n        let kycActionRequiredError = document.getElementById('kycActionRequiredError');\r\n        if (!kycActionRequiredError)\r\n            return;\r\n        kycActionRequiredError.innerHTML = 'Error occurred while saving your documents. Reason:' + reason;\r\n        kycActionRequiredError.style.display = 'block';\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/KYCModal.html\n// Module\nvar KYCModal_code = \"<div id=\\\"kyc_reg\\\">\\r\\n\\r\\n    <form id=\\\"kyc_wizard_form\\\" name=\\\"kyc_wizard_form\\\" novalidate onsubmit=\\\"return false\\\">\\r\\n        {{{KycContactHtml}}}\\r\\n        {{{KycIdentityHtml}}}\\r\\n        {{{KycTrustedContactHtml}}}\\r\\n        {{{KycDisclosureHtml}}}\\r\\n        {{{KycUploadHtml}}}\\r\\n        {{{KycAccountAgreementHtml}}}\\r\\n    </form>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"waiting_for_kyc_reg\\\" class=\\\"hidden\\\">\\r\\n    KYC is being processed. This may take about 4-5 minutes. Window will close when it's done.\\r\\n    <br/><br/>\\r\\n    You can close the window, we will email you when KYC is finished.\\r\\n\\r\\n    <progress></progress>\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const KYCModal = (KYCModal_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycContact.html\n// Module\nvar KycContact_code = \"<fieldset class=\\\"kycContact hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"explain\\\">\\r\\n        To be able to trade on the stock market, we need to get your information.\\r\\n        This is a requirement from the financial regulators.\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"email_address\\\">Email</label>\\r\\n        <input type=\\\"email\\\" required class=\\\"form-control\\\" id=\\\"email_address\\\" name=\\\"email_address\\\"\\r\\n               placeholder=\\\"name@example.com\\\" autocomplete=\\\"email\\\"\\r\\n               value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"phone_number\\\">Phone</label>\\r\\n        <input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"phone_number\\\" name=\\\"phone_number\\\"\\r\\n               placeholder=\\\"+1-555-666-7788\\\" autocomplete=\\\"tel\\\" value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"street_address\\\">Permanent Residential Address</label>\\r\\n        <div class=\\\"explain\\\">It must be a physical address, not a PO box.</div>\\r\\n        <input required id=\\\"street_address\\\" name=\\\"street_address\\\"\\r\\n               placeholder=\\\"20 N San Mateo Dr\\\" value=\\\"\\\" autocomplete=\\\"address-line1\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"unit\\\">Unit / Apt #</label>\\r\\n        <input id=\\\"unit\\\" name=\\\"unit\\\" value=\\\"\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"city\\\">City</label>\\r\\n        <input id=\\\"city\\\" name=\\\"city\\\" placeholder=\\\"Pawnee\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"address-level2\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"postal_code\\\">Postal code</label>\\r\\n        <input required id=\\\"postal_code\\\" autocomplete=\\\"postal-code\\\" name=\\\"postal_code\\\"\\r\\n               placeholder=\\\"94401\\\"\\r\\n               value=\\\"\\\">\\r\\n    </div>\\r\\n    <div id=\\\"state_div\\\">\\r\\n        <label for=\\\"state\\\">State (2 letters)</label>\\r\\n        <input maxlength=\\\"2\\\" id=\\\"state\\\" name=\\\"state\\\" placeholder=\\\"NY\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"address-level1\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"country_of_tax_residence\\\">Country of tax residence</label>\\r\\n        {{#if edit}}\\r\\n        <input name=\\\"country_of_tax_residence\\\" readonly id=\\\"country_of_tax_residence\\\"/>\\r\\n        {{/if}}\\r\\n        {{#unless edit}}\\r\\n        <select required id=\\\"country_of_tax_residence\\\" name=\\\"country_of_tax_residence\\\" autocomplete=\\\"country\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n        {{/unless}}\\r\\n    </div>\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"contact_next\\\">Next: Identity</button>\\r\\n    </div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycContact = (KycContact_code);\n;// CONCATENATED MODULE: ./src/errors/cloud/KycValidatorError.ts\nvar KycValidatorError_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass KycValidatorError {\r\n    constructor(error, kycForm) {\r\n        var _a, _b;\r\n        this.validValues = '';\r\n        this.inputName = '';\r\n        this.labelText = '';\r\n        this.pattern = '';\r\n        let obj = {};\r\n        try {\r\n            if (!error.inputName) {\r\n                obj = JSON.parse(error);\r\n            }\r\n            else {\r\n                obj = error;\r\n            }\r\n            this.message = (_a = obj.message) === null || _a === void 0 ? void 0 : _a.replace(/_/g, ' ');\r\n            this.validValues = (_b = obj.validValues) === null || _b === void 0 ? void 0 : _b.replace(/_/g, ' ');\r\n            this.inputName = obj.inputName;\r\n            this.labelText = obj.labelText;\r\n            this.pattern = obj.pattern;\r\n            this.onshow = obj.onshow;\r\n        }\r\n        catch (e) {\r\n            this.message = error.messsage;\r\n        }\r\n        this.kycForm = kycForm;\r\n    }\r\n    handle() {\r\n        if (StringHelper.isNullOrEmpty(this.inputName)) {\r\n            let activeFieldset = document.querySelector(this.kycForm.activeFieldsetSelector);\r\n            let inputError = activeFieldset.querySelector('.input_error');\r\n            if (inputError) {\r\n                if (this.validValues) {\r\n                    inputError.innerHTML = this.validValues.toString();\r\n                }\r\n                else {\r\n                    if (this.message && this.message.indexOf('Invalid function') != -1 || this.message.indexOf('Unable to connect to the Parse API') != -1) {\r\n                        inputError.innerHTML = 'We just deployed new version of our website. This can cause interruption. Please wait 30 seconds and submit again';\r\n                    }\r\n                    else {\r\n                        inputError.innerHTML = this.message;\r\n                    }\r\n                }\r\n                inputError.style.display = 'block';\r\n                inputError.scrollIntoView();\r\n            }\r\n            return;\r\n        }\r\n        let input = document.getElementById(this.inputName);\r\n        if (!input)\r\n            return;\r\n        let inputError = input.parentElement.querySelector('.input_error');\r\n        if (inputError) {\r\n            inputError.scrollIntoView({ block: 'center' });\r\n            return;\r\n        }\r\n        input.setAttribute('aria-invalid', 'true');\r\n        let errorInput = '<div class=\"input_error\" style=\"display: block\" id=\"input_error_' + this.inputName + '\">' + this.message + '</div>';\r\n        if (input.clientWidth < 300) {\r\n            let div = this.getDivToDisplayErrorMessage(input);\r\n            div.insertAdjacentHTML(\"beforebegin\", errorInput);\r\n        }\r\n        else {\r\n            input.insertAdjacentHTML(\"beforebegin\", errorInput);\r\n        }\r\n        input.focus();\r\n        if (this.pattern) {\r\n            input.setAttribute('pattern', this.pattern);\r\n        }\r\n        input.addEventListener('blur', (evt) => {\r\n            evt.preventDefault();\r\n            setTimeout(() => {\r\n                let input = evt.target;\r\n                let pattern = input.getAttribute('pattern');\r\n                if ((pattern && input.value.match(pattern)) || (input.type != 'checkbox' && input.type != 'radio' && input.required && input.value) || input.checked) {\r\n                    input.removeAttribute('aria-invalid');\r\n                    let errorMessage = document.getElementById('input_error_' + this.inputName);\r\n                    if (errorMessage)\r\n                        errorMessage.remove();\r\n                }\r\n            }, 800);\r\n        });\r\n        let fieldsetElement = input.closest('fieldset[data-form=\"1\"]');\r\n        if (fieldsetElement) {\r\n            let className = fieldsetElement.className.replace('hidden', '').trim();\r\n            this.kycForm.show(className);\r\n            input.scrollIntoView(false);\r\n        }\r\n        if (this.onshow) {\r\n            let link = document.getElementById(this.onshow.id);\r\n            if (!link)\r\n                return;\r\n            link.addEventListener('click', (evt) => KycValidatorError_awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                yield Moralis.Cloud.run(this.onshow.functionName, this.onshow.params);\r\n                document.getElementById('input_error_' + this.inputName).innerHTML = 'Email has been sent to ' + this.onshow.params.email;\r\n            }));\r\n        }\r\n    }\r\n    getDivToDisplayErrorMessage(input, counter = 1) {\r\n        let div = input.parentElement.closest('div');\r\n        if (!div)\r\n            return input;\r\n        if (div.clientWidth > 300 || counter > 5) {\r\n            return div;\r\n        }\r\n        return this.getDivToDisplayErrorMessage(div, ++counter);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycBase.ts\n\r\n\r\n\r\nclass KycBase {\r\n    constructor(kycForm) {\r\n        this.kycForm = kycForm;\r\n        FileUpload.registerHandler();\r\n    }\r\n    showFieldset(selector, header) {\r\n        var _a;\r\n        this.hideFieldsets();\r\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n        document.querySelector('#liminal_market_modal_div > article > header > span').innerHTML = header;\r\n        document.querySelector('#liminal_market_modal_div > article').scrollTop = 0;\r\n        this.kycForm.activeFieldsetSelector = selector;\r\n    }\r\n    showRequiredMarker() {\r\n        let inputs = document.querySelectorAll('input, select');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (!input.id)\r\n                continue;\r\n            let label = document.querySelector('label[for=' + input.id + ']');\r\n            if (!label)\r\n                continue;\r\n            if (input.required) {\r\n                if (label.innerHTML.indexOf('*') == -1) {\r\n                    label.innerHTML += '*';\r\n                }\r\n            }\r\n            else {\r\n                if (label.innerHTML.indexOf('*') != -1) {\r\n                    label.innerHTML = label.innerHTML.replace('*', '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    setRequired(inputId) {\r\n        var _a;\r\n        (_a = document.getElementById(inputId)) === null || _a === void 0 ? void 0 : _a.setAttribute('required', 'required');\r\n    }\r\n    removeRequired(inputId) {\r\n        var _a;\r\n        (_a = document.getElementById(inputId)) === null || _a === void 0 ? void 0 : _a.removeAttribute('required');\r\n    }\r\n    bind(selector, eventName, action) {\r\n        let elements = document.querySelectorAll(selector);\r\n        for (let i = 0; i < elements.length; i++) {\r\n            elements[i].addEventListener(eventName, (evt) => {\r\n                action(evt);\r\n            });\r\n        }\r\n    }\r\n    bindFileUploads() {\r\n        for (let i = 0; i < FileUpload.fileUploads.length; i++) {\r\n            FileUpload.fileUploads[i].bindEvents();\r\n        }\r\n    }\r\n    hideFieldsets() {\r\n        let fieldsets = document.querySelectorAll('#kyc_wizard_form > fieldset');\r\n        for (let i = 0; i < fieldsets.length; i++) {\r\n            fieldsets[i].classList.add('hidden');\r\n        }\r\n    }\r\n    validateRequiredFields(selector) {\r\n        let inputs = document.querySelectorAll(selector + ' input[required], ' + selector + ' select[required]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            if (this.isMissingInputFromUser(input)) {\r\n                let obj = {\r\n                    message: 'You must fill into this field',\r\n                    inputName: input.id,\r\n                    labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                    pattern: input.pattern\r\n                };\r\n                let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n                kycValidationError.handle();\r\n                return false;\r\n            }\r\n            if (input.pattern) {\r\n                let pattern = input.pattern;\r\n                let matches = input.value.match(pattern);\r\n                if (matches == null) {\r\n                    let obj = {\r\n                        message: 'This is not valid date format, please use YYYY-MM-DD (year-month-date)',\r\n                        inputName: input.id,\r\n                        labelText: document.querySelector('label[for=' + input.id + ']').innerHTML,\r\n                        pattern: input.pattern\r\n                    };\r\n                    let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n                    kycValidationError.handle();\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    showElement(elementId) {\r\n        var _a;\r\n        (_a = document.getElementById(elementId)) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n    }\r\n    hideElement(elementId) {\r\n        var _a;\r\n        (_a = document.getElementById(elementId)) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n    }\r\n    setLabel(elementId, text) {\r\n        let element = document.getElementById('tax_id_label');\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n    }\r\n    isMissingInputFromUser(input) {\r\n        return ((input.type == 'checkbox' && !input.checked) || StringHelper.isNullOrEmpty(input.value));\r\n    }\r\n    removeMissingInfo(errorDivId, focusElementId) {\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.style.display = 'none';\r\n        if (!focusElementId)\r\n            return;\r\n        let focusElement = document.getElementById(focusElementId);\r\n        if (focusElement) {\r\n            focusElement.removeAttribute('aria-invalid');\r\n        }\r\n    }\r\n    setMissingInfo(errorDivId, text, focusElementId) {\r\n        var _a, _b;\r\n        let element = document.getElementById(errorDivId);\r\n        if (!element)\r\n            return;\r\n        element.innerHTML = text;\r\n        if (text == '') {\r\n            element.style.display = 'none';\r\n        }\r\n        else {\r\n            element.style.display = 'block';\r\n            if (focusElementId) {\r\n                (_a = document.getElementById(focusElementId)) === null || _a === void 0 ? void 0 : _a.focus();\r\n                (_b = document.getElementById(focusElementId)) === null || _b === void 0 ? void 0 : _b.setAttribute('aria-invalid', 'true');\r\n            }\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycContact.ts\n\r\n\r\n\r\nclass KycContact extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.usTaxResidence = false;\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycContact);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycContact', 'Contact information');\r\n    }\r\n    bindEvents() {\r\n        this.bind('#country_of_tax_residence', 'change', (evt) => {\r\n            var _a, _b;\r\n            let input = evt.target;\r\n            this.usTaxResidence = (input.value.toUpperCase() == 'USA');\r\n            if (this.usTaxResidence) {\r\n                (_a = document.getElementById('state_div')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n                this.kycForm.setSteps(5);\r\n                this.setRequired('state');\r\n            }\r\n            else {\r\n                this.kycForm.setSteps(6);\r\n                this.removeRequired('state');\r\n                (_b = document.getElementById('state_div')) === null || _b === void 0 ? void 0 : _b.classList.add('hidden');\r\n            }\r\n        });\r\n        let showIdentityButton = document.getElementById('contact_next');\r\n        if (showIdentityButton) {\r\n            showIdentityButton.addEventListener('click', (evt) => {\r\n                if (!this.validateRequiredFields('.kycContact'))\r\n                    return;\r\n                this.kycForm.kycIdentity.show();\r\n            });\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycIdentity.html\n// Module\nvar KycIdentity_code = \"<fieldset class=\\\"kycIdentity hidden\\\" data-form=\\\"1\\\">\\r\\n    <div>\\r\\n        <label for=\\\"given_name\\\">Legal First name</label>\\r\\n        <input required id=\\\"given_name\\\" name=\\\"given_name\\\"\\r\\n               placeholder=\\\"Ron\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"given-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"middle_name\\\">Legal Middle name</label>\\r\\n        <input id=\\\"middle_name\\\" name=\\\"middle_name\\\"\\r\\n               placeholder=\\\"\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"additional-name\\\">\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"family_name\\\">Legal Last name</label>\\r\\n        <input required id=\\\"family_name\\\" name=\\\"family_name\\\"\\r\\n               placeholder=\\\"Swanson\\\"\\r\\n               value=\\\"\\\" autocomplete=\\\"family-name\\\">\\r\\n    </div>\\r\\n    {{#unless edit}}\\r\\n    <div>\\r\\n        <label for=\\\"date_of_birth\\\">Date of birth</label>\\r\\n        <input type=\\\"date\\\" required id=\\\"date_of_birth\\\" name=\\\"date_of_birth\\\"\\r\\n               placeholder=\\\"1978-11-24\\\" pattern=\\\"\\\\d{4}-\\\\d{2}-\\\\d{2}\\\" value=\\\"1978-08-02\\\" autocomplete=\\\"bday\\\">\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"citizen_of_usa_question\\\" class=\\\"hidden\\\">\\r\\n        <label for=\\\"citizen_yes\\\">Are you a citizen of the United States?</label>\\r\\n        <fieldset>\\r\\n            <label>\\r\\n                <input type=\\\"radio\\\" id=\\\"citizen_yes\\\"\\r\\n                       name=\\\"citizen\\\" value=\\\"1\\\"> Yes\\r\\n            </label>\\r\\n            <label>\\r\\n                <input type=\\\"radio\\\" id=\\\"citizen_no\\\"\\r\\n                       name=\\\"citizen\\\" value=\\\"0\\\"> No\\r\\n            </label>\\r\\n            <fieldset id=\\\"citizen_no_type_options\\\" class=\\\"hidden\\\">\\r\\n                <label>\\r\\n                    <input type=\\\"radio\\\" name=\\\"permanent_resident\\\" id=\\\"citizen_no_type_options_1\\\" value=\\\"1\\\"/> Green Card\\r\\n                    / Permanent Resident\\r\\n                </label>\\r\\n                <label><input type=\\\"radio\\\" name=\\\"permanent_resident\\\" id=\\\"citizen_no_type_options_2\\\" value=\\\"0\\\"/>\\r\\n                    Visa</label>\\r\\n            </fieldset>\\r\\n        </fieldset>\\r\\n    </div>\\r\\n    <div id=\\\"tax_id_type_options\\\">\\r\\n        <label for=\\\"tax_id_type\\\">Tax Id Type</label>\\r\\n        <select required id=\\\"tax_id_type\\\" name=\\\"tax_id_type\\\" placeholder=\\\"USA_SSN\\\">\\r\\n            <option value=\\\"USA_SSN\\\"></option>\\r\\n            <option value=\\\"ARG_AR_CUIT\\\">Argentina CUIT</option>\\r\\n            <option value=\\\"AUS_TFN\\\">Australian Tax File Number</option>\\r\\n            <option value=\\\"AUS_ABN\\\">Australian Business Number</option>\\r\\n            <option value=\\\"BOL_NIT\\\">Bolivia NIT</option>\\r\\n            <option value=\\\"BRA_CPF\\\">Brazil CPF</option>\\r\\n            <option value=\\\"CHL_RUT\\\">Chile RUT</option>\\r\\n            <option value=\\\"COL_NIT\\\">Colombia NIT</option>\\r\\n            <option value=\\\"CRI_NITE\\\">Costa Rica NITE</option>\\r\\n            <option value=\\\"DEU_TAX_ID\\\">Germany Tax ID (Identifikationsnummer)</option>\\r\\n            <option value=\\\"DOM_RNC\\\">Dominican Republic RNC</option>\\r\\n            <option value=\\\"ECU_RUC\\\">Ecuador RUC</option>\\r\\n            <option value=\\\"FRA_SPI\\\">France SPI (Reference Tax Number)</option>\\r\\n            <option value=\\\"GBR_UTR\\\">UK UTR (Unique Taxpayer Reference)</option>\\r\\n            <option value=\\\"GBR_NINO\\\">UK NINO (National Insurance Number)</option>\\r\\n            <option value=\\\"GTM_NIT\\\">Guatemala NIT</option>\\r\\n            <option value=\\\"HND_RTN\\\">Honduras RTN</option>\\r\\n            <option value=\\\"HUN_TIN\\\">Hungary TIN Number</option>\\r\\n            <option value=\\\"IDN_KTP\\\">Indonesia KTP</option>\\r\\n            <option value=\\\"IND_PAN\\\">India PAN Number</option>\\r\\n            <option value=\\\"ISR_TAX_ID\\\">Israel Tax ID (Teudat Zehut)</option>\\r\\n            <option value=\\\"ITA_TAX_ID\\\">Italy Tax ID (Codice Fiscale)</option>\\r\\n            <option value=\\\"JPN_TAX_ID\\\">Japan Tax ID (Koijin Bango)</option>\\r\\n            <option value=\\\"MEX_RFC\\\">Mexico RFC</option>\\r\\n            <option value=\\\"NIC_RUC\\\">Nicaragua RUC</option>\\r\\n            <option value=\\\"NLD_TIN\\\">Netherlands TIN Number</option>\\r\\n            <option value=\\\"PAN_RUC\\\">Panama RUC</option>\\r\\n            <option value=\\\"PER_RUC\\\">Peru RUC</option>\\r\\n            <option value=\\\"PRY_RUC\\\">Paraguay RUC</option>\\r\\n            <option value=\\\"SGP_NRIC\\\">Singapore NRIC</option>\\r\\n            <option value=\\\"SGP_FIN\\\">Singapore FIN</option>\\r\\n            <option value=\\\"SGP_ASGD\\\">Singapore ASGD</option>\\r\\n            <option value=\\\"SGP_ITR\\\">Singapore ITR</option>\\r\\n            <option value=\\\"SLV_NIT\\\">El Salvador NIT</option>\\r\\n            <option value=\\\"SWE_TAX_ID\\\">Sweden Tax ID (Personnummer)</option>\\r\\n            <option value=\\\"URY_RUT\\\">Uruguay RUT</option>\\r\\n            <option value=\\\"VEN_RIF\\\">Venezuela RIF</option>\\r\\n            <option value=\\\"NOT_SPECIFIED\\\" selected>Other Tax IDs</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label id=\\\"tax_id_label\\\" for=\\\"tax_id\\\">Tax Id (SSN)</label>\\r\\n        <input required id=\\\"tax_id\\\" name=\\\"tax_id\\\"\\r\\n               placeholder=\\\"666-55-4321\\\"\\r\\n               value=\\\"0208785339\\\">\\r\\n    </div>\\r\\n    <div id=\\\"country_of_birth_option\\\">\\r\\n        <label for=\\\"country_of_birth\\\">Country of birth</label>\\r\\n        <select id=\\\"country_of_birth\\\" name=\\\"country_of_birth\\\">\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div id=\\\"country_of_citizenship_option\\\">\\r\\n        <label for=\\\"country_of_citizenship\\\">Country of citizenship</label>\\r\\n        <select required id=\\\"country_of_citizenship\\\" name=\\\"country_of_citizenship\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div id=\\\"visa_type_option\\\" class=\\\"hidden\\\">\\r\\n        <div>\\r\\n            <label for=\\\"visa_type\\\">Visa type - <a\\r\\n                    href=\\\"https://travel.state.gov/content/travel/en/us-visas/visa-information-resources/all-visa-categories.html\\\"\\r\\n                    target=\\\"_blank\\\">Visa\\r\\n                information</a></label>\\r\\n            <select id=\\\"visa_type\\\" name=\\\"visa_type\\\">\\r\\n                <option value=\\\"\\\"></option>\\r\\n                <option value=\\\"B1\\\" selected>USA Visa Category B-1</option>\\r\\n                <option value=\\\"B2\\\">USA Visa Category B-2</option>\\r\\n                <option value=\\\"DACA\\\">USA Visa Category DACA</option>\\r\\n                <option value=\\\"E1\\\">USA Visa Category E-1</option>\\r\\n                <option value=\\\"E2\\\">USA Visa Category E-2</option>\\r\\n                <option value=\\\"E3\\\">USA Visa Category E-3</option>\\r\\n                <option value=\\\"F1\\\">USA Visa Category F-1</option>\\r\\n                <option value=\\\"G4\\\">USA Visa Category G-4</option>\\r\\n                <option value=\\\"H1B\\\">USA Visa Category H-1B</option>\\r\\n                <option value=\\\"J1\\\">USA Visa Category J-1</option>\\r\\n                <option value=\\\"L1\\\">USA Visa Category L-1</option>\\r\\n                <option value=\\\"OTHER\\\">Any other USA Visa Category</option>\\r\\n                <option value=\\\"O1\\\">USA Visa Category O-1</option>\\r\\n                <option value=\\\"TN1\\\">USA Visa Category TN-1</option>\\r\\n            </select>\\r\\n        </div>\\r\\n        <div id=\\\"visa_expiration_date_option\\\">\\r\\n            <label for=\\\"visa_expiration_date\\\">Visa expiration date</label>\\r\\n            <input type=\\\"date\\\" id=\\\"visa_expiration_date\\\"\\r\\n                   name=\\\"visa_expiration_date\\\" placeholder=\\\"2028-05-01\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n        <div id=\\\"date_of_departure_from_usa_option\\\">\\r\\n            <label for=\\\"date_of_departure_from_usa\\\">Date of departure from USA</label>\\r\\n            <input type=\\\"date\\\" id=\\\"date_of_departure_from_usa\\\"\\r\\n                   name=\\\"date_of_departure_from_usa\\\" placeholder=\\\"2028-05-01\\\" value=\\\"\\\">\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"annual_income\\\">Annual Household Income</label>\\r\\n        <div class=\\\"explain\\\">\\r\\n            Annual household income includes income from sources such as employment, alimony, social security,\\r\\n            investment income, etc.\\r\\n        </div>\\r\\n        <select name=\\\"annual_income\\\" id=\\\"annual_income\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"1\\\">0 - $20,000</option>\\r\\n            <option value=\\\"2\\\">$20,000 - $49,999</option>\\r\\n            <option value=\\\"3\\\">$50,000 - $99,999</option>\\r\\n            <option value=\\\"4\\\">$100,000 - $499,999</option>\\r\\n            <option value=\\\"5\\\">$500,000 - $999,999</option>\\r\\n            <option value=\\\"6\\\">$1,000,000 - $9,999,999</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"liquid_net_worth\\\">Liquid Assets</label>\\r\\n        <div class=\\\"explain\\\">Liquid assets is your net worth minus assets that cannot be\\r\\n            converted quickly and easily into cash, such as real estate, business equity,\\r\\n            personal property and automobiles, expected inheritances, assets earmarked for\\r\\n            other purposes, and investments or accounts subject to substantial penalties\\r\\n            if they were sold or if assets were withdrawn from them.\\r\\n        </div>\\r\\n        <select name=\\\"liquid_net_worth\\\" required id=\\\"liquid_net_worth\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"1\\\" selected>0 - $20,000</option>\\r\\n            <option value=\\\"2\\\">$20,000 - $49,999</option>\\r\\n            <option value=\\\"3\\\">$50,000 - $99,999</option>\\r\\n            <option value=\\\"4\\\">$100,000 - $499,999</option>\\r\\n            <option value=\\\"5\\\">$500,000 - $999,999</option>\\r\\n            <option value=\\\"1\\\">$1,000,000 - $9,999,999</option>\\r\\n        </select>\\r\\n    </div>\\r\\n\\r\\n    <div>\\r\\n        <label for=\\\"funding_source\\\">Funding source</label>\\r\\n        <select required id=\\\"funding_source\\\" name=\\\"funding_source\\\"\\r\\n                multiple size=\\\"4\\\" aria-label=\\\"size 3 select\\\">\\r\\n            <option value=\\\"employment_income\\\" selected>Employment income</option>\\r\\n            <option value=\\\"investments\\\">Investments</option>\\r\\n            <option value=\\\"inheritance\\\">Inheritance</option>\\r\\n            <option value=\\\"business_income\\\">Business income</option>\\r\\n            <option value=\\\"savings\\\">Savings</option>\\r\\n            <option value=\\\"family\\\">Family</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"identity_prev\\\">Previous: Contact</button>\\r\\n        <button type=\\\"button\\\" id=\\\"identity_next\\\">Next: Trusted contacts</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycIdentity = (KycIdentity_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycIdentity.ts\n\r\n\r\n\r\n\r\nclass KycIdentity extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.edit = false;\r\n    }\r\n    render(edit = false) {\r\n        this.edit = edit;\r\n        let template = Handlebars.compile(Kyc_KycIdentity);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        if (this.kycForm.kycContact.usTaxResidence) {\r\n            this.showElement('citizen_of_usa_question');\r\n            this.hideElement('tax_id_type_options');\r\n            this.setLabel('tax_id_label', 'SSN');\r\n        }\r\n        else {\r\n            this.hideElement('citizen_of_usa_question');\r\n            this.setLabel('tax_id_label', 'National Tax Id (SSN)');\r\n            this.showElement('tax_id_type_options');\r\n        }\r\n        this.showFieldset('.kycIdentity', 'Identity');\r\n        this.showElement('country_of_citizenship_option');\r\n        let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n        if (country_of_citizenship) {\r\n            country_of_citizenship.options[1].disabled = false;\r\n        }\r\n    }\r\n    bindEvents() {\r\n        this.bind('#citizen_yes', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                let taxIdType = document.getElementById('tax_id_type');\r\n                if (taxIdType)\r\n                    taxIdType.value = 'USA_SSN';\r\n                let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n                country_of_citizenship.options[1].disabled = false;\r\n                country_of_citizenship.value = 'USA';\r\n                this.hideElement('citizen_no_type_options');\r\n                this.hideElement('visa_type_option');\r\n                this.hideElement('country_of_citizenship_option');\r\n                this.removeRequired('country_of_birth');\r\n                this.removeRequired('visa_type');\r\n                this.removeRequired('visa_expiration_date');\r\n                this.removeRequired('date_of_departure_from_usa');\r\n                document.getElementById('tax_id_label').innerHTML = 'SSN';\r\n                this.hideCitizenErrorMessage();\r\n            }\r\n        });\r\n        this.bind('#citizen_no', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('citizen_no_type_options');\r\n                this.showElement('country_of_citizenship_option');\r\n                this.setRequired('country_of_birth');\r\n                document.getElementById('tax_id_label').innerHTML = 'SSN';\r\n                let country_of_citizenship = document.getElementById('country_of_citizenship');\r\n                country_of_citizenship.options[0].selected = true;\r\n                country_of_citizenship.options[1].disabled = true;\r\n                this.hideCitizenErrorMessage();\r\n            }\r\n        });\r\n        this.bind('#citizen_no_type_options_1', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('country_of_citizenship_option');\r\n                this.hideElement('visa_type_option');\r\n                this.setRequired('country_of_birth');\r\n                this.removeRequired('visa_type');\r\n                this.removeRequired('visa_expiration_date');\r\n                this.removeRequired('date_of_departure_from_usa');\r\n            }\r\n        });\r\n        this.bind('#citizen_no_type_options_2', 'click', (evt) => {\r\n            let input = evt.target;\r\n            if (input.checked) {\r\n                this.showElement('visa_type_option');\r\n                this.showElement('country_of_citizenship_option');\r\n                this.setRequired('country_of_birth');\r\n                this.setRequired('country_of_citizenship');\r\n                this.setRequired('visa_type');\r\n                this.setRequired('visa_expiration_date');\r\n                this.setRequired('date_of_departure_from_usa');\r\n            }\r\n        });\r\n        this.bind('#visa_type', 'change', (evt) => {\r\n            let input = evt.target;\r\n            if (input.value == 'B1' || input.value == 'B2') {\r\n                this.showElement('date_of_departure_from_usa_option');\r\n            }\r\n            else {\r\n                this.hideElement('date_of_departure_from_usa_option');\r\n            }\r\n        });\r\n        this.bindButtons();\r\n    }\r\n    hideCitizenErrorMessage() {\r\n        document.getElementById('citizen_yes').removeAttribute('aria-invalid');\r\n        let errorMessage = document.getElementById('input_error_citizen_yes');\r\n        if (errorMessage)\r\n            errorMessage.remove();\r\n    }\r\n    bindButtons() {\r\n        let showContactButton = document.getElementById('identity_prev');\r\n        showContactButton === null || showContactButton === void 0 ? void 0 : showContactButton.addEventListener('click', (evt) => {\r\n            this.kycForm.kycContact.show();\r\n        });\r\n        let showDisclosuresButton = document.getElementById('identity_next');\r\n        showDisclosuresButton === null || showDisclosuresButton === void 0 ? void 0 : showDisclosuresButton.addEventListener('click', (evt) => {\r\n            if (!this.validateInputs())\r\n                return;\r\n            if (!this.validateRequiredFields('.kycIdentity'))\r\n                return;\r\n            this.kycForm.kycTrustedContact.show();\r\n        });\r\n    }\r\n    validateInputs() {\r\n        if (this.edit)\r\n            return true;\r\n        let citizen_yes = document.getElementById('citizen_yes');\r\n        let citizen_no = document.getElementById('citizen_no');\r\n        if (!this.kycForm.kycContact.usTaxResidence) {\r\n            citizen_yes.checked = false;\r\n            citizen_no.checked = false;\r\n            return true;\r\n        }\r\n        if (!citizen_yes.checked && !citizen_no.checked) {\r\n            let obj = {\r\n                message: 'You must select either option',\r\n                inputName: 'citizen_yes',\r\n                labelText: document.querySelector('label[for=citizen_yes]').innerHTML\r\n            };\r\n            let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n            kycValidationError.handle();\r\n            return false;\r\n        }\r\n        let greenCardOption = document.getElementById('citizen_no_type_options_1');\r\n        let visaOption = document.getElementById('citizen_no_type_options_2');\r\n        if (citizen_no.checked && !greenCardOption.checked && !visaOption.checked) {\r\n            let obj = {\r\n                message: 'You must select either option, \"Green Card / Permanent Resident\" or \"Visa\"',\r\n                inputName: 'citizen_no',\r\n                labelText: ''\r\n            };\r\n            let kycValidationError = new KycValidatorError(obj, this.kycForm);\r\n            kycValidationError.handle();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycDisclosures.html\n// Module\nvar KycDisclosures_code = \"<fieldset class=\\\"kycDisclosures hidden\\\" data-form=\\\"1\\\">\\r\\n    {{#unless edit}}\\r\\n    <div>\\r\\n        <label for=\\\"employment_status\\\">Employment status</label>\\r\\n        <select id=\\\"employment_status\\\" required name=\\\"employment_status\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            <option value=\\\"employed\\\">Employed</option>\\r\\n            <option value=\\\"unemployed\\\">Unemployed</option>\\r\\n            <option value=\\\"retired\\\">Retired</option>\\r\\n            <option value=\\\"student\\\">Student</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employer_name\\\">Employer name</label>\\r\\n        <input name=\\\"employer_name\\\" id=\\\"employer_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employer_address\\\">Employer address</label>\\r\\n        <input name=\\\"employer_address\\\" id=\\\"employer_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"employment_position\\\">Occupation / Job title</label>\\r\\n        <input name=\\\"employment_position\\\" id=\\\"employment_position\\\" autocomplete=\\\"organization-title\\\"/>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    <div class=\\\"disclosure_selections\\\">\\r\\n        Do any of the following apply to you or a member of your immediate family?\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_affiliated_exchange_or_finra\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_affiliated_exchange_or_finra\\\" name=\\\"is_affiliated_exchange_or_finra\\\"\\r\\n                           role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                Affiliated or work with a US registered broker-dealer or\\r\\n                FINRA.\\r\\n                <small class=\\\"explain\\\">Are you or an immediate family member affiliated with or employed by a stock\\r\\n                    exchange, regulatory body, member firm of an exchange, FINRA or a municipal securities\\r\\n                    broker-dealer?</small>\\r\\n\\r\\n                <div id=\\\"is_affiliated_exchange_or_finra_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_control_person\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_control_person\\\" name=\\\"is_control_person\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n\\r\\n                Senior executive at or a 10% or greater shareholder of a publicly traded company.\\r\\n                <small class=\\\"explain\\\">Are you or an immediate family member an officer or 10% or greater shareholder of\\r\\n                    a publicly traded company, subject to the US Securities Exchange Act 1934?</small>\\r\\n                <div id=\\\"is_control_person_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"is_politically_exposed\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"is_politically_exposed\\\" name=\\\"is_politically_exposed\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                I am a senior political figure.\\r\\n                <small class=\\\"explain\\\">Are you currently or formerly a Politically Exposed Person or Public Official\\r\\n                    (PEP)? <a href=\\\"https://www.google.com/search?q=%E2%80%9CPolitically+Exposed+Person%E2%80%9D+(PEP)\\\"\\r\\n                              target=\\\"_blank\\\">What is PEP?</a> </a></small>\\r\\n                <div id=\\\"is_politically_exposed_extra\\\"></div>\\r\\n            </div>\\r\\n            </label>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"immediate_family_exposed\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"immediate_family_exposed\\\" name=\\\"immediate_family_exposed\\\" role=\\\"switch\\\">\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                I am a family member or relative of a senior political figure.\\r\\n                <small class=\\\"explain\\\">Are you an immediate family member currently or formerly a Politically Exposed\\r\\n                    Person or Public Official (PEP)? <a\\r\\n                            href=\\\"https://www.google.com/search?q=%E2%80%9CPolitically+Exposed+Person%E2%80%9D+(PEP)\\\"\\r\\n                            target=\\\"_blank\\\">What is PEP?</a></small>\\r\\n                <div id=\\\"immediate_family_exposed_extra\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"none_above\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"none_above\\\" name=\\\"none_above\\\" role=\\\"switch\\\"></label>\\r\\n            </div>\\r\\n            <div>\\r\\n                None of the above apply to me or my family.\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"input_error\\\" id=\\\"none_above_error\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"disclosures_prev\\\">Previous: Trusted contact</button>\\r\\n        <button type=\\\"button\\\" id=\\\"disclosures_next\\\">Next: Agreements</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycDisclosures = (KycDisclosures_code);\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycAffiliateOrControlled.html\n// Module\nvar KycAffiliateOrControlled_code = \"<fieldset id=\\\"affiliate_or_controlled\\\">\\r\\n    <div>You need to fill in the following information</div>\\r\\n    <div>\\r\\n        <label for=\\\"company_name\\\">Company name</label>\\r\\n        <input name=\\\"company_name\\\" required id=\\\"company_name\\\" autocomplete=\\\"organization\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_street_address\\\">Company street address</label>\\r\\n        <input name=\\\"company_street_address\\\" required id=\\\"company_street_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_city\\\">Company city</label>\\r\\n        <input name=\\\"company_city\\\" required id=\\\"company_city\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_state\\\">Company state</label>\\r\\n        <input name=\\\"company_state\\\" required id=\\\"company_state\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_country\\\">Company country</label>\\r\\n        <select required id=\\\"company_country\\\" required name=\\\"company_country\\\">\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"company_compliance_email\\\">Company compliance officer email</label>\\r\\n        <input name=\\\"company_compliance_email\\\" required id=\\\"company_compliance_email\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <div class=\\\"explain\\\">\\r\\n            In accordance with applicable FINRA rules, user will need to obtain a letter written\\r\\n            and signed by a compliance officer on company letterhead explicitly granting permission for\\r\\n            the applicant to carry the account and explicitly stating whether or not the firm requires\\r\\n            access to duplicate account statements and/or trade confirmations.\\r\\n\\r\\n            If the firm would like online access your duplicate account statements and/or trade confirmations,\\r\\n            include in the letter the applicant's full name and the following information for the interested\\r\\n            party: First and last name, title, email address, telephone number.\\r\\n\\r\\n        </div>\\r\\n        {{{fileUpload \\\"account_approval_letter\\\" \\\"Account approval letter\\\"}}}\\r\\n\\r\\n    </div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycAffiliateOrControlled = (KycAffiliateOrControlled_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycAffiliateOrControlled.ts\n\r\n\r\n\r\nclass KycAffiliateOrControlled extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let kycAffiliateOrControlledTemplate = Handlebars.compile(Kyc_KycAffiliateOrControlled);\r\n        return kycAffiliateOrControlledTemplate({ countries: CountryHelper.Countries });\r\n    }\r\n    bindEvents() {\r\n        this.bindFileUploads();\r\n        let company_country = document.getElementById('company_country');\r\n        company_country === null || company_country === void 0 ? void 0 : company_country.addEventListener('change', (evt) => {\r\n            let select = evt.target;\r\n            if (select.value === 'USA') {\r\n                this.setRequired('company_state');\r\n            }\r\n            else {\r\n                this.removeRequired('company_state');\r\n            }\r\n        });\r\n    }\r\n    validate() {\r\n        let company_name = document.getElementById('company_name');\r\n        if (!company_name)\r\n            return true;\r\n        return this.validateRequiredFields('#affiliate_or_controlled');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycImmediateFamily.html\n// Module\nvar KycImmediateFamily_code = \"<fieldset id=\\\"immediate_family\\\">\\r\\n    <div>Since you chose that your immediate family member, you need to fill in the following information</div>\\r\\n    <div>\\r\\n        <label for=\\\"disclosure_given_name\\\">Given name of political person</label>\\r\\n        <input name=\\\"disclosure_given_name\\\" id=\\\"disclosure_given_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"disclosure_family_name\\\">Family name of political person</label>\\r\\n        <input name=\\\"disclosure_family_name\\\" id=\\\"disclosure_family_name\\\"/>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycImmediateFamily = (KycImmediateFamily_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycImmediateFamily.ts\n\r\n\r\nclass KycImmediateFamily extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let kycImmediateFamilyTemplate = Handlebars.compile(Kyc_KycImmediateFamily);\r\n        return kycImmediateFamilyTemplate({});\r\n    }\r\n    bindEvents() {\r\n    }\r\n    validate() {\r\n        let disclosure_given_name = document.getElementById('disclosure_given_name');\r\n        if (!disclosure_given_name)\r\n            return true;\r\n        return this.validateRequiredFields('#immediate_family');\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycDisclosures.ts\n\r\n\r\n\r\n\r\nclass KycDisclosures extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.kycAffiliatedOrControlled = new KycAffiliateOrControlled(this.kycForm);\r\n        this.kycImmediateFamily = new KycImmediateFamily(this.kycForm);\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycDisclosures);\r\n        return template({ edit: edit });\r\n    }\r\n    show() {\r\n        if (this.kycForm.steps == 5) {\r\n            document.getElementById('disclosures_next').innerText = 'Next: Agreements';\r\n        }\r\n        else {\r\n            document.getElementById('disclosures_next').innerText = 'Next: Upload documents';\r\n        }\r\n        this.showFieldset('.kycDisclosures', 'Disclosures');\r\n    }\r\n    bindEvents() {\r\n        let is_affiliated_exchange_or_finra = document.getElementById('is_affiliated_exchange_or_finra');\r\n        is_affiliated_exchange_or_finra === null || is_affiliated_exchange_or_finra === void 0 ? void 0 : is_affiliated_exchange_or_finra.addEventListener('click', (evt) => {\r\n            this.loadAffiliatedOrControlComponent('is_affiliated_exchange_or_finra');\r\n        });\r\n        let is_control_person = document.getElementById('is_control_person');\r\n        is_control_person === null || is_control_person === void 0 ? void 0 : is_control_person.addEventListener('click', (evt) => {\r\n            this.loadAffiliatedOrControlComponent('is_control_person');\r\n        });\r\n        let immediate_family_exposed = document.getElementById('immediate_family_exposed');\r\n        immediate_family_exposed === null || immediate_family_exposed === void 0 ? void 0 : immediate_family_exposed.addEventListener('click', (evt) => {\r\n            this.loadPep('immediate_family_exposed');\r\n        });\r\n        let is_politically_exposed = document.getElementById('is_politically_exposed');\r\n        is_politically_exposed === null || is_politically_exposed === void 0 ? void 0 : is_politically_exposed.addEventListener('click', (evt) => {\r\n            this.uncheck('immediate_family_exposed');\r\n        });\r\n        let none_above = document.getElementById('none_above');\r\n        none_above === null || none_above === void 0 ? void 0 : none_above.addEventListener('click', (evt) => {\r\n            this.removeMissingInfo('none_above_error');\r\n            none_above.removeAttribute('aria-invalid');\r\n        });\r\n        let prev = document.getElementById('disclosures_prev');\r\n        prev === null || prev === void 0 ? void 0 : prev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycTrustedContact.show();\r\n        });\r\n        let next = document.getElementById('disclosures_next');\r\n        next === null || next === void 0 ? void 0 : next.addEventListener('click', (evt) => {\r\n            if (!this.validateFields())\r\n                return;\r\n            if (this.kycForm.steps == 5) {\r\n                this.kycForm.kycAccountAgreement.show();\r\n            }\r\n            else {\r\n                this.kycForm.kycUpload.show();\r\n            }\r\n        });\r\n    }\r\n    loadAffiliatedOrControlComponent(elementId) {\r\n        if (elementId == 'is_affiliated_exchange_or_finra') {\r\n            this.uncheck('is_control_person');\r\n        }\r\n        else {\r\n            this.uncheck('is_affiliated_exchange_or_finra');\r\n        }\r\n        let element = document.getElementById(elementId);\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        if (!extra)\r\n            return;\r\n        if (element.checked) {\r\n            extra.innerHTML = this.kycAffiliatedOrControlled.render();\r\n            this.kycAffiliatedOrControlled.bindEvents();\r\n        }\r\n        else {\r\n            extra.innerHTML = '';\r\n        }\r\n    }\r\n    loadPep(elementId) {\r\n        if (elementId == 'immediate_family_exposed') {\r\n            this.uncheck('is_politically_exposed');\r\n        }\r\n        else {\r\n            this.uncheck('immediate_family_exposed');\r\n        }\r\n        let element = document.getElementById(elementId);\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        if (!extra)\r\n            return;\r\n        if (element.checked) {\r\n            extra.innerHTML = this.kycImmediateFamily.render();\r\n            this.kycImmediateFamily.bindEvents();\r\n        }\r\n        else {\r\n            extra.innerHTML = '';\r\n        }\r\n    }\r\n    uncheck(elementId) {\r\n        let element = document.getElementById(elementId);\r\n        element.checked = false;\r\n        let extra = document.getElementById(elementId + '_extra');\r\n        extra.innerHTML = '';\r\n    }\r\n    validateFields() {\r\n        if (!this.validateRequiredFields('.kycDisclosures'))\r\n            return false;\r\n        if (!this.kycImmediateFamily.validate())\r\n            return false;\r\n        if (!this.kycAffiliatedOrControlled.validate())\r\n            return false;\r\n        let is_affiliated_exchange_or_finra = document.getElementById('is_affiliated_exchange_or_finra');\r\n        let is_control_person = document.getElementById('is_control_person');\r\n        let is_politically_exposed = document.getElementById('is_politically_exposed');\r\n        let immediate_family_exposed = document.getElementById('immediate_family_exposed');\r\n        let none_above = document.getElementById('none_above');\r\n        if (!none_above.checked && !is_affiliated_exchange_or_finra.checked && !is_control_person.checked\r\n            && !is_politically_exposed.checked && !immediate_family_exposed.checked) {\r\n            this.setMissingInfo('none_above_error', 'You must select, \"None of the above apply to me or my family.\" if nothing is selected', 'none_above');\r\n            return false;\r\n        }\r\n        if (none_above.checked && (is_affiliated_exchange_or_finra.checked || is_control_person.checked\r\n            || is_politically_exposed.checked || immediate_family_exposed.checked)) {\r\n            this.setMissingInfo('none_above_error', 'You cannot have \"None of the above apply to me or my family.\" selected and other options selected. Please select only one', 'none_above');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycAccountAgreement.html\n// Module\nvar KycAccountAgreement_code = \"<fieldset class=\\\"kycAccountAgreement hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"kycAccountAgreementGrid\\\">\\r\\n        <div id=\\\"account_agreement_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"account_agreement\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"account_agreement\\\" id=\\\"account_agreement\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"account_agreement\\\">\\r\\n                    I agree to <a href=\\\"https://files.alpaca.markets/disclosures/library/AcctAppMarginAndCustAgmt.pdf\\\"\\r\\n                                  target=\\\"_blank\\\">Alpaca Customer Agreement</a>\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"customer_agreement_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"customer_agreement\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"customer_agreement\\\" id=\\\"customer_agreement\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"customer_agreement\\\">\\r\\n                    Customer Agreement Acknowledgement</label>\\r\\n                <div class=\\\"explain\\\">\\r\\n                    I have read, understood, and agree to be bound by Alpaca Securities LLC and Liminal.market Inc.\\r\\n                    account\\r\\n                    terms,\\r\\n                    and all other terms, disclosures and disclaimers applicable to me, as referenced in the Alpaca\\r\\n                    Customer\\r\\n                    Agreement.\\r\\n                    I also acknowledge that the Alpaca Customer Agreement contains a pre-dispute arbitration clause\\r\\n                    in\\r\\n                    Section\\r\\n                    43.\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n        <div id=\\\"digital_signature_error\\\" class=\\\"input_error\\\"></div>\\r\\n        <div class=\\\"grid\\\">\\r\\n            <div>\\r\\n                <label for=\\\"digital_signature\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"digital_signature\\\" id=\\\"digital_signature\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label for=\\\"digital_signature\\\">\\r\\n                    Digital Signature Acknowledgement</label>\\r\\n                <div class=\\\"explain\\\">\\r\\n                    I understand I am signing this agreement electronically,\\r\\n                    and that my electronic signature will have the same effect as physically signing and returning\\r\\n                    the\\r\\n                    Application Agreement.\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid hidden\\\" id=\\\"w8disclosure_div\\\">\\r\\n            <div>\\r\\n                <label for=\\\"w8disclosure\\\">\\r\\n                    <input required type=\\\"checkbox\\\" name=\\\"w8disclosure\\\" id=\\\"w8disclosure\\\" value=\\\"1\\\"/>\\r\\n                </label>\\r\\n            </div>\\r\\n            <div><label for=\\\"w8disclosure\\\">\\r\\n                I certify that I am not a US citizen, US resident alien or other US person for US tax purposes,\\r\\n                and I am submitting the applicable Form W-8 BEN with this form to certify my foreign status and,\\r\\n                if applicable, claim tax treaty benefits. </label>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"account_agreement_prev\\\">Previous: Upload documents</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"submitKYC\\\">Confirm identity</button>\\r\\n    </div>\\r\\n    <div class=\\\"alert alert-danger\\\" id=\\\"kycError\\\" role=\\\"alert\\\"></div>\\r\\n</fieldset>\\r\\n\";\n// Exports\n/* harmony default export */ const Kyc_KycAccountAgreement = (KycAccountAgreement_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycAccountAgreement.ts\nvar KycAccountAgreement_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KycAccountAgreement extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render(edit = false) {\r\n        let template = Handlebars.compile(Kyc_KycAccountAgreement);\r\n        return template({ edit: edit });\r\n    }\r\n    show() {\r\n        var _a, _b;\r\n        this.showFieldset('.kycAccountAgreement', 'Agreements');\r\n        if (this.kycForm.steps == 5) {\r\n            document.getElementById('account_agreement_prev').innerText = 'Previous: Disclosure';\r\n        }\r\n        else {\r\n            document.getElementById('account_agreement_prev').innerText = 'Previous: Upload documents';\r\n        }\r\n        if (this.kycForm.kycContact.usTaxResidence) {\r\n            (_a = document.getElementById('w8disclosure_div')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n        }\r\n        else {\r\n            (_b = document.getElementById('w8disclosure_div')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        }\r\n    }\r\n    bindEvents() {\r\n        let account_agreement_prev = document.getElementById('account_agreement_prev');\r\n        account_agreement_prev === null || account_agreement_prev === void 0 ? void 0 : account_agreement_prev.addEventListener('click', (evt) => {\r\n            if (this.kycForm.steps == 5) {\r\n                this.kycForm.kycDisclosures.show();\r\n            }\r\n            else {\r\n                this.kycForm.kycUpload.show();\r\n            }\r\n        });\r\n        this.bindSubmitKyc();\r\n    }\r\n    bindSubmitKyc(edit = false) {\r\n        let submitKYC = document.getElementById('submitKYC');\r\n        if (!submitKYC)\r\n            return;\r\n        submitKYC.addEventListener('click', (evt) => KycAccountAgreement_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            if (!edit && !this.validate())\r\n                return;\r\n            let account_agreement_prev = document.getElementById('account_agreement_prev');\r\n            //if (account_agreement_prev) account_agreement_prev.classList.add('hidden');\r\n            let liminal_market_modal_close = document.getElementById('liminal_market_modal_close');\r\n            // if (liminal_market_modal_close) liminal_market_modal_close.style.display = 'none';\r\n            let submitBtn = evt.target;\r\n            LoadingHelper.setLoading(submitBtn);\r\n            let params = FormHelper.getParams('#kyc_wizard_form');\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            params.chainId = networkInfo.ChainId;\r\n            let kycService = new KYCService(Moralis);\r\n            let result = yield kycService.saveKYCInfo(params)\r\n                .catch((reason) => {\r\n                if (account_agreement_prev)\r\n                    account_agreement_prev.classList.remove('hidden');\r\n                LoadingHelper.removeLoading();\r\n                if (reason.message) {\r\n                    let kycError = new KycValidatorError(reason.message, this.kycForm);\r\n                    kycError.handle();\r\n                }\r\n                else {\r\n                    console.log(reason);\r\n                }\r\n            });\r\n            if (result) {\r\n                this.kycForm.kycWaiting.show();\r\n                ExecuteTradeButton.Instance.renderButton();\r\n            }\r\n            else {\r\n                if (account_agreement_prev)\r\n                    account_agreement_prev.classList.remove('hidden');\r\n                LoadingHelper.removeLoading();\r\n            }\r\n        }));\r\n    }\r\n    validate() {\r\n        let account_agreement = document.getElementById('account_agreement');\r\n        if (!(account_agreement === null || account_agreement === void 0 ? void 0 : account_agreement.checked)) {\r\n            this.setMissingInfo('account_agreement_error', 'You need to agree to agreements', 'account_agreement');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('account_agreement_error', 'account_agreement');\r\n        }\r\n        let customer_agreement = document.getElementById('customer_agreement');\r\n        if (!(customer_agreement === null || customer_agreement === void 0 ? void 0 : customer_agreement.checked)) {\r\n            this.setMissingInfo('customer_agreement_error', 'You need to agree to customer agrement', 'customer_agreement');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('customer_agreement_error', 'customer_agreement');\r\n        }\r\n        let digital_signature = document.getElementById('digital_signature');\r\n        if (!(digital_signature === null || digital_signature === void 0 ? void 0 : digital_signature.checked)) {\r\n            this.setMissingInfo('digital_signature_error', 'You need to sign', 'digital_signature');\r\n            return false;\r\n        }\r\n        else {\r\n            this.removeMissingInfo('digital_signature_error', 'digital_signature');\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycTrustedContact.html\n// Module\nvar KycTrustedContact_code = \"<fieldset class=\\\"kycTrustedContact hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"explain\\\">\\r\\n        A trusted contact is a person you authorize your financial firm to contact in limited circumstances,\\r\\n        such as if there is a concern about activity in your account and they have been unable to get in touch with you.\\r\\n        <br/><br/>\\r\\n        A trusted contact may be a family member, attorney, accountant or another third-party who you believe would\\r\\n        respect your privacy and know how to handle the responsibility.\\r\\n        The trusted person should be 18 years old or older.\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_first_name\\\">Legal first name of trusted contact</label>\\r\\n        <input id=\\\"trusted_first_name\\\" name=\\\"trusted_first_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_last_name\\\">Legal last name of trusted contact</label>\\r\\n        <input id=\\\"trusted_last_name\\\" name=\\\"trusted_last_name\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        If you fill in name, you are required to fill in one of the following, email, phone or address\\r\\n    </div>\\r\\n    <div class=\\\"input_error\\\" id=\\\"trusted_contact_missing_info\\\"></div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_email\\\">Email of trusted contact</label>\\r\\n        <input id=\\\"trusted_email\\\" type=\\\"email\\\" name=\\\"trusted_email\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_phone\\\">Phone of trusted contact</label>\\r\\n        <input id=\\\"trusted_phone\\\" type=\\\"tel\\\" name=\\\"trusted_phone\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_street_address\\\">Address of trusted contact</label>\\r\\n        <input id=\\\"trusted_street_address\\\" name=\\\"trusted_street_address\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_city\\\">City of trusted contact</label>\\r\\n        <input id=\\\"trusted_city\\\" name=\\\"trusted_city\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_state\\\">State of trusted contact</label>\\r\\n        <input id=\\\"trusted_state\\\" name=\\\"trusted_state\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_postal_code\\\">Postal code of trusted contact</label>\\r\\n        <input id=\\\"trusted_postal_code\\\" name=\\\"trusted_postal_code\\\"/>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"trusted_country\\\">Country of trusted contact</label>\\r\\n        <select required id=\\\"trusted_country\\\" required name=\\\"trusted_country\\\">\\r\\n            <option value=\\\"\\\"></option>\\r\\n            {{#each countries}}\\r\\n            <option value=\\\"{{code}}\\\">{{name}}</option>\\r\\n            {{/each}}\\r\\n        </select>\\r\\n    </div>\\r\\n    {{#unless edit}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_prev\\\">Previous: Identity</button>\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_next\\\">Next: Disclosures</button>\\r\\n    </div>\\r\\n    {{/unless}}\\r\\n    {{#if edit}}\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"trustedContact_prev\\\">Previous: Identity</button>\\r\\n        <button type=\\\"submit\\\" id=\\\"submitKYC\\\">Update account</button>\\r\\n    </div>\\r\\n    <div class=\\\"alert alert-danger\\\" id=\\\"kycError\\\" role=\\\"alert\\\"></div>\\r\\n    {{/if}}\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycTrustedContact = (KycTrustedContact_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycTrustedContact.ts\n\r\n\r\n\r\n\r\n\r\nclass KycTrustedContact extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n        this.edit = false;\r\n    }\r\n    render(edit = false) {\r\n        this.edit = edit;\r\n        let template = Handlebars.compile(Kyc_KycTrustedContact);\r\n        return template({ edit: edit, countries: CountryHelper.Countries });\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycTrustedContact', 'Trusted contact');\r\n    }\r\n    bindEvents() {\r\n        let showPrev = document.getElementById('trustedContact_prev');\r\n        showPrev === null || showPrev === void 0 ? void 0 : showPrev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycIdentity.show();\r\n        });\r\n        let showNext = document.getElementById('trustedContact_next');\r\n        showNext === null || showNext === void 0 ? void 0 : showNext.addEventListener('click', (evt) => {\r\n            if (!this.validate())\r\n                return;\r\n            this.kycForm.kycDisclosures.show();\r\n        });\r\n        if (this.edit) {\r\n            let kycAccount = new KycAccountAgreement(this.kycForm);\r\n            if (!this.validate())\r\n                return;\r\n            kycAccount.bindSubmitKyc(this.edit);\r\n        }\r\n    }\r\n    validate() {\r\n        this.setMissingInfo('trusted_contact_missing_info', '');\r\n        let trusted_first_name = document.getElementById('trusted_first_name');\r\n        if (trusted_first_name && !StringHelper.isNullOrEmpty(trusted_first_name.value)) {\r\n            let trusted_email = document.getElementById('trusted_email');\r\n            let trusted_phone = document.getElementById('trusted_phone');\r\n            let trusted_street_address = document.getElementById('trusted_street_address');\r\n            let trusted_city = document.getElementById('trusted_city');\r\n            let trusted_postal_code = document.getElementById('trusted_postal_code');\r\n            let trusted_country = document.getElementById('trusted_country');\r\n            if (StringHelper.isNullOrEmpty(trusted_email.value) && StringHelper.isNullOrEmpty(trusted_phone.value)\r\n                && StringHelper.isNullOrEmpty(trusted_street_address.value)) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'You need to fill in either email, phone or address');\r\n                return;\r\n            }\r\n            if (!StringHelper.isNullOrEmpty(trusted_email.value) && trusted_email.value.indexOf('@') == -1) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'Email is not valid. It must contain @ sign');\r\n                return;\r\n            }\r\n            if (!StringHelper.isNullOrEmpty(trusted_street_address.value) &&\r\n                (StringHelper.isNullOrEmpty(trusted_city.value) ||\r\n                    StringHelper.isNullOrEmpty(trusted_postal_code.value) ||\r\n                    StringHelper.isNullOrEmpty(trusted_country.value))) {\r\n                this.setMissingInfo('trusted_contact_missing_info', 'You need fill inn into City, Postal code and Country when filling the street address');\r\n                return;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycUpload.html\n// Module\nvar KycUpload_code = \"<fieldset class=\\\"kycUpload hidden\\\" data-form=\\\"1\\\">\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification\\\" \\\"Photo ID Front (Front of passport)\\\"}}}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"identity_verification_2\\\" \\\"Photo ID Back (Passport picture of ID) \\\"}}}\\r\\n    </div>\\r\\n    <div class=\\\"grid\\\">\\r\\n        {{{fileUpload \\\"address_verification\\\" \\\"Picture of address verification\\\"}}}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid buttons\\\">\\r\\n        <button type=\\\"button\\\" id=\\\"upload_prev\\\">Previous: Disclosures</button>\\r\\n        <button type=\\\"button\\\" id=\\\"upload_next\\\">Next: Agreements</button>\\r\\n    </div>\\r\\n</fieldset>\";\n// Exports\n/* harmony default export */ const Kyc_KycUpload = (KycUpload_code);\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycUpload.ts\n\r\n\r\nclass KycUpload extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    render() {\r\n        let template = Handlebars.compile(Kyc_KycUpload);\r\n        return template({});\r\n    }\r\n    show() {\r\n        this.showFieldset('.kycUpload', 'Upload documents');\r\n    }\r\n    bindEvents() {\r\n        this.bindFileUploads();\r\n        let upload_prev = document.getElementById('upload_prev');\r\n        upload_prev === null || upload_prev === void 0 ? void 0 : upload_prev.addEventListener('click', (evt) => {\r\n            this.kycForm.kycDisclosures.show();\r\n        });\r\n        let upload_next = document.getElementById('upload_next');\r\n        upload_next === null || upload_next === void 0 ? void 0 : upload_next.addEventListener('click', (evt) => {\r\n            if (!this.validateRequiredFields('.kycUpload'))\r\n                return;\r\n            this.kycForm.kycAccountAgreement.show();\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycWaiting.ts\nvar KycWaiting_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass KycWaiting extends KycBase {\r\n    constructor(kycForm) {\r\n        super(kycForm);\r\n    }\r\n    show() {\r\n        var _a, _b;\r\n        (_a = document.getElementById('kyc_reg')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n        (_b = document.getElementById('waiting_for_kyc_reg')) === null || _b === void 0 ? void 0 : _b.classList.remove('hidden');\r\n        document.querySelector('#liminal_market_modal_div > article > header > span').innerHTML = 'Waiting for KYC to be approved';\r\n        this.kycForm.timeout = setTimeout(() => KycWaiting_awaiter(this, void 0, void 0, function* () {\r\n            yield this.checkKycStatus();\r\n        }), 5 * 1000);\r\n    }\r\n    checkKycStatus() {\r\n        return KycWaiting_awaiter(this, void 0, void 0, function* () {\r\n            let kycService = new KYCService(Moralis);\r\n            let kycResponse = yield kycService.hasValidKYC();\r\n            if (kycResponse.isValidKyc) {\r\n                clearTimeout(this.kycForm.timeout);\r\n                this.kycForm.modal.hideModal();\r\n            }\r\n            else {\r\n                this.kycForm.timeout = setTimeout(() => {\r\n                    this.checkKycStatus();\r\n                }, 5 * 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYCForm.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass KYCForm {\r\n    constructor(onHide) {\r\n        this.steps = 5;\r\n        this.timeout = undefined;\r\n        this.activeFieldsetSelector = '.kycContact';\r\n        this.modal = new Modal();\r\n        this.onHide = onHide;\r\n        this.kycContact = new KycContact(this);\r\n        this.kycIdentity = new KycIdentity(this);\r\n        this.kycTrustedContact = new KycTrustedContact(this);\r\n        this.kycDisclosures = new KycDisclosures(this);\r\n        this.kycAccountAgreement = new KycAccountAgreement(this);\r\n        this.kycUpload = new KycUpload(this);\r\n        this.kycWaiting = new KycWaiting(this);\r\n    }\r\n    show(className) {\r\n        let kycForm = new KYCForm(() => {\r\n        });\r\n        const ble = className;\r\n        this[ble].show();\r\n        this.activeFieldsetSelector = className;\r\n    }\r\n    showKYCForm(edit = false) {\r\n        let template = Handlebars.compile(KYCModal);\r\n        let obj = {\r\n            KycContactHtml: this.kycContact.render(),\r\n            KycIdentityHtml: this.kycIdentity.render(),\r\n            KycDisclosureHtml: this.kycDisclosures.render(),\r\n            KycTrustedContactHtml: this.kycTrustedContact.render(),\r\n            KycAccountAgreementHtml: this.kycAccountAgreement.render(),\r\n            KycUploadHtml: this.kycUpload.render()\r\n        };\r\n        let content = template(obj);\r\n        let newModal = this.modal.showModal('KYC & AML', content, true, () => {\r\n            this.clearTimeout();\r\n            this.onHide();\r\n        }, false);\r\n        let taxResidence = document.getElementById('country_of_tax_residence');\r\n        if (taxResidence) {\r\n            this.steps = (taxResidence.value == 'USA') ? 5 : 6;\r\n        }\r\n        if (newModal) {\r\n            this.kycContact.bindEvents();\r\n            this.kycIdentity.bindEvents();\r\n            this.kycTrustedContact.bindEvents();\r\n            this.kycDisclosures.bindEvents();\r\n            this.kycUpload.bindEvents();\r\n            this.kycAccountAgreement.bindEvents();\r\n            document.getElementById('kyc_wizard_form').addEventListener('keyup', (evt) => {\r\n                if (evt.key == 'Enter') {\r\n                    evt.preventDefault();\r\n                    evt.stopPropagation();\r\n                }\r\n            });\r\n        }\r\n        this.kycContact.show();\r\n    }\r\n    setSteps(steps) {\r\n        this.steps = steps;\r\n    }\r\n    clearTimeout() {\r\n        if (this.timeout)\r\n            clearTimeout(this.timeout);\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/modals/KYC/KycStatusHandler.ts\nvar KycStatusHandler_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass KycStatusHandler {\r\n    constructor(kycResponse, executeTradeButton) {\r\n        this.kycResponse = kycResponse;\r\n        this.executeTradeButton = executeTradeButton;\r\n    }\r\n    getButtonText() {\r\n        let txt = 'Finish KYC';\r\n        switch (this.kycResponse.status) {\r\n            case 'SUBMITTED':\r\n            case 'ONBOARDING':\r\n            case 'INACTIVE':\r\n            case 'APPROVED':\r\n            case 'EDITED':\r\n            case 'APPROVAL_PENDING':\r\n                txt = 'Submitted to KYC processor';\r\n                break;\r\n            case 'ACTION_REQUIRED':\r\n                txt = 'Action required. Click to continue';\r\n                break;\r\n            case 'REJECTED':\r\n                txt = 'Your application was rejected';\r\n                break;\r\n            case 'DISABLED':\r\n                txt = 'Your account has been disabled';\r\n                break;\r\n            case 'ACTIVE':\r\n            case 'ACCOUNT_UPDATED':\r\n                txt = 'You are approved. KYC is being sent to blockchain. Give it few minutes';\r\n                break;\r\n            case 'ACCOUNT_CLOSED':\r\n                txt = 'Your account has been closed';\r\n                break;\r\n        }\r\n        return txt + '<small>Click for more info</small>';\r\n    }\r\n    getButtonClickEvent(executeTradeButton) {\r\n        switch (this.kycResponse.status) {\r\n            case 'SUBMITTED':\r\n            case 'ONBOARDING':\r\n            case 'INACTIVE':\r\n            case 'APPROVED':\r\n            case 'EDITED':\r\n            case 'APPROVAL_PENDING':\r\n                return this.showModal('Application is being processed', \"You need to wait for KYC to be approved. Then you'll be able to do trades. \" +\r\n                    \"This usually takes few minutes. We will email you when you are approved or if there are problems<br /><br />\" +\r\n                    \"If this status has been for more than 1 day, and you haven't gotten any email from us. Please email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application is being processed for to long&body=Hi, can you help me to find out what the problem is, the KYC process has not changed for some time? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\");\r\n            case 'ACTION_REQUIRED':\r\n                return () => KycStatusHandler_awaiter(this, void 0, void 0, function* () {\r\n                    let kycActionRequired = new KycActionRequired(executeTradeButton);\r\n                    yield kycActionRequired.show();\r\n                });\r\n            case 'REJECTED':\r\n                return this.showModal('Application was rejected', \"Your application has been rejected during KYC process.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was rejected&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'DISABLED':\r\n                return this.showModal('Application was disabled', \"Your account has been disabled.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was disabled&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'ACCOUNT_CLOSED':\r\n                return this.showModal('Application was closed', \"Your account has been closed.<br /><br />\" +\r\n                    \"We don't have the information on why that happened, but you can email us at \" +\r\n                    \"<a target='_blank' href='mailto:info@liminal.market?subject=My application was closed&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market'>info@liminal.market</a>\" +\r\n                    \" and we can find out, and we should be able to solve it together.\");\r\n            case 'ACCOUNT_UPDATED':\r\n            case 'ACTIVE':\r\n                return this.showModal('Account soon ready', 'Your account has been approved...<br /><br/>' +\r\n                    '..but, after we approve your account, we write the information to the blockchain.' +\r\n                    ' This usually takes just few(2-3) minutes.<br /><br/> If this is taking longer, ' +\r\n                    'please email us at <a target=\"_blank\" href=\"mailto:info@liminal.market?subject=KYC is being written to blockchain&body=Hi, can you help me to find out what the problem is? My name is _______ and I used the email _______ to register at liminal.market\">info@liminal.market</a>');\r\n        }\r\n        return () => {\r\n            let kycForm = new KYCForm(() => KycStatusHandler_awaiter(this, void 0, void 0, function* () {\r\n                yield this.executeTradeButton.renderButton();\r\n            }));\r\n            kycForm.showKYCForm();\r\n        };\r\n    }\r\n    showModal(title, content) {\r\n        return () => {\r\n            let modal = new Modal();\r\n            modal.showModal(title, content);\r\n        };\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/Kyc/KycApproved.html\n// Module\nvar KycApproved_code = \"<h2>You are account has been approved</h2>\\r\\n<p>We have approved your account. You can now fund your account and start to trade.\\r\\n\\r\\n    <button id=\\\"kycApprovedFund\\\">Fund account</button>\\r\\n</p>\";\n// Exports\n/* harmony default export */ const KycApproved = (KycApproved_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/ExecuteTradeButton.ts\nvar ExecuteTradeButton_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ExecuteTradeButton {\r\n    constructor(moralis, sellTradeInput, buyTradeInput) {\r\n        this.moralis = moralis;\r\n        this.sellTradeInput = sellTradeInput;\r\n        this.buyTradeInput = buyTradeInput;\r\n        this.authenticateService = new AuthenticateService(this.moralis);\r\n        this.template = Handlebars.compile(tradepanel_ExecuteTradeButton);\r\n        let htmlButton = this.template();\r\n        this.button = document.getElementById('liminal_market_execute_trade');\r\n        //this.button.outerHTML = htmlButton;\r\n        ExecuteTradeButton.Instance = this;\r\n    }\r\n    renderButton() {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            this.button = document.getElementById('liminal_market_execute_trade');\r\n            this.loadingButton(this.button);\r\n            //wallet connected\r\n            if (!this.walletIsConnected(this.button)) {\r\n                return;\r\n            }\r\n            //user logged in\r\n            if (!this.userIsLoggedIn(this.button)) {\r\n                return;\r\n            }\r\n            //chain id correct\r\n            if (!this.chainIdIsCorrect(this.button)) {\r\n                return;\r\n            }\r\n            //native token is available\r\n            if (!(yield this.userHasNativeToken(this.button))) {\r\n                return;\r\n            }\r\n            //kyc is done\r\n            if (!(yield this.kycIsDone(this.button))) {\r\n                return;\r\n            }\r\n            //ausd is setup\r\n            if (!(yield this.userHasAUSD(this.button))) {\r\n                return;\r\n            }\r\n            //ausd > buy amount\r\n            if (!(yield this.userHasEnoughQty(this.button))) {\r\n                return;\r\n            }\r\n            if (!this.hasQuantityAndSymbol(this.button)) {\r\n                return;\r\n            }\r\n            if (!(yield this.isMarketOpen(this.button))) {\r\n                return;\r\n            }\r\n            this.enableExecuteTrade(this.button);\r\n        });\r\n    }\r\n    enableExecuteTrade(button) {\r\n        //if (this.sellTradeInput.quantity.eq(0)) return;\r\n        //execute trade can be done\r\n        button.innerHTML = 'Execute trade';\r\n        button.classList.replace('disabled', 'enabled');\r\n        this.stopLoadingButton(button);\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            this.loadingButton(button);\r\n            let providerInfo = ProviderInfo.Instance;\r\n            button.innerHTML = 'Confirm transaction in your ' + providerInfo.WalletName + ' wallet';\r\n            if (this.sellTradeInput.symbol == 'aUSD') {\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let symbolAddress = yield liminalMarketService.getSymbolContractAddress(this.buyTradeInput.symbol);\r\n                if (symbolAddress === AddressZero) {\r\n                    let result = yield liminalMarketService.createToken(this.buyTradeInput.symbol, () => {\r\n                        button.innerHTML = 'Creating token. Give it few seconds';\r\n                    }).finally(() => {\r\n                        this.stopLoadingButton(button);\r\n                        button.innerHTML = 'Execute trade';\r\n                    });\r\n                    if (result instanceof BlockchainError)\r\n                        return;\r\n                    symbolAddress = result;\r\n                }\r\n                yield this.executeTransfer(symbolAddress, button);\r\n            }\r\n            else {\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let symbolAddress = yield liminalMarketService.getSymbolContractAddress(this.sellTradeInput.symbol);\r\n                let securityTokenService = new SecurityTokenService(this.moralis);\r\n                yield securityTokenService.transfer(symbolAddress, this.sellTradeInput.quantity)\r\n                    .catch(reason => {\r\n                    console.log('CATCH - securityTokenService.transfer', reason);\r\n                })\r\n                    .then(transaction => {\r\n                    console.log('THEN - securityTokenService.transfer', transaction);\r\n                    if (!transaction)\r\n                        return;\r\n                    this.monitorExecuteTrade(transaction, TradeType.Sell);\r\n                }).finally(() => {\r\n                    this.stopLoadingButton(button);\r\n                    button.innerHTML = 'Execute trade';\r\n                });\r\n            }\r\n        }));\r\n    }\r\n    executeTransfer(symbolAddress, button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let aUsdService = new AUSDService(this.moralis);\r\n            yield aUsdService.transfer(symbolAddress, this.sellTradeInput.quantity)\r\n                .catch(reason => {\r\n                console.log('CATCH - aUsdService.transfer', reason);\r\n            }).then(transaction => {\r\n                if (!transaction)\r\n                    return;\r\n                this.monitorExecuteTrade(transaction, TradeType.Buy);\r\n                this.setProgressText('Sending to blockchain', transaction.hash);\r\n            }).finally(() => {\r\n                this.stopLoadingButton(button);\r\n                button.innerHTML = 'Execute trade';\r\n            });\r\n        });\r\n    }\r\n    getBuyingSharesObj(object) {\r\n        let ethAddress = object.userAddress;\r\n        let tokenAddress = object.tokenAddress;\r\n        let buyingQuantity = object.filled_qty;\r\n        let sellingAmount = '$' + new (bignumber_default())(object.amount).div(Math.pow(10, 18)).toFixed();\r\n        return {\r\n            sellingLogo: '/img/logos/aUSD.png',\r\n            sellingSymbol: 'aUSD',\r\n            sellingAmount: sellingAmount,\r\n            buyingLogo: '/img/logos/' + object.symbol + '.png',\r\n            buyingSymbol: object.symbol,\r\n            buyingQuantity: buyingQuantity,\r\n            buyingRoundQuantity: roundNumberDecimal(buyingQuantity, 6) + ' shares',\r\n            shortEthAddress: shortEth(ethAddress),\r\n            tokenAddress: tokenAddress\r\n        };\r\n    }\r\n    getSellSharesObj(object) {\r\n        let ethAddress = object.sender;\r\n        let tokenAddress = object.recipient;\r\n        let buyingQuantity = new (bignumber_default())(object.filled_avg_price).multipliedBy(new (bignumber_default())(object.filled_qty));\r\n        let sellingAmount = object.filled_qty;\r\n        return {\r\n            sellingLogo: '/img/logos/' + object.symbol + '.png',\r\n            sellingSymbol: object.symbol,\r\n            sellingAmount: sellingAmount + ' shares',\r\n            buyingLogo: '/img/logos/aUSD.png',\r\n            buyingSymbol: 'aUSD',\r\n            buyingQuantity: buyingQuantity.toFixed(),\r\n            buyingRoundQuantity: '$' + roundBigNumberDecimal(buyingQuantity, 6).toFixed(),\r\n            shortEthAddress: shortEth(ethAddress),\r\n            tokenAddress: tokenAddress\r\n        };\r\n    }\r\n    showTradeExecuted(object) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let providerInfo = ProviderInfo.Instance;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let isBuy = (object.side == 'buy');\r\n            let obj = (isBuy) ? this.getBuyingSharesObj(object) : this.getSellSharesObj(object);\r\n            obj.walletName = providerInfo.WalletName;\r\n            obj.blockExplorerLink = networkInfo.BlockExplorer + '/tx/' + object.transaction_hash;\r\n            let template = Handlebars.compile(TradeExecuted);\r\n            let content = template(obj);\r\n            let modal = new Modal();\r\n            modal.showModal('Trade executed', content);\r\n            let addTokenToWallet = document.getElementById('addTokenToWallet');\r\n            if (!addTokenToWallet)\r\n                return;\r\n            addTokenToWallet.addEventListener('click', (evt) => {\r\n                let address = evt.target.dataset.address;\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                walletHelper.addTokenToWallet(address, this.buyTradeInput.symbol, () => {\r\n                    let addTokenToWalletFailed = document.getElementById('addTokenToWalletFailed');\r\n                    if (!addTokenToWalletFailed)\r\n                        return;\r\n                    addTokenToWalletFailed.classList.remove('d-none');\r\n                });\r\n            });\r\n        });\r\n    }\r\n    monitorExecuteTrade(transaction, tradeType) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let subscription = new Subscription(this.moralis);\r\n            yield subscription.subscribeToTable(tradeType, (object) => {\r\n                let user = this.moralis.User.current();\r\n                if (!user)\r\n                    return;\r\n                if (object.userAddress != user.get('ethAddress')) {\r\n                    console.log('obj.userAddress:' + object.userAddress + ' user:' + user.get('ethAddress'));\r\n                    return;\r\n                }\r\n                if (object.status == 'order_filled') {\r\n                    this.showTradeExecuted(object);\r\n                    let executingTrade = document.getElementById('executing-trade-progress');\r\n                    if (!executingTrade)\r\n                        return;\r\n                    executingTrade.classList.add('d-none');\r\n                }\r\n                else if (object.status == 'order_failed') {\r\n                    let modal = new Modal();\r\n                    modal.showModal('Order failed', 'We could not finish your order.');\r\n                }\r\n                else if (!object.status) {\r\n                    this.setProgressText('Received order sending to stock exchange', object.transaction_hash);\r\n                }\r\n                else if (object.status == 'order_requested') {\r\n                    this.setProgressText('Sent to stock exchange', object.transaction_hash);\r\n                }\r\n            });\r\n            let executingTrade = document.getElementById('executing-trade-progress');\r\n            if (!executingTrade)\r\n                return;\r\n            executingTrade.classList.remove('d-none');\r\n        });\r\n    }\r\n    loadingButton(button) {\r\n        button.setAttribute('aria-busy', 'true');\r\n    }\r\n    stopLoadingButton(button) {\r\n        button.removeAttribute('aria-busy');\r\n    }\r\n    walletIsConnected(button) {\r\n        let walletConnected = this.authenticateService.isWalletConnected();\r\n        if (walletConnected)\r\n            return true;\r\n        this.removeClickEvent(button);\r\n        button.innerHTML = 'Connect wallet';\r\n        button.addEventListener('click', () => {\r\n            let connectWallet = new ConnectWallet(this.moralis);\r\n            connectWallet.chooseWalletProvider();\r\n        });\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    userIsLoggedIn(button) {\r\n        let userLoggedIn = this.authenticateService.isUserLoggedIn();\r\n        if (userLoggedIn)\r\n            return true;\r\n        button.innerHTML = 'Login';\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield this.authenticateService.authenticateUser(ConnectWallet.Provider);\r\n        }));\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    chainIdIsCorrect(button) {\r\n        let chainId = this.authenticateService.getChainId();\r\n        let networkInfo = NetworkInfo.getInstance();\r\n        if (chainId === networkInfo.ChainId)\r\n            return true;\r\n        let usersWalletNetwork = NetworkInfo.getNetworkInfoByChainId(chainId);\r\n        if (usersWalletNetwork) {\r\n            NetworkInfo.setNetworkByChainId(chainId);\r\n            return true;\r\n        }\r\n        button.innerHTML = 'Switch Network';\r\n        button.addEventListener('click', () => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield networkInfo.addNetworkToWallet(this.moralis);\r\n        }));\r\n        this.stopLoadingButton(button);\r\n        return false;\r\n    }\r\n    userHasNativeToken(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let hasEnoughNativeTokens = yield networkInfo.hasEnoughNativeTokens(this.moralis);\r\n            if (hasEnoughNativeTokens)\r\n                return true;\r\n            button.classList.replace('enabled', 'disabled');\r\n            button.innerHTML = 'You need ' + networkInfo.NativeCurrencyName + ' tokens. Click me for some tokens';\r\n            button.addEventListener('click', () => {\r\n                let nativeTokenNeededModal = new NativeTokenNeeded(this.moralis, () => {\r\n                    this.renderButton();\r\n                });\r\n                nativeTokenNeededModal.show();\r\n            });\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    kycIsDone(button, intervalCheck = false) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let kycService = new KYCService(this.moralis);\r\n            let ethAddress = this.authenticateService.getEthAddress();\r\n            if (ethAddress === '') {\r\n                console.log('no ETH address, kyc check failed');\r\n                return false;\r\n            }\r\n            let kycResponse = yield kycService.hasValidKYC();\r\n            if (kycResponse.isValidKyc) {\r\n                if (intervalCheck) {\r\n                    clearInterval(this.kycIdDoneTimeout);\r\n                    let template = Handlebars.compile(KycApproved);\r\n                    let modal = new Modal();\r\n                    modal.showModal('Account approved', template({}));\r\n                    let fundAccount = document.getElementById('kycApprovedFund');\r\n                    fundAccount === null || fundAccount === void 0 ? void 0 : fundAccount.addEventListener('click', (evt) => {\r\n                        modal.hideModal();\r\n                        let ausdFund = new AUSDFund(this.moralis);\r\n                        ausdFund.showAUSDFakeFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    });\r\n                }\r\n                return true;\r\n            }\r\n            let kycStatusHandler = new KycStatusHandler(kycResponse, this);\r\n            button.innerHTML = kycStatusHandler.getButtonText();\r\n            button.addEventListener('click', kycStatusHandler.getButtonClickEvent(this));\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    checkKycIsDone() {\r\n        if (this.kycIdDoneTimeout)\r\n            return;\r\n        this.kycIdDoneTimeout = setInterval(() => ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            yield this.kycIsDone(this.button, true);\r\n        }), 10 * 1000);\r\n    }\r\n    userHasAUSD(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let ausdService = new AUSDService(this.moralis);\r\n            let balance = yield ausdService.getAUSDBalanceOf(this.authenticateService.getEthAddress());\r\n            if (balance.isGreaterThan(0))\r\n                return true;\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            if (networkInfo.TestNetwork) {\r\n                button.innerHTML = 'You need aUSD. Click here to get some';\r\n                button.addEventListener('click', () => {\r\n                    let ausdFund = new AUSDFund(this.moralis);\r\n                    ausdFund.showAUSDFakeFund(() => {\r\n                        this.renderButton();\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                button.innerHTML = 'You need aUSD. Click here for instructions';\r\n                button.addEventListener('click', () => {\r\n                    let ausdFund = new AUSDFund(this.moralis);\r\n                    ausdFund.showAUSDFund(() => {\r\n                        this.renderButton();\r\n                    });\r\n                });\r\n            }\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    userHasEnoughQty(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let ausdService = new AUSDService(this.moralis);\r\n            if (this.sellTradeInput.symbol == 'aUSD') {\r\n                let balance = yield ausdService.getAUSDBalanceOf(this.authenticateService.getEthAddress());\r\n                if (balance.isGreaterThanOrEqualTo(this.sellTradeInput.quantity))\r\n                    return true;\r\n                button.innerHTML = \"You don't have enough aUSD. Click for more funding\";\r\n                button.addEventListener('click', () => {\r\n                    let networkInfo = NetworkInfo.getInstance();\r\n                    let ausdFund = new AUSDFund(this.moralis);\r\n                    if (networkInfo.TestNetwork) {\r\n                        ausdFund.showAUSDFakeFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    }\r\n                    else {\r\n                        ausdFund.showAUSDFund(() => {\r\n                            this.renderButton();\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                let securityTokenService = new SecurityTokenService(this.moralis);\r\n                let authenticateService = new AuthenticateService(this.moralis);\r\n                let ethAddress = authenticateService.getEthAddress();\r\n                let userQuantity = yield securityTokenService.getQuantityByAddress(this.sellTradeInput.symbol, ethAddress);\r\n                if (this.sellTradeInput.quantity <= userQuantity)\r\n                    return true;\r\n                button.innerHTML = \"You don't have enough \" + this.sellTradeInput.symbol;\r\n                button.classList.replace('disable', 'enable');\r\n            }\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    isMarketOpen(button) {\r\n        return ExecuteTradeButton_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(this.moralis);\r\n            let isMarketOpen = yield userService.isMarketOpenOrUserOffHours();\r\n            if (isMarketOpen)\r\n                return true;\r\n            button.innerHTML = 'Market is closed';\r\n            button.classList.replace('enabled', 'disabled');\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        });\r\n    }\r\n    removeClickEvent(button) {\r\n        let f = (event) => button.onclick ? (event) : undefined;\r\n        if (f) {\r\n            button.removeEventListener('click', f);\r\n        }\r\n    }\r\n    hasQuantityAndSymbol(button) {\r\n        if (this.sellTradeInput.quantity.eq(0)) {\r\n            button.innerHTML = 'Type in quantity';\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        }\r\n        if (this.buyTradeInput.name == '') {\r\n            button.innerHTML = 'Select stock to buy';\r\n            this.stopLoadingButton(button);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    setProgressText(text, hash) {\r\n        let progressText = document.getElementById('progress-text');\r\n        if (progressText) {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            progressText.innerHTML = text + '<br /><a href=\"' + networkInfo.BlockExplorer + '/tx/' + hash + '\" target=\"_blank\" style=\"font-size:10px\">View</a>';\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/services/backend/TradeInfo.ts\nclass TradeInfo {\r\n    constructor(price, lastTrade) {\r\n        this.price = price;\r\n        this.lastTrade = lastTrade;\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/cloud/HttpError.ts\n\r\n\r\nclass HttpError {\r\n    constructor(obj) {\r\n        this.method = obj.method;\r\n        this.url = obj.url;\r\n        this.body = obj.body;\r\n        this.serverError = obj.serverError;\r\n    }\r\n    handle() {\r\n        console.log(this);\r\n        ErrorInfo.report(new GeneralError('Error doing request. Server response was:' + this.serverError.data.message));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/errors/CloudError.ts\n\r\n\r\n\r\nclass CloudError extends GeneralError {\r\n    constructor(e) {\r\n        super(e);\r\n        try {\r\n            let obj = JSON.parse(e.message);\r\n            if (obj.name) {\r\n                let errorHandler = CloudError.getActionInstance(obj.name, obj);\r\n                if (errorHandler) {\r\n                    errorHandler.handle();\r\n                    return;\r\n                }\r\n            }\r\n            ErrorInfo.error(obj);\r\n        }\r\n        catch (jsonError) {\r\n            ErrorInfo.error(e);\r\n        }\r\n    }\r\n    static getActionInstance(action, obj) {\r\n        let tmp = undefined;\r\n        for (let i = 0; i < CloudError.Errors.length; i++) {\r\n            if (CloudError.Errors[i].name === action) {\r\n                let errorHandler = CloudError.Errors[i];\r\n                return new errorHandler(obj);\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n}\r\nCloudError.Errors = [\r\n    HttpError\r\n];\r\n\n;// CONCATENATED MODULE: ./src/services/backend/StockPriceService.ts\nvar StockPriceService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass StockPriceService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getSymbolPrice(symbol) {\r\n        return StockPriceService_awaiter(this, void 0, void 0, function* () {\r\n            const params = {\r\n                symbol: symbol\r\n            };\r\n            let result = yield this.moralis.Cloud.run(\"getSymbolPrice\", params)\r\n                .catch(e => {\r\n                throw new CloudError(e);\r\n            });\r\n            ;\r\n            let tradeInfo = new TradeInfo(result.trade.p, result.trade.t);\r\n            return tradeInfo;\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeInput.html\n// Module\nvar TradeInput_code = \"<article class=\\\"{{tradeType}}Inputs tradeInputArticle\\\">\\r\\n    <div class=\\\"grid tradeInput\\\">\\r\\n        <div class=\\\"select_token\\\">\\r\\n            <a id=\\\"{{tradeType}}SelectStock\\\" href=\\\"#\\\" role=\\\"button\\\">\\r\\n                <img src=\\\"{{logo}}\\\"/>\\r\\n                {{symbol}}\\r\\n            </a>\\r\\n        </div>\\r\\n        <div class=\\\"trade_input\\\"><input autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" type=\\\"tel\\\" spellcheck=\\\"false\\\"\\r\\n                                        value=\\\"{{strQuantity}}\\\" placeholder=\\\"0.0\\\"/></div>\\r\\n        <div class=\\\"balance\\\">Balance : <abbr title=\\\"{{balance}}\\\" data-tooltip=\\\"{{balance}}\\\" class=\\\"balance_value\\\">{{abbrBalance}}</abbr>\\r\\n            <a href=\\\"\\\" class=\\\"balance_max\\\">Max</a></div>\\r\\n        <div class=\\\"price_per_share\\\"></div>\\r\\n    </div>\\r\\n    <progress class=\\\"progress d-none\\\" value=\\\"0\\\" max=\\\"1\\\"></progress>\\r\\n    <div class=\\\"exceeds_wallet_balance d-none\\\">Exceeds wallet balance</div>\\r\\n</article>\\r\\n\";\n// Exports\n/* harmony default export */ const TradeInput = (TradeInput_code);\n;// CONCATENATED MODULE: ./src/ui/modals/SecuritiesListModal.ts\nvar SecuritiesListModal_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass SecuritiesListModal {\r\n    constructor() {\r\n        this.tbodyId = 'liminal_market_securities_list';\r\n        this.page = 0;\r\n        this.loadmore = true;\r\n        this.modal = new Modal();\r\n    }\r\n    showModal(onSelectSymbol) {\r\n        return SecuritiesListModal_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesList = new SecuritiesList();\r\n            let content = yield securitiesList.render();\r\n            let newInstance = this.modal.showModal('Select stock to buy', content, true);\r\n            //if (newInstance)\r\n            {\r\n                yield securitiesList.bindEvents(onSelectSymbol);\r\n            }\r\n        });\r\n    }\r\n    hideModal() {\r\n        this.modal.hideModal();\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/PricePerShare.html\n// Module\nvar PricePerShare_code = \"<abbr title=\\\"Last trade was {{lastTraded}}\\\" data-tooltip=\\\"Last trade was {{lastTraded}}\\\">{{text}}</abbr>\";\n// Exports\n/* harmony default export */ const PricePerShare = (PricePerShare_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/TradePanelInput.ts\nvar TradePanelInput_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TradePanelInput {\r\n    constructor(moralis, symbol, name, logo, address, tradeType) {\r\n        this.isDirty = false;\r\n        this.moralis = moralis;\r\n        this.symbol = symbol;\r\n        this.name = name;\r\n        this.logo = logo;\r\n        this.address = address;\r\n        this.tradeType = tradeType;\r\n        this.quantity = new (bignumber_default())(0);\r\n        this.strQuantity = '';\r\n        this.balance = new (bignumber_default())(0);\r\n        this.lastPrice = 0;\r\n        this.qtyPerDollar = 0;\r\n        this.lastTraded = '';\r\n        this.template = Handlebars.compile(TradeInput);\r\n        this.pricePerShareTemplate = Handlebars.compile(PricePerShare);\r\n    }\r\n    setOtherTradePanelInput(tradePanelInput) {\r\n        this.otherTradePanelInput = tradePanelInput;\r\n    }\r\n    renderToString() {\r\n        return this.template(this);\r\n    }\r\n    render(bindEvents = true) {\r\n        let element = document.querySelector('.' + this.tradeType + 'Inputs');\r\n        element.outerHTML = this.renderToString();\r\n        if (bindEvents) {\r\n            this.bindEvents();\r\n        }\r\n    }\r\n    bindEvents() {\r\n        this.bindQuantityListener();\r\n        this.bindSelectStockButton();\r\n        this.bindMaxLink();\r\n    }\r\n    setSymbol(symbol, name, logo) {\r\n        this.symbol = symbol;\r\n        this.name = name;\r\n        this.logo = logo;\r\n        this.isDirty = true;\r\n    }\r\n    bindSelectStockButton() {\r\n        let selectStock = document.querySelector('#' + this.tradeType + 'SelectStock');\r\n        if (!selectStock)\r\n            return;\r\n        selectStock.addEventListener('click', (evt) => TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            let securityList = new SecuritiesListModal();\r\n            yield securityList.showModal((symbol, name, logo) => TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n                securityList.hideModal();\r\n                if (this.otherTradePanelInput && this.symbol == 'aUSD' && symbol != this.symbol) {\r\n                    this.otherTradePanelInput.setSymbol(this.symbol, this.name, this.logo);\r\n                }\r\n                this.symbol = symbol;\r\n                this.name = name;\r\n                this.logo = logo;\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                this.address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                this.render();\r\n                this.loadBalance().then();\r\n                this.loadLastTrade();\r\n                if (this.onUpdate)\r\n                    this.onUpdate();\r\n            }));\r\n        }));\r\n    }\r\n    bindQuantityListener() {\r\n        let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n        if (!qtyInput)\r\n            return;\r\n        let inputTimer;\r\n        qtyInput.addEventListener('keyup', (evt) => {\r\n            if (inputTimer)\r\n                clearTimeout(inputTimer);\r\n            inputTimer = setTimeout(() => {\r\n                let inputValue = evt.target.value;\r\n                this.setQuantity(inputValue);\r\n                this.loadProgressbar();\r\n                if (this.otherTradePanelInput)\r\n                    this.otherTradePanelInput.updateQuantity();\r\n                if (this.onUpdate)\r\n                    this.onUpdate();\r\n            }, 300);\r\n        });\r\n    }\r\n    bindMaxLink() {\r\n        let maxBalanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_max');\r\n        if (!maxBalanceDom)\r\n            return;\r\n        maxBalanceDom.addEventListener('click', (evt) => {\r\n            evt.preventDefault();\r\n            let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n            if (!qtyInput)\r\n                return;\r\n            qtyInput.value = this.balance.toFixed();\r\n            this.setQuantity(qtyInput.value);\r\n            this.loadProgressbar();\r\n            if (this.otherTradePanelInput)\r\n                this.otherTradePanelInput.updateQuantity();\r\n            if (this.onUpdate)\r\n                this.onUpdate();\r\n        });\r\n    }\r\n    loadBalance() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            let userService = new UserService(this.moralis);\r\n            let ethAddress = userService.getEthAddress();\r\n            let balanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_value');\r\n            if (!balanceDom)\r\n                return;\r\n            if (this.symbol === 'aUSD') {\r\n                let aUsdService = new AUSDService(this.moralis);\r\n                this.balance = yield aUsdService.getAUSDBalanceOf(ethAddress);\r\n                balanceDom.innerHTML = '$' + roundBigNumber(this.balance).toString();\r\n            }\r\n            else if (this.name !== '') {\r\n                let securityTokenService = new SecurityTokenService(this.moralis);\r\n                this.balance = yield securityTokenService.getQuantityByAddress(this.symbol, ethAddress);\r\n                balanceDom.innerHTML = roundBigNumberDecimal(this.balance, 6).toString();\r\n            }\r\n            balanceDom.dataset.tooltip = this.balance.toString();\r\n            balanceDom.title = this.balance.toString();\r\n            this.loadProgressbar();\r\n            this.toggleMaxBalanceLink();\r\n        });\r\n    }\r\n    loadLastTrade() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            if (this.symbol === 'aUSD') {\r\n                this.lastPrice = 1;\r\n                this.qtyPerDollar = 1;\r\n                return;\r\n            }\r\n            if (!this.otherTradePanelInput || this.name == '')\r\n                return;\r\n            let aUsdPricePerShare = document.querySelector('.' + this.otherTradePanelInput.tradeType + 'Inputs .price_per_share');\r\n            if (!aUsdPricePerShare)\r\n                return;\r\n            let pricePerShare = document.querySelector('.' + this.tradeType + 'Inputs .price_per_share');\r\n            if (!pricePerShare)\r\n                return;\r\n            aUsdPricePerShare.setAttribute('aria-busy', 'true');\r\n            pricePerShare.setAttribute('aria-busy', 'true');\r\n            let stockPriceService = new StockPriceService(this.moralis);\r\n            let tradeInfo = yield stockPriceService.getSymbolPrice(this.symbol);\r\n            this.lastPrice = tradeInfo.price;\r\n            this.lastTraded = tradeInfo.lastTrade.toString();\r\n            this.qtyPerDollar = 1 / this.lastPrice;\r\n            let pricePerShareHtml = {\r\n                lastTraded: this.lastTraded,\r\n                text: '≈ $' + this.lastPrice + ' per share'\r\n            };\r\n            pricePerShare.innerHTML = this.pricePerShareTemplate(pricePerShareHtml);\r\n            let pricePerAUsdHtml = {\r\n                lastTraded: this.lastTraded,\r\n                text: '1 aUSD ≈ ' + roundNumberDecimal(this.qtyPerDollar, 6) + ' ' + this.symbol\r\n            };\r\n            aUsdPricePerShare.innerHTML = this.pricePerShareTemplate(pricePerAUsdHtml);\r\n            aUsdPricePerShare.removeAttribute('aria-busy');\r\n            pricePerShare.removeAttribute('aria-busy');\r\n        });\r\n    }\r\n    updateQuantity() {\r\n        if (!this.otherTradePanelInput)\r\n            return;\r\n        let qtyInput = document.querySelector('.' + this.tradeType + 'Inputs .trade_input input');\r\n        if (!qtyInput)\r\n            return;\r\n        if (this.symbol === 'aUSD') {\r\n            qtyInput.value = this.otherTradePanelInput.quantity.div(this.otherTradePanelInput.qtyPerDollar).toString();\r\n        }\r\n        else {\r\n            qtyInput.value = this.otherTradePanelInput.quantity.multipliedBy(this.qtyPerDollar).toString();\r\n        }\r\n        this.setQuantity(qtyInput.value);\r\n        this.loadProgressbar();\r\n    }\r\n    loadProgressbar() {\r\n        if (this.quantity.eq(0) || this.balance.eq(0) || this.tradeType == TradeType.Buy)\r\n            return;\r\n        let progressDom = document.querySelector('.' + this.tradeType + 'Inputs .progress');\r\n        if (!progressDom)\r\n            return;\r\n        let percentage = this.quantity.div(this.balance).toNumber();\r\n        progressDom.value = percentage;\r\n        progressDom.classList.remove('d-none');\r\n        let exceedsBalance = document.querySelector('.' + this.tradeType + 'Inputs .exceeds_wallet_balance');\r\n        if (percentage > 1) {\r\n            exceedsBalance.classList.remove('d-none');\r\n            progressDom.setAttribute('aria-invalid', 'true');\r\n        }\r\n        else {\r\n            exceedsBalance.classList.add('d-none');\r\n        }\r\n    }\r\n    static switchPanels(sellTradePanelInput, buyTradePanelInput) {\r\n        let sellSymbol = sellTradePanelInput.symbol;\r\n        let sellName = sellTradePanelInput.name;\r\n        let sellLogo = sellTradePanelInput.logo;\r\n        let sellQuantity = sellTradePanelInput.quantity;\r\n        sellTradePanelInput.setSymbol(buyTradePanelInput.symbol, buyTradePanelInput.name, buyTradePanelInput.logo);\r\n        sellTradePanelInput.quantity = buyTradePanelInput.quantity;\r\n        buyTradePanelInput.setSymbol(sellSymbol, sellName, sellLogo);\r\n        buyTradePanelInput.quantity = sellQuantity;\r\n        sellTradePanelInput.updatePanel();\r\n        buyTradePanelInput.updatePanel();\r\n        return [sellTradePanelInput, buyTradePanelInput];\r\n    }\r\n    setQuantity(value) {\r\n        if (value == '' || value == '0')\r\n            return;\r\n        this.quantity = new (bignumber_default())(value);\r\n        this.strQuantity = value;\r\n    }\r\n    quantityFormatted() {\r\n        return (this.symbol === 'aUSD') ? '$' + this.quantity : this.quantity;\r\n    }\r\n    updatePanel() {\r\n        return TradePanelInput_awaiter(this, void 0, void 0, function* () {\r\n            this.updateQuantity();\r\n            this.render(true);\r\n            yield this.loadBalance();\r\n            yield this.loadLastTrade();\r\n        });\r\n    }\r\n    toggleMaxBalanceLink() {\r\n        let maxBalanceDom = document.querySelector('.' + this.tradeType + 'Inputs .balance_max');\r\n        if (!maxBalanceDom)\r\n            return;\r\n        if (this.balance.eq(0)) {\r\n            maxBalanceDom.classList.add('d-none');\r\n        }\r\n        else {\r\n            maxBalanceDom.classList.remove('d-none');\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/tradepanel/TradeSwitch.html\n// Module\nvar TradeSwitch_code = \"<div class=\\\"grid tradeSwitch\\\">\\r\\n    <a title=\\\"Switch the trade\\\" href=\\\"\\\" class=\\\"swithBtn\\\" class=\\\"outline\\\"></a>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const tradepanel_TradeSwitch = (TradeSwitch_code);\n;// CONCATENATED MODULE: ./src/ui/elements/tradepanel/TradeSwitch.ts\nvar TradeSwitch_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass TradeSwitch {\r\n    constructor() {\r\n        this.template = undefined;\r\n        this.template = Handlebars.compile(tradepanel_TradeSwitch);\r\n    }\r\n    renderToString() {\r\n        return this.template();\r\n    }\r\n    render() {\r\n        let dom = document.querySelector('.tradeSwitch');\r\n        if (!dom)\r\n            return;\r\n        dom.outerHTML = this.renderToString();\r\n    }\r\n    bindEvents(sellTradePanelInput, buyTradePanelInput, executeTradeButton) {\r\n        let dom = document.querySelector('.swithBtn');\r\n        if (!dom)\r\n            return;\r\n        dom.addEventListener('click', (evt) => TradeSwitch_awaiter(this, void 0, void 0, function* () {\r\n            evt.preventDefault();\r\n            [sellTradePanelInput, buyTradePanelInput] = TradePanelInput.switchPanels(sellTradePanelInput, buyTradePanelInput);\r\n            /*\r\n            await sellTradePanelInput.loadBalance();\r\n            await buyTradePanelInput.loadBalance();\r\n\r\n            sellTradePanelInput.updateQuantity();\r\n            buyTradePanelInput.updateQuantity();\r\n\r\n            if (sellTradePanelInput.symbol == 'aUSD') {\r\n                await buyTradePanelInput.loadLastTrade();\r\n            } else {\r\n                await sellTradePanelInput.loadLastTrade();\r\n            }\r\n*/\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/TradePanel.ts\nvar TradePanel_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TradePanel {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.quantity = 0;\r\n    }\r\n    render(elementId, symbol, name, logo, address) {\r\n        return TradePanel_awaiter(this, void 0, void 0, function* () {\r\n            let element = document.getElementById(elementId);\r\n            if (!element)\r\n                return;\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let sellTradeInput = new TradePanelInput(this.moralis, \"aUSD\", \"aUSD at Broker\", \"/img/ausd.png\", contractInfo.AUSD_ADDRESS, TradeType.Sell);\r\n            let buyTradeInput;\r\n            if (!symbol) {\r\n                buyTradeInput = new TradePanelInput(this.moralis, \"Select stock\", \"\", \"\", \"\", TradeType.Buy);\r\n            }\r\n            else {\r\n                buyTradeInput = new TradePanelInput(this.moralis, symbol, name, logo, address, TradeType.Buy);\r\n            }\r\n            sellTradeInput.setOtherTradePanelInput(buyTradeInput);\r\n            buyTradeInput.setOtherTradePanelInput(sellTradeInput);\r\n            let tradeSwitch = new TradeSwitch();\r\n            let sellInput = sellTradeInput.renderToString();\r\n            let buyInput = buyTradeInput.renderToString();\r\n            let switchHtml = tradeSwitch.renderToString();\r\n            element.innerHTML = sellInput + switchHtml + buyInput;\r\n            yield sellTradeInput.loadBalance();\r\n            yield buyTradeInput.loadBalance();\r\n            if (symbol) {\r\n                yield buyTradeInput.loadLastTrade();\r\n            }\r\n            sellTradeInput.bindEvents();\r\n            buyTradeInput.bindEvents();\r\n            let executeTradeButton = new ExecuteTradeButton(this.moralis, sellTradeInput, buyTradeInput);\r\n            yield executeTradeButton.renderButton();\r\n            tradeSwitch.bindEvents(sellTradeInput, buyTradeInput, executeTradeButton);\r\n            sellTradeInput.onUpdate = () => {\r\n                if (buyTradeInput.isDirty)\r\n                    buyTradeInput.updatePanel();\r\n                executeTradeButton.renderButton();\r\n            };\r\n            buyTradeInput.onUpdate = () => {\r\n                if (sellTradeInput.isDirty)\r\n                    sellTradeInput.updatePanel();\r\n                executeTradeButton.renderButton();\r\n            };\r\n        });\r\n    }\r\n    formatBuyPanel(symbol, name, logo, tradeType, contractAddress) {\r\n        document.getElementById('liminal_market_select_symbol').innerHTML = symbol;\r\n    }\r\n    getSellAmount() {\r\n        let sellInput = document.getElementById('liminal_market_sell_quantity');\r\n        if (!sellInput)\r\n            return 0;\r\n        return parseFloat(sellInput.value);\r\n    }\r\n    updateBuyInfo(Symbol) {\r\n        return TradePanel_awaiter(this, void 0, void 0, function* () {\r\n            let buyQuantityInput = document.getElementById('liminal_market_buy_quantity');\r\n            if (!buyQuantityInput)\r\n                return;\r\n            let stockPriceService = new StockPriceService(this.moralis);\r\n            let tradeInfo = yield stockPriceService.getSymbolPrice(Symbol);\r\n            let sellAmount = this.getSellAmount();\r\n            let buyQuantity = sellAmount / tradeInfo.price;\r\n            buyQuantityInput.value = buyQuantity.toString();\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/trade.html\n// Module\nvar trade_code = \"<div id=\\\"tradingPanel\\\">\\r\\n    <a href=\\\"#use_wallet_for_orders\\\" id=\\\"use_wallet_for_orders_link\\\" class=\\\"not_visible\\\">Trade in your wallet instead of\\r\\n        here</a>\\r\\n    <article id=\\\"liminal_market_trade_panel\\\"></article>\\r\\n    <div id=\\\"executing-trade-progress\\\" class=\\\"d-none\\\">\\r\\n        <div id=\\\"progress-text\\\"></div>\\r\\n        <progress></progress>\\r\\n    </div>\\r\\n    <button id=\\\"liminal_market_execute_trade\\\"></button>\\r\\n\\r\\n    <article id=\\\"use_wallet_for_orders\\\">\\r\\n\\r\\n        <h3>How to buy in wallet</h3>\\r\\n        <ul>\\r\\n            <li>If you haven't added aUSD to your wallet, now is the time - <small><a href=\\\"\\\" id=\\\"addAUSDToWallet\\\">Click\\r\\n                here to add aUSD to wallet</a></small></li>\\r\\n            <li><a href=\\\"\\\" class=\\\"findSymbol\\\">Find symbol</a> you want to buy & click \\\"Get address\\\"</li>\\r\\n            <li>Go to your wallet and find the aUSD token, click \\\"Send\\\"</li>\\r\\n            <li>Paste in the address you just copied for the Receiver.\\r\\n                <ul>\\r\\n                    <li><em>Note: If you can, save the address to your contact list for easy access next time</em></li>\\r\\n                </ul>\\r\\n            </li>\\r\\n\\r\\n            <li>Type in the amount & click Confirm</li>\\r\\n            <li>You have now bought the shares, don't forget to <a href=\\\"\\\" class=\\\"findSymbol\\\">add the token to wallet</a>. &#127881;</li>\\r\\n        </ul>\\r\\n        <div style=\\\"text-align: center;\\\">\\r\\n            <!--\\r\\n                        <iframe width=\\\"380\\\" height=\\\"500\\\" src=\\\"https://www.youtube.com/embed/m1iNotgaic4?autoplay=1&cc_load_policy=1&playlist=m1iNotgaic4&loop=1\\\" title=\\\"YouTube video player\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\\" allowfullscreen></iframe>\\r\\n            -->\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <h3>Sell your securities</h3>\\r\\n\\r\\n        <ul>\\r\\n            <li>Find the token you want so sell in you wallet and click Send</li>\\r\\n            <li>Put the in the aUSD address<br/><input id=\\\"aUsdAddress\\\" value=\\\"{{AUSDAddress}}\\\">\\r\\n                <ul>\\r\\n                    <li><em>Note: If you can, save the address to your contact list for easy access next time</em></li>\\r\\n                </ul>\\r\\n            </li>\\r\\n            <li>Type in the quantity of shares you want to sell & click Confirm</li>\\r\\n            <li>You have now sold the shares &#127881;</li>\\r\\n        </ul>\\r\\n\\r\\n    </article>\\r\\n</div>\";\n// Exports\n/* harmony default export */ const trade = (trade_code);\n;// CONCATENATED MODULE: ./src/html/modal/CopyTokenAddressToAddToWallet.html\n// Module\nvar CopyTokenAddressToAddToWallet_code = \"\\r\\n\\r\\n    You can copy the address of {{symbol}} and import it into your wallet\\r\\n    <input id=\\\"tokenAddress\\\" value=\\\"{{tokenAddress}}\\\" />\\r\\n\\r\\n\";\n// Exports\n/* harmony default export */ const CopyTokenAddressToAddToWallet = (CopyTokenAddressToAddToWallet_code);\n;// CONCATENATED MODULE: ./src/ui/pages/TradePage.ts\nvar TradePage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TradePage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    load(symbol, name, logo, address) {\r\n        return TradePage_awaiter(this, void 0, void 0, function* () {\r\n            let mark1 = 'start';\r\n            let mark2 = 'template';\r\n            let mark3 = 'render tradePanel';\r\n            let mark4 = 'selectSymbol';\r\n            let mark5 = 'aUsd';\r\n            let mark6 = 'bindEvents';\r\n            performance.mark(mark1);\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let contractInfo = ContractInfo.getContractInfo();\r\n            let template = Handlebars.compile(trade);\r\n            mainContainer.innerHTML = template({ AUSDAddress: contractInfo.AUSD_ADDRESS });\r\n            performance.mark(mark2);\r\n            let tradePanel = new TradePanel(this.moralis);\r\n            yield tradePanel.render('liminal_market_trade_panel');\r\n            performance.mark(mark3);\r\n            if (symbol) {\r\n                yield this.selectSymbol(symbol, name, logo, address);\r\n            }\r\n            performance.mark(mark4);\r\n            let user = new UserService(this.moralis);\r\n            let aUSDService = new AUSDService(this.moralis);\r\n            let ausdAmount = yield aUSDService.getAUSDBalanceOf(user.getEthAddress());\r\n            performance.mark(mark5);\r\n            let userWallet = document.getElementById('use_wallet_for_orders');\r\n            let userWalletLink = document.getElementById('use_wallet_for_orders_link');\r\n            if (ausdAmount.eq(0)) {\r\n                userWallet === null || userWallet === void 0 ? void 0 : userWallet.classList.add('hidden');\r\n                userWalletLink === null || userWalletLink === void 0 ? void 0 : userWalletLink.classList.add('not_visible');\r\n            }\r\n            else {\r\n                userWallet === null || userWallet === void 0 ? void 0 : userWallet.classList.remove('hidden');\r\n                userWalletLink === null || userWalletLink === void 0 ? void 0 : userWalletLink.classList.remove('not_visible');\r\n            }\r\n            let findSymbols = document.querySelectorAll('.findSymbol');\r\n            findSymbols === null || findSymbols === void 0 ? void 0 : findSymbols.forEach(findSymbol => {\r\n                findSymbol.addEventListener('click', (evt) => {\r\n                    evt.preventDefault();\r\n                    let securitiesModal = new SecuritiesListModal();\r\n                    securitiesModal.showModal(() => {\r\n                        securitiesModal.hideModal();\r\n                    });\r\n                });\r\n            });\r\n            let addAUSDToWallet = document.getElementById('addAUSDToWallet');\r\n            addAUSDToWallet === null || addAUSDToWallet === void 0 ? void 0 : addAUSDToWallet.addEventListener('click', (evt) => {\r\n                evt.preventDefault();\r\n                let walletHelper = new WalletHelper(this.moralis);\r\n                walletHelper.addTokenToWallet(contractInfo.AUSD_ADDRESS, 'aUSD', () => {\r\n                    let modal = new Modal();\r\n                    let template = Handlebars.compile(CopyTokenAddressToAddToWallet);\r\n                    let content = template({ symbol: 'aUSD', tokenAddress: contractInfo.AUSD_ADDRESS });\r\n                    modal.showModal('Add aUSD to wallet', content);\r\n                });\r\n            });\r\n            performance.mark(mark6);\r\n            performance.measure(\"start to template\", mark1, mark2);\r\n            performance.measure(\"template to render\", mark2, mark3);\r\n            performance.measure(\"render to selectSymbol\", mark3, mark4);\r\n            performance.measure(\"selectSymbol to ausd\", mark4, mark5);\r\n            performance.measure(\"ausd to bind\", mark5, mark6);\r\n            // Pull out all of the measurements.\r\n            console.log(performance.getEntriesByType(\"measure\"));\r\n            // Finally, clean up the entries.\r\n            performance.clearMarks();\r\n            performance.clearMeasures();\r\n        });\r\n    }\r\n    ;\r\n    selectSymbol(symbol, name, logo, address) {\r\n        return TradePage_awaiter(this, void 0, void 0, function* () {\r\n            let tradePanel = new TradePanel(this.moralis);\r\n            yield tradePanel.render('liminal_market_trade_panel', symbol, name, logo, address);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/stockspage.html\n// Module\nvar stockspage_code = \"\\r\\n<article id=\\\"stockList\\\">\\r\\n <div id=\\\"ua\\\"></div>\\r\\n <div id=\\\"list_of_securities\\\">{{{securities}}}</div>\\r\\n\\r\\n</article>\";\n// Exports\n/* harmony default export */ const stockspage = (stockspage_code);\n;// CONCATENATED MODULE: ./src/ui/pages/StocksPage.ts\nvar StocksPage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass StocksPage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    load() {\r\n        return StocksPage_awaiter(this, void 0, void 0, function* () {\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let securitiesList = new SecuritiesList();\r\n            let securities = yield securitiesList.render();\r\n            let template = Handlebars.compile(stockspage);\r\n            mainContainer.innerHTML = template({ securities: securities });\r\n            yield securitiesList.loadMore();\r\n            yield securitiesList.bindEvents((symbol, name, logo) => StocksPage_awaiter(this, void 0, void 0, function* () {\r\n                console.log('onSelectSymbol is called');\r\n                let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                let tradePage = new TradePage(this.moralis);\r\n                window.scrollTo(0, 0);\r\n                yield tradePage.load(symbol, name, logo, address);\r\n            }));\r\n        });\r\n    }\r\n    ;\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/elements/documents.html\n// Module\nvar documents_code = \"<h3>Documents</h3>\\r\\n<p>These are your documents for your trades, generated by the broker. These documents are trade confirmation & monthly statements.\\r\\n\\tThey are generated at the end of the day, between 06:30PM-07:30PM EST.\\r\\n</p>\\r\\n{{#if result}}\\r\\n<table class=\\\"table table-hover\\\">\\r\\n\\t<thead>\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<th>Type</th>\\r\\n\\t\\t\\t<th>Date</th>\\r\\n\\t\\t\\t<th>Download</th>\\r\\n\\t\\t</tr>\\r\\n\\t</thead>\\r\\n\\t<tbody>\\r\\n\\t\\t{{#each result}}\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td title=\\\"{{id}}\\\">{{type}}</a></td>\\r\\n\\t\\t\\t<td>{{date}}</td>\\r\\n\\t\\t\\t<td><a href=\\\"\\\" class=\\\"downloadDoc\\\" data-docid=\\\"{{id}}\\\">Download</a></td>\\r\\n\\t\\t</tr>\\r\\n\\t\\t{{/each}}\\r\\n\\t</tbody>\\r\\n</table>\\r\\n{{/if}}\";\n// Exports\n/* harmony default export */ const elements_documents = (documents_code);\n;// CONCATENATED MODULE: ./src/services/backend/DocumentService.ts\nvar DocumentService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass DocumentService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getDocuments() {\r\n        return DocumentService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('documents');\r\n        });\r\n    }\r\n    getDocument(documentId) {\r\n        return DocumentService_awaiter(this, void 0, void 0, function* () {\r\n            const params = {\r\n                documentId: documentId\r\n            };\r\n            return yield this.moralis.Cloud.run(\"download\", params);\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/modal/CreateToken.html\n// Module\nvar CreateToken_code = \"Token for {{symbol}} does not exist. You can click the button below to create the token. This will cost a bit of gas.\\r\\n<br /><br />\\r\\nAfter the token has been created we will try to add it to your wallet.\\r\\n<br /><br />\\r\\n<button id=\\\"createTokenBtn\\\">Create token</button>\\r\\n\\r\\n<div class=\\\"d-none\\\" id=\\\"copyAddressInfo\\\">\\r\\n    You can copy the address of the token and import it into your wallet\\r\\n    <input id=\\\"tokenAddress\\\" />\\r\\n\\r\\n</div>\";\n// Exports\n/* harmony default export */ const modal_CreateToken = (CreateToken_code);\n;// CONCATENATED MODULE: ./src/ui/modals/CreateToken.ts\nvar CreateToken_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreateToken {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    show(symbol) {\r\n        let modal = new Modal();\r\n        let template = Handlebars.compile(modal_CreateToken);\r\n        modal.showModal(\"Token \" + symbol + \" doesn't exist\", template({ symbol: symbol }));\r\n        let btn = document.getElementById('createTokenBtn');\r\n        if (!btn)\r\n            return;\r\n        btn.addEventListener('click', () => CreateToken_awaiter(this, void 0, void 0, function* () {\r\n            LoadingHelper.setLoading(btn);\r\n            let liminalMarketService = new LiminalMarketService(this.moralis);\r\n            let address = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n            if (address === AddressZero) {\r\n                let result = yield liminalMarketService.createToken(symbol, () => {\r\n                    btn.innerHTML = 'Creating token. Give it few seconds';\r\n                });\r\n                if (result instanceof BlockchainError && result.code == BlockchainError.UserCancelled) {\r\n                    LoadingHelper.removeLoading();\r\n                    return;\r\n                }\r\n                address = result;\r\n            }\r\n            LoadingHelper.removeLoading();\r\n            btn.innerHTML = 'Add token to wallet';\r\n            let walletHelper = new WalletHelper(this.moralis);\r\n            yield walletHelper.addTokenToWallet(address, symbol, () => {\r\n                let tokenAddressInput = document.getElementById('tokenAddress');\r\n                if (!tokenAddressInput)\r\n                    return;\r\n                tokenAddressInput.innerHTML = address;\r\n                document.getElementById('copyAddressInfo').classList.remove('d-none');\r\n            });\r\n        }));\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/html/pages/positions.html\n// Module\nvar positions_code = \"<article class=\\\"loaded-content2\\\">\\r\\n\\t<h3>Positions<!-- <a href=\\\"\\\" role=\\\"button\\\" id=\\\"syncWallet\\\">Sync wallet</a>--></h3>\\r\\n\\t<p>These are your positions registered with the broker. These would be registered to you on the stock exchange if we weren't running on\\r\\n\\t\\ta sandbox at the broker. Want to know when we open for live trading? <a href=\\\"https://liminal.market\\\" target=\\\"_blank\\\">Register your email with us</a>\\r\\n\\r\\n\\t</p>\\r\\n\\t<figure>\\r\\n\\t<table>\\r\\n\\t\\t<thead>\\r\\n\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t<th></th>\\r\\n\\t\\t\\t\\t<th>Symbol</th>\\r\\n\\t\\t\\t\\t<th>Current price</th>\\r\\n\\t\\t\\t\\t<th>Avg. entry value</th>\\r\\n\\t\\t\\t\\t<th>Quantity</th>\\r\\n\\t\\t\\t\\t<th>Market value</th>\\r\\n\\t\\t\\t\\t<th>Unrealize PL</th>\\r\\n\\t\\t\\t\\t<th>Trade</th>\\r\\n\\t\\t\\t\\t<th>Add to wallet</th>\\r\\n\\t\\t\\t</tr>\\r\\n\\t\\t</thead>\\r\\n\\t\\t<tbody>\\r\\n\\t\\t\\t{{#if result}}\\r\\n\\t\\t\\t{{#each result}}\\r\\n\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t<td class=\\\"symbol_logo\\\"><img id=\\\"symbol_logo_{{symbol}}\\\" src=\\\"/img/logos/default_logo.png\\\" /></td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"https://strike.market/stocks/{{symbol}}\\\" target=\\\"_blank\\\">{{symbol}}</a></td>\\r\\n\\t\\t\\t\\t<td>{{current_price}}</td>\\r\\n\\t\\t\\t\\t<td>{{round2 avg_entry_price}}</td>\\r\\n\\t\\t\\t\\t<td>{{round2 qty}}</td>\\r\\n\\t\\t\\t\\t<td>${{round market_value}}</td>\\r\\n\\t\\t\\t\\t<td class=\\\"{{classColor unrealized_pl}}\\\">${{round unrealized_pl}} ({{perc unrealized_plpc}})</td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"#\\\" class=\\\"tradeSecurity\\\" data-symbol=\\\"{{symbol}}\\\" data-qty={{qty}}>Trade</a></td>\\r\\n\\t\\t\\t\\t<td><a href=\\\"\\\" class=\\\"addToWallet\\\" data-symbol=\\\"{{symbol}}\\\">Add</a></td>\\r\\n\\t\\t\\t</tr>\\r\\n\\t\\t\\t{{/each}}\\r\\n\\t\\t\\t{{/if}}\\r\\n\\t\\t</tbody>\\r\\n\\t</table>\\r\\n\\t</figure>\\r\\n\\t<div id=\\\"documents\\\"></div>\\r\\n\\r\\n</article>\";\n// Exports\n/* harmony default export */ const pages_positions = (positions_code);\n;// CONCATENATED MODULE: ./src/html/modal/SyncStock.html\n// Module\nvar SyncStock_code = \"<article>\\r\\n    If your wallet is out of sync with your position you can sync it here. This happens when you move from\\r\\n    one chain to another. If you like to switch to new chain click the button below.\\r\\n    <br/><br/>\\r\\n    You will be asked to confirm a transaction of {{totalCost}} {{NativeSymbol}} (${{priceInNativeToken}}).\\r\\n    Each stock costs {{costPerShare}} {{NativeSymbol}} to sync. You have total of {{shareCount}} share.\\r\\n    <br/><br/>\\r\\n    <button id=\\\"syncAllPositions\\\">Sync stock to my wallet</button>\\r\\n</article>\";\n// Exports\n/* harmony default export */ const SyncStock = (SyncStock_code);\n;// CONCATENATED MODULE: ./src/services/backend/PositionsService.ts\nvar PositionsService_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass PositionsService {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n    }\r\n    getPositions() {\r\n        return PositionsService_awaiter(this, void 0, void 0, function* () {\r\n            return yield this.moralis.Cloud.run('positions');\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/util/HandlebarHelpers.ts\nclass HandlebarHelpers {\r\n    static registerHelpers() {\r\n        Handlebars.registerHelper('perc', function (number) {\r\n            return Math.round(parseFloat(number) * 10000) / 100 + '%';\r\n        });\r\n        Handlebars.registerHelper('round', function (number) {\r\n            return Math.round(parseFloat(number) * 100) / 100;\r\n        });\r\n        Handlebars.registerHelper('round2', function (number) {\r\n            return Math.round(parseFloat(number) * 10000) / 10000;\r\n        });\r\n        Handlebars.registerHelper('classColor', function (number) {\r\n            return (number > 0) ? \"green\" : \"red\";\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/pages/PositionsPage.ts\nvar PositionsPage_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PositionsPage {\r\n    constructor(moralis) {\r\n        this.moralis = moralis;\r\n        this.documentService = new DocumentService(this.moralis);\r\n    }\r\n    load() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let mainContainer = document.getElementById('main_container');\r\n            if (!mainContainer)\r\n                return;\r\n            let positionService = new PositionsService(this.moralis);\r\n            let positions = yield positionService.getPositions();\r\n            HandlebarHelpers.registerHelpers();\r\n            let template = Handlebars.compile(pages_positions);\r\n            mainContainer.innerHTML = template({ result: positions });\r\n            let syncWalletBtn = document.getElementById('syncWallet');\r\n            if (syncWalletBtn) {\r\n                syncWalletBtn.addEventListener('click', (evt) => {\r\n                    evt.preventDefault();\r\n                    this.syncAllTokens();\r\n                });\r\n            }\r\n            let symbols = new Array();\r\n            const sellLinks = document.getElementsByClassName('tradeSecurity');\r\n            for (let i = 0; i < sellLinks.length; i++) {\r\n                let element = sellLinks[i];\r\n                let symbol = element.dataset.symbol;\r\n                if (!symbol)\r\n                    continue;\r\n                symbols.push(symbol);\r\n                sellLinks[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    let element = evt.target;\r\n                    let symbol = element.dataset.symbol;\r\n                    if (!symbol)\r\n                        return;\r\n                    let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                    let contractAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                    let securitiesService = yield SecuritiesService.getInstance();\r\n                    let security = yield securitiesService.getSecurityBySymbol(symbol);\r\n                    let tradePage = new TradePage(this.moralis);\r\n                    yield tradePage.load(symbol, security.Name, security.LogoPath + security.Logo, contractAddress);\r\n                    window.scrollTo(0, 0);\r\n                }));\r\n            }\r\n            const addToWalletLinks = document.getElementsByClassName('addToWallet');\r\n            for (let i = 0; i < addToWalletLinks.length; i++) {\r\n                addToWalletLinks[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    console.log(evt.target);\r\n                    let element = addToWalletLinks[i];\r\n                    let symbol = element.dataset.symbol;\r\n                    let liminalMarketService = new LiminalMarketService(this.moralis);\r\n                    let contractAddress = yield liminalMarketService.getSymbolContractAddress(symbol);\r\n                    if (contractAddress.toString() == AddressZero) {\r\n                        let createToken = new CreateToken(this.moralis);\r\n                        createToken.show(symbol);\r\n                        return;\r\n                    }\r\n                    let walletHelper = new WalletHelper(this.moralis);\r\n                    yield walletHelper.addTokenToWallet(contractAddress.toString(), symbol, () => {\r\n                        let modal = new Modal();\r\n                        let template = Handlebars.compile(AddressInfo);\r\n                        let content = template({ symbol: symbol, address: contractAddress });\r\n                        modal.showModal('Import token to wallet', content);\r\n                    });\r\n                }));\r\n            }\r\n            yield this.renderSymbolLogos(symbols);\r\n            let docTemplate = Handlebars.compile(elements_documents);\r\n            let documents = yield this.documentService.getDocuments();\r\n            let documentDom = document.getElementById('documents');\r\n            if (!documentDom)\r\n                return;\r\n            documentDom.innerHTML = docTemplate({ result: documents });\r\n            yield this.initDocuments();\r\n        });\r\n    }\r\n    renderSymbolLogos(symbols) {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let securitiesService = yield SecuritiesService.getInstance();\r\n            const assets = yield securitiesService.getSecurities();\r\n            let asset;\r\n            for (let i = 0; i < symbols.length; i++) {\r\n                asset = assets.get(symbols[i]);\r\n                if (asset) {\r\n                    document.getElementById('symbol_logo_' + symbols[i]).setAttribute('src', '/img/logos/' + asset.Logo);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    syncAllTokens() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            let costOfSync = yield this.moralis.Cloud.run('costOfSync');\r\n            let template = Handlebars.compile(SyncStock);\r\n            let content = template({\r\n                shareCount: costOfSync.shareCount,\r\n                costPerShare: Moralis.Units.FromWei(costOfSync.costPerShare, 18),\r\n                priceInNativeToken: costOfSync.priceInNativeToken,\r\n                totalCost: Moralis.Units.FromWei(costOfSync.cost, 18),\r\n                NativeSymbol: networkInfo.NativeSymbol\r\n            });\r\n            let modal = new Modal();\r\n            modal.showModal('Sync all stock to wallet', content);\r\n            let syncAllPositions = document.getElementById('syncAllPositions');\r\n            if (syncAllPositions) {\r\n                syncAllPositions.addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    initDocuments() {\r\n        return PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n            const links = document.getElementsByClassName('downloadDoc');\r\n            const user = this.moralis.User.current();\r\n            if (!user)\r\n                return;\r\n            for (let i = 0; i < links.length; i++) {\r\n                links[i].addEventListener('click', (evt) => PositionsPage_awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    let documentId = links[i].dataset.docid;\r\n                    if (!documentId)\r\n                        return;\r\n                    let locationUrl = yield this.documentService.getDocument(documentId);\r\n                    if (locationUrl == '') {\r\n                        alert('Could not find document. Please contact us if you should have gotten a document');\r\n                        return;\r\n                    }\r\n                    window.location = locationUrl;\r\n                }));\r\n            }\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/routing/Routing.ts\nvar Routing_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass Routing {\r\n    constructor(moralis) {\r\n        this.settings = {\r\n            show_trade: this.showTrade,\r\n            show_positions: this.showPositions,\r\n            show_stocks: this.showStocks,\r\n            show_kyc_action_required: this.showKycActionRequired,\r\n            show_funding: this.showFunding,\r\n            show_kyc: this.showKyc\r\n        };\r\n        this.moralis = moralis;\r\n    }\r\n    loadRoutes() {\r\n        var _a;\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            let path = window.location.hash.replace('#', '').replace('/', '');\r\n            if (window.location.search !== '')\r\n                path = window.location.search.replace('?', '');\r\n            if (path === '')\r\n                path = 'stocks';\r\n            this.attachNavLinks();\r\n            let fn = (_a = this.settings['show_' + path]) !== null && _a !== void 0 ? _a : this.settings['show_stocks'];\r\n            if (typeof fn === 'function') {\r\n                yield fn(this);\r\n            }\r\n        });\r\n    }\r\n    showKycActionRequired(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/kyc_action_required');\r\n            let button = document.getElementById('liminal_market_execute_trade');\r\n            button === null || button === void 0 ? void 0 : button.dispatchEvent(new MouseEvent('click'));\r\n        });\r\n    }\r\n    showKyc(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/kyc');\r\n            let button = document.getElementById('liminal_market_execute_trade');\r\n            button === null || button === void 0 ? void 0 : button.dispatchEvent(new MouseEvent('click'));\r\n        });\r\n    }\r\n    showFunding(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/funding');\r\n            let aUSDFundingModal = new AUSDFund(this.moralis);\r\n            let networkInfo = NetworkInfo.getInstance();\r\n            if (networkInfo.TestNetwork) {\r\n                aUSDFundingModal.showAUSDFakeFund(() => {\r\n                });\r\n            }\r\n            else {\r\n                aUSDFundingModal.showAUSDFund(() => {\r\n                });\r\n            }\r\n        });\r\n    }\r\n    showTrade(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new TradePage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Buy stocks', '#/trade');\r\n        });\r\n    }\r\n    showStocks(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new StocksPage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Stocks', '#/stocks');\r\n        });\r\n    }\r\n    showPositions(routing, evt) {\r\n        return Routing_awaiter(this, void 0, void 0, function* () {\r\n            if (evt)\r\n                evt.preventDefault();\r\n            let page = new PositionsPage(routing.moralis);\r\n            yield page.load();\r\n            history.pushState(null, 'Positions', '#/positions');\r\n        });\r\n    }\r\n    attachNavLinks() {\r\n        let router = this;\r\n        let tradeNavLinks = document.querySelectorAll('.tradeNavLink');\r\n        tradeNavLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showTrade(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n        let investLinks = document.querySelectorAll('.investNavLink');\r\n        investLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showStocks(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n        let positionLinks = document.querySelectorAll('.positionNavLink');\r\n        positionLinks.forEach(link => {\r\n            link.addEventListener('click', function (evt) {\r\n                return Routing_awaiter(this, void 0, void 0, function* () {\r\n                    yield router.showPositions(router, evt);\r\n                    link.parentElement.parentElement.parentElement.removeAttribute('open');\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/ui/elements/Header.ts\nclass Header {\r\n    static loadImage() {\r\n        let header = document.querySelector('body > header');\r\n        if (!header)\r\n            return;\r\n        let random = Math.floor(Math.random() * 10);\r\n        header.style.backgroundImage = \"url(/img/header/\" + random + \".jpg)\";\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/main.ts\nvar main_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst start = function () {\r\n    return main_awaiter(this, void 0, void 0, function* () {\r\n        let slowServerTimer = setTimeout(slowServer, 5 * 1000);\r\n        let connectionService = new ConnectionService();\r\n        connectionService.start().then(function () {\r\n            return main_awaiter(this, void 0, void 0, function* () {\r\n                clearTimeout(slowServerTimer);\r\n                let loadingMessage = document.querySelector('.loading');\r\n                let userService = new UserService(Moralis);\r\n                let loggedInUser = yield userService.isLoggedIn(loadingMessage);\r\n                if (loggedInUser) {\r\n                    let userInfo = new UserInfo(Moralis, loggedInUser.providerInfo, loggedInUser);\r\n                    yield userInfo.render('user_header_info');\r\n                    //load user info into UI\r\n                }\r\n                else {\r\n                    //show Connect Wallet button\r\n                    let connectWallet = new ConnectWallet(Moralis);\r\n                    connectWallet.renderButton('user_header_info');\r\n                }\r\n                let routing = new Routing(Moralis);\r\n                yield routing.loadRoutes();\r\n            });\r\n        }).catch((reason) => {\r\n            ErrorInfo.report(new GeneralError(\"Server is down. Please try again later.<br /><br />\" + reason));\r\n        });\r\n        document.body.addEventListener('click', (evt) => {\r\n            let userInfoDropdown = document.getElementById('userInfoDropdown');\r\n            if (userInfoDropdown && !userInfoDropdown.classList.contains('d-none')) {\r\n                userInfoDropdown.classList.add('d-none');\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n            }\r\n        });\r\n        let walletHelper = new WalletHelper(Moralis);\r\n        if (walletHelper.isWebview(window.navigator.userAgent)) {\r\n            //console = ErrorInfo as any;\r\n        }\r\n        function slowServer() {\r\n            let loading = document.querySelector('.loading');\r\n            if (!loading) {\r\n                clearTimeout(slowServerTimer);\r\n                return;\r\n            }\r\n            loading.innerHTML = 'Hmmm.... our servers are slow and might be down. Give it few minutes.';\r\n        }\r\n        Header.loadImage();\r\n    });\r\n};\r\nstart().then();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM1QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNyRSxNQUFNLEVBQUUsYUFBYTtRQUNyQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2pGLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNwQyxNQUFNLEVBQUUsVUFBVTtRQUNsQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDZCQUE2QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN2RCxNQUFNLEVBQUUsZUFBZTtRQUN2QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNwRSxNQUFNLEVBQUUsUUFBUTtRQUNoQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDekMsTUFBTSxFQUFFLGtCQUFrQjtRQUMxQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDZCQUE2QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3pGLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZFLE1BQU0sRUFBRSxPQUFPO1FBQ2YsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDeEUsTUFBTSxFQUFFLFdBQVc7UUFDbkIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDMUUsTUFBTSxFQUFFLE1BQU07UUFDZCxNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUMxRSxNQUFNLEVBQUUsUUFBUTtRQUNoQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUM1RSxNQUFNLEVBQUUsT0FBTztRQUNmLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzdELE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzFFLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3JFLE1BQU0sRUFBRSxXQUFXO1FBQ25CLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdkYsTUFBTSxFQUFFLFNBQVM7UUFDakIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDMUUsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNyRSxNQUFNLEVBQUUsUUFBUTtRQUNoQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN6RSxNQUFNLEVBQUUsT0FBTztRQUNmLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNwQyxNQUFNLEVBQUUsNkNBQTZDO1FBQ3JELE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdEYsTUFBTSxFQUFFLFlBQVk7UUFDcEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDNUQsTUFBTSxFQUFFLFFBQVE7UUFDaEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdkUsTUFBTSxFQUFFLFNBQVM7UUFDakIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDM0UsTUFBTSxFQUFFLFdBQVc7UUFDbkIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDeEUsTUFBTSxFQUFFLFlBQVk7UUFDcEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdkUsTUFBTSxFQUFFLFVBQVU7UUFDbEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDbEUsTUFBTSxFQUFFLGtCQUFrQjtRQUMxQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUM3RSxNQUFNLEVBQUUsV0FBVztRQUNuQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDbkMsTUFBTSxFQUFFLFFBQVE7UUFDaEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDNUQsTUFBTSxFQUFFLDJCQUEyQjtRQUNuQyxNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN2RSxNQUFNLEVBQUUsWUFBWTtRQUNwQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUMxRSxNQUFNLEVBQUUsWUFBWTtRQUNwQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN2RSxNQUFNLEVBQUUsT0FBTztRQUNmLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3pFLE1BQU0sRUFBRSxlQUFlO1FBQ3ZCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQzdFLE1BQU0sRUFBRSxPQUFPO1FBQ2YsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDcEUsTUFBTSxFQUFFLGdCQUFnQjtRQUN4QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDBCQUEwQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZGLE1BQU0sRUFBRSxNQUFNO1FBQ2QsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdEUsTUFBTSxFQUFFLHFCQUFxQjtRQUM3QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQy9FLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3hFLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZFLE1BQU0sRUFBRSxhQUFhO1FBQ3JCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDekYsTUFBTSxFQUFFLFNBQVM7UUFDakIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNqRixNQUFNLEVBQUUsU0FBUztRQUNqQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLGtCQUFrQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUM1QyxNQUFNLEVBQUUsOENBQThDO1FBQ3RELE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2pELE1BQU0sRUFBRSxhQUFhO1FBQ3JCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3RELE1BQU0sRUFBRSwyQkFBMkI7UUFDbkMsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDNUQsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDdEMsTUFBTSxFQUFFLHVCQUF1QjtRQUMvQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUM1RSxNQUFNLEVBQUUsUUFBUTtRQUNoQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUMvRSxNQUFNLEVBQUUsV0FBVztRQUNuQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDJCQUEyQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNyRCxNQUFNLEVBQUUsVUFBVTtRQUNsQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2hGLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN4QyxNQUFNLEVBQUUsOENBQThDO1FBQ3RELE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3pFLE1BQU0sRUFBRSxXQUFXO1FBQ25CLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3RFLE1BQU0sRUFBRSx3QkFBd0I7UUFDaEMsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDMUUsTUFBTSxFQUFFLHNCQUFzQjtRQUM5QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN0RCxNQUFNLEVBQUUsWUFBWTtRQUNwQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDhCQUE4QixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN4RCxNQUFNLEVBQUUsVUFBVTtRQUNsQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUN4RSxNQUFNLEVBQUUsU0FBUztRQUNqQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2pGLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNsQyxNQUFNLEVBQUUsY0FBYztRQUN0QixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLDBCQUEwQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ3ZGLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRTtRQUNuQyxNQUFNLEVBQUUsc0JBQXNCO1FBQzlCLE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUU7UUFDQyxNQUFNLEVBQUUsc0RBQXNEO1FBQzlELE1BQU0sRUFBRSxLQUFLO0tBQ2hCLEVBQUUsRUFBQyxNQUFNLEVBQUUsc0NBQXNDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFO1FBQ2hFLE1BQU0sRUFBRSwwQkFBMEI7UUFDbEMsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDMUUsTUFBTSxFQUFFLFNBQVM7UUFDakIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDOUQsTUFBTSxFQUFFLFVBQVU7UUFDbEIsTUFBTSxFQUFFLEtBQUs7S0FDaEIsRUFBRSxFQUFDLE1BQU0sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDcEQsTUFBTSxFQUFFLHVCQUF1QjtRQUMvQixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUU7UUFDeEYsTUFBTSxFQUFFLE9BQU87UUFDZixNQUFNLEVBQUUsS0FBSztLQUNoQixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUM7Q0FDNUUsQ0FBQzs7Ozs7Ozs7Ozs7O0FDNVJ1QjtBQUM4RDtBQUNuQztBQUNOO0FBQ2M7QUFDUjtBQUV6QyxNQUFNLHFCQUFxQjtJQUl0QztRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRVksSUFBSTs7WUFDYixJQUFJLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzQyxJQUFJLE9BQU8sR0FBRyxNQUFNLFdBQVcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUU3QyxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsc0JBQXNCLEVBQUUsUUFBUSxDQUFDLEVBQUMsU0FBUyxFQUFFLHVCQUF1QixFQUFDLENBQUMsQ0FBQztZQUU1RixJQUFJLE9BQU8sQ0FBQyxlQUFlLEVBQUU7Z0JBQ3pCLElBQUksaUJBQWlCLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDNUUscUJBQXFCLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQ3JFO1lBQ0QsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3RCLENBQUM7S0FBQTtJQUVNLFVBQVU7UUFHYixJQUFJLG9CQUFvQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUMzRSxvQkFBb0IsYUFBcEIsb0JBQW9CLHVCQUFwQixvQkFBb0IsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO1lBQzNELEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUVyQixJQUFJLENBQUMsbUJBQW1CLENBQUMsd0JBQXdCLENBQUM7Z0JBQUUsT0FBTztZQUMzRCx3QkFBd0IsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBRS9DLElBQUksTUFBTSxHQUFHLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLENBQUM7WUFFNUQsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDM0MsTUFBTSxXQUFXLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7Z0JBQzdELElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRTtvQkFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ2pDLE9BQU87aUJBQ1Y7Z0JBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUMzQixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ2QsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO29CQUNoQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN0RDtxQkFBTTtvQkFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUMxQjtZQUNMLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Z0JBQ1osMkJBQTJCLEVBQUUsQ0FBQztZQUNsQyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsRUFBQztJQUVOLENBQUM7SUFFTyxTQUFTLENBQUMsT0FBZTtRQUM3QixJQUFJLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsZ0JBQWdCO1lBQUUsT0FBTztRQUU5QixnQkFBZ0IsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ3JDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzdDLENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7O0FDckU0RDtBQUVFO0FBQ0o7QUFFTjtBQUdPO0FBQ007QUFDTTtBQUd6RCxNQUFNLFFBQVE7SUFNekIsWUFBbUIsT0FBdUIsRUFBRSxZQUEwQixFQUFFLElBQXlCO1FBQzdGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ3JDLENBQUM7SUFFWSxNQUFNLENBQUMsU0FBaUI7O1lBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSTtnQkFBRSxPQUFPO1lBRXZCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1lBRTlCLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbkMsQ0FBQztLQUFBO0lBRU8sc0JBQXNCO1FBQzFCLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDO1lBQ3hCLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN0QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7WUFDMUIsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7WUFDdEIsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7WUFDbkIsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUdPLGNBQWMsQ0FBQyxTQUFpQjtRQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBRXZCLElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLFdBQVc7WUFBRSxPQUFPO1FBRXpCLElBQUksV0FBVyxHQUFHLHVCQUF1QixFQUFFLENBQUM7UUFDNUMsSUFBSSxHQUFHLEdBQVE7WUFDWCxVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO1lBQ3ZDLGVBQWUsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEQsVUFBVSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVTtZQUN4QyxXQUFXLEVBQUUsV0FBVyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzNGLGtCQUFrQixFQUFFLFdBQVcsQ0FBQyxhQUFhLEdBQUcsV0FBVztZQUMzRCxRQUFRLEVBQUUsRUFBRTtTQUNmO1FBRUQsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxpQkFBZSxDQUFDLENBQUM7UUFDbkQsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXpCLFdBQVcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBRTdCLElBQUksY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMvRCxjQUFjLGFBQWQsY0FBYyx1QkFBZCxjQUFjLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDOUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3JCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUV0QixJQUFJLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNuRSxJQUFJLENBQUMsZ0JBQWdCO2dCQUFFLE9BQU87WUFFOUIsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDL0MsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzFCLENBQUMsQ0FBQztRQUNOLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxxQkFBcUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDN0UscUJBQXFCLGFBQXJCLHFCQUFxQix1QkFBckIscUJBQXFCLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDckQsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRU8sb0JBQW9CO1FBQ3hCLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkQsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFPLEdBQUcsRUFBRSxFQUFFLENBQUM7WUFDL0MsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLElBQUksUUFBUSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7WUFDckMsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDMUIsQ0FBQyxFQUFDO1FBRUYsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQU8sR0FBRyxFQUFFLEVBQUUsQ0FBQztZQUNsRCxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckIsSUFBSSxRQUFRLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1lBQ3hDLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRTFCLENBQUMsRUFBQztRQUVGLElBQUksa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3ZFLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFPLEdBQUcsRUFBRSxFQUFFLENBQUM7WUFDekQsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3JCLElBQUksUUFBUSxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQztZQUMzQyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUUxQixDQUFDLEVBQUM7SUFDTixDQUFDO0NBQ0o7OztBQ3pIRDtBQUNBLElBQUksd0JBQUk7QUFDUjtBQUNBLDBEQUFlLHdCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSx5QkFBSSx3akVBQXdqRTtBQUNoa0U7QUFDQSwyREFBZSx5QkFBSSxFOzs7Ozs7Ozs7OztBQ0h5QjtBQUNpQztBQUNMO0FBQ007QUFDbEQ7QUFDeUI7QUFDVjtBQUNRO0FBQ0U7QUFDRjtBQUNKO0FBQ0o7QUFJNUIsTUFBTSxhQUFhO0lBTTlCLFlBQW1CLE9BQXVCO1FBQ3RDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFTSxZQUFZLENBQUMsU0FBaUI7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDO1lBQUUsT0FBTztRQUVoRCxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBRSxDQUFDLFNBQVMsR0FBRyxtQkFBWSxDQUFDO1FBRTdELElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQzNFLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDbEIsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDO1lBQ25FLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDbkUsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sb0JBQW9CO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLHFCQUFxQixFQUFFLG9CQUFvQixDQUFDLENBQUM7UUFFbEUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRU8sZUFBZTtRQUNuQixJQUFJLFVBQVUsR0FBUSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUMsQ0FBQztRQUV4RSxJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxJQUFJLFlBQVksR0FBRyxZQUFZLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RELElBQUksWUFBWSxFQUFFO1lBRVYsVUFBVSxHQUFHLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFDO1lBQ2xDLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFFNUUsT0FBTztTQUNWO1FBR0QsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDckUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNuQixJQUFJLFFBQVEsR0FBRyxLQUF5QixDQUFDO1lBRXpDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO2dCQUNwQyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBRSxDQUFDO2dCQUMxQyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7b0JBQ2YsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztvQkFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTt3QkFDakIsSUFBSSxVQUFVLEdBQUcsR0FBdUIsQ0FBQzt3QkFDekMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUM7d0JBQ3pDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDO29CQUVwQyxDQUFDLENBQUM7aUJBQ0w7cUJBQU07b0JBQ0gsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7aUJBQ3ZDO2dCQUVELElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDckMsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVPLGNBQWM7UUFDbEIsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLG1DQUFtQyxDQUFDLENBQUM7UUFDN0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUN0QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ3RDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDckIsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUV0QixJQUFJLFFBQVEsR0FBSSxHQUFHLENBQUMsYUFBbUMsQ0FBQyxPQUFPLENBQUMsUUFBUyxDQUFDO2dCQUMxRSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztZQUNoQyxDQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFDdEIsQ0FBQyxDQUFDO0lBRU4sQ0FBQztJQUVNLGVBQWUsQ0FBQyxVQUFlO1FBQ2xDLElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTlDLElBQUksVUFBVSxDQUFDLEdBQUcsSUFBSSxVQUFVLENBQUMsRUFBRSxFQUFFO1lBQ2pDLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztZQUV6RCxJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEQsSUFBSSxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ3BELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDMUI7aUJBQU07Z0JBQ0gsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO2FBQ2hGO1NBQ0o7YUFBTTtZQUNILFlBQVksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1NBQzdFO0lBQ0wsQ0FBQztJQUVPLDZCQUE2QixDQUFDLGNBQTRCO1FBQzlELElBQUksR0FBRyxHQUFHLHFEQUFxRCxDQUFDO1FBQ2hFLEdBQUcsSUFBSSxvQ0FBb0M7UUFDM0MsSUFBSSxRQUFRLEdBQUcsdUJBQXVCLEVBQUUsQ0FBQztRQUN6QyxLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBRTtZQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUFFLEdBQUcsSUFBSSxJQUFJLENBQUM7WUFDeEIsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7U0FDM0I7UUFDRCxjQUFjLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztJQUNuQyxDQUFDO0lBRU8sYUFBYSxDQUFDLFlBQXFCO1FBQ3ZDLElBQUkscUJBQXFCLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFbEUsSUFBSSxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTdDLHFCQUFxQixDQUFDLGdCQUFnQixDQUNsQyxZQUFZLEVBQ1osQ0FBQyxvQkFBMEIsRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUMvRCxDQUFDLEVBQ0QsQ0FBTyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUV2QixJQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDbkUsTUFBTSxRQUFRLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFMUMsSUFBSSxRQUFRLENBQUMsY0FBYyxDQUFDLDhCQUE4QixDQUFDLEVBQUU7Z0JBQ3pELElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDdkMsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDckI7UUFDTCxDQUFDLEVBQUM7YUFDRCxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNkLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVPLGlCQUFpQixDQUFDLFlBQXFCLEVBQUUsb0JBQTBCO1FBQ3ZFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUUzRCxJQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxjQUFjO1lBQUUsT0FBTztRQUU1QixjQUFjLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDaEUsSUFBSSxXQUFXLEdBQUcsdUJBQXVCLEVBQUUsQ0FBQztRQUM1QyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUU7WUFDbEQsSUFBSSxXQUFXLEdBQUcsbUNBQW1DLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNqRixJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNkLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxjQUFjLENBQUMsQ0FBQzthQUN0RDtpQkFBTTtnQkFDSCwrQkFBK0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQzthQUM3RDtTQUNKO1FBRUQsSUFBSSxHQUFHLEdBQUcsNEJBQTRCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEdBQUcsZUFBZSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2xJLEdBQUcsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEdBQUcsNENBQTRDLENBQUM7UUFDL0YsY0FBYyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDL0IsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7QUNqTHVEO0FBQ1Q7QUFDVjtBQUNzQjtBQUNaO0FBRWhDLE1BQU0sV0FBVztJQU01QixZQUFZLE9BQXdCO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFWSxnQkFBZ0IsQ0FBQyxVQUFtQjs7WUFDN0MsSUFBSSxXQUFXLENBQUMsVUFBVSxJQUFJLFdBQVcsQ0FBQyxVQUFVO2dCQUM1QyxzQkFBc0IsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUN2RCxPQUFPLFdBQVcsQ0FBQyxVQUFVLENBQUM7YUFDakM7WUFFRCxJQUFJLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFO2dCQUM3QyxPQUFPLEVBQUUsVUFBVTthQUN0QixDQUFDLENBQUM7WUFFSCxPQUFPLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNoRSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNsRSxXQUFXLENBQUMsVUFBVSxHQUFHLElBQUkscUJBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDL0MsV0FBVyxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUVwQyxPQUFPLFdBQVcsQ0FBQyxVQUFVLENBQUM7WUFDbEMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ2hCLElBQUksZUFBZSxHQUFHLElBQUksZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNsRCxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDbEMsT0FBTyxJQUFJLHFCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO0tBQUE7SUFFWSxVQUFVOztZQUNuQixJQUFJLFdBQVcsQ0FBQyxRQUFRO2dCQUFFLE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7WUFFMUQsSUFBSSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvQyxXQUFXLENBQUMsUUFBUSxHQUFHLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzdDLE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFDcEMsQ0FBQztLQUFBO0lBRVksUUFBUSxDQUFDLGFBQXNCLEVBQUUsR0FBZTs7WUFDekQsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRTtnQkFDOUMsU0FBUyxFQUFFLGFBQWE7Z0JBQ3hCLE1BQU0sRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxDQUFDO2FBQ2xELENBQUMsQ0FBQztZQUVILElBQUksTUFBTSxHQUFHLE1BQU0sT0FBTyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUM7aUJBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFFLE9BQU8sTUFBTSxDQUFDLEVBQUMsQ0FBQztpQkFDaEMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNaLElBQUksZUFBZSxHQUFHLElBQUksZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNsRCxNQUFNLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzVDLENBQUMsQ0FBQyxDQUFDO1lBRVAsV0FBVyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFDbkMsV0FBVyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFFbkMsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztLQUFBO0lBRVksVUFBVSxDQUFDLFlBQXFCLEVBQUUsTUFBWTs7WUFDdkQsSUFBSSxZQUFZLEdBQUcsNEJBQTRCLEVBQUUsQ0FBQztZQUNsRCxJQUFJLEdBQUcsR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUVsQyxNQUFNLE9BQU8sR0FBRztnQkFDWixlQUFlLEVBQUUsWUFBWSxDQUFDLFlBQVk7Z0JBQzFDLFlBQVksRUFBRSxZQUFZO2dCQUMxQixHQUFHLEVBQUUsR0FBRztnQkFDUixNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDO1lBQ0YsT0FBTyxPQUFPLENBQUM7UUFDbkIsQ0FBQztLQUFBO0NBQ0o7OztBQzlFRDtBQUNBLElBQUksZ0JBQUksMmlCQUEyaUIsYUFBYTtBQUNoa0I7QUFDQSxrREFBZSxnQkFBSSxFOzs7Ozs7Ozs7OztBQ0hrQztBQUV0QyxNQUFNLGNBQWM7SUFHL0IsWUFBWSxPQUF3QjtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBRVksa0JBQWtCOztZQUMzQixJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBRTVDLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEVBQUMsT0FBTyxFQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO1FBQ25GLENBQUM7S0FBQTtDQUVKOzs7Ozs7Ozs7Ozs7QUNmK0Q7QUFDcEM7QUFDdUI7QUFDSztBQUNVO0FBQ0Y7QUFDSDtBQUNaO0FBQ1o7QUFHdEIsTUFBTSxRQUFRO0lBR3pCLFlBQVksT0FBd0I7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBSSxJQUFJLHFCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU0sWUFBWSxDQUFDLFFBQW9CO1FBRXBDLG9EQUFvRDtRQUNwRCxRQUFRLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxnQkFBZ0IsQ0FBQyxRQUFxQjtRQUN6QyxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFdBQWUsQ0FBQyxDQUFDO1FBRW5ELElBQUksWUFBWSxHQUFHLDRCQUE0QixFQUFFLENBQUM7UUFDbEQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1FBRWhFLElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7UUFDeEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUV6RCxJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFdBQVc7WUFBRSxPQUFPO1FBRXpCLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO1lBQ2pELElBQUksWUFBWSxHQUFHLDRCQUE0QixFQUFFLENBQUM7WUFFbEQsSUFBSSxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELElBQUksTUFBTSxHQUFHLE1BQU0sWUFBWSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtnQkFDckYsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3pCLENBQUMsQ0FBQztZQUNGLElBQUksQ0FBQyxNQUFNO2dCQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUV0QyxDQUFDLEVBQUM7UUFFRixJQUFJLGVBQWUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLGVBQWU7WUFBRSxPQUFPO1FBRTdCLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO1lBQ3JELGVBQWdCLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUVuRCxJQUFJLGNBQWMsR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdEQsSUFBSSxNQUFNLEdBQUcsTUFBTSxjQUFjLENBQUMsa0JBQWtCLEVBQUU7aUJBQ2pELEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUNkLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUM7WUFDOUIsQ0FBQyxDQUFDLENBQUM7WUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7Z0JBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQzNELElBQUksWUFBWSxFQUFFO29CQUNkLGVBQWdCLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO29CQUM5QyxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDeEMsWUFBWSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO29CQUN4QyxVQUFVLENBQUMsR0FBRyxFQUFFO3dCQUNaLFlBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztvQkFDekMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUM7aUJBQ2hCO2FBQ0o7aUJBQU0sSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO2dCQUN2QixJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM3RCxJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUMzRCxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsWUFBWTtvQkFBRSxPQUFPO2dCQUU1QyxNQUFNLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDN0IsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RDLFlBQVksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQzNDO2lCQUFNO2dCQUNILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUVsQztZQUNELGFBQWE7UUFDakIsQ0FBQyxFQUFDO0lBQ04sQ0FBQztJQUVhLGVBQWU7O1lBQ3pCLElBQUksa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQztZQUN0RSxJQUFJLENBQUMsa0JBQWtCO2dCQUFFLE9BQU87WUFFaEMsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2hELElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLFVBQVUsR0FBRyxXQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7WUFFN0MsSUFBSSxNQUFNLEdBQUcsTUFBTSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDNUQsa0JBQWtCLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFdkUsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUM1QixJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQzthQUNoQztZQUVELElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ2hDLFVBQVUsQ0FBQyxHQUFTLEVBQUUsQ0FBQztvQkFDbkIsTUFBTSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQ2pDLENBQUMsR0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7YUFDaEI7aUJBQU07Z0JBQ0gsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUM1QjtRQUNMLENBQUM7S0FBQTtJQUVPLGFBQWE7UUFFakIsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU87UUFFeEIsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVPLGlCQUFpQixDQUFDLE1BQVc7UUFDakMsSUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3RCxJQUFJLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsaUJBQWlCO1lBQUUsT0FBTztRQUVqRCxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDaEIsaUJBQWlCLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7U0FDaEQ7UUFDRCxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pELENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7O0FDbEkrRDtBQUNmO0FBQ0k7QUFDWDtBQUczQixNQUFNLFdBQVc7SUFJNUIsWUFBWSxPQUF1QixFQUFFLElBQXdCO1FBQ3pELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFWSxpQkFBaUI7O1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSTtnQkFBRSxPQUFPO1lBRXZCLElBQUksbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQ3pFLElBQUksb0JBQW9CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBRTNFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRTtnQkFDNUIsb0JBQW9CLGFBQXBCLG9CQUFvQix1QkFBcEIsb0JBQW9CLENBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDOUMsbUJBQW1CLGFBQW5CLG1CQUFtQix1QkFBbkIsbUJBQW1CLENBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0MsT0FBTzthQUNWO2lCQUFNO2dCQUNILG9CQUFvQixhQUFwQixvQkFBb0IsdUJBQXBCLG9CQUFvQixDQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2pELG1CQUFtQixhQUFuQixtQkFBbUIsdUJBQW5CLG1CQUFtQixDQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDbkQ7WUFFRCxJQUFJLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDaEQsSUFBSSxTQUFTLEdBQUcsTUFBTSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNoRixTQUFTLEdBQUcsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRXRDLElBQUksb0JBQW9CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1lBQzlFLElBQUksb0JBQW9CO2dCQUFFLG9CQUFvQixDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDO1lBRTNFLElBQUksbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQztZQUMzRSxJQUFJLG1CQUFtQjtnQkFBRSxtQkFBbUIsQ0FBQyxTQUFTLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQztZQUd6RSxJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBQzVDLElBQUksbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3JFLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDbEMsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xELElBQUksV0FBVyxDQUFDLFdBQVcsRUFBRTtvQkFDekIsT0FBTyxDQUFDLFNBQVMsR0FBRyxxQkFBcUIsQ0FBQztvQkFDMUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO3dCQUN0QyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7d0JBQ3JCLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRTt3QkFDdkMsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQyxDQUFDLENBQUM7aUJBQ047cUJBQU07b0JBQ0gsT0FBTyxDQUFDLFNBQVMsR0FBRyxtQkFBbUIsQ0FBQztvQkFDeEMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO3dCQUN0QyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7d0JBQ3JCLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUU7d0JBQ25DLENBQUMsQ0FBQyxDQUFDO29CQUNQLENBQUMsQ0FBQztpQkFDTDtZQUNMLENBQUMsQ0FBQztZQUNGLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDMUIsSUFBSSxzQkFBc0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHdCQUF3QixDQUFDLENBQUM7Z0JBQy9FLElBQUksQ0FBQyxzQkFBc0I7b0JBQUUsT0FBTztnQkFDcEMsc0JBQXNCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNyRDtRQUNMLENBQUM7S0FBQTtDQUNKOzs7Ozs7Ozs7Ozs7QUNuRThDO0FBQ1k7QUFDTjtBQUVHO0FBRXpDLE1BQU0sVUFBVTtJQUszQixZQUFZLE9BQXVCO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFWSxTQUFTOztZQUNsQixJQUFJLFVBQVUsQ0FBQyxPQUFPO2dCQUFFLE9BQU8sVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7WUFFdEQsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNoRCxVQUFVLENBQUMsT0FBTyxHQUFHLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzNDLE9BQU8sVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFFbEMsQ0FBQztLQUFBO0lBRVksV0FBVzs7WUFDcEIsSUFBSSxVQUFVLENBQUMsV0FBVyxJQUFJLFVBQVUsQ0FBQyxXQUFXLENBQUMsVUFBVTtnQkFBRSxPQUFPLFVBQVUsQ0FBQyxXQUFXLENBQUM7WUFFL0YsVUFBVSxDQUFDLFdBQVcsSUFBRyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUMsQ0FBQztpQkFDL0YsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNaLElBQUksZUFBZSxHQUFHLElBQUksZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNsRCxJQUFJLGVBQWUsQ0FBQyxvQkFBb0IsRUFBRSxFQUFFO29CQUN4QyxPQUFPLEtBQUssQ0FBQztpQkFDaEI7Z0JBQ0QsZ0JBQWdCLENBQUMsZUFBZSxDQUFDO2dCQUNqQyxPQUFPLEtBQUssQ0FBQztZQUNqQixDQUFDLENBQWMsRUFBQztZQUVwQixJQUFJLFVBQVUsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFO2dCQUNqQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFFdkQsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFLLENBQUMsQ0FBQztnQkFDdkQsTUFBTSxXQUFXLENBQUMsaUJBQWlCLEVBQUUsQ0FBQzthQUN6QztZQUNELE9BQU8sVUFBVSxDQUFDLFdBQVcsQ0FBQztRQUNsQyxDQUFDO0tBQUE7SUFFWSxXQUFXLENBQUMsSUFBUzs7WUFDOUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDdkMsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLFlBQVksQ0FBQyx5REFBeUQsQ0FBQztZQUU1RixPQUFPLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pFLENBQUM7S0FBQTtJQUVZLGFBQWEsQ0FBQyxJQUFTOztZQUNoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN2QyxJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksWUFBWSxDQUFDLHlEQUF5RCxDQUFDO1lBRTVGLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELENBQUM7S0FBQTtJQUVNLGdCQUFnQixDQUFDLEdBQVc7UUFDL0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsNEVBQTRFLENBQUMsQ0FBQztRQUN2RyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVLLGVBQWUsQ0FBQyxNQUFXOztZQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN2QyxJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksWUFBWSxDQUFDLHlEQUF5RCxDQUFDO1lBRTVGLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDM0UsQ0FBQztLQUFBO0NBQ0o7Ozs7Ozs7Ozs7OztBQ3hFdUQ7QUFDRTtBQUNYO0FBQ0Q7QUFDVDtBQUNzQjtBQUU1QyxNQUFNLG9CQUFvQjtJQUtyQyxZQUFZLE9BQXVCO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFHWSxvQkFBb0IsQ0FBQyxNQUFjLEVBQUUsVUFBa0I7O1lBQ2hFLElBQUksb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEUsSUFBSSxhQUFhLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoRixJQUFJLGFBQWEsS0FBSyxXQUFXO2dCQUFFLE9BQU8sSUFBSSxxQkFBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNELElBQUksT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFO2dCQUM1RCxPQUFPLEVBQUUsVUFBVTthQUN0QixDQUFDLENBQUM7WUFFSCxPQUFPLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDO2lCQUM3QyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ2QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDbEUsT0FBTyxJQUFJLHFCQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNkLElBQUksZUFBZSxHQUFHLElBQUksZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNsRCxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDbEMsT0FBTyxJQUFJLHFCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDO0tBQUE7SUFFWSxRQUFRLENBQUMsYUFBcUIsRUFBRSxHQUFjOztZQUN2RCxJQUFJLFlBQVksR0FBRyw0QkFBNEIsRUFBRSxDQUFDO1lBQ2xELElBQUksT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFO2dCQUMzRCxTQUFTLEVBQUUsWUFBWSxDQUFDLFlBQVk7Z0JBQ3BDLE1BQU0sRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxDQUFDO2FBQ2xELENBQUMsQ0FBQztZQUVILElBQUksTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDO2lCQUNuRCxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ1gsT0FBTyxNQUFNO1lBQ2pCLENBQUMsQ0FBQztpQkFDRCxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ1osSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2xELE1BQU0sZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLENBQUM7WUFDUCxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO0tBQUE7SUFFYSxVQUFVLENBQUMsWUFBb0IsRUFBRSxhQUFxQixFQUFFLE1BQVc7O1lBQzdFLElBQUksaUJBQWlCLEdBQUcsTUFBTSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUN6RCxNQUFNLE9BQU8sR0FBRztnQkFDWixlQUFlLEVBQUUsYUFBYTtnQkFDOUIsWUFBWSxFQUFFLFlBQVk7Z0JBQzFCLEdBQUcsRUFBRSxpQkFBaUI7Z0JBQ3RCLE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUM7WUFDRixPQUFPLE9BQU8sQ0FBQztRQUNuQixDQUFDO0tBQUE7SUFFWSxtQkFBbUI7O1lBQzVCLElBQUksb0JBQW9CLENBQUMsaUJBQWlCO2dCQUFFLE9BQU8sb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDO1lBRTlGLElBQUksUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFDeEQsb0JBQW9CLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDL0QsT0FBTyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUM7UUFDdEQsQ0FBQztLQUFBO0NBQ0o7OztBQ3pFYyxNQUFNLFFBQVE7SUFFbEIsSUFBSSxDQUFDLE9BQWdCLEVBQUUsVUFBbUIsRUFBRSxPQUFrQixFQUFFLFlBQXdCO1FBRTNGLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBRXRCLElBQUksWUFBWSxFQUFFO1lBQ2QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQVUsRUFBRSxFQUFFO2dCQUNoQyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMxQyxJQUFJLENBQUMsT0FBTztvQkFBRSxPQUFPO2dCQUNyQixPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7WUFDbkMsQ0FBQyxDQUFDLENBQUM7U0FDTjtRQUNELFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUNqQyxRQUFRLENBQUMsU0FBUyxHQUFHLDZCQUE2QixHQUFHLE9BQU8sR0FBRyxRQUFRLENBQUM7UUFDeEUsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUV4QyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLFVBQVUsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLHVCQUF1QixFQUFFLENBQUMsVUFBVSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEUsSUFBSSxPQUFPLEVBQUU7WUFDVCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNyQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ2hEO2FBQU07WUFDSCxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4QyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ25EO0lBQ0wsQ0FBQztDQUVKOzs7Ozs7Ozs7Ozs7QUM3Qm9EO0FBQ0g7QUFJbkMsTUFBTSxZQUFZO0lBRzdCLFlBQVksT0FBd0I7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQUVNLHNCQUFzQjtRQUN6QixJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1FBQzVDLE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQztJQUM1QixDQUFDO0lBQUEsQ0FBQztJQUVXLGdCQUFnQixDQUFDLFNBQXFCLEVBQUUsZ0JBQXlDOztZQUMxRixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxPQUFPLEdBQUcsU0FBUyxDQUFDO1lBQ3BFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEdBQUcsU0FBUyxDQUFDLENBQUM7WUFFL0MsSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM5QyxJQUFJLFlBQVksR0FBRyxNQUFNLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUUzQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQWMsRUFBRSxFQUFFO2dCQUN6QyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDOUQsSUFBSSxPQUFPLEdBQUcsaUZBQWlGLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixHQUFHLHdCQUF3QixDQUFDO2dCQUVySixnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUV0QyxJQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUM5QixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLFlBQVksRUFBRTtvQkFDdkUsUUFBUSxDQUFDLElBQUksQ0FBQywwREFBMEQsR0FBRyxPQUFPLEVBQUUsRUFBRSxDQUFDO29CQUN2Riw0REFBNEQ7aUJBQy9EO3FCQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxlQUFlLEVBQUU7b0JBQ3pDLFFBQVEsQ0FBQyxJQUFJLENBQUMscURBQXFELEdBQUcsT0FBTyxFQUFFLEVBQUUsQ0FBQztvQkFDbEYsNkRBQTZEO2lCQUNoRTtxQkFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksaUJBQWlCLEVBQUU7b0JBQzNDLDZFQUE2RTtvQkFDN0UsUUFBUSxDQUFDLElBQUksQ0FBQywwRUFBMEUsR0FBRyxPQUFPLEVBQUUsRUFBRSxDQUFDO2lCQUMxRztxQkFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksY0FBYyxFQUFFO29CQUN4QyxnR0FBZ0c7b0JBQ2hHLFFBQVEsQ0FBQyxJQUFJLENBQUMsMENBQTBDLEdBQUcsTUFBTSxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLHlCQUF5QixHQUFHLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztpQkFDMUk7cUJBQU07b0JBQ0gsUUFBUSxDQUFDLElBQUksQ0FBQyxnREFBZ0QsRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDdkU7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7S0FBQTtJQUFBLENBQUM7Q0FFTDs7O0FDbkRELElBQVksU0FHWDtBQUhELFdBQVksU0FBUztJQUNqQiwwQkFBYTtJQUNiLHdCQUFXO0FBQ2YsQ0FBQyxFQUhXLFNBQVMsS0FBVCxTQUFTLFFBR3BCOzs7QUNIRDtBQUNBLElBQUksdUJBQUk7QUFDUjtBQUNBLG9FQUFlLHVCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSxrQkFBSSxnSEFBZ0gsYUFBYSwyQkFBMkIsZUFBZSx3QkFBd0IsZUFBZSw0SUFBNEksWUFBWSw2QkFBNkIsY0FBYyxzQ0FBc0MsZ0JBQWdCLG9CQUFvQixnQkFBZ0IsS0FBSyxxQkFBcUIsOEdBQThHLGVBQWUsb0dBQW9HLGNBQWMsU0FBUyxlQUFlLGdMQUFnTCxjQUFjLGlGQUFpRixhQUFhLGFBQWEsaUJBQWlCLHlFQUF5RSxtQkFBbUI7QUFDMXFDO0FBQ0Esb0RBQWUsa0JBQUksRTs7QUNIbkI7QUFDQSxJQUFJLDBCQUFJLHVCQUF1QixTQUFTLG1DQUFtQyxTQUFTLHNEQUFzRCxTQUFTLHNGQUFzRixZQUFZLCtDQUErQyxXQUFXLDhDQUE4QyxXQUFXLHFMQUFxTCxRQUFRO0FBQ3JpQjtBQUNBLDREQUFlLDBCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSxzQkFBSSx1QkFBdUIsU0FBUyxtQ0FBbUMsU0FBUyxzREFBc0QsU0FBUyxzRkFBc0YsWUFBWSwrQ0FBK0MsUUFBUSx1QkFBdUIsUUFBUTtBQUMzVTtBQUNBLDhEQUFlLHNCQUFJLEU7Ozs7Ozs7Ozs7O0FDSGtDO0FBQytCO0FBQ1I7QUFDaEQ7QUFDaUM7QUFFOUMsTUFBTSxpQkFBaUI7SUFNbEMsWUFBWSxPQUF3QixFQUFFLG9CQUFpQztRQUh2RSxZQUFPLEdBQVMsU0FBUyxDQUFDO1FBSXRCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxvQkFBb0IsQ0FBQztRQUNqRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1FBQzVDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7UUFDcEMsSUFBSSxVQUFVLEdBQUcsV0FBVyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRTdDLElBQUksV0FBVyxDQUFDLFdBQVcsRUFBRTtZQUN6QixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLHFCQUF5QixDQUFDLENBQUM7WUFDN0QsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLEVBQUMsTUFBTSxFQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxFQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFDLFVBQVUsRUFBQyxDQUFDO1lBQ2pILElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO2dCQUM5RSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3RCLENBQUMsQ0FBQyxDQUFDO1NBQ047YUFBTTtZQUNILElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsdUJBQXFCLENBQUMsQ0FBQztZQUN6RCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsRUFBQyxNQUFNLEVBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsVUFBVSxFQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQzlFLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLENBQUM7U0FDTjtRQUVELElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU87UUFFbEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFTLEVBQUUsQ0FBQztZQUN2QyxJQUFJLHFCQUFxQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUM3RSxxQkFBcUIsYUFBckIscUJBQXFCLHVCQUFyQixxQkFBcUIsQ0FBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRWxELE1BQU0sSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFFdEMsQ0FBQyxFQUFDO0lBQ04sQ0FBQztJQUVNLFdBQVc7UUFDZCxJQUFJLElBQUksQ0FBQyxPQUFPO1lBQUUsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRVksb0JBQW9COztZQUM3QixJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBQzVDLElBQUkscUJBQXFCLEdBQUcsTUFBTSxXQUFXLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xGLElBQUkscUJBQXFCLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO2FBQy9CO2lCQUFNO2dCQUNILElBQUksQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQzthQUMxRTtRQUNMLENBQUM7S0FBQTtDQUNKOzs7QUMvREQ7QUFDQSxJQUFJLHNCQUFJLG1EQUFtRCxXQUFXLDZHQUE2RyxPQUFPLCtCQUErQixLQUFLLDZHQUE2RyxrQkFBa0IsVUFBVSxjQUFjLGdCQUFnQixrUEFBa1AsS0FBSztBQUM1bkI7QUFDQSw0REFBZSxzQkFBSSxFOztBQ0huQjtBQUNBLElBQUksa0JBQUk7QUFDUjtBQUNBLG9EQUFlLGtCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSwwQkFBSSx5U0FBeVMsOEVBQThFLHlEQUF5RCxxRkFBcUY7QUFDN2dCO0FBQ0EsNERBQWUsMEJBQUksRTs7QUNIbkI7QUFDQSxJQUFJLHlCQUFJLHlSQUF5UiwwRUFBMEU7QUFDM1c7QUFDQSwyREFBZSx5QkFBSSxFOztBQ0huQjtBQUNBLElBQUksZUFBSTtBQUNSO0FBQ0EsaURBQWUsZUFBSSxFOztBQ0huQjtBQUNBLElBQUksbUJBQUk7QUFDUjtBQUNBLHFEQUFlLG1CQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSwwQkFBSTtBQUNSO0FBQ0EsNERBQWUsMEJBQUksRTs7QUNIbkI7QUFDQSxJQUFJLGtCQUFJLGlLQUFpSywyRUFBMkU7QUFDcFA7QUFDQSxvREFBZSxrQkFBSSxFOztBQ0huQjtBQUNBLElBQUksc0JBQUk7QUFDUjtBQUNBLHdEQUFlLHNCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSw4QkFBSSw4SEFBOEgsOEVBQThFLHlEQUF5RCxxRkFBcUY7QUFDbFc7QUFDQSxnRUFBZSw4QkFBSSxFOztBQ0huQjtBQUNBLElBQUksUUFBSTtBQUNSO0FBQ0EsMENBQWUsUUFBSSxFOztBQ0huQjtBQUNBLElBQUksd0JBQUkseUlBQXlJLG9FQUFvRTtBQUNyTjtBQUNBLDBEQUFlLHdCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSx1QkFBSSx5SkFBeUosNkRBQTZEO0FBQzlOO0FBQ0EseURBQWUsdUJBQUksRTs7QUNIbkI7QUFDQSxJQUFJLG9CQUFJO0FBQ1I7QUFDQSxzREFBZSxvQkFBSSxFOztBQ0huQjtBQUNBLElBQUkscUJBQUk7QUFDUjtBQUNBLHVEQUFlLHFCQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSxlQUFJLGdDQUFnQyxTQUFTLEtBQUssT0FBTyxxREFBcUQsU0FBUyxjQUFjLFFBQVEsZUFBZSxTQUFTLDBDQUEwQyxTQUFTLG1CQUFtQixTQUFTLHNEQUFzRCxTQUFTLHlDQUF5QyxTQUFTO0FBQ3pXO0FBQ0EsMERBQWUsZUFBSSxFOztBQ0g4QztBQUVsRCxNQUFNLFVBQVU7SUFRM0IsWUFBWSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQU0sR0FBRywyQkFBMkIsRUFBRSxPQUFPLEdBQUcsYUFBYTtRQU5qRyxnQkFBVyxHQUFXLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLE1BQU07UUFHMUQsV0FBTSxHQUFHLGNBQWMsQ0FBQztRQUN4QixZQUFPLEdBQUcsYUFBYSxDQUFDO1FBR3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFTSxNQUFNO1FBQ1QsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxtQkFBYyxDQUFDLENBQUM7UUFDbEQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxVQUFVO1FBQ2IsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFxQixDQUFDO1FBQzFFLFNBQVMsYUFBVCxTQUFTLHVCQUFULFNBQVMsQ0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUdTLFdBQVcsQ0FBQyxPQUF5QjtRQUMzQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXJDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPO1FBRW5CLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1AsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsdUNBQXVDLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDcEMsT0FBTztTQUNWO1FBRUQsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDOUIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0hBQWdILENBQUMsQ0FBQztZQUM3SyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDcEMsT0FBTztTQUNWO1FBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUM5QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtZQUNqQyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLE1BQWdCLENBQUMsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLHNCQUFzQixHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsMkVBQTJFLENBQUMsQ0FBQztRQUMzSixDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVTLGNBQWMsQ0FBQyxTQUFpQixFQUFFLEtBQWE7UUFDckQsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFzQixDQUFDO1FBQ3RGLFdBQVcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxjQUFjO1lBQUUsT0FBTztRQUU1QixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDbkMsY0FBYyxDQUFDLFNBQVMsR0FBRyxZQUFZLEdBQUcsV0FBVyxDQUFDLEtBQUssR0FBRyxNQUFNO1NBQ3ZFO2FBQU07WUFDSCxjQUFjLENBQUMsU0FBUyxHQUFHLEVBQUU7U0FDaEM7SUFDTCxDQUFDO0lBR1MsbUJBQW1CLENBQUMsU0FBaUIsRUFBRSxJQUFZO1FBQ3pELElBQUksZUFBZSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBaUIsQ0FBQztRQUNwRixJQUFJLENBQUMsZUFBZTtZQUFFLE9BQU87UUFFN0IsZUFBZSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDakMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQzlDLENBQUM7SUFFUyxtQkFBbUIsQ0FBQyxTQUFpQjtRQUMzQyxJQUFJLGVBQWUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQWdCLENBQUM7UUFDbkYsSUFBSSxDQUFDLGVBQWU7WUFBRSxPQUFPO1FBRTdCLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFJTSxNQUFNLENBQUMsZUFBZTtRQUN6QixVQUFVLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNsRCxJQUFJLFVBQVUsR0FBRyxJQUFJLFVBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDM0MsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFeEMsT0FBTyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDL0IsQ0FBQyxDQUFDO0lBQ04sQ0FBQzs7QUFUTSxzQkFBVyxHQUFpQixFQUFFLENBQUM7OztBQ3hGQTtBQUUzQixNQUFNLGFBQWE7SUFJOUIsWUFBWSxRQUFnQjtRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUM3QixDQUFDO0lBR00sc0JBQXNCO1FBQ3pCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLG9CQUFvQixHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsbUJBQW1CLENBQUMsQ0FBQztRQUNuSCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFxQixDQUFDO1lBRTFDLElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNwQyxJQUFJLEdBQUcsR0FBRztvQkFDTixPQUFPLEVBQUUsK0JBQStCO29CQUN4QyxTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQUU7b0JBQ25CLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBRSxDQUFDLFNBQVM7b0JBQzNFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztpQkFDekI7Z0JBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDakIsT0FBTyxLQUFLLENBQUM7YUFDaEI7WUFFRCxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztnQkFDNUIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3pDLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtvQkFDakIsSUFBSSxHQUFHLEdBQUc7d0JBQ04sT0FBTyxFQUFFLHdFQUF3RTt3QkFDakYsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFO3dCQUNuQixTQUFTLEVBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUUsQ0FBQyxTQUFTO3dCQUMzRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87cUJBQ3pCO29CQUVELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ2pCLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjthQUNKO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBR08sc0JBQXNCLENBQUMsS0FBdUI7UUFDbEQsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxVQUFVLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksMEJBQTBCLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDckcsQ0FBQztJQUVTLGlCQUFpQixDQUFDLFVBQWtCLEVBQUUsY0FBdUI7UUFDbkUsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFDckIsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBRS9CLElBQUksQ0FBQyxjQUFjO1lBQUUsT0FBTztRQUU1QixJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzNELElBQUksWUFBWSxFQUFFO1lBQ2QsWUFBWSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFFUyxjQUFjLENBQUMsVUFBa0IsRUFBRSxJQUFZLEVBQUUsY0FBdUI7O1FBQzlFLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRXJCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksSUFBSSxJQUFJLEVBQUUsRUFBRTtZQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07U0FDakM7YUFBTTtZQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU87WUFDL0IsSUFBSSxjQUFjLEVBQUU7Z0JBQ2hCLGNBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLDBDQUFFLEtBQUssRUFBRSxDQUFDO2dCQUNqRCxjQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQywwQ0FBRSxZQUFZLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2FBQ2pGO1NBQ0o7SUFDTCxDQUFDO0lBRU8sTUFBTSxDQUFDLEdBQStFO1FBQzFGLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTztRQUVuQixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsYUFBYyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQWdCLENBQUM7UUFDbkYsSUFBSSxVQUFVLEVBQUU7WUFDWixVQUFVLENBQUMsY0FBYyxDQUFDLEVBQUMsS0FBSyxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7WUFDN0MsT0FBTztTQUNWO1FBQ0QsS0FBSyxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDM0MsS0FBSyxDQUFDLGtCQUFrQixDQUFDLGFBQWEsRUFBRSxrRUFBa0UsR0FBRyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDO1FBQzVKLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNkLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRTtZQUNiLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5QztRQUVELEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNuQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckIsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDWixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBMEIsQ0FBQztnQkFDM0MsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFNUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRTtvQkFDN0YsS0FBSyxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDdEMsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUMzRSxJQUFJLFlBQVk7d0JBQUUsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUMzQztZQUNMLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLENBQUMsQ0FBQztJQUVOLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7O0FDakg0QjtBQUNtQztBQUNtQjtBQUNNO0FBSVk7QUFDRjtBQUNwQjtBQUNRO0FBQ2M7QUFDaEI7QUFDUTtBQUNnQjtBQUM1QztBQUNnQztBQUNGO0FBQ047QUFDRTtBQUN6QztBQUNDO0FBRUs7QUFDUztBQUNUO0FBSXpDLE1BQU0saUJBQWlCO0lBTWxDLFlBQVksa0JBQXNDO1FBQzlDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDO1FBRTdDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLGFBQWlCLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUseUJBQXlCLENBQUMsQ0FBQztRQUMzRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFFekQsMEJBQTBCLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBRVksSUFBSTs7WUFDYixJQUFJLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzQyxJQUFJLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRTtZQUNyRCxJQUFJLENBQUMsU0FBUztnQkFBRSxPQUFPO1lBRXZCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRXRELElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN6RCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUM7Z0JBQ25CLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDL0IsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLEtBQUssRUFBRSxTQUFTLENBQUMsc0JBQXNCO2dCQUN2QyxVQUFVLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDOUMsQ0FBQztZQUVGLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO1lBQzdELENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUVWLElBQUkscUJBQXFCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBQzdFLHFCQUFxQixhQUFyQixxQkFBcUIsdUJBQXJCLHFCQUFxQixDQUFFLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFPLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQzdELEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDckIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUVqQixJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHlCQUF5QixDQUFnQixDQUFDO2dCQUNsRix3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFcEMsSUFBSSxhQUFhLEdBQUcsSUFBSSxhQUFhLENBQUMsd0JBQXdCLENBQUM7Z0JBQy9ELElBQUksQ0FBQyxhQUFhLENBQUMsc0JBQXNCLEVBQUU7b0JBQUUsT0FBTztnQkFFcEQsSUFBSSxNQUFNLEdBQUcsb0JBQW9CLENBQUMsd0JBQXdCLENBQUMsQ0FBQztnQkFFNUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3pDLE1BQU0sVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUM7cUJBQ25DLElBQUksQ0FBQyxHQUFHLEVBQUU7b0JBQ1AsSUFBSSxvQkFBb0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFnQixDQUFDO29CQUMxRixvQkFBb0IsYUFBcEIsb0JBQW9CLHVCQUFwQixvQkFBb0IsQ0FBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUU5QyxJQUFJLDZCQUE2QixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsK0JBQStCLENBQWdCLENBQUM7b0JBQzVHLDZCQUE2QixhQUE3Qiw2QkFBNkIsdUJBQTdCLDZCQUE2QixDQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzFELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLEVBQUU7b0JBQ3hDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDM0MsQ0FBQyxDQUFDO3FCQUNELEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtvQkFDWixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO29CQUNaLDJCQUEyQixFQUFFLENBQUM7Z0JBQ2xDLENBQUMsQ0FBQyxDQUFDO1lBRVgsQ0FBQyxFQUFDO1lBRUYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLDZCQUE2QixFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNwRCxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQzthQUMxQztRQUNMLENBQUM7S0FBQTtJQUdPLGNBQWMsQ0FBQyxRQUE0QjtRQUMvQyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZELElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ2YsZ0VBQWdFO2dCQUNoRSxTQUFTO2FBQ1o7WUFDRCxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztZQUMvQyxPQUFPLElBQUksUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQztTQUN0RDtRQUdELElBQUksT0FBTyxJQUFJLEVBQUUsRUFBRTtZQUNmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDbkQsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QyxPQUFPLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzFCO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVPLFNBQVM7UUFDYixJQUFJLHNCQUFzQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsc0JBQXNCO1lBQUUsT0FBTztRQUNwQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07SUFDakQsQ0FBQztJQUVPLFNBQVMsQ0FBQyxNQUFXO1FBQ3pCLElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxzQkFBc0I7WUFBRSxPQUFPO1FBRXBDLHNCQUFzQixDQUFDLFNBQVMsR0FBRyxxREFBcUQsR0FBRyxNQUFNLENBQUM7UUFDbEcsc0JBQXNCLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPO0lBQ2xELENBQUM7Q0FDSjs7O0FDckpEO0FBQ0EsSUFBSSxhQUFJLDhJQUE4SSxpQkFBaUIsZUFBZSxrQkFBa0IsZUFBZSx3QkFBd0IsZUFBZSxvQkFBb0IsZUFBZSxnQkFBZ0IsZUFBZSwwQkFBMEI7QUFDMVY7QUFDQSwrQ0FBZSxhQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSxlQUFJLDBqRUFBMGpFLFVBQVUsNkdBQTZHLEtBQUssY0FBYyxjQUFjLHNMQUFzTCxpQkFBaUIsa0NBQWtDLE1BQU0sS0FBSyxNQUFNLDJCQUEyQixPQUFPLG1DQUFtQyxTQUFTO0FBQ2xpRjtBQUNBLHFEQUFlLGVBQUksRTs7Ozs7Ozs7Ozs7QUNGZ0M7QUFFcEMsTUFBTSxpQkFBaUI7SUFTbEMsWUFBWSxLQUFVLEVBQUUsT0FBZ0I7O1FBUnhDLGdCQUFXLEdBQXNCLEVBQUUsQ0FBQztRQUNwQyxjQUFTLEdBQVcsRUFBRSxDQUFDO1FBQ3ZCLGNBQVMsR0FBVyxFQUFFLENBQUM7UUFFdkIsWUFBTyxHQUFXLEVBQUUsQ0FBQztRQUtqQixJQUFJLEdBQUcsR0FBUSxFQUFFLENBQUM7UUFDbEIsSUFBSTtZQUNBLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFO2dCQUNsQixHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMzQjtpQkFBTTtnQkFDSCxHQUFHLEdBQUcsS0FBSyxDQUFDO2FBQ2Y7WUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLFNBQUcsQ0FBQyxPQUFPLDBDQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFHLENBQUMsV0FBVywwQ0FBRSxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZELElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQztZQUMvQixJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztTQUM1QjtRQUFDLE9BQU8sQ0FBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1NBQ2pDO1FBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLDBCQUEwQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUM1QyxJQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsc0JBQXNCLENBQWdCLENBQUM7WUFDaEcsSUFBSSxVQUFVLEdBQUcsY0FBYyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQWdCLENBQUM7WUFDN0UsSUFBSSxVQUFVLEVBQUU7Z0JBQ1osSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO29CQUNsQixVQUFVLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQ3REO3FCQUFNO29CQUNILElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLG9DQUFvQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7d0JBQ3BJLFVBQVUsQ0FBQyxTQUFTLEdBQUcsbUhBQW1ILENBQUM7cUJBQzlJO3lCQUFNO3dCQUNILFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztxQkFDdkM7aUJBQ0o7Z0JBQ0QsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO2dCQUNuQyxVQUFVLENBQUMsY0FBYyxFQUFFO2FBQzlCO1lBQ0QsT0FBTztTQUNWO1FBQ0QsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPO1FBRW5CLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxhQUFjLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBZ0IsQ0FBQztRQUNuRixJQUFJLFVBQVUsRUFBRTtZQUNaLFVBQVUsQ0FBQyxjQUFjLENBQUMsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztZQUM3QyxPQUFPO1NBQ1Y7UUFDRCxLQUFLLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzQyxJQUFJLFVBQVUsR0FBRyxrRUFBa0UsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztRQUN0SSxJQUFJLEtBQUssQ0FBQyxXQUFXLEdBQUcsR0FBRyxFQUFFO1lBQ3pCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsRCxHQUFHLENBQUMsa0JBQWtCLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1NBQ3JEO2FBQU07WUFDSCxLQUFLLENBQUMsa0JBQWtCLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1NBQ3ZEO1FBQ0QsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2QsS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQy9DO1FBRUQsS0FBSyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ25DLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNyQixVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNaLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUEwQixDQUFDO2dCQUMzQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUU1QyxJQUFJLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLFVBQVUsSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLE9BQU8sSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO29CQUNsSixLQUFLLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUN0QyxJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQzVFLElBQUksWUFBWTt3QkFBRSxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUM7aUJBQzNDO1lBQ0wsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1osQ0FBQyxDQUFDO1FBRUYsSUFBSSxlQUFlLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQy9ELElBQUksZUFBZSxFQUFFO1lBQ2pCLElBQUksU0FBUyxHQUFHLGVBQWUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN2RSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUU3QixLQUFLLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQztTQUM5QjtRQUVELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsSUFBSTtnQkFBRSxPQUFPO1lBRWxCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUMxQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3JCLE1BQU0sT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFFdEUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBRSxDQUFDLFNBQVMsR0FBRyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDL0gsQ0FBQyxFQUFDO1NBRUw7SUFFTCxDQUFDO0lBR08sMkJBQTJCLENBQUMsS0FBa0IsRUFBRSxPQUFPLEdBQUcsQ0FBQztRQUUvRCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsYUFBYyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsR0FBRztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRXZCLElBQUksR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtZQUN0QyxPQUFPLEdBQUcsQ0FBQztTQUNkO1FBRUQsT0FBTyxJQUFJLENBQUMsMkJBQTJCLENBQUMsR0FBRyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFNUQsQ0FBQztDQUNKOzs7QUM1SHFEO0FBQ2tCO0FBRXJCO0FBR3BDLE1BQU0sT0FBTztJQUd4QixZQUFZLE9BQWdCO1FBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBRXZCLDBCQUEwQixFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVNLFlBQVksQ0FBQyxRQUFnQixFQUFFLE1BQWM7O1FBQ2hELElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVyQixjQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQywwQ0FBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdELFFBQVEsQ0FBQyxhQUFhLENBQUMscURBQXFELENBQUUsQ0FBQyxTQUFTLEdBQUcsTUFBTTtRQUNqRyxRQUFRLENBQUMsYUFBYSxDQUFDLHFDQUFxQyxDQUFFLENBQUMsU0FBUyxHQUFHLENBQUM7UUFDNUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxRQUFRLENBQUM7SUFDbkQsQ0FBQztJQUVNLGtCQUFrQjtRQUNyQixJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDeEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBcUIsQ0FBQztZQUMxQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQUUsU0FBUztZQUN4QixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxLQUFLO2dCQUFFLFNBQVM7WUFFckIsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO2dCQUNoQixJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO29CQUNwQyxLQUFLLENBQUMsU0FBUyxJQUFJLEdBQUcsQ0FBQztpQkFDMUI7YUFDSjtpQkFBTTtnQkFDSCxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO29CQUNwQyxLQUFLLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDdEQ7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUVNLFdBQVcsQ0FBQyxPQUFlOztRQUM5QixjQUFRLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQywwQ0FBRSxZQUFZLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFTSxjQUFjLENBQUMsT0FBZTs7UUFDakMsY0FBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsMENBQUUsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFTSxJQUFJLENBQUMsUUFBZ0IsRUFBRSxTQUFpQixFQUFFLE1BQTRCO1FBQ3pFLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQzVDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQixDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUVNLGVBQWU7UUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLDZCQUE2QixFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3BELHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVNLGFBQWE7UUFDaEIsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLDZCQUE2QixDQUFDLENBQUM7UUFDekUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDeEM7SUFDTCxDQUFDO0lBR00sc0JBQXNCLENBQUMsUUFBZ0I7UUFDMUMsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxvQkFBb0IsR0FBRyxRQUFRLEdBQUcsbUJBQW1CLENBQUMsQ0FBQztRQUN6RyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFxQixDQUFDO1lBRTFDLElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNwQyxJQUFJLEdBQUcsR0FBRztvQkFDTixPQUFPLEVBQUUsK0JBQStCO29CQUN4QyxTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQUU7b0JBQ25CLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBRSxDQUFDLFNBQVM7b0JBQzNFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztpQkFDekI7Z0JBRUQsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xFLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUM1QixPQUFPLEtBQUssQ0FBQzthQUNoQjtZQUVELElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRTtnQkFDZixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO2dCQUM1QixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDekMsSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO29CQUNqQixJQUFJLEdBQUcsR0FBRzt3QkFDTixPQUFPLEVBQUUsd0VBQXdFO3dCQUNqRixTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQUU7d0JBQ25CLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBRSxDQUFDLFNBQVM7d0JBQzNFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztxQkFDekI7b0JBRUQsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ2xFLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUM1QixPQUFPLEtBQUssQ0FBQztpQkFDaEI7YUFDSjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUdNLFdBQVcsQ0FBQyxTQUFpQjs7UUFDaEMsY0FBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsMENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sV0FBVyxDQUFDLFNBQWlCOztRQUNoQyxjQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQywwQ0FBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFUyxRQUFRLENBQUMsU0FBaUIsRUFBRSxJQUFZO1FBQzlDLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRXJCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFTyxzQkFBc0IsQ0FBQyxLQUF1QjtRQUNsRCxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLFVBQVUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSwwQkFBMEIsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNyRyxDQUFDO0lBRVMsaUJBQWlCLENBQUMsVUFBa0IsRUFBRSxjQUF1QjtRQUNuRSxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTztRQUNyQixPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFFL0IsSUFBSSxDQUFDLGNBQWM7WUFBRSxPQUFPO1FBRTVCLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDM0QsSUFBSSxZQUFZLEVBQUU7WUFDZCxZQUFZLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ2hEO0lBQ0wsQ0FBQztJQUVTLGNBQWMsQ0FBQyxVQUFrQixFQUFFLElBQVksRUFBRSxjQUF1Qjs7UUFDOUUsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFFckIsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDekIsSUFBSSxJQUFJLElBQUksRUFBRSxFQUFFO1lBQ1osT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTTtTQUNqQzthQUFNO1lBQ0gsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTztZQUMvQixJQUFJLGNBQWMsRUFBRTtnQkFDaEIsY0FBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsMENBQUUsS0FBSyxFQUFFLENBQUM7Z0JBQ2pELGNBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLDBDQUFFLFlBQVksQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDakY7U0FDSjtJQUNMLENBQUM7Q0FHSjs7O0FDbktvRTtBQUNyQztBQUV3QjtBQUd6QyxNQUFNLFVBQVcsU0FBUSxPQUFPO0lBSTNDLFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBSG5CLG1CQUFjLEdBQUcsS0FBSyxDQUFDO0lBS3ZCLENBQUM7SUFFTSxNQUFNLENBQUMsSUFBSSxHQUFHLEtBQUs7UUFDdEIsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUVsRCxPQUFPLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLHVCQUF1QixFQUFDLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVNLFVBQVU7UUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLDJCQUEyQixFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFOztZQUNyRCxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBMEIsQ0FBQztZQUMzQyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxLQUFLLENBQUMsQ0FBQztZQUUzRCxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQ3JCLGNBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLDBDQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO2dCQUNoRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDO2FBRTVCO2lCQUFNO2dCQUNILElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDeEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDN0IsY0FBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMENBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7YUFDaEU7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNqRSxJQUFJLGtCQUFrQixFQUFFO1lBQ3BCLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNqRCxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGFBQWEsQ0FBQztvQkFBRSxPQUFPO2dCQUV4RCxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwQyxDQUFDLENBQUM7U0FDTDtJQUVMLENBQUM7Q0FHSjs7O0FDdEREO0FBQ0EsSUFBSSxnQkFBSSx1ekJBQXV6QixjQUFjLDROQUE0TixFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsK3lJQUEreUksaUJBQWlCLGtDQUFrQyxNQUFNLEtBQUssTUFBTSwyQkFBMkIsT0FBTyw4VEFBOFQsaUJBQWlCLGtDQUFrQyxNQUFNLEtBQUssTUFBTSwyQkFBMkIsT0FBTyxnckpBQWdySixTQUFTO0FBQzNpVjtBQUNBLHNEQUFlLGdCQUFJLEU7O0FDRmE7QUFDdUM7QUFDZjtBQUNnQjtBQUd6RCxNQUFNLFdBQVksU0FBUSxPQUFPO0lBRzVDLFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBSG5CLFNBQUksR0FBRyxLQUFLLENBQUM7SUFJYixDQUFDO0lBRU0sTUFBTSxDQUFDLElBQUksR0FBRyxLQUFLO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWpCLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbkQsT0FBTyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSx1QkFBdUIsRUFBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVNLElBQUk7UUFFUCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGNBQWMsRUFBRTtZQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3hDO2FBQU07WUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDO1NBQzFDO1FBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1FBQ2xELElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBc0IsQ0FBQztRQUNwRyxJQUFJLHNCQUFzQixFQUFFO1lBQ3hCLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1NBQ3REO0lBQ0wsQ0FBQztJQUVNLFVBQVU7UUFFYixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN2QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBMEIsQ0FBQztZQUMzQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQXNCLENBQUM7Z0JBQzVFLElBQUksU0FBUztvQkFBRSxTQUFTLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztnQkFFM0MsSUFBSSxzQkFBc0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHdCQUF3QixDQUFzQixDQUFDO2dCQUNwRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztnQkFDbkQsc0JBQXNCLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFFckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsK0JBQStCLENBQUMsQ0FBQztnQkFDbEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUN4QyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxjQUFjLENBQUMsNEJBQTRCLENBQUMsQ0FBQztnQkFDbEQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUUsQ0FBQyxTQUFTLEdBQUcsS0FBSztnQkFDMUQsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7YUFFbEM7UUFDTCxDQUFDLENBQUM7UUFHRixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBMEIsQ0FBQztZQUMzQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLENBQUMsV0FBVyxDQUFDLCtCQUErQixDQUFDLENBQUM7Z0JBQ2xELElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDckMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUUsQ0FBQyxTQUFTLEdBQUcsS0FBSztnQkFDMUQsSUFBSSxzQkFBc0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHdCQUF3QixDQUFzQixDQUFDO2dCQUNwRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDbEQsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBRWxELElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO2FBRWxDO1FBQ0wsQ0FBQyxDQUFDO1FBR0YsSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNyRCxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBMEIsQ0FBQztZQUMzQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO2dCQUNsRCxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDckMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxjQUFjLENBQUMsNEJBQTRCLENBQUM7YUFDcEQ7UUFDTCxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ3JELElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUEwQixDQUFDO1lBQzNDLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRTtnQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsK0JBQStCLENBQUMsQ0FBQztnQkFDbEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsV0FBVyxDQUFDLHdCQUF3QixDQUFDLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO2dCQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDO2dCQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLDRCQUE0QixDQUFDO2FBQ2pEO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDdEMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQTBCLENBQUM7WUFDM0MsSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtnQkFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO2FBQ3pEO2lCQUFNO2dCQUNILElBQUksQ0FBQyxXQUFXLENBQUMsbUNBQW1DLENBQUMsQ0FBQzthQUN6RDtRQUNMLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRU8sdUJBQXVCO1FBQzNCLFFBQVEsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFFLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUN0RSxJQUFJLFlBQVk7WUFBRSxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUVPLFdBQVc7UUFDZixJQUFJLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDakUsaUJBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkMsQ0FBQyxDQUFDO1FBRUYsSUFBSSxxQkFBcUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3JFLHFCQUFxQixhQUFyQixxQkFBcUIsdUJBQXJCLHFCQUFxQixDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ3JELElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUFFLE9BQU87WUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxjQUFjLENBQUM7Z0JBQUUsT0FBTztZQUV6RCxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDO1FBRTFDLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTyxjQUFjO1FBQ2xCLElBQUksSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUUzQixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBcUIsQ0FBQztRQUM3RSxJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBcUIsQ0FBQztRQUUzRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFO1lBQ3pDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQzVCLFVBQVUsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQzNCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFFRCxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUU7WUFDN0MsSUFBSSxHQUFHLEdBQUc7Z0JBQ04sT0FBTyxFQUFFLCtCQUErQjtnQkFDeEMsU0FBUyxFQUFFLGFBQWE7Z0JBQ3hCLFNBQVMsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFFLENBQUMsU0FBUzthQUN6RTtZQUVELElBQUksa0JBQWtCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xFLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzVCLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQywyQkFBMkIsQ0FBcUIsQ0FBQztRQUMvRixJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDJCQUEyQixDQUFxQixDQUFDO1FBQzFGLElBQUksVUFBVSxDQUFDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFO1lBQ3ZFLElBQUksR0FBRyxHQUFHO2dCQUNOLE9BQU8sRUFBRSw0RUFBNEU7Z0JBQ3JGLFNBQVMsRUFBRSxZQUFZO2dCQUN2QixTQUFTLEVBQUUsRUFBRTthQUNoQjtZQUVELElBQUksa0JBQWtCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xFLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzVCLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUdKOzs7QUN2TEQ7QUFDQSxJQUFJLG1CQUFJLHdFQUF3RSxjQUFjLG1nQ0FBbWdDLFNBQVM7QUFDMW1DO0FBQ0EseURBQWUsbUJBQUksRTs7QUNIbkI7QUFDQSxJQUFJLDZCQUFJLHMrQkFBcytCLGlCQUFpQixrQ0FBa0MsTUFBTSxLQUFLLE1BQU0sMkJBQTJCLE9BQU8sa2hDQUFraEMscUVBQXFFO0FBQzNxRTtBQUNBLG1FQUFlLDZCQUFJLEU7O0FDSGE7QUFFaUU7QUFDekM7QUFHekMsTUFBTSx3QkFBeUIsU0FBUSxPQUFPO0lBRXpELFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFTSxNQUFNO1FBQ1QsSUFBSSxnQ0FBZ0MsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLDRCQUE0QixDQUFDO1FBQ3ZGLE9BQU8sZ0NBQWdDLENBQUMsRUFBQyxTQUFTLEVBQUUsdUJBQXVCLEVBQUMsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFTSxVQUFVO1FBQ2IsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBRXZCLElBQUksZUFBZSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQXFCLENBQUM7UUFDckYsZUFBZSxhQUFmLGVBQWUsdUJBQWYsZUFBZSxDQUFFLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ2hELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUEyQixDQUFDO1lBQzdDLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7YUFDckM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQzthQUN4QztRQUNMLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBRS9CLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDLDBCQUEwQixDQUFDO0lBQ2xFLENBQUM7Q0FDSjs7O0FDckNEO0FBQ0EsSUFBSSx1QkFBSTtBQUNSO0FBQ0EsNkRBQWUsdUJBQUksRTs7QUNIYTtBQUVxRDtBQUd0RSxNQUFNLGtCQUFtQixTQUFRLE9BQU87SUFDbkQsWUFBWSxPQUFnQjtRQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUVNLE1BQU07UUFDVCxJQUFJLDBCQUEwQixHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUM1RSxPQUFPLDBCQUEwQixDQUFDLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sVUFBVTtJQUVqQixDQUFDO0lBRUQsUUFBUTtRQUNKLElBQUkscUJBQXFCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQztRQUM1RSxJQUFJLENBQUMscUJBQXFCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFFeEMsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsbUJBQW1CLENBQUM7SUFDM0QsQ0FBQztDQUNKOzs7QUN6QitCO0FBRTRDO0FBQ1Y7QUFDWjtBQUd2QyxNQUFNLGNBQWUsU0FBUSxPQUFPO0lBSS9DLFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRWYsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksd0JBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sTUFBTSxDQUFDLElBQUksR0FBRyxLQUFLO1FBQ3RCLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsa0JBQWlCLENBQUMsQ0FBQztRQUNyRCxPQUFPLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7WUFDekIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBRSxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztTQUMvRTthQUFNO1lBQ0gsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBRSxDQUFDLFNBQVMsR0FBRyx3QkFBd0IsQ0FBQztTQUNyRjtRQUNELElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVNLFVBQVU7UUFFYixJQUFJLCtCQUErQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUNBQWlDLENBQXFCLENBQUM7UUFDckgsK0JBQStCLGFBQS9CLCtCQUErQix1QkFBL0IsK0JBQStCLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDL0QsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7UUFDN0UsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLENBQXFCLENBQUM7UUFDekYsaUJBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDakQsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLHdCQUF3QixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsMEJBQTBCLENBQXFCLENBQUM7UUFDdkcsd0JBQXdCLGFBQXhCLHdCQUF3Qix1QkFBeEIsd0JBQXdCLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDeEQsSUFBSSxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBcUIsQ0FBQztRQUNuRyxzQkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0RCxJQUFJLENBQUMsT0FBTyxDQUFDLDBCQUEwQixDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQXFCLENBQUM7UUFDM0UsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQzFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQzNDLFVBQVUsQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDL0MsQ0FBQyxDQUFDO1FBRUYsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3ZELElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3ZELElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtnQkFBRSxPQUFPO1lBQ25DLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO2dCQUN6QixJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDO2FBQzNDO2lCQUFNO2dCQUNILElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO2FBQ2pDO1FBQ0wsQ0FBQyxDQUFDO0lBRU4sQ0FBQztJQUVPLGdDQUFnQyxDQUFDLFNBQWlCO1FBQ3RELElBQUksU0FBUyxJQUFJLGlDQUFpQyxFQUFFO1lBQ2hELElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7U0FDcEM7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsaUNBQWlDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBcUIsQ0FBQztRQUNyRSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU87UUFFbkIsSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFO1lBQ2pCLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzFELElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUMvQzthQUFNO1lBQ0gsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRU8sT0FBTyxDQUFDLFNBQWlCO1FBQzdCLElBQUksU0FBUyxJQUFJLDBCQUEwQixFQUFFO1lBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUM7U0FDekM7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsMEJBQTBCLENBQUM7U0FDM0M7UUFFRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBcUIsQ0FBQztRQUNyRSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU87UUFFbkIsSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFO1lBQ2pCLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ25ELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUN4QzthQUFNO1lBQ0gsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRU8sT0FBTyxDQUFDLFNBQWlCO1FBQzdCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFxQixDQUFDO1FBQ3JFLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBRSxDQUFDO1FBQzNELEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFTyxjQUFjO1FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUM7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNsRSxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsUUFBUSxFQUFFO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFN0QsSUFBSSwrQkFBK0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlDQUFpQyxDQUFxQixDQUFDO1FBQ3JILElBQUksaUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBcUIsQ0FBQztRQUN6RixJQUFJLHNCQUFzQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsd0JBQXdCLENBQXFCLENBQUM7UUFDbkcsSUFBSSx3QkFBd0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDBCQUEwQixDQUFxQixDQUFDO1FBQ3ZHLElBQUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFxQixDQUFDO1FBRTNFLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxJQUFJLENBQUMsK0JBQStCLENBQUMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTztlQUMxRixDQUFDLHNCQUFzQixDQUFDLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLE9BQU8sRUFDekU7WUFDRSxJQUFJLENBQUMsY0FBYyxDQUFDLGtCQUFrQixFQUFFLHVGQUF1RixFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQy9JLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxVQUFVLENBQUMsT0FBTyxJQUFJLENBQUMsK0JBQStCLENBQUMsT0FBTyxJQUFJLGlCQUFpQixDQUFDLE9BQU87ZUFDeEYsc0JBQXNCLENBQUMsT0FBTyxJQUFJLHdCQUF3QixDQUFDLE9BQU8sQ0FDeEUsRUFBRTtZQUNDLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLEVBQUUsMkhBQTJILEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDbkwsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0o7OztBQ25KRDtBQUNBLElBQUksd0JBQUk7QUFDUjtBQUNBLDhEQUFlLHdCQUFJLEU7Ozs7Ozs7Ozs7O0FDSGE7QUFFdUQ7QUFDL0I7QUFDQTtBQUNTO0FBQ087QUFDdEI7QUFDNEI7QUFFL0QsTUFBTSxtQkFBb0IsU0FBUSxPQUFPO0lBR3BELFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUNsQixDQUFDO0lBRU0sTUFBTSxDQUFDLElBQUksR0FBRyxLQUFLO1FBQ3RCLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUMzRCxPQUFPLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxJQUFJOztRQUNQLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFFeEQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7WUFDekIsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBRSxDQUFDLFNBQVMsR0FBRyxzQkFBc0IsQ0FBQztTQUN6RjthQUFNO1lBQ0gsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBRSxDQUFDLFNBQVMsR0FBRyw0QkFBNEIsQ0FBQztTQUMvRjtRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFO1lBQ3hDLGNBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsMENBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7U0FDdkU7YUFBTTtZQUNILGNBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsMENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7U0FDMUU7SUFDTCxDQUFDO0lBRU0sVUFBVTtRQUViLElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQztRQUM5RSxzQkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0RCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBRTtnQkFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDdEM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDakM7UUFDTCxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUdNLGFBQWEsQ0FBQyxJQUFJLEdBQUcsS0FBSztRQUM3QixJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTztRQUV2QixTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQU8sR0FBRyxFQUFFLEVBQUUsQ0FBQztZQUMvQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFckIsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQUUsT0FBTztZQUV0QyxJQUFJLHNCQUFzQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUMvRSw2RUFBNkU7WUFFN0UsSUFBSSwwQkFBMEIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLENBQUM7WUFDdkYscUZBQXFGO1lBRXJGLElBQUksU0FBUyxHQUFJLEdBQUcsQ0FBQyxNQUFzQixDQUFDO1lBQzVDLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRXBDLElBQUksTUFBTSxHQUFHLG9CQUFvQixDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFdEQsSUFBSSxXQUFXLEdBQUcsdUJBQXVCLEVBQUUsQ0FBQztZQUM1QyxNQUFNLENBQUMsT0FBTyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUM7WUFFckMsSUFBSSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDekMsSUFBSSxNQUFNLEdBQUcsTUFBTSxVQUFVLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztpQkFDNUMsS0FBSyxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUU7Z0JBQ25CLElBQUksc0JBQXNCO29CQUFFLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzlFLDJCQUEyQixFQUFFLENBQUM7Z0JBRTlCLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRTtvQkFDaEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDbkUsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUNyQjtxQkFBTTtvQkFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUN2QjtZQUNMLENBQUMsQ0FBQyxDQUFDO1lBRVAsSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQy9CLHdDQUF3QyxFQUFFLENBQUM7YUFDOUM7aUJBQU07Z0JBQ0gsSUFBSSxzQkFBc0I7b0JBQUUsc0JBQXNCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDOUUsMkJBQTJCLEVBQUUsQ0FBQzthQUNqQztRQUVMLENBQUMsRUFBQztJQUNOLENBQUM7SUFFTyxRQUFRO1FBQ1osSUFBSSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFxQixDQUFDO1FBQ3pGLElBQUksQ0FBQyxrQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxPQUFPLEdBQUU7WUFDN0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsRUFBRSxpQ0FBaUMsRUFBRSxtQkFBbUIsQ0FBQztZQUN0RyxPQUFPLEtBQUssQ0FBQztTQUNoQjthQUFNO1lBQ0gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLHlCQUF5QixFQUFFLG1CQUFtQixDQUFDLENBQUM7U0FDMUU7UUFFRCxJQUFJLGtCQUFrQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQXFCLENBQUM7UUFDM0YsSUFBSSxDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLE9BQU8sR0FBRTtZQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLDBCQUEwQixFQUFFLHdDQUF3QyxFQUFFLG9CQUFvQixDQUFDO1lBQy9HLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO2FBQU07WUFDSCxJQUFJLENBQUMsaUJBQWlCLENBQUMsMEJBQTBCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztTQUM1RTtRQUNELElBQUksaUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBcUIsQ0FBQztRQUN6RixJQUFJLENBQUMsa0JBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsT0FBTyxHQUFFO1lBQzdCLElBQUksQ0FBQyxjQUFjLENBQUMseUJBQXlCLEVBQUUsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUM7WUFDdkYsT0FBTyxLQUFLLENBQUM7U0FDaEI7YUFBTTtZQUNILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx5QkFBeUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1NBQzFFO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFFaEIsQ0FBQztDQUVKOzs7QUMvSEQ7QUFDQSxJQUFJLHNCQUFJLDg4RUFBODhFLGlCQUFpQixrQ0FBa0MsTUFBTSxLQUFLLE1BQU0sMkJBQTJCLE9BQU8sNkNBQTZDLGNBQWMsK09BQStPLFNBQVMsVUFBVSxVQUFVLGlUQUFpVCxLQUFLO0FBQ3pyRztBQUNBLDREQUFlLHNCQUFJLEU7O0FDSGE7QUFFbUQ7QUFDN0I7QUFDRTtBQUVBO0FBR3pDLE1BQU0saUJBQWtCLFNBQVEsT0FBTztJQUdsRCxZQUFZLE9BQWdCO1FBQ3hCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUhuQixTQUFJLEdBQUcsS0FBSyxDQUFDO0lBSWIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUVqQixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDekQsT0FBTyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSx1QkFBdUIsRUFBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFvQixFQUFFLGlCQUFpQixDQUFDO0lBQzlELENBQUM7SUFFTSxVQUFVO1FBQ2IsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQzlELFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN4QyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwQyxDQUFDLENBQUM7UUFFRixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDOUQsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUFFLE9BQU87WUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDO1FBRUYsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1gsSUFBSSxVQUFVLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQUUsT0FBTztZQUU3QixVQUFVLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QztJQUNMLENBQUM7SUFFTyxRQUFRO1FBQ1osSUFBSSxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUV4RCxJQUFJLGtCQUFrQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQXFCLENBQUM7UUFDM0YsSUFBSSxrQkFBa0IsSUFBSSxDQUFDLDBCQUEwQixDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzdFLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFxQixDQUFDO1lBQ2pGLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFxQixDQUFDO1lBQ2pGLElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBcUIsQ0FBQztZQUNuRyxJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBcUIsQ0FBQztZQUMvRSxJQUFJLG1CQUFtQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQXFCLENBQUM7WUFDN0YsSUFBSSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBcUIsQ0FBQztZQUVyRixJQUFJLDBCQUEwQixDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSwwQkFBMEIsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO21CQUMvRiwwQkFBMEIsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDN0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsRUFBRSxvREFBb0QsQ0FBQyxDQUFDO2dCQUMxRyxPQUFPO2FBQ1Y7WUFFRCxJQUFJLENBQUMsMEJBQTBCLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO2dCQUM1RixJQUFJLENBQUMsY0FBYyxDQUFDLDhCQUE4QixFQUFFLDRDQUE0QyxDQUFDLENBQUM7Z0JBQ2xHLE9BQU87YUFDVjtZQUVELElBQUksQ0FBQywwQkFBMEIsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUM7Z0JBQ3pELENBQ0ksMEJBQTBCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztvQkFDOUMsMEJBQTBCLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDO29CQUNyRCwwQkFBMEIsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQ3BELEVBQ0g7Z0JBQ0UsSUFBSSxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsRUFBRSxzRkFBc0YsQ0FBQyxDQUFDO2dCQUM1SSxPQUFPO2FBQ1Y7U0FHSjtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7Q0FFSjs7O0FDdkZEO0FBQ0EsSUFBSSxjQUFJLG9HQUFvRyw4RUFBOEUsNkRBQTZELHFGQUFxRix5REFBeUQsMEVBQTBFO0FBQy9jO0FBQ0Esb0RBQWUsY0FBSSxFOztBQ0hhO0FBQ21DO0FBSXBELE1BQU0sU0FBVSxTQUFRLE9BQU87SUFHMUMsWUFBWSxPQUFnQjtRQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUVNLE1BQU07UUFDVCxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsa0JBQWtCLENBQUM7SUFDdkQsQ0FBQztJQUVNLFVBQVU7UUFDYixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFFdkIsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLENBQUM7Z0JBQUUsT0FBTztZQUV2RCxJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDO1FBQzVDLENBQUMsQ0FBQztJQUVOLENBQUM7Q0FHSjs7Ozs7Ozs7Ozs7O0FDdEMrQjtBQUVpQztBQUVsRCxNQUFNLFVBQVcsU0FBUSxPQUFPO0lBRTNDLFlBQVksT0FBZ0I7UUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFTSxJQUFJOztRQUNQLGNBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLDBDQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQzNELGNBQVEsQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsMENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzRSxRQUFRLENBQUMsYUFBYSxDQUFDLHFEQUFxRCxDQUFFLENBQUMsU0FBUyxHQUFHLGdDQUFnQztRQUMzSCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUMsR0FBUyxFQUFFLENBQUM7WUFDMUMsTUFBTSxJQUFJLENBQUMsY0FBYyxFQUFFO1FBQy9CLENBQUMsR0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFWSxjQUFjOztZQUN2QixJQUFJLFVBQVUsR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QyxJQUFJLFdBQVcsR0FBRyxNQUFNLFVBQVUsQ0FBQyxXQUFXLEVBQUU7WUFFaEQsSUFBSSxXQUFXLENBQUMsVUFBVSxFQUFFO2dCQUN4QixZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFFbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7YUFDbEM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDbkMsSUFBSSxDQUFDLGNBQWMsRUFBRTtnQkFDekIsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDZjtRQUNMLENBQUM7S0FBQTtDQUVKOzs7QUNsQ3dEO0FBQzdCO0FBQ2M7QUFDRTtBQUNNO0FBQ1U7QUFDSjtBQUNoQjtBQUNFO0FBSzNCLE1BQU0sT0FBTztJQWV4QixZQUFZLE1BQWtCO1FBZDlCLFVBQUssR0FBRyxDQUFDLENBQUM7UUFFVixZQUFPLEdBQVMsU0FBUyxDQUFDO1FBRTFCLDJCQUFzQixHQUFHLGFBQWEsQ0FBQztRQVduQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTSxJQUFJLENBQUMsU0FBaUI7UUFFekIsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQy9CLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxHQUFHLEdBQUcsU0FBc0IsQ0FBQztRQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFMUIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLFNBQVMsQ0FBQztJQUM1QyxDQUFDO0lBRU0sV0FBVyxDQUFDLElBQUksR0FBRyxLQUFLO1FBRTNCLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsUUFBVyxDQUFDLENBQUM7UUFDL0MsSUFBSSxHQUFHLEdBQUc7WUFDTixjQUFjLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDeEMsZUFBZSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFO1lBQzFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFO1lBQy9DLHFCQUFxQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUU7WUFDdEQsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRTtZQUMxRCxhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUU7U0FDekM7UUFDRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1lBQ2pFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNwQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRVYsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQywwQkFBMEIsQ0FBc0IsQ0FBQztRQUM1RixJQUFJLFlBQVksRUFBRTtZQUNkLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN0RDtRQUVELElBQUksUUFBUSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzlCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNwQyxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxDQUFDO1lBRXRDLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDMUUsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLE9BQU8sRUFBRTtvQkFDcEIsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUNyQixHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7aUJBQ3pCO1lBQ0wsQ0FBQyxDQUFDO1NBQ0w7UUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFTSxRQUFRLENBQUMsS0FBYTtRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sWUFBWTtRQUNmLElBQUksSUFBSSxDQUFDLE9BQU87WUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pELENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7O0FDbkdtRDtBQUV2QjtBQUNJO0FBRWxCLE1BQU0sZ0JBQWdCO0lBZ0JqQyxZQUFZLFdBQXNCLEVBQUUsa0JBQXNDO1FBQ3RFLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztJQUNqRCxDQUFDO0lBRU0sYUFBYTtRQUNoQixJQUFJLEdBQUcsR0FBRyxZQUFZLENBQUM7UUFDdkIsUUFBUSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRTtZQUM3QixLQUFLLFdBQVcsQ0FBQztZQUNqQixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLFVBQVUsQ0FBQztZQUNoQixLQUFLLFVBQVUsQ0FBQztZQUNoQixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssa0JBQWtCO2dCQUNuQixHQUFHLEdBQUcsNEJBQTRCLENBQUM7Z0JBQ25DLE1BQU07WUFDVixLQUFLLGlCQUFpQjtnQkFDbEIsR0FBRyxHQUFHLG9DQUFvQyxDQUFDO2dCQUMzQyxNQUFNO1lBQ1YsS0FBSyxVQUFVO2dCQUNYLEdBQUcsR0FBRywrQkFBK0IsQ0FBQztnQkFDdEMsTUFBTTtZQUNWLEtBQUssVUFBVTtnQkFDWCxHQUFHLEdBQUcsZ0NBQWdDLENBQUM7Z0JBQ3ZDLE1BQU07WUFDVixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssaUJBQWlCO2dCQUNsQixHQUFHLEdBQUcsd0VBQXdFLENBQUM7Z0JBQy9FLE1BQU07WUFDVixLQUFLLGdCQUFnQjtnQkFDakIsR0FBRyxHQUFHLDhCQUE4QixDQUFDO2dCQUNyQyxNQUFNO1NBQ2I7UUFDRCxPQUFPLEdBQUcsR0FBRyxvQ0FBb0MsQ0FBQztJQUN0RCxDQUFDO0lBRU0sbUJBQW1CLENBQUMsa0JBQXNDO1FBQzdELFFBQVEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUU7WUFDN0IsS0FBSyxXQUFXLENBQUM7WUFDakIsS0FBSyxZQUFZLENBQUM7WUFDbEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxRQUFRLENBQUM7WUFDZCxLQUFLLGtCQUFrQjtnQkFDbkIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGdDQUFnQyxFQUNsRCw2RUFBNkU7b0JBQzdFLDhHQUE4RztvQkFDOUcsNEdBQTRHO29CQUM1RywyVEFBMlQsQ0FBQyxDQUFDO1lBQ3JVLEtBQUssaUJBQWlCO2dCQUNsQixPQUFPLEdBQVMsRUFBRSxDQUFDO29CQUNmLElBQUksaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDakUsTUFBTSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsQ0FBQyxFQUFDO1lBQ04sS0FBSyxVQUFVO2dCQUNYLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQywwQkFBMEIsRUFDNUMsb0VBQW9FO29CQUNwRSw4RUFBOEU7b0JBQzlFLDBQQUEwUDtvQkFDMVAsbUVBQW1FLENBQUMsQ0FBQztZQUM3RSxLQUFLLFVBQVU7Z0JBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLDBCQUEwQixFQUM1Qyw2Q0FBNkM7b0JBQzdDLDhFQUE4RTtvQkFDOUUsMFBBQTBQO29CQUMxUCxtRUFBbUUsQ0FBQyxDQUFDO1lBRTdFLEtBQUssZ0JBQWdCO2dCQUNqQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsd0JBQXdCLEVBQzFDLDJDQUEyQztvQkFDM0MsOEVBQThFO29CQUM5RSx3UEFBd1A7b0JBQ3hQLG1FQUFtRSxDQUFDLENBQUM7WUFDN0UsS0FBSyxpQkFBaUIsQ0FBQztZQUN2QixLQUFLLFFBQVE7Z0JBQ1QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLG9CQUFvQixFQUFFLDhDQUE4QztvQkFDdEYsbUZBQW1GO29CQUNuRixrRkFBa0Y7b0JBQ2xGLG9SQUFvUixDQUFDLENBQUM7U0FFalM7UUFFRCxPQUFPLEdBQUcsRUFBRTtZQUNSLElBQUksT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLEdBQVMsRUFBRSxDQUFDO2dCQUNsQyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNqRCxDQUFDLEVBQUMsQ0FBQztZQUNILE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMxQixDQUFDLENBQUM7SUFDTixDQUFDO0lBRU0sU0FBUyxDQUFDLEtBQWEsRUFBRSxPQUFlO1FBQzNDLE9BQU8sR0FBRyxFQUFFO1lBQ1IsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUN4QixLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxDQUFDO0lBQ0wsQ0FBQztDQUNKOzs7QUN0SEQ7QUFDQSxJQUFJLGdCQUFJO0FBQ1I7QUFDQSxrREFBZSxnQkFBSSxFOzs7Ozs7Ozs7OztBQ0ZxQztBQUNRO0FBQ2dCO0FBQ3pCO0FBQ1U7QUFDRTtBQUN0QjtBQUN3QztBQUNBO0FBQ2lCO0FBQ3BDO0FBQ2Y7QUFFNEM7QUFDdkM7QUFDNEI7QUFDN0M7QUFDZTtBQUNRO0FBQ0M7QUFDMUI7QUFDNEI7QUFDTTtBQUd4RCxNQUFNLGtCQUFrQjtJQVNuQyxZQUFZLE9BQXVCLEVBQUUsY0FBK0IsRUFBRSxhQUE4QjtRQUNoRyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLDZCQUFzQixDQUFDLENBQUM7UUFDM0QsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRWpDLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsQ0FBcUIsQ0FBQztRQUMxRixxQ0FBcUM7UUFFckMsa0JBQWtCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN2QyxDQUFDO0lBRVksWUFBWTs7WUFFckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDhCQUE4QixDQUFxQixDQUFDO1lBRTFGLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRWhDLGtCQUFrQjtZQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDdEMsT0FBTzthQUNWO1lBQ0QsZ0JBQWdCO1lBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDbkMsT0FBTzthQUNWO1lBQ0Qsa0JBQWtCO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNyQyxPQUFPO2FBQ1Y7WUFDRCwyQkFBMkI7WUFDM0IsSUFBSSxDQUFDLE9BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRTtnQkFDN0MsT0FBTzthQUNWO1lBQ0QsYUFBYTtZQUNiLElBQUksQ0FBQyxPQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFFO2dCQUNwQyxPQUFPO2FBQ1Y7WUFDRCxlQUFlO1lBQ2YsSUFBSSxDQUFDLE9BQU0sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUU7Z0JBQ3RDLE9BQU87YUFDVjtZQUVELG1CQUFtQjtZQUNuQixJQUFJLENBQUMsT0FBTSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFFO2dCQUMzQyxPQUFPO2FBQ1Y7WUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDekMsT0FBTzthQUNWO1lBRUQsSUFBSSxDQUFDLE9BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUU7Z0JBQ3ZDLE9BQU87YUFDVjtZQUVELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekMsQ0FBQztLQUFBO0lBRU8sa0JBQWtCLENBQUMsTUFBbUI7UUFDMUMsaURBQWlEO1FBRWpELDJCQUEyQjtRQUMzQixNQUFNLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQztRQUNuQyxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRS9CLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBUyxFQUFFLENBQUM7WUFDekMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQixJQUFJLFlBQVksR0FBRyxxQkFBcUIsQ0FBQztZQUN6QyxNQUFNLENBQUMsU0FBUyxHQUFHLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1lBRXhGLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFFO2dCQUN0QyxJQUFJLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRSxJQUFJLGFBQWEsR0FBRyxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBRW5HLElBQUksYUFBYSxLQUFLLFdBQVcsRUFBRTtvQkFDL0IsSUFBSSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO3dCQUNoRixNQUFNLENBQUMsU0FBUyxHQUFHLHFDQUFxQyxDQUFDO29CQUM3RCxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO3dCQUNaLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDL0IsTUFBTSxDQUFDLFNBQVMsR0FBRyxlQUFlLENBQUM7b0JBQ3ZDLENBQUMsQ0FBQyxDQUFDO29CQUNILElBQUksTUFBTSxZQUFZLGVBQWU7d0JBQUUsT0FBTztvQkFDOUMsYUFBYSxHQUFHLE1BQWdCLENBQUM7aUJBQ3BDO2dCQUVELE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDckQ7aUJBQU07Z0JBQ0gsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLG9CQUFvQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbEUsSUFBSSxhQUFhLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUVwRyxJQUFJLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRSxNQUFNLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUM7cUJBQzNFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLHVDQUF1QyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNqRSxDQUFDLENBQUM7cUJBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO29CQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLHNDQUFzQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO29CQUNqRSxJQUFJLENBQUMsV0FBVzt3QkFBRSxPQUFPO29CQUV6QixJQUFJLENBQUMsbUJBQW1CLENBQUMsV0FBNEMsRUFBRSxjQUFjLENBQUMsQ0FBQztnQkFDM0YsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRTtvQkFDWixJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQy9CLE1BQU0sQ0FBQyxTQUFTLEdBQUcsZUFBZSxDQUFDO2dCQUN2QyxDQUFDLENBQUMsQ0FBQzthQUNWO1FBQ0wsQ0FBQyxFQUFDO0lBQ04sQ0FBQztJQUVhLGVBQWUsQ0FBQyxhQUFxQixFQUFFLE1BQW1COztZQUNwRSxJQUFJLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDaEQsTUFBTSxXQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQztpQkFDbEUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDeEQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUNsQixJQUFJLENBQUMsV0FBVztvQkFBRSxPQUFPO2dCQUV6QixJQUFJLENBQUMsbUJBQW1CLENBQUMsV0FBNEMsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDdEYsSUFBSSxDQUFDLGVBQWUsQ0FBQyx1QkFBdUIsRUFBRSxXQUFXLENBQUMsSUFBSSxDQUFDO1lBRW5FLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvQixNQUFNLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQztZQUN2QyxDQUFDLENBQUMsQ0FBQztRQUNYLENBQUM7S0FBQTtJQUVNLGtCQUFrQixDQUFDLE1BQVc7UUFDakMsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLFlBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQ3ZDLElBQUksY0FBYyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7UUFDdkMsSUFBSSxhQUFhLEdBQUcsR0FBRyxHQUFHLElBQUkscUJBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQUUsRUFBSSxFQUFFLEVBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUUvRSxPQUFPO1lBQ0gsV0FBVyxFQUFFLHFCQUFxQjtZQUNsQyxhQUFhLEVBQUUsTUFBTTtZQUNyQixhQUFhLEVBQUUsYUFBYTtZQUM1QixVQUFVLEVBQUUsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTTtZQUNsRCxZQUFZLEVBQUUsTUFBTSxDQUFDLE1BQU07WUFDM0IsY0FBYyxFQUFFLGNBQWM7WUFDOUIsbUJBQW1CLEVBQUUsa0JBQWtCLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxHQUFHLFNBQVM7WUFDdEUsZUFBZSxFQUFFLFFBQVEsQ0FBQyxVQUFVLENBQUM7WUFDckMsWUFBWSxFQUFFLFlBQVk7U0FDN0I7SUFDTCxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsTUFBVztRQUMvQixJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQy9CLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDcEMsSUFBSSxjQUFjLEdBQUcsSUFBSSxxQkFBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLHFCQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzFHLElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7UUFFdEMsT0FBTztZQUNILFdBQVcsRUFBRSxhQUFhLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNO1lBQ25ELGFBQWEsRUFBRSxNQUFNLENBQUMsTUFBTTtZQUM1QixhQUFhLEVBQUUsYUFBYSxHQUFHLFNBQVM7WUFDeEMsVUFBVSxFQUFFLHFCQUFxQjtZQUNqQyxZQUFZLEVBQUUsTUFBTTtZQUNwQixjQUFjLEVBQUUsY0FBYyxDQUFDLE9BQU8sRUFBRTtZQUN4QyxtQkFBbUIsRUFBRSxHQUFHLEdBQUcscUJBQXFCLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRTtZQUM3RSxlQUFlLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQztZQUNyQyxZQUFZLEVBQUUsWUFBWTtTQUM3QjtJQUNMLENBQUM7SUFFWSxpQkFBaUIsQ0FBQyxNQUFXOztZQUN0QyxJQUFJLFlBQVksR0FBRyxxQkFBcUIsQ0FBQztZQUN6QyxJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBQzVDLElBQUksS0FBSyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQztZQUVuQyxJQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwRixHQUFHLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQyxVQUFVLENBQUM7WUFDekMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLFdBQVcsQ0FBQyxhQUFhLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztZQUVyRixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLGFBQWlCLENBQUMsQ0FBQztZQUNyRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUN4QixLQUFLLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBRTNDLElBQUksZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsT0FBTztZQUU5QixnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFFL0MsSUFBSSxPQUFPLEdBQUksR0FBRyxDQUFDLE1BQXNCLENBQUMsT0FBTyxDQUFDLE9BQWlCLENBQUM7Z0JBQ3BFLElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbEQsWUFBWSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7b0JBQ25FLElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO29CQUMvRSxJQUFJLENBQUMsc0JBQXNCO3dCQUFFLE9BQU87b0JBRXBDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RELENBQUMsQ0FBQztZQUNOLENBQUMsQ0FBQztRQUNOLENBQUM7S0FBQTtJQUVZLG1CQUFtQixDQUFDLFdBQTBDLEVBQUUsU0FBb0I7O1lBQzdGLElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUVsRCxNQUFNLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtnQkFDdEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ3ZDLElBQUksQ0FBQyxJQUFJO29CQUFFLE9BQU87Z0JBQ2xCLElBQUksTUFBTSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxFQUFFO29CQUM5QyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxXQUFXLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztvQkFDekYsT0FBTztpQkFDVjtnQkFFRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksY0FBYyxFQUFFO29CQUNqQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBRS9CLElBQUksY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsMEJBQTBCLENBQUMsQ0FBQztvQkFDekUsSUFBSSxDQUFDLGNBQWM7d0JBQUUsT0FBTztvQkFFNUIsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQzFDO3FCQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxjQUFjLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ3hCLEtBQUssQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLGlDQUFpQyxDQUFDO2lCQUNyRTtxQkFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtvQkFDdkIsSUFBSSxDQUFDLGVBQWUsQ0FBQywwQ0FBMEMsRUFBRSxNQUFNLENBQUMsZ0JBQWdCLENBQUM7aUJBQzVGO3FCQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxpQkFBaUIsRUFBRTtvQkFDM0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyx3QkFBd0IsRUFBRSxNQUFNLENBQUMsZ0JBQWdCLENBQUM7aUJBQzFFO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDBCQUEwQixDQUFDLENBQUM7WUFDekUsSUFBSSxDQUFDLGNBQWM7Z0JBQUUsT0FBTztZQUU1QixjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxDQUFDO0tBQUE7SUFFTyxhQUFhLENBQUMsTUFBbUI7UUFDckMsTUFBTSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVPLGlCQUFpQixDQUFDLE1BQW1CO1FBQ3pDLE1BQU0sQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVPLGlCQUFpQixDQUFDLE1BQW1CO1FBQ3pDLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ25FLElBQUksZUFBZTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixNQUFNLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ2xDLElBQUksYUFBYSxHQUFHLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwRCxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU8sY0FBYyxDQUFDLE1BQW1CO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM3RCxJQUFJLFlBQVk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUU5QixNQUFNLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztRQUMzQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQVMsRUFBRSxDQUFDO1lBQ3pDLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDNUUsQ0FBQyxFQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0IsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLGdCQUFnQixDQUFDLE1BQW1CO1FBQ3hDLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwRCxJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1FBQzVDLElBQUksT0FBTyxLQUFLLFdBQVcsQ0FBQyxPQUFPO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFFakQsSUFBSSxrQkFBa0IsR0FBRyxtQ0FBbUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN0RSxJQUFJLGtCQUFrQixFQUFFO1lBQ3BCLCtCQUErQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3pDLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFFRCxNQUFNLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBUyxFQUFFLENBQUM7WUFDekMsTUFBTSxXQUFXLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZELENBQUMsRUFBQztRQUNGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixPQUFPLEtBQUssQ0FBQztJQUVqQixDQUFDO0lBRWEsa0JBQWtCLENBQUMsTUFBbUI7O1lBQ2hELElBQUksV0FBVyxHQUFHLHVCQUF1QixFQUFFLENBQUM7WUFDNUMsSUFBSSxxQkFBcUIsR0FBRyxNQUFNLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEYsSUFBSSxxQkFBcUI7Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFFdkMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBRWhELE1BQU0sQ0FBQyxTQUFTLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQyxrQkFBa0IsR0FBRyxtQ0FBbUMsQ0FBQztZQUN0RyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtnQkFDbEMsSUFBSSxzQkFBc0IsR0FBRyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNsRSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ3hCLENBQUMsQ0FBQyxDQUFDO2dCQUNILHNCQUFzQixDQUFDLElBQUksRUFBRTtZQUNqQyxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQixPQUFPLEtBQUssQ0FBQztRQUVqQixDQUFDO0tBQUE7SUFJYSxTQUFTLENBQUMsTUFBbUIsRUFBRSxhQUFhLEdBQUcsS0FBSzs7WUFDOUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzlDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUMxRCxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7Z0JBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7Z0JBQy9DLE9BQU8sS0FBSyxDQUFDO2FBQ2hCO1lBRUQsSUFBSSxXQUFXLEdBQUcsTUFBTSxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakQsSUFBSSxXQUFXLENBQUMsVUFBVSxFQUFFO2dCQUV4QixJQUFJLGFBQWEsRUFBRTtvQkFDZixhQUFhLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7b0JBRXJDLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsV0FBZSxDQUFDLENBQUM7b0JBQ25ELElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ3hCLEtBQUssQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBRWxELElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQztvQkFDN0QsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO3dCQUMzQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7d0JBRWxCLElBQUksUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDMUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRTs0QkFDM0IsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO3dCQUN4QixDQUFDLENBQUM7b0JBQ04sQ0FBQyxDQUFDO2lCQUNMO2dCQUNELE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFFRCxJQUFJLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRS9ELE1BQU0sQ0FBQyxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDcEQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzdFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUUvQixPQUFPLEtBQUssQ0FBQztRQUNqQixDQUFDO0tBQUE7SUFFTSxjQUFjO1FBQ2pCLElBQUksSUFBSSxDQUFDLGdCQUFnQjtZQUFFLE9BQU87UUFFbEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxHQUFTLEVBQUUsQ0FBQztZQUM1QyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1QyxDQUFDLEdBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFYSxXQUFXLENBQUMsTUFBbUI7O1lBQ3pDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLE9BQU8sR0FBRyxNQUFNLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztZQUMzRixJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2dCQUFFLE9BQU8sSUFBSSxDQUFDO1lBRTFDLElBQUksV0FBVyxHQUFHLHVCQUF1QixFQUFFLENBQUM7WUFDNUMsSUFBSSxXQUFXLENBQUMsV0FBVyxFQUFFO2dCQUN6QixNQUFNLENBQUMsU0FBUyxHQUFHLHVDQUF1QyxDQUFDO2dCQUMzRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtvQkFDbEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUMxQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFO3dCQUMzQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ3hCLENBQUMsQ0FBQztnQkFDTixDQUFDLENBQUMsQ0FBQzthQUNOO2lCQUFNO2dCQUNILE1BQU0sQ0FBQyxTQUFTLEdBQUcsNENBQTRDLENBQUM7Z0JBQ2hFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO29CQUNsQyxJQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQzFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFO3dCQUN2QixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ3hCLENBQUMsQ0FBQyxDQUFDO2dCQUNQLENBQUMsQ0FBQyxDQUFDO2FBQ047WUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0IsT0FBTyxLQUFLLENBQUM7UUFFakIsQ0FBQztLQUFBO0lBRWEsZ0JBQWdCLENBQUMsTUFBbUI7O1lBRTlDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLE1BQU0sRUFBRTtnQkFDdEMsSUFBSSxPQUFPLEdBQUcsTUFBTSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7Z0JBQzNGLElBQUksT0FBTyxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDO29CQUFFLE9BQU8sSUFBSSxDQUFDO2dCQUU5RSxNQUFNLENBQUMsU0FBUyxHQUFHLG9EQUFvRCxDQUFDO2dCQUN4RSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtvQkFDbEMsSUFBSSxXQUFXLEdBQUcsdUJBQXVCLEVBQUUsQ0FBQztvQkFDNUMsSUFBSSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUMxQyxJQUFJLFdBQVcsQ0FBQyxXQUFXLEVBQUU7d0JBRXpCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUU7NEJBQzNCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzt3QkFDeEIsQ0FBQyxDQUFDLENBQUM7cUJBQ047eUJBQU07d0JBQ0gsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUU7NEJBQ3ZCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzt3QkFDeEIsQ0FBQyxDQUFDO3FCQUNMO2dCQUNMLENBQUMsQ0FBQzthQUNMO2lCQUFNO2dCQUNILElBQUksb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xFLElBQUksbUJBQW1CLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2hFLElBQUksVUFBVSxHQUFHLG1CQUFtQixDQUFDLGFBQWEsRUFBRSxDQUFDO2dCQUVyRCxJQUFJLFlBQVksR0FBRyxNQUFNLG9CQUFvQixDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO2dCQUMzRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxJQUFJLFlBQVk7b0JBQUUsT0FBTyxJQUFJLENBQUM7Z0JBRTlELE1BQU0sQ0FBQyxTQUFTLEdBQUcsd0JBQXdCLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7Z0JBQ3pFLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQzthQUNqRDtZQUNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQixPQUFPLEtBQUssQ0FBQztRQUNqQixDQUFDO0tBQUE7SUFFYSxZQUFZLENBQUMsTUFBbUI7O1lBQzFDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLFlBQVksR0FBRyxNQUFNLFdBQVcsQ0FBQywwQkFBMEIsRUFBRSxDQUFDO1lBQ2xFLElBQUksWUFBWTtnQkFBRSxPQUFPLElBQUksQ0FBQztZQUU5QixNQUFNLENBQUMsU0FBUyxHQUFHLGtCQUFrQjtZQUNyQyxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFFaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRS9CLE9BQU8sS0FBSyxDQUFDO1FBQ2pCLENBQUM7S0FBQTtJQUVPLGdCQUFnQixDQUFDLE1BQW1CO1FBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBVSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFFN0QsSUFBSSxDQUFDLEVBQUU7WUFDSCxNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVPLG9CQUFvQixDQUFDLE1BQW1CO1FBQzVDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ3BDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsa0JBQWtCLENBQUM7WUFDdEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9CLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7WUFDL0IsTUFBTSxDQUFDLFNBQVMsR0FBRyxxQkFBcUIsQ0FBQztZQUN6QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sZUFBZSxDQUFDLElBQVksRUFBRSxJQUFZO1FBQzlDLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDNUQsSUFBSSxZQUFZLEVBQUU7WUFDZCxJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBQzVDLFlBQVksQ0FBQyxTQUFTLEdBQUcsSUFBSSxHQUFHLGlCQUFpQixHQUFHLFdBQVcsQ0FBQyxhQUFhLEdBQUcsTUFBTSxHQUFHLElBQUksR0FBRyxtREFBbUQsQ0FBQztTQUN2SjtJQUNMLENBQUM7Q0FFSjs7O0FDbGZjLE1BQU0sU0FBUztJQUkxQixZQUFZLEtBQWMsRUFBRSxTQUFnQjtRQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0NBQ0o7OztBQ1BvQztBQUNNO0FBRTVCLE1BQU0sU0FBUztJQU0xQixZQUFZLEdBQVM7UUFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUNuQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixnQkFBZ0IsQ0FBQyxJQUFJLFlBQVksQ0FBQywyQ0FBMkMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUVuSCxDQUFDO0NBRUo7OztBQ3ZCeUM7QUFDTjtBQUdNO0FBRTNCLE1BQU0sVUFBVyxTQUFRLFlBQVk7SUFHaEQsWUFBWSxDQUFNO1FBQ2QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1QsSUFBSTtZQUNBLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLElBQUksR0FBRyxDQUFDLElBQUksRUFBRTtnQkFDVixJQUFJLFlBQVksR0FBRyxVQUFVLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDL0QsSUFBSSxZQUFZLEVBQUU7b0JBQ2QsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUN0QixPQUFPO2lCQUNWO2FBQ0o7WUFFRCxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDeEI7UUFBQyxPQUFPLFNBQVMsRUFBRTtZQUNoQixlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLGlCQUFpQixDQUFDLE1BQWMsRUFBRSxHQUFRO1FBQ3BELElBQUksR0FBRyxHQUFRLFNBQVMsQ0FBQztRQUN6QixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxNQUFNLEVBQUU7Z0JBQ3RDLElBQUksWUFBWSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLE9BQU8sSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDaEM7U0FDSjtRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQzs7QUFFTSxpQkFBTSxHQUFHO0lBQ1osU0FBUztDQUNaOzs7Ozs7Ozs7Ozs7QUN4QytCO0FBQ2E7QUFFbEMsTUFBTSxpQkFBaUI7SUFHbEMsWUFBWSxPQUF3QjtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBRVksY0FBYyxDQUFDLE1BQWU7O1lBQ3ZDLE1BQU0sTUFBTSxHQUFHO2dCQUNYLE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUM7WUFDRixJQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUM7aUJBQzlELEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDUCxNQUFNLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELElBQUksU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUQsT0FBTyxTQUFTLENBQUM7UUFFckIsQ0FBQztLQUFBO0NBQ0o7OztBQ3hCRDtBQUNBLElBQUksZUFBSSx1QkFBdUIsV0FBVyxvSUFBb0ksV0FBVywwRUFBMEUsTUFBTSwwQkFBMEIsUUFBUSxvTkFBb04sYUFBYSwyRkFBMkYsU0FBUyxvQkFBb0IsU0FBUyw2QkFBNkIsYUFBYTtBQUN2ckI7QUFDQSxpREFBZSxlQUFJLEU7Ozs7Ozs7Ozs7O0FDSFM7QUFDNEI7QUFFekMsTUFBTSxtQkFBbUI7SUFNcEM7UUFKQSxZQUFPLEdBQUcsZ0NBQWdDLENBQUM7UUFLdkMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVZLFNBQVMsQ0FBQyxjQUFvRTs7WUFDdkYsSUFBSSxjQUFjLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUMxQyxJQUFJLE9BQU8sR0FBRyxNQUFNLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUU1QyxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLEVBQ2pFLElBQUksQ0FBQyxDQUFDO1lBQ1Ysa0JBQWtCO1lBQ2xCO2dCQUNJLE1BQU0sY0FBYyxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQzthQUNuRDtRQUNMLENBQUM7S0FBQTtJQUVELFNBQVM7UUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQzNCLENBQUM7Q0FDSjs7O0FDOUJEO0FBQ0EsSUFBSSxrQkFBSSxtQ0FBbUMsWUFBWSxtQ0FBbUMsWUFBWSxLQUFLLE1BQU07QUFDakg7QUFDQSxvREFBZSxrQkFBSSxFOzs7Ozs7Ozs7OztBQ0g0RDtBQUM1QjtBQUNnQjtBQUNrQjtBQUNBO0FBQ2xCO0FBQ0g7QUFDK0I7QUFDbkI7QUFDdkM7QUFDK0M7QUFJckUsTUFBTSxlQUFlO0lBbUJoQyxZQUFZLE9BQXVCLEVBQUUsTUFBYyxFQUFFLElBQVksRUFBRSxJQUFZLEVBQUUsT0FBZSxFQUFFLFNBQW9CO1FBRnRILFlBQU8sR0FBYSxLQUFLLENBQUM7UUFHdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHFCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLHFCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQWMsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLGFBQWlCLENBQUMsQ0FBQztJQUV2RSxDQUFDO0lBRU0sdUJBQXVCLENBQUMsZUFBZ0M7UUFDM0QsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGVBQWUsQ0FBQztJQUNoRCxDQUFDO0lBRU0sY0FBYztRQUNqQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUF1QixJQUFJO1FBQ3JDLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFnQixDQUFDO1FBQ3JGLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzFDLElBQUksVUFBVSxFQUFFO1lBQ1osSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ3JCO0lBQ0wsQ0FBQztJQUVNLFVBQVU7UUFDYixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVNLFNBQVMsQ0FBQyxNQUFjLEVBQUUsSUFBWSxFQUFFLElBQVk7UUFDdkQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFFakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUVPLHFCQUFxQjtRQUN6QixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBcUIsQ0FBQztRQUNuRyxJQUFJLENBQUMsV0FBVztZQUFFLE9BQU87UUFFekIsV0FBVyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFPLEdBQUcsRUFBRSxFQUFFLENBQUM7WUFDakQsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLElBQUksWUFBWSxHQUFHLElBQUksbUJBQW1CLEVBQUUsQ0FBQztZQUM3QyxNQUFNLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBTyxNQUFjLEVBQUUsSUFBWSxFQUFFLElBQVksRUFBRSxFQUFFLENBQUM7Z0JBQy9FLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFFekIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQzdFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUM7aUJBQ3pFO2dCQUVELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO2dCQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBRWpCLElBQUksb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFFM0UsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO2dCQUVyQixJQUFJLElBQUksQ0FBQyxRQUFRO29CQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN2QyxDQUFDLEVBQUMsQ0FBQztRQUNQLENBQUMsRUFBQztJQUNOLENBQUM7SUFDTyxvQkFBb0I7UUFDeEIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRywyQkFBMkIsQ0FBcUIsQ0FBQztRQUM5RyxJQUFJLENBQUMsUUFBUTtZQUFFLE9BQU87UUFFdEIsSUFBSSxVQUFnQixDQUFDO1FBQ3JCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN2QyxJQUFJLFVBQVU7Z0JBQUUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRXpDLFVBQVUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUN6QixJQUFJLFVBQVUsR0FBSSxHQUFHLENBQUMsTUFBMkIsQ0FBQyxLQUFLLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFFdkIsSUFBSSxJQUFJLENBQUMsb0JBQW9CO29CQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDMUUsSUFBSSxJQUFJLENBQUMsUUFBUTtvQkFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDdkMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVPLFdBQVc7UUFDZixJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFnQixDQUFDO1FBQ3hHLElBQUksQ0FBQyxhQUFhO1lBQUUsT0FBTztRQUUzQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDNUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsMkJBQTJCLENBQXFCLENBQUM7WUFDOUcsSUFBSSxDQUFDLFFBQVE7Z0JBQUUsT0FBTztZQUV0QixRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBRXZCLElBQUksSUFBSSxDQUFDLG9CQUFvQjtnQkFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDMUUsSUFBSSxJQUFJLENBQUMsUUFBUTtnQkFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVZLFdBQVc7O1lBQ3BCLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLFVBQVUsR0FBRyxXQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7WUFFN0MsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsQ0FBZ0IsQ0FBQztZQUN2RyxJQUFJLENBQUMsVUFBVTtnQkFBRSxPQUFPO1lBRXhCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQUU7Z0JBQ3hCLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDOUQsVUFBVSxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUN4RTtpQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFO2dCQUN6QixJQUFJLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sb0JBQW9CLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztnQkFDeEYsVUFBVSxDQUFDLFNBQVMsR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO2FBQzVFO1lBQ0QsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNyRCxVQUFVLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFM0MsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ2hDLENBQUM7S0FBQTtJQUVZLGFBQWE7O1lBQ3RCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO2dCQUNuQixJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDdEIsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7Z0JBQUUsT0FBTztZQUUxRCxJQUFJLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEdBQUcseUJBQXlCLENBQWdCLENBQUM7WUFDckksSUFBSSxDQUFDLGlCQUFpQjtnQkFBRSxPQUFPO1lBRS9CLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcseUJBQXlCLENBQWdCLENBQUM7WUFDNUcsSUFBSSxDQUFDLGFBQWE7Z0JBQUUsT0FBTztZQUUzQixpQkFBaUIsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3BELGFBQWEsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRWhELElBQUksaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUQsSUFBSSxTQUFTLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BFLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUNqQyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDakQsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUV2QyxJQUFJLGlCQUFpQixHQUFRO2dCQUN6QixVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7Z0JBQzNCLElBQUksRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZO2FBQzlDLENBQUM7WUFDRixhQUFhLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBRXhFLElBQUksZ0JBQWdCLEdBQVE7Z0JBQ3hCLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtnQkFDM0IsSUFBSSxFQUFFLFdBQVcsR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTTthQUNuRixDQUFDO1lBQ0YsaUJBQWlCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBRTNFLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUMvQyxhQUFhLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQy9DLENBQUM7S0FBQTtJQUVNLGNBQWM7UUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0I7WUFBRSxPQUFPO1FBRXZDLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsMkJBQTJCLENBQXFCLENBQUM7UUFDOUcsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBQ3RCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQUU7WUFDeEIsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDOUc7YUFBTTtZQUNILFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ2xHO1FBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFTyxlQUFlO1FBQ25CLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxhQUFhO1lBQUUsT0FBTztRQUV6RixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUF3QixDQUFDO1FBQzNHLElBQUksQ0FBQyxXQUFXO1lBQUUsT0FBTztRQUV6QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUQsV0FBVyxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7UUFDL0IsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFdkMsSUFBSSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxnQ0FBZ0MsQ0FBZ0IsQ0FBQztRQUNwSCxJQUFJLFVBQVUsR0FBRyxDQUFDLEVBQUU7WUFDaEIsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDcEQ7YUFBTTtZQUNILGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxZQUFZLENBQUMsbUJBQXFDLEVBQUUsa0JBQW9DO1FBQ2xHLElBQUksVUFBVSxHQUFHLG1CQUFtQixDQUFDLE1BQU0sQ0FBQztRQUM1QyxJQUFJLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQyxJQUFJLENBQUM7UUFDeEMsSUFBSSxRQUFRLEdBQUcsbUJBQW1CLENBQUMsSUFBSSxDQUFDO1FBQ3hDLElBQUksWUFBWSxHQUFHLG1CQUFtQixDQUFDLFFBQVEsQ0FBQztRQUNoRCxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFFLGtCQUFrQixDQUFDLElBQUksRUFBRSxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7UUFDMUcsbUJBQW1CLENBQUMsUUFBUSxHQUFHLGtCQUFrQixDQUFDLFFBQVEsQ0FBQztRQUUzRCxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUM7UUFDNUQsa0JBQWtCLENBQUMsUUFBUSxHQUFHLFlBQVksQ0FBQztRQUMzQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsQyxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUVqQyxPQUFPLENBQUMsbUJBQW1CLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQWM7UUFDN0IsSUFBSSxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssSUFBSSxHQUFHO1lBQUUsT0FBTztRQUN4QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUkscUJBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBQ00saUJBQWlCO1FBQ3BCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMxRSxDQUFDO0lBRVksV0FBVzs7WUFDcEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFbEIsTUFBTSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDekIsTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFHL0IsQ0FBQztLQUFBO0lBRU8sb0JBQW9CO1FBQ3hCLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcscUJBQXFCLENBQWdCLENBQUM7UUFDeEcsSUFBSSxDQUFDLGFBQWE7WUFBRSxPQUFPO1FBRTNCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDcEIsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDekM7YUFBTTtZQUNILGFBQWEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQztDQUNKOzs7QUNqU0Q7QUFDQSxJQUFJLGdCQUFJO0FBQ1I7QUFDQSw2REFBZSxnQkFBSSxFOzs7Ozs7Ozs7OztBQ0g4RDtBQUNqQztBQUdqQyxNQUFNLFdBQVc7SUFJNUI7UUFGQSxhQUFRLEdBQVMsU0FBUyxDQUFDO1FBR3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxzQkFBZSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUdNLGNBQWM7UUFDakIsT0FBTyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVNLE1BQU07UUFDVCxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxHQUFHO1lBQUUsT0FBTztRQUVqQixHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUU7SUFDekMsQ0FBQztJQUVNLFVBQVUsQ0FBQyxtQkFBcUMsRUFBRSxrQkFBb0MsRUFBRSxrQkFBdUM7UUFDbEksSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsR0FBRztZQUFFLE9BQU87UUFFakIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFPLEdBQUcsRUFBRSxFQUFFLENBQUM7WUFDekMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXJCLENBQUMsbUJBQW1CLEVBQUUsa0JBQWtCLENBQUMsR0FBRyw0QkFBNEIsQ0FBQyxtQkFBbUIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBRWxIOzs7Ozs7Ozs7Ozs7RUFZVjtRQUVNLENBQUMsRUFBQztJQUNOLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7O0FDakRnRTtBQUNRO0FBQ3pCO0FBQ1c7QUFDSDtBQUNMO0FBR3BDLE1BQU0sVUFBVTtJQUkzQixZQUFZLE9BQXdCO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFFWSxNQUFNLENBQUMsU0FBa0IsRUFBRSxNQUFnQixFQUFFLElBQWMsRUFBRSxJQUFjLEVBQUUsT0FBaUI7O1lBQ3ZHLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLE9BQU87Z0JBQUUsT0FBTztZQUVyQixJQUFJLFlBQVksR0FBRyw0QkFBNEIsRUFBRSxDQUFDO1lBRWxELElBQUksY0FBYyxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLGVBQWUsRUFBRSxZQUFZLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1lBQzdJLElBQUksYUFBK0IsQ0FBQztZQUNwQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNULGFBQWEsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQzthQUNoRztpQkFBTTtnQkFDSCxhQUFhLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFnQixFQUFFLElBQWMsRUFBQyxJQUFjLEVBQUMsT0FBaUIsRUFBRSxhQUFhLENBQUMsQ0FBQzthQUN2STtZQUVELGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN0RCxhQUFhLENBQUMsdUJBQXVCLENBQUMsY0FBYyxDQUFDLENBQUM7WUFHdEQsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztZQUVwQyxJQUFJLFNBQVMsR0FBRyxjQUFjLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDaEQsSUFBSSxRQUFRLEdBQUcsYUFBYSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQzlDLElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUU5QyxPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsR0FBRyxVQUFVLEdBQUcsUUFBUSxDQUFDO1lBRXRELE1BQU0sY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25DLE1BQU0sYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLElBQUksTUFBTSxFQUFFO2dCQUNSLE1BQU0sYUFBYSxDQUFDLGFBQWEsRUFBRSxDQUFDO2FBQ3ZDO1lBQ0QsY0FBYyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzVCLGFBQWEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUUzQixJQUFJLGtCQUFrQixHQUFHLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxjQUFjLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDN0YsTUFBTSxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUV4QyxXQUFXLENBQUMsVUFBVSxDQUFDLGNBQWMsRUFBRSxhQUFhLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUMxRSxjQUFjLENBQUMsUUFBUSxHQUFHLEdBQUcsRUFBRTtnQkFDM0IsSUFBSSxhQUFhLENBQUMsT0FBTztvQkFBRSxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3ZELGtCQUFrQixDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RDLENBQUM7WUFDRCxhQUFhLENBQUMsUUFBUSxHQUFHLEdBQUcsRUFBRTtnQkFDMUIsSUFBSSxjQUFjLENBQUMsT0FBTztvQkFBRSxjQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3pELGtCQUFrQixDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RDLENBQUM7UUFHTCxDQUFDO0tBQUE7SUFDTSxjQUFjLENBQUMsTUFBZSxFQUFFLElBQWEsRUFBRSxJQUFhLEVBQUUsU0FBcUIsRUFBRSxlQUF3QjtRQUNoSCxRQUFRLENBQUMsY0FBYyxDQUFDLDhCQUE4QixDQUFFLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztJQUNoRixDQUFDO0lBRU0sYUFBYTtRQUNoQixJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDhCQUE4QixDQUFxQixDQUFDO1FBQzVGLElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTyxDQUFDLENBQUM7UUFFekIsT0FBTyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFWSxhQUFhLENBQUMsTUFBZTs7WUFDdEMsSUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDZCQUE2QixDQUFxQixDQUFDO1lBQ2xHLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsT0FBTztZQUU5QixJQUFJLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzVELElBQUksU0FBUyxHQUFHLE1BQU0saUJBQWlCLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9ELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUV0QyxJQUFJLFdBQVcsR0FBRyxVQUFVLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUUvQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BELENBQUM7S0FBQTtDQUVKOzs7QUMxRkQ7QUFDQSxJQUFJLFVBQUksODRDQUE4NEMsa0VBQWtFLDBRQUEwUSxVQUFVLGlCQUFpQixpQkFBaUIsV0FBVyxxVUFBcVUsYUFBYSxzVkFBc1Y7QUFDajhFO0FBQ0EsNENBQWUsVUFBSSxFOztBQ0huQjtBQUNBLElBQUksa0NBQUksOENBQThDLFNBQVMsMkVBQTJFLGNBQWM7QUFDeEo7QUFDQSxvRUFBZSxrQ0FBSSxFOzs7Ozs7Ozs7OztBQ0g2QjtBQUNRO0FBQ0E7QUFDUTtBQUNBO0FBQ0g7QUFDVjtBQUNmO0FBQzREO0FBRWpGLE1BQU0sU0FBUztJQUkxQixZQUFZLE9BQXVCO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFWSxJQUFJLENBQUMsTUFBZSxFQUFFLElBQWEsRUFBRSxJQUFhLEVBQUUsT0FBZ0I7O1lBRzdFLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQztZQUNwQixJQUFJLEtBQUssR0FBRyxVQUFVLENBQUM7WUFDdkIsSUFBSSxLQUFLLEdBQUcsbUJBQW1CLENBQUM7WUFDaEMsSUFBSSxLQUFLLEdBQUcsY0FBYyxDQUFDO1lBQzNCLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQztZQUNuQixJQUFJLEtBQUssR0FBRyxZQUFZLENBQUM7WUFDekIsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDdkIsSUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlELElBQUksQ0FBQyxhQUFhO2dCQUFFLE9BQU87WUFFM0IsSUFBSSxZQUFZLEdBQUcsNEJBQTRCLEVBQUUsQ0FBQztZQUdsRCxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQWEsQ0FBQyxDQUFDO1lBQ2pELGFBQWEsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1lBQzdFLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3ZCLElBQUksVUFBVSxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM5QyxNQUFNLFVBQVUsQ0FBQyxNQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQztZQUN0RCxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN2QixJQUFJLE1BQU0sRUFBRTtnQkFDUixNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLElBQUssRUFBRSxJQUFLLEVBQUUsT0FBUSxDQUFDO2FBRTFEO1lBQ0QsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDdkIsSUFBSSxJQUFJLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3pDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLFVBQVUsR0FBRyxNQUFNLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztZQUMxRSxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN2QixJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDbEUsSUFBSSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1lBQzNFLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDbEIsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3BDLGNBQWMsYUFBZCxjQUFjLHVCQUFkLGNBQWMsQ0FBRSxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ2hEO2lCQUFNO2dCQUNILFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN2QyxjQUFjLGFBQWQsY0FBYyx1QkFBZCxjQUFjLENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUNuRDtZQUVELElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRCxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUM5QixVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7b0JBQ3pDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFFckIsSUFBSSxlQUFlLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO29CQUNoRCxlQUFlLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTt3QkFDM0IsZUFBZSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUNoQyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksZUFBZSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNqRSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQy9DLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFFckIsSUFBSSxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRCxZQUFZLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFO29CQUNsRSxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO29CQUN4QixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLDZCQUE2QixDQUFDLENBQUM7b0JBQ2pFLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxZQUFZLEVBQUMsQ0FBQyxDQUFDO29CQUNsRixLQUFLLENBQUMsU0FBUyxDQUFDLG9CQUFvQixFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxDQUFDLENBQUM7WUFDTixDQUFDLENBQUM7WUFFRixXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUV2QixXQUFXLENBQUMsT0FBTyxDQUFDLG1CQUFtQixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN2RCxXQUFXLENBQUMsT0FBTyxDQUFDLG9CQUFvQixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN4RCxXQUFXLENBQUMsT0FBTyxDQUFDLHdCQUF3QixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM1RCxXQUFXLENBQUMsT0FBTyxDQUFDLHNCQUFzQixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMxRCxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFbEQsb0NBQW9DO1lBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFFckQsaUNBQWlDO1lBQ2pDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUN6QixXQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDaEMsQ0FBQztLQUFBO0lBQUEsQ0FBQztJQUVXLFlBQVksQ0FBQyxNQUFjLEVBQUUsSUFBWSxFQUFFLElBQVksRUFBRSxPQUFlOztZQUNqRixJQUFJLFVBQVUsR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDOUMsTUFBTSxVQUFVLENBQUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZGLENBQUM7S0FBQTtDQUVKOzs7QUN6R0Q7QUFDQSxJQUFJLGVBQUksbUdBQW1HLGFBQWE7QUFDeEg7QUFDQSxpREFBZSxlQUFJLEU7Ozs7Ozs7Ozs7O0FDSCtEO0FBQ3BCO0FBQ25CO0FBQ21CO0FBRS9DLE1BQU0sVUFBVTtJQUU5QixZQUFZLE9BQXdCO1FBQ25DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFWSxJQUFJOztZQUNoQixJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDOUQsSUFBSSxDQUFDLGFBQWE7Z0JBQUUsT0FBTztZQUUzQixJQUFJLGNBQWMsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQzFDLElBQUksVUFBVSxHQUFHLE1BQU0sY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBRS9DLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBYyxDQUFDLENBQUM7WUFDbEQsYUFBYSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztZQUU1RCxNQUFNLGNBQWMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVoQyxNQUFNLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBTyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7Z0JBQ3ZDLElBQUksb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xFLElBQUksT0FBTyxHQUFHLE1BQU0sb0JBQW9CLENBQUMsd0JBQXdCLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBRTFFLElBQUksU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RCLE1BQU0sU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNuRCxDQUFDLEVBQUM7UUFDSCxDQUFDO0tBQUE7SUFBQSxDQUFDO0NBRUY7OztBQ2xDRDtBQUNBLElBQUksY0FBSSxzUEFBc1AsWUFBWSwyTEFBMkwsY0FBYyxvQ0FBb0MsSUFBSSxLQUFLLE1BQU0seUJBQXlCLE1BQU0scUVBQXFFLElBQUksMkNBQTJDLE9BQU8sZ0NBQWdDLEtBQUs7QUFDcnNCO0FBQ0EseURBQWUsY0FBSSxFOzs7Ozs7Ozs7OztBQ0RKLE1BQU0sZUFBZTtJQUdoQyxZQUFZLE9BQXdCO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFFWSxZQUFZOztZQUNyQixPQUFPLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3JELENBQUM7S0FBQTtJQUVZLFdBQVcsQ0FBQyxVQUFtQjs7WUFDeEMsTUFBTSxNQUFNLEdBQUc7Z0JBQ1gsVUFBVSxFQUFFLFVBQVU7YUFDekIsQ0FBQztZQUNGLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzVELENBQUM7S0FBQTtDQUNKOzs7QUNuQkQ7QUFDQSxJQUFJLGdCQUFJLGdCQUFnQixTQUFTO0FBQ2pDO0FBQ0Esd0RBQWUsZ0JBQUksRTs7Ozs7Ozs7Ozs7QUNIUztBQUNvQztBQUNrQjtBQUMvQjtBQUNMO0FBQ087QUFDTTtBQUU1QyxNQUFNLFdBQVc7SUFFNUIsWUFBWSxPQUF3QjtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBRU0sSUFBSSxDQUFDLE1BQWU7UUFDdkIsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUV4QixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLGlCQUFlLENBQUMsQ0FBQztRQUduRCxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxNQUFNLEdBQUcsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQztRQUVqRixJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFnQixDQUFDO1FBQ25FLElBQUksQ0FBQyxHQUFHO1lBQUUsT0FBTztRQUVqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQVMsRUFBRSxDQUFDO1lBQ3RDLHdCQUF3QixDQUFDLEdBQUksQ0FBQyxDQUFDO1lBRS9CLElBQUksb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEUsSUFBSSxPQUFPLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRSxJQUFJLE9BQU8sS0FBSyxXQUFXLEVBQUU7Z0JBQ3pCLElBQUksTUFBTSxHQUFHLE1BQU0sb0JBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7b0JBQzdELEdBQUcsQ0FBQyxTQUFTLEdBQUcscUNBQXFDLENBQUM7Z0JBQzFELENBQUMsQ0FBQyxDQUFDO2dCQUVILElBQUksTUFBTSxZQUFZLGVBQWUsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLDZCQUE2QixFQUFFO29CQUNuRiwyQkFBMkIsRUFBRSxDQUFDO29CQUM5QixPQUFPO2lCQUNWO2dCQUNELE9BQU8sR0FBRyxNQUFnQixDQUFDO2FBQzlCO1lBQ0QsMkJBQTJCLEVBQUUsQ0FBQztZQUM5QixHQUFHLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDO1lBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNsRCxNQUFNLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtnQkFDdEQsSUFBSSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUNoRSxJQUFJLENBQUMsaUJBQWlCO29CQUFFLE9BQU87Z0JBRS9CLGlCQUFpQixDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7Z0JBQ3RDLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzNFLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxFQUFDO0lBQ04sQ0FBQztDQUNKOzs7QUNyREQ7QUFDQSxJQUFJLGNBQUkscTBCQUFxMEIsWUFBWSxZQUFZLGNBQWMsNEVBQTRFLFFBQVEsdUdBQXVHLFFBQVEsdUJBQXVCLFFBQVEsMkJBQTJCLGVBQWUsdUJBQXVCLHdCQUF3Qix1QkFBdUIsWUFBWSx3QkFBd0Isb0JBQW9CLCtCQUErQiwwQkFBMEIsTUFBTSxzQkFBc0IsR0FBRyxzQkFBc0IsNEVBQTRFLFFBQVEsY0FBYyxLQUFLLGtGQUFrRixRQUFRLDBDQUEwQyxPQUFPLFlBQVksS0FBSztBQUM5bUQ7QUFDQSxzREFBZSxjQUFJLEU7O0FDSG5CO0FBQ0EsSUFBSSxjQUFJLDZSQUE2UixjQUFjLGVBQWUsSUFBSSxvQkFBb0IsNkJBQTZCLGlCQUFpQixlQUFlLDZCQUE2QixhQUFhO0FBQ2pjO0FBQ0EsZ0RBQWUsY0FBSSxFOzs7Ozs7Ozs7OztBQ0RKLE1BQU0sZ0JBQWdCO0lBR2pDLFlBQVksT0FBd0I7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQUVZLFlBQVk7O1lBQ3JCLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckQsQ0FBQztLQUFBO0NBQ0o7OztBQ1pjLE1BQU0sZ0JBQWdCO0lBRTFCLE1BQU0sQ0FBQyxlQUFlO1FBQ3pCLFVBQVUsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVUsTUFBYztZQUN0RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDOUQsQ0FBQyxDQUFDLENBQUM7UUFDSCxVQUFVLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxVQUFVLE1BQWM7WUFDdkQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxVQUFVLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxVQUFVLE1BQWM7WUFDeEQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDMUQsQ0FBQyxDQUFDLENBQUM7UUFDSCxVQUFVLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBRSxVQUFVLE1BQWM7WUFDNUQsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDMUMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7OztBQ2pCNkM7QUFDb0M7QUFDVjtBQUNyQjtBQUNZO0FBQ007QUFDM0I7QUFDWTtBQUNhO0FBQ0o7QUFDSDtBQUNXO0FBQ1o7QUFDdkI7QUFDaUI7QUFFdEMsTUFBTSxhQUFhO0lBSTlCLFlBQVksT0FBd0I7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVZLElBQUk7O1lBRWIsSUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlELElBQUksQ0FBQyxhQUFhO2dCQUFFLE9BQU87WUFHM0IsSUFBSSxlQUFlLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDekQsSUFBSSxTQUFTLEdBQUcsTUFBTSxlQUFlLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFckQsZ0NBQWdDLEVBQUUsQ0FBQztZQUVuQyxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLGVBQWdCLENBQUMsQ0FBQztZQUNwRCxhQUFhLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsQ0FBQyxDQUFDO1lBRXZELElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDMUQsSUFBSSxhQUFhLEVBQUU7Z0JBQ2YsYUFBYSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO29CQUM1QyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ3JCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztnQkFDekIsQ0FBQyxDQUFDO2FBQ0w7WUFHRCxJQUFJLE9BQU8sR0FBRyxJQUFJLEtBQUssRUFBVSxDQUFDO1lBQ2xDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNuRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDdkMsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBZ0IsQ0FBQztnQkFDMUMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxNQUFNO29CQUFFLFNBQVM7Z0JBRXRCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBRXJCLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO29CQUNsRCxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBRXJCLElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxNQUFxQixDQUFDO29CQUN4QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztvQkFDcEMsSUFBSSxDQUFDLE1BQU07d0JBQUUsT0FBTztvQkFFcEIsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLG9CQUFvQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDbEUsSUFBSSxlQUFlLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFFbEYsSUFBSSxpQkFBaUIsR0FBRyxNQUFNLDZCQUE2QixFQUFFLENBQUM7b0JBQzlELElBQUksUUFBUSxHQUFHLE1BQU0saUJBQWlCLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBRW5FLElBQUksU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDNUMsTUFBTSxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxlQUFlLENBQUMsQ0FBQztvQkFDaEcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLENBQUMsRUFBQyxDQUFDO2FBQ047WUFFRCxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN4RSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM5QyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO29CQUN6RCxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUN4QixJQUFJLE9BQU8sR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQWdCLENBQUM7b0JBQ2pELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTyxDQUFDO29CQUVyQyxJQUFJLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNsRSxJQUFJLGVBQWUsR0FBRyxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNsRixJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxXQUFXLEVBQUU7d0JBQzNDLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDaEQsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDekIsT0FBTztxQkFDVjtvQkFFRCxJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ2xELE1BQU0sWUFBWSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFO3dCQUN6RSxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO3dCQUN4QixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFdBQWUsQ0FBQyxDQUFDO3dCQUNuRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUMsQ0FBQyxDQUFDO3dCQUNuRSxLQUFLLENBQUMsU0FBUyxDQUFDLHdCQUF3QixFQUFFLE9BQU8sQ0FBQyxDQUFDO29CQUN2RCxDQUFDLENBQUMsQ0FBQztnQkFHUCxDQUFDLEVBQUMsQ0FBQzthQUNOO1lBRUQsTUFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFdEMsSUFBSSxXQUFXLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxrQkFBYSxDQUFDLENBQUM7WUFDcEQsSUFBSSxTQUFTLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQzFELElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLFdBQVc7Z0JBQUUsT0FBTztZQUV6QixXQUFXLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUMsQ0FBQyxDQUFDO1lBRXpELE1BQU0sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRS9CLENBQUM7S0FBQTtJQUVZLGlCQUFpQixDQUFDLE9BQXNCOztZQUNqRCxJQUFJLGlCQUFpQixHQUFHLE1BQU0sNkJBQTZCLEVBQUUsQ0FBQztZQUM5RCxNQUFNLE1BQU0sR0FBRyxNQUFNLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZELElBQUksS0FBSyxDQUFDO1lBQ1YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3JDLEtBQUssR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixJQUFJLEtBQUssRUFBRTtvQkFDUCxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLGFBQWEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ3pHO2FBQ0o7UUFDTCxDQUFDO0tBQUE7SUFFWSxhQUFhOztZQUN0QixJQUFJLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxDQUFDO1lBQzVDLElBQUksVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzVELElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsU0FBYSxDQUFDLENBQUM7WUFDakQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDO2dCQUNuQixVQUFVLEVBQUUsVUFBVSxDQUFDLFVBQVU7Z0JBQ2pDLFlBQVksRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztnQkFDaEUsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQjtnQkFDakQsU0FBUyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUNyRCxZQUFZLEVBQUUsV0FBVyxDQUFDLFlBQVk7YUFDekMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUN4QixLQUFLLENBQUMsU0FBUyxDQUFDLDBCQUEwQixFQUFFLE9BQU8sQ0FBQztZQUVwRCxJQUFJLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNuRSxJQUFJLGdCQUFnQixFQUFFO2dCQUNsQixnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO29CQUN0RCxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBRXpCLENBQUMsRUFBQzthQUNMO1FBQ0wsQ0FBQztLQUFBO0lBRVksYUFBYTs7WUFFdEIsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzdELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxJQUFJO2dCQUFFLE9BQU87WUFFbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ25DLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBTyxHQUFHLEVBQUUsRUFBRSxDQUFDO29CQUM5QyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBRXJCLElBQUksVUFBVSxHQUFJLEtBQUssQ0FBQyxDQUFDLENBQWlCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztvQkFDekQsSUFBSSxDQUFDLFVBQVU7d0JBQUUsT0FBTztvQkFFeEIsSUFBSSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDckUsSUFBSSxXQUFXLElBQUksRUFBRSxFQUFFO3dCQUNuQixLQUFLLENBQUMsaUZBQWlGLENBQUM7d0JBQ3hGLE9BQU87cUJBQ1Y7b0JBQ0QsTUFBTSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUM7Z0JBQ2xDLENBQUMsRUFBQyxDQUFDO2FBQ047UUFDTCxDQUFDO0tBQUE7Q0FDSjs7Ozs7Ozs7Ozs7O0FDL0srQztBQUNGO0FBQ1E7QUFDVDtBQUNLO0FBR25DLE1BQU0sT0FBTztJQVl4QixZQUFZLE9BQXdCO1FBVnBDLGFBQVEsR0FBUTtZQUNaLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUztZQUMxQixjQUFjLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDbEMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVO1lBQzVCLHdCQUF3QixFQUFFLElBQUksQ0FBQyxxQkFBcUI7WUFDcEQsWUFBWSxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzlCLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTztTQUN6QixDQUFDO1FBSUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQUVZLFVBQVU7OztZQUNuQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEUsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxFQUFFO2dCQUFFLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2xGLElBQUksSUFBSSxLQUFLLEVBQUU7Z0JBQUUsSUFBSSxHQUFHLFFBQVEsQ0FBQztZQUVqQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFdEIsSUFBSSxFQUFFLEdBQUcsVUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLG1DQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7WUFFdkUsSUFBSSxPQUFPLEVBQUUsS0FBSyxVQUFVLEVBQUU7Z0JBQzFCLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2xCOztLQUNKO0lBRVkscUJBQXFCLENBQUMsT0FBZ0IsRUFBRSxHQUFlOztZQUNoRSxJQUFJLEdBQUc7Z0JBQUUsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRTlCLElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxQyxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVsQixPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztZQUUvRCxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDhCQUE4QixDQUFDO1lBQ3BFLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxhQUFhLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNuRCxDQUFDO0tBQUE7SUFFWSxPQUFPLENBQUMsT0FBZ0IsRUFBRSxHQUFlOztZQUNsRCxJQUFJLEdBQUc7Z0JBQUUsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRTlCLElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxQyxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVsQixPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFFL0MsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsQ0FBQztZQUNwRSxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsYUFBYSxDQUFDLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbkQsQ0FBQztLQUFBO0lBRVksV0FBVyxDQUFDLE9BQWdCLEVBQUUsR0FBZTs7WUFDdEQsSUFBSSxHQUFHO2dCQUFFLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUU5QixJQUFJLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUMsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBRW5ELElBQUksZ0JBQWdCLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xELElBQUksV0FBVyxHQUFHLHVCQUF1QixFQUFFLENBQUM7WUFDNUMsSUFBSSxXQUFXLENBQUMsV0FBVyxFQUFFO2dCQUN6QixnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUU7Z0JBQ3ZDLENBQUMsQ0FBQzthQUNMO2lCQUFNO2dCQUNILGdCQUFnQixDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUU7Z0JBQ25DLENBQUMsQ0FBQzthQUNMO1FBQ0wsQ0FBQztLQUFBO0lBR1ksU0FBUyxDQUFDLE9BQWdCLEVBQUUsR0FBZTs7WUFDcEQsSUFBSSxHQUFHO2dCQUFFLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUU5QixJQUFJLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUMsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3JELENBQUM7S0FBQTtJQUVZLFVBQVUsQ0FBQyxPQUFpQixFQUFDLEdBQWdCOztZQUN0RCxJQUFJLEdBQUc7Z0JBQUUsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRTlCLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzQyxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVsQixPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFbEQsQ0FBQztLQUFBO0lBQ1ksYUFBYSxDQUFDLE9BQWlCLEVBQUMsR0FBZ0I7O1lBQ3pELElBQUksR0FBRztnQkFBRSxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFOUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzlDLE1BQU0sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBRWxCLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4RCxDQUFDO0tBQUE7SUFFTSxjQUFjO1FBQ2pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztRQUdsQixJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDL0QsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN4QixJQUFvQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFnQixHQUFnQjs7b0JBQzVFLE1BQU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3BDLElBQUksQ0FBQyxhQUFjLENBQUMsYUFBYyxDQUFDLGFBQWMsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzlFLENBQUM7YUFBQSxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksV0FBVyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzlELFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEIsSUFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBZ0IsR0FBRzs7b0JBQy9ELE1BQU0sTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3JDLElBQUksQ0FBQyxhQUFjLENBQUMsYUFBYyxDQUFDLGFBQWMsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzlFLENBQUM7YUFBQSxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2xFLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDeEIsSUFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBZ0IsR0FBRzs7b0JBQy9ELE1BQU0sTUFBTSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxhQUFjLENBQUMsYUFBYyxDQUFDLGFBQWMsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzlFLENBQUM7YUFBQSxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FFSjs7O0FDeEljLE1BQU0sTUFBTTtJQUVoQixNQUFNLENBQUMsU0FBUztRQUNuQixJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBZ0IsQ0FBQztRQUNwRSxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFFcEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsa0JBQWtCLEdBQUcsTUFBTSxHQUFHLE9BQU8sQ0FBQztJQUN6RSxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7OztBQ1ZvRTtBQUNaO0FBQ2pCO0FBQ2M7QUFDUjtBQUNIO0FBQ0k7QUFDRTtBQUNQO0FBRzFDLE1BQU0sS0FBSyxHQUFHOztRQUNWLElBQUksZUFBZSxHQUFHLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRXZELElBQUksaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO1FBQ2hELGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQzs7Z0JBQzNCLFlBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFFOUIsSUFBSSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQWdCLENBQUM7Z0JBQ3ZFLElBQUksV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLFlBQVksR0FBRyxNQUFNLFdBQVcsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBRWhFLElBQUksWUFBWSxFQUFFO29CQUNkLElBQUksUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRyxZQUFvQixDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztvQkFDdkYsTUFBTSxRQUFRLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQzFDLHdCQUF3QjtpQkFDM0I7cUJBQU07b0JBQ0gsNEJBQTRCO29CQUM1QixJQUFJLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDL0MsYUFBYSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2lCQUNsRDtnQkFFRCxJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkMsTUFBTSxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7WUFHL0IsQ0FBQztTQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNoQixnQkFBZ0IsQ0FBQyxJQUFJLFlBQVksQ0FBQyxxREFBcUQsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLENBQUMsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUM1QyxJQUFJLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNuRSxJQUFJLGdCQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDcEUsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDekMsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUN0QixHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDeEI7UUFDTCxDQUFDLENBQUM7UUFFRixJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3QyxJQUFJLFlBQVksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFDdEQ7WUFDSSw2QkFBNkI7U0FDaEM7UUFHRCxTQUFTLFVBQVU7WUFDZixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2pELElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1YsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM5QixPQUFPO2FBQ1Y7WUFFRCxPQUFPLENBQUMsU0FBUyxHQUFHLHVFQUF1RTtRQUUvRixDQUFDO1FBQ0QsZ0JBQWdCLEVBQUUsQ0FBQztJQUV2QixDQUFDO0NBQUE7QUFFRCxLQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL25ldHdvcmtzL05ldHdvcmsudHM/YmNkYyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9uZXR3b3Jrcy9sb2NhbGhvc3QtbmV0d29yay50cz85M2NiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL25ldHdvcmtzL211bWJhaS1uZXR3b3JrLnRzPzUyN2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Db29raWVIZWxwZXIudHM/ZDhkNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9uZXR3b3Jrcy9mdWppLW5ldHdvcmsudHM/M2FiOSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9uZXR3b3Jrcy9OZXR3b3JrSW5mby50cz9hMWM2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvQ29ubmVjdGlvblNlcnZpY2UudHM/NDMwMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9icm9rZXIvTWFya2V0U2VydmljZS50cz9iNjE4Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2Vycm9ycy9HZW5lcmFsRXJyb3IudHM/MWQ2NyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL1dyb25nTmV0d29yay5odG1sPzFiODEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9Nb2RhbC5odG1sPzMwZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL01vZGFsLnRzP2I5ZTYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYnJva2VyL1NlY3VyaXR5LnRzPzAxMzEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYnJva2VyL1NlY3VyaXRpZXNTZXJ2aWNlLnRzPzE4YzIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Mb2FkaW5nSGVscGVyLnRzPzY1MmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvSW5mb0JhclR5cGUudHM/ODgwNyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9JbmZvQmFyLnRzPzYxMzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9XYWxsZXRNaXNzaW5nLmh0bWw/ZmYyNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvUHJlZGVmaW5lZEVycm9ySGFuZGxlcnMudHM/N2Q4ZiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvRXJyb3JJbmZvLnRzPzM3ZmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9XYWxsZXRIZWxwZXIudHM/YTMxNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvU3dpdGNoTmV0d29ya01vZGFsLnRzP2MzZDUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYmFja2VuZC9BdXRoZW50aWNhdGVTZXJ2aWNlLnRzP2UyNTAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvZW51bXMvV2FsbGV0VHlwZS50cz81OWNhIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3dhbGxldC9Qcm92aWRlckluZm8udHM/NDg0YyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlLnRzP2JiYWEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvY29udHJhY3RzL2xvY2FsaG9zdC1jb250cmFjdC1hZGRyZXNzZXMudHM/M2M1MiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvQ29udHJhY3RBZGRyZXNzZXMudHM/MTRjZSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvcmlua2VieS1jb250cmFjdC1hZGRyZXNzZXMudHM/ZTg2MSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9jb250cmFjdHMvbXVtYmFpLWNvbnRyYWN0LWFkZHJlc3Nlcy50cz9iMDc5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2NvbnRyYWN0cy9mdWppLWNvbnRyYWN0LWFkZHJlc3Nlcy50cz9lNTY2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2NvbnRyYWN0cy9Db250cmFjdEluZm8udHM/YjIwYSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL01hcmtldElzQ2xvc2VkLmh0bWw/YzBiNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0RhdGVIZWxwZXIudHM/MzQ0ZiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvQmxvY2tjaGFpbkVycm9yLnRzP2ZkNWEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYmxvY2tjaGFpbi9MaW1pbmFsTWFya2V0U2VydmljZS50cz83YjgyIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvU2VjdXJpdGllc0xpc3QuaHRtbD83ZmQzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvU2VjdXJpdGllcy5odG1sPzhlODUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Db3B5SGVscGVyLnRzPzJjYjMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9lbGVtZW50cy9BZGRyZXNzSW5mby5odG1sP2ZiNzUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9lbGVtZW50cy9Db250cmFjdEFkZHJlc3NOb3RGb3VuZC5odG1sP2I3ZTQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9IZWxwZXIudHM/ZGFlNyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL0FkZFRvV2FsbGV0Lmh0bWw/NTZkNiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9TZWN1cml0aWVzTGlzdC50cz9mNjEyIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvVXNlckluZm8uaHRtbD8zNTA5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0VkaXROYW1lLmh0bWw/NDlhMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL1N0cmluZ0hlbHBlci50cz80YjE1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljRWRpdE5hbWVGb3JtLnRzPzhhYjciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljRWRpdENvbnRhY3RGb3JtLmh0bWw/NDEzMCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0Zvcm1IZWxwZXIudHM/YTE3MSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0VkaXRDb250YWN0Rm9ybS50cz9kNzQzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0VkaXRUcnVzdGVkQ29udGFjdC5odG1sPzZjNmIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdXRpbC9Db3VudHJ5SGVscGVyLnRzPzE4YjYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNFZGl0VHJ1c3RlZENvbnRhY3QudHM/OTQ5OSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9Vc2VySW5mby50cz8yZjA3Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvQ29ubmVjdFdhbGxldEJ1dHRvbi5odG1sPzlmOTMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9TZWxlY3RXYWxsZXRQcm92aWRlci5odG1sP2MxNDUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0Nvbm5lY3RXYWxsZXQudHM/MGZiYyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlLnRzP2QwYzQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9GYWtlRnVuZGluZy5odG1sPzJjMGIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvc2VydmljZXMvYnJva2VyL0Z1bmRpbmdTZXJ2aWNlLnRzP2U2OWMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0FVU0RGdW5kLnRzPzliM2UiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvQVVzZEJhbGFuY2UudHM/NWIzYiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2UudHM/YWM5OCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9ibG9ja2NoYWluL1NlY3VyaXR5VG9rZW5TZXJ2aWNlLnRzP2MyY2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvUHJvZ3Jlc3MudHM/NGMyYiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1N1YnNjcmlwdGlvbi50cz8xZTY0Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2VudW1zL1RyYWRlVHlwZS50cz85MDIzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24uaHRtbD9mMTllIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZUV4ZWN1dGVkLmh0bWw/YjYyMCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0Zha2VOYXRpdmVUb2tlbk5lZWRlZC5odG1sP2FkMTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9OYXRpdmVUb2tlbk5lZWRlZC5odG1sP2ExYjEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL05hdGl2ZVRva2VuTmVlZGVkLnRzPzRmODciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWN0aW9uUmVxdWlyZWQuaHRtbD9kMmFiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1dlRG9udEtub3dXaHkuaHRtbD8wMTdiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0lERU5USVRZX1ZFUklGSUNBVElPTi5odG1sPzA1NmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvQUREUkVTU19WRVJJRklDQVRJT04uaHRtbD8xY2UzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0FGRklMSUFURUQuaHRtbD85MjM5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0NPTlRST0xfUEVSU09OLmh0bWw/ZWExNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9DT1VOVFJZX05PVF9TVVBQT1JURUQuaHRtbD8zNjljIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0RBVEVfT0ZfQklSVEguaHRtbD8yNjg1Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0ZBTUlMWV9NRU1CRVJfUEVQLmh0bWw/N2E3YiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9JTlZBTElEX0lERU5USVRZX1BBU1NQT1JULmh0bWw/YTkwNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9QRVAuaHRtbD82NDU3Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1NFTEZJRV9WRVJJRklDQVRJT04uaHRtbD8yYmZjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1RBWF9JREVOVElGSUNBVElPTi5odG1sPzkwNzYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvVklTQV9UWVBFX09USEVSLmh0bWw/NTE5NCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9XOEJFTl9DT1JSRUNUSU9OLmh0bWw/OGQ4MCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL0ZpbGVVcGxvYWQuaHRtbD8zNTg2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL2VsZW1lbnRzL0ZpbGVVcGxvYWQudHM/NjI4YyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0Zvcm1WYWxpZGF0b3IudHM/N2M4ZCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0FjdGlvblJlcXVpcmVkLnRzPzNiMGUiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LWUNNb2RhbC5odG1sPzUwYjkiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQ29udGFjdC5odG1sPzAzMzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yLnRzPzM1NzkiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNCYXNlLnRzPzZiN2QiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNDb250YWN0LnRzPzg2MTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljSWRlbnRpdHkuaHRtbD8zZDk5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljSWRlbnRpdHkudHM/ZGU2OCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNEaXNjbG9zdXJlcy5odG1sPzMwYTgiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkLmh0bWw/NzIxMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZC50cz8zODcxIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvS3ljL0t5Y0ltbWVkaWF0ZUZhbWlseS5odG1sPzE1MmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNJbW1lZGlhdGVGYW1pbHkudHM/NjFhNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y0Rpc2Nsb3N1cmVzLnRzP2RmMDIiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljQWNjb3VudEFncmVlbWVudC5odG1sPzQxM2IiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNBY2NvdW50QWdyZWVtZW50LnRzPzMyMDAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9LeWMvS3ljVHJ1c3RlZENvbnRhY3QuaHRtbD9hNTFjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljVHJ1c3RlZENvbnRhY3QudHM/MGY4YSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNVcGxvYWQuaHRtbD83MjE2Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL21vZGFscy9LWUMvS3ljVXBsb2FkLnRzP2JmZTciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQy9LeWNXYWl0aW5nLnRzP2VjZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0tZQ0Zvcm0udHM/Yzk4NiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9tb2RhbHMvS1lDL0t5Y1N0YXR1c0hhbmRsZXIudHM/NGY1MiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL21vZGFsL0t5Yy9LeWNBcHByb3ZlZC5odG1sP2UyYjEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24udHM/NTA3YiIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1RyYWRlSW5mby50cz8wNTkzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2Vycm9ycy9jbG91ZC9IdHRwRXJyb3IudHM/MzNkNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9lcnJvcnMvQ2xvdWRFcnJvci50cz85YjYzIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvU3RvY2tQcmljZVNlcnZpY2UudHM/YWU5NCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVJbnB1dC5odG1sP2UwMzYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL1NlY3VyaXRpZXNMaXN0TW9kYWwudHM/YTc2OSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvUHJpY2VQZXJTaGFyZS5odG1sPzYzYTAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZVBhbmVsSW5wdXQudHM/NjhjYSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVTd2l0Y2guaHRtbD8wNjJjIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3VpL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVTd2l0Y2gudHM/YzQyMSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9lbGVtZW50cy9UcmFkZVBhbmVsLnRzP2ZhNDQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy90cmFkZS5odG1sP2Y2ZjYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9Db3B5VG9rZW5BZGRyZXNzVG9BZGRUb1dhbGxldC5odG1sP2RkYzMiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvcGFnZXMvVHJhZGVQYWdlLnRzPzBmOTQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy9zdG9ja3NwYWdlLmh0bWw/YTJjNCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9wYWdlcy9TdG9ja3NQYWdlLnRzPzM4MzciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9lbGVtZW50cy9kb2N1bWVudHMuaHRtbD8zOWNiIiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL3NlcnZpY2VzL2JhY2tlbmQvRG9jdW1lbnRTZXJ2aWNlLnRzPzgwYjciLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9tb2RhbC9DcmVhdGVUb2tlbi5odG1sPzQ5NmEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvbW9kYWxzL0NyZWF0ZVRva2VuLnRzPzI0ZDYiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvaHRtbC9wYWdlcy9wb3NpdGlvbnMuaHRtbD82ZmE5Iiwid2VicGFjazovL2xpbWluYWwtYXBwLy4vc3JjL2h0bWwvbW9kYWwvU3luY1N0b2NrLmh0bWw/MGMxNSIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy9zZXJ2aWNlcy9iYWNrZW5kL1Bvc2l0aW9uc1NlcnZpY2UudHM/OGEzOCIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91dGlsL0hhbmRsZWJhckhlbHBlcnMudHM/YzljMyIsIndlYnBhY2s6Ly9saW1pbmFsLWFwcC8uL3NyYy91aS9wYWdlcy9Qb3NpdGlvbnNQYWdlLnRzP2JhZGEiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvcm91dGluZy9Sb3V0aW5nLnRzP2Q2NjQiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvdWkvZWxlbWVudHMvSGVhZGVyLnRzP2UyMzAiLCJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvbWFpbi50cz9jZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmsge1xyXG5cdFNlcnZlclVybCA9IFwiXCI7XHJcblx0QXBwSWQgPSBcIlwiO1xyXG5cdENoYWluSWQgPSAwO1xyXG5cdE5hbWUgPSBcIlwiO1xyXG5cdENoYWluTmFtZSA9ICcnO1xyXG5cdE5hdGl2ZUN1cnJlbmN5TmFtZSA9IFwiXCI7XHJcblx0TmF0aXZlU3ltYm9sID0gXCJcIjtcclxuXHROYXRpdmVEZWNpbWFsID0gMTg7XHJcblx0UnBjVXJsID0gJyc7XHJcblx0QmxvY2tFeHBsb3JlciA9ICcnO1xyXG5cdFRlc3ROZXR3b3JrID0gdHJ1ZTtcclxuXHRGYXVjZXRVcmwgPSAnJztcclxuXHRCdXlVcmwgPScnO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBhZGROZXR3b3JrVG9XYWxsZXQobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcblx0XHRjb25zdCB3ZWIzID0gYXdhaXQgbW9yYWxpcy5lbmFibGVXZWIzKCk7XHJcblx0XHRpZiAoIXdlYjMgfHwgIXdlYjMucHJvdmlkZXIucmVxdWVzdCkgcmV0dXJuO1xyXG5cclxuXHRcdHdlYjMucHJvdmlkZXIucmVxdWVzdCh7XHJcblx0XHRcdG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcclxuXHRcdFx0cGFyYW1zOiBbe1xyXG5cdFx0XHRcdGNoYWluSWQ6ICcweCcgKyB0aGlzLkNoYWluSWQudG9TdHJpbmcoMTYpLFxyXG5cdFx0XHRcdGNoYWluTmFtZTogdGhpcy5DaGFpbk5hbWUsXHJcblx0XHRcdFx0bmF0aXZlQ3VycmVuY3k6IHtcclxuXHRcdFx0XHRcdG5hbWU6IHRoaXMuTmF0aXZlQ3VycmVuY3lOYW1lLFxyXG5cdFx0XHRcdFx0c3ltYm9sOiB0aGlzLk5hdGl2ZVN5bWJvbCxcclxuXHRcdFx0XHRcdGRlY2ltYWxzOiB0aGlzLk5hdGl2ZURlY2ltYWxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHJwY1VybHM6IFt0aGlzLlJwY1VybF0sXHJcblx0XHRcdFx0YmxvY2tFeHBsb3JlclVybHM6IFt0aGlzLkJsb2NrRXhwbG9yZXJdXHJcblx0XHRcdH1dXHJcblx0XHR9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyb3IpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGhhc0Vub3VnaE5hdGl2ZVRva2Vucyhtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIDogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHQvL1RPRE86IHJlbW92ZSBsYXRlciwgTW9yYWxpcyBkb2VzbnQgc3VwcG9ydCBnZXROYXRpdmVCYWxhbmNlIG9uIGxvY2FsaG9zdCBzbyBpdCdzIGFsd2F5cyB0cnVlXHJcblx0XHRpZiAodGhpcy5OYW1lID09ICdsb2NhbGhvc3QnKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3Qgb3B0aW9uczogYW55ID0ge2NoYWluOiAnMHgnICsgdGhpcy5DaGFpbklkLnRvU3RyaW5nKDE2KX07XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vcmFsaXMuV2ViM0FQSS5hY2NvdW50LmdldE5hdGl2ZUJhbGFuY2Uob3B0aW9ucyk7XHJcblxyXG5cdFx0XHRjb25zdCBiYWxhbmNlID0gcGFyc2VGbG9hdChNb3JhbGlzLlVuaXRzLkZyb21XZWkocmVzdWx0LmJhbGFuY2UsIDE4KSk7XHJcblx0XHRcdGlmIChiYWxhbmNlIDwgMC4wMDUpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9O1xyXG59XHJcblxyXG4iLCJpbXBvcnQgTmV0d29yayBmcm9tICcuL05ldHdvcmsnO1xyXG4vL2xvY2FsaG9zdFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsb2NhbGhvc3ROZXR3b3JrIGV4dGVuZHMgTmV0d29yayB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdHRoaXMuU2VydmVyVXJsID0gXCJodHRwczovL2RxZXQ4ZGZ5bXZ6ai51c2Vtb3JhbGlzLmNvbToyMDUzL3NlcnZlclwiO1xyXG5cdFx0dGhpcy5BcHBJZCA9IFwiVFhSNlllc0s5OVZnUkN4U2VjbnlTUk1wMUtJNXJMbkNmSWV0UXV1VVwiO1xyXG5cdFx0dGhpcy5DaGFpbklkID0gMzEzMzc7XHJcblx0XHR0aGlzLk5hbWUgPSBcImxvY2FsaG9zdFwiO1xyXG5cclxuXHRcdHRoaXMuQ2hhaW5OYW1lID0gJ2xvY2FsaG9zdCB0ZXN0JztcclxuXHRcdHRoaXMuTmF0aXZlQ3VycmVuY3lOYW1lID0gXCJFdGhlcmV1bVwiO1xyXG5cdFx0dGhpcy5OYXRpdmVTeW1ib2wgPSBcIkVUSFwiO1xyXG5cdFx0dGhpcy5OYXRpdmVEZWNpbWFsID0gMTg7XHJcblx0XHR0aGlzLlJwY1VybCA9ICdodHRwczovL3JpbmtlYnkuaW5mdXJhLmlvL3YzLzlhYTNkOTViM2JjNDQwZmE4OGVhMTJlYWE0NDU2MTYxJztcclxuXHRcdHRoaXMuQmxvY2tFeHBsb3JlciA9ICdodHRwczovL3JpbmtlYnkuZXRoZXJzY2FuLmlvJztcclxuXHJcblx0fVxyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCJcclxuXHJcbmltcG9ydCBOZXR3b3JrIGZyb20gJy4vTmV0d29yayc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBtdW1iYWlOZXR3b3JrIGV4dGVuZHMgTmV0d29yayB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5TZXJ2ZXJVcmwgPSBcImh0dHBzOi8vZjh0MXZycnd0Ym9hLnVzZW1vcmFsaXMuY29tOjIwNTMvc2VydmVyXCI7XHJcbiAgICAgICAgdGhpcy5BcHBJZCA9IFwiWFpocDN3UW9icktpQ2liMEJmNEZQVktBVWhiSE05U3ZUTEtPS3ZCYlwiO1xyXG4gICAgICAgIHRoaXMuQ2hhaW5JZCA9IDgwMDAxO1xyXG4gICAgICAgIHRoaXMuTmFtZSA9IFwibXVtYmFpXCI7XHJcbiAgICAgICAgdGhpcy5DaGFpbk5hbWUgPSAnUG9seWdvbiBNdW1iYWknO1xyXG4gICAgICAgIHRoaXMuTmF0aXZlQ3VycmVuY3lOYW1lID0gXCJNYXRpY1wiO1xyXG4gICAgICAgIHRoaXMuTmF0aXZlU3ltYm9sID0gXCJNQVRJQ1wiO1xyXG4gICAgICAgIHRoaXMuTmF0aXZlRGVjaW1hbCA9IDE4O1xyXG4gICAgICAgIHRoaXMuUnBjVXJsID0gJ2h0dHBzOi8vbWF0aWMtbXVtYmFpLmNoYWluc3RhY2tsYWJzLmNvbS8nO1xyXG4gICAgICAgIHRoaXMuQmxvY2tFeHBsb3JlciA9ICdodHRwczovL211bWJhaS5wb2x5Z29uc2Nhbi5jb20vJztcclxuICAgICAgICB0aGlzLkZhdWNldFVybCA9ICdodHRwczovL2ZhdWNldC5wb2x5Z29uLnRlY2hub2xvZ3kvJztcclxuICAgICAgICB0aGlzLkJ1eVVybCA9ICdodHRwczovL3d3dy5tb29ucGF5LmNvbS9idXkvbWF0aWMnO1xyXG5cdH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuIiwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb29raWVIZWxwZXIge1xyXG4gICAgZG9jdW1lbnQ6IERvY3VtZW50XHJcblxyXG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQ6IERvY3VtZW50KSB7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDb29raWUobmFtZSA6IHN0cmluZywgdmFsdWUgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiOyBleHBpcmVzPU1vbiwgMiBEZWMgMjAyNCAxMjowMDowMCBVVEM7cGF0aD0vO1NhbWVTaXRlPVN0cmljdFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDb29raWVOZXR3b3JrID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0Q29va2llKFwibmV0d29ya1wiLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29va2llVmFsdWUobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY29va2llLm1hdGNoKCcoXnw7KVxcXFxzKicgKyBuYW1lICsgJ1xcXFxzKj1cXFxccyooW147XSspJyk/LnBvcCgpIHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDb29raWVQcm92aWRlcihwcm92aWRlck5hbWU6IHN0cmluZykge1xyXG4gICAgICAgdGhpcy5zZXRDb29raWUoXCJwcm92aWRlclwiLCBwcm92aWRlck5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGVDb29raWUobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9MDsgZXhwaXJlcz1Nb24sIDIgRGVjIDIwMjAgMTI6MDA6MDAgVVRDO3BhdGg9L1wiO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9OZXR3b3JrJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGZ1amlOZXR3b3JrIGV4dGVuZHMgTmV0d29yayB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdHRoaXMuU2VydmVyVXJsID0gXCJodHRwczovL2Y4dDF2cnJ3dGJvYS51c2Vtb3JhbGlzLmNvbToyMDUzL3NlcnZlclwiO1xyXG5cdFx0dGhpcy5BcHBJZCA9IFwiWFpocDN3UW9icktpQ2liMEJmNEZQVktBVWhiSE05U3ZUTEtPS3ZCYlwiO1xyXG5cdFx0dGhpcy5DaGFpbklkID0gNDMxMTM7XHJcblx0XHR0aGlzLk5hbWUgPSBcImZ1amlcIjtcclxuXHRcdHRoaXMuQ2hhaW5OYW1lID0gJ0F2YXggdGVzdCc7XHJcblx0XHR0aGlzLk5hdGl2ZUN1cnJlbmN5TmFtZSA9IFwiQXZheFwiO1xyXG5cdFx0dGhpcy5OYXRpdmVTeW1ib2wgPSBcIkFWQVhcIjtcclxuXHRcdHRoaXMuTmF0aXZlRGVjaW1hbCA9IDE4O1xyXG5cdFx0dGhpcy5ScGNVcmwgPSAnaHR0cHM6Ly9hcGkuYXZheC10ZXN0Lm5ldHdvcmsvZXh0L2JjL0MvcnBjJztcclxuXHRcdHRoaXMuQmxvY2tFeHBsb3JlciA9ICdodHRwczovL2V4cGxvcmVyLmF2YXgtdGVzdC5uZXR3b3JrLyc7XHJcblx0XHR0aGlzLkZhdWNldFVybCA9ICdodHRwczovL2ZhdWNldC5hdmF4LXRlc3QubmV0d29yay8nO1xyXG5cdFx0dGhpcy5CdXlVcmwgPSAnaHR0cHM6Ly93d3cubW9vbnBheS5jb20vYnV5L2F2YXgnXHJcblx0fVxyXG59IiwiaW1wb3J0IGxvY2FsaG9zdE5ldHdvcmsgZnJvbSAnLi9sb2NhbGhvc3QtbmV0d29yayc7XHJcbmltcG9ydCBtdW1iYWlOZXR3b3JrIGZyb20gJy4vbXVtYmFpLW5ldHdvcmsnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi9OZXR3b3JrXCI7XHJcbmltcG9ydCBDb29raWVIZWxwZXIgZnJvbSBcIi4uL3V0aWwvQ29va2llSGVscGVyXCI7XHJcbmltcG9ydCBmdWppTmV0d29yayBmcm9tIFwiLi9mdWppLW5ldHdvcmtcIjtcclxuaW1wb3J0IE1vcmFsaXMgZnJvbSBcIm1vcmFsaXNcIjtcclxuXHJcblxyXG5jb25zdCBuZXR3b3JrSW5mb3MgPSBbbG9jYWxob3N0TmV0d29yaywgbXVtYmFpTmV0d29yaywgZnVqaU5ldHdvcmtdO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmtJbmZvIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBOZXR3b3JrO1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBOZXR3b3JrIHtcclxuICAgICAgICBpZiAoTmV0d29ya0luZm8uaW5zdGFuY2UpIHJldHVybiBOZXR3b3JrSW5mby5pbnN0YW5jZTtcclxuXHJcbiAgICAgICAgaWYgKGV0aGVyZXVtICYmIGV0aGVyZXVtLmNoYWluSWQpIHtcclxuICAgICAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gdGhpcy5nZXROZXR3b3JrSW5mb0J5Q2hhaW5JZChldGhlcmV1bS5jaGFpbklkKTtcclxuICAgICAgICAgICAgaWYgKG5ldHdvcmtJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBOZXR3b3JrSW5mby5pbnN0YW5jZSA9IG5ldHdvcmtJbmZvO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5ldHdvcmtJbmZvLmluc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBOZXR3b3JrSW5mby5pbnN0YW5jZSA9IHRoaXMuZ2V0TmV0d29ya0luZm8oKTtcclxuICAgICAgICByZXR1cm4gTmV0d29ya0luZm8uaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkTmV0d29yayhuZXR3b3JrTmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgTmV0d29ya0luZm8uaW5zdGFuY2UgPSB0aGlzLmdldE5ldHdvcmtJbmZvKG5ldHdvcmtOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldE5ldHdvcmtCeUNoYWluSWQoY2hhaW5JZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmsgPSB0aGlzLmdldE5ldHdvcmtJbmZvQnlDaGFpbklkKGNoYWluSWQpO1xyXG4gICAgICAgIGlmIChuZXR3b3JrKSB7XHJcbiAgICAgICAgICAgIE5ldHdvcmtJbmZvLmluc3RhbmNlID0gbmV0d29yaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXROZXR3b3JrcygpOiBBcnJheTxOZXR3b3JrPiB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtzID0gbmV3IEFycmF5PE5ldHdvcms+KCk7XHJcbiAgICAgICAgbGV0IGlzTG9jYWxob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZignbG9jYWxob3N0JykgIT0gLTE7XHJcbiAgICAgICAgbmV0d29ya0luZm9zLmZvckVhY2gobmV0d29ya0luZm9UeXBlID0+IHtcclxuICAgICAgICAgICAgbGV0IHRtcCA9IG5ldyBuZXR3b3JrSW5mb1R5cGUoKTtcclxuICAgICAgICAgICAgaWYgKCFpc0xvY2FsaG9zdCAmJiB0bXAuTmFtZSA9PSBcImxvY2FsaG9zdFwiKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBuZXR3b3Jrcy5wdXNoKHRtcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmV0d29ya0luZm9CeUNoYWluSWQoY2hhaW5JZDogbnVtYmVyKTogTmV0d29yayB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbzogTmV0d29yayB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgbmV0d29ya0luZm9zLmZvckVhY2gobmV0d29ya0luZm9UeXBlID0+IHtcclxuICAgICAgICAgICAgbGV0IHRtcCA9IG5ldyBuZXR3b3JrSW5mb1R5cGUoKTtcclxuICAgICAgICAgICAgaWYgKHRtcC5DaGFpbklkID09IGNoYWluSWQpIHtcclxuICAgICAgICAgICAgICAgIG5ldHdvcmtJbmZvID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtJbmZvO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXROZXR3b3JrSW5mbyhuZXR3b3JrTmFtZT86IHN0cmluZyk6IE5ldHdvcmsge1xyXG4gICAgICAgIGxldCBjb29raWVIZWxwZXIgPSBuZXcgQ29va2llSGVscGVyKGRvY3VtZW50KTtcclxuICAgICAgICAvL2lmICh3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCdsb2NhbGhvc3QnKSkgbmV0d29ya05hbWUgPSAnbG9jYWxob3N0J1xyXG4gICAgICAgIGlmICghbmV0d29ya05hbWUpIG5ldHdvcmtOYW1lID0gY29va2llSGVscGVyLmdldENvb2tpZVZhbHVlKCduZXR3b3JrJyk7XHJcbiAgICAgICAgaWYgKCFuZXR3b3JrTmFtZSkgbmV0d29ya05hbWUgPSAnbXVtYmFpJztcclxuXHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gbnVsbDtcclxuICAgICAgICBuZXR3b3JrSW5mb3MuZm9yRWFjaChuZXR3b3JrSW5mb1R5cGUgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdG1wID0gbmV3IG5ldHdvcmtJbmZvVHlwZSgpO1xyXG4gICAgICAgICAgICBpZiAodG1wLk5hbWUgPT0gbmV0d29ya05hbWUpIHtcclxuICAgICAgICAgICAgICAgIG5ldHdvcmtJbmZvID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG5ldHdvcmtJbmZvKSByZXR1cm4gbmV0d29ya0luZm87XHJcblxyXG4gICAgICAgIGNvb2tpZUhlbHBlci5zZXRDb29raWVOZXR3b3JrKCdtdW1iYWknKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiTmV0d29yayAnXCIgKyBuZXR3b3JrTmFtZSArIFwiJyBjb3VsZCBub3QgYmUgZm91bmQuIERlZmF1bHRpbmcgdG8gTXVtYmFpIG5ldHdvcmsuXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IG11bWJhaU5ldHdvcmsoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25uZWN0aW9uU2VydmljZSB7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBvcHRpb25zIDoge3NlcnZlclVybDpzdHJpbmcsIGFwcElkOnN0cmluZ307XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcz8gOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIGlmKCFtb3JhbGlzKSBtb3JhbGlzID0gTW9yYWxpcztcclxuXHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7c2VydmVyVXJsOicnLCBhcHBJZDonJ307XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHN0YXJ0KCkge1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge3NlcnZlclVybDpuZXR3b3JrSW5mby5TZXJ2ZXJVcmwsIGFwcElkOm5ldHdvcmtJbmZvLkFwcElkfTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5tb3JhbGlzLnN0YXJ0KHRoaXMub3B0aW9ucykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UuaW5kZXhPZignSW52YWxpZCBzZXNzaW9uIHRva2VuJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIE1vcmFsaXMuVXNlci5sb2dPdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFya2V0U2VydmljZSB7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIGlmICghbW9yYWxpcykgbW9yYWxpcyA9IE1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaXNNYXJrZXRPcGVuKCkgOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bignaXNPcGVuJyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmFsRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb2RlIDogbnVtYmVyO1xyXG4gICAgbWVzc2FnZSA6IHN0cmluZztcclxuICAgIGhlYWRlcnMgOiBhbnk7XHJcbiAgICBlcnJvciA6IGFueTtcclxuICAgIHN0YWNrIDogc3RyaW5nO1xyXG4gICAgY2FsbGJhY2s/IDogKCkgPT4gdm9pZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlIDogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvZGUgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhY2sgPSBcIlwiO1xyXG4gICAgICAgIGlmICghZS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGUudG9TdHJpbmcoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUubWVzc2FnZS5kYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IGUubWVzc2FnZS5kYXRhLmNvZGU7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGUubWVzc2FnZS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlO1xyXG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBlLm1lc3NhZ2UuaGVhZGVycztcclxuICAgICAgICAgICAgdGhpcy5zdGFjayA9IGUuc3RhY2s7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZS5kYXRhKSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB0aGlzLmNvZGUgPSBlLmRhdGEuY29kZTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBlLnN0YWNrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGUubWVzc2FnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBpZD1cXFwic3dpdGNoTmV0d29ya0luZm9cXFwiPlxcclxcbiAgICBZb3UgYXJlIHVzaW5nIHdyb25nIG5ldHdvcmsgaW4geW91ciB3YWxsZXQuXFxyXFxuICAgIFlvdSBjYW4gY2hvb3NlIGFueSBvZiB0aGVzZSBuZXR3b3Jrcy5cXHJcXG4gICAgPHVsPlxcclxcbiAgICAgICAge3sjZWFjaCBuZXR3b3Jrc319XFxyXFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwic2V0TmV0d29ya1xcXCJcXHJcXG4gICAgICAgICAgICAgICBkYXRhLWNoYWluaWQ9XFxcInt7Q2hhaW5JZH19XFxcIj57e0NoYWluTmFtZX19PC9hPjwvbGk+XFxyXFxuICAgICAgICB7ey9lYWNofX1cXHJcXG4gICAgPC91bD5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGlkPVxcXCJqc1N3aXRjaE5ldHdvcmtOb3RXb3JraW5nXFxcIiBjbGFzcz1cXFwiZC1ub25lXFxcIj5cXHJcXG4gICAgSXQgc2VlbSBhcyB3ZSBjYW4ndCBhZGQgdGhlIG5ldHdvcmsgYXV0b21hdGljYWxseSBmb3IgeW91ciwgc28geW91IG5lZWQgdG8gYWRkIGl0IHlvdXIgc2VsZi5cXHJcXG4gICAgVGhpcyBpcyB0aGUgaW5mb3JtYXRpb24geW91IG5lZWQgdG8gYWRkIHRoZSBuZXR3b3JrLiBZb3Ugd2lsbCBuZWVkIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdG9cXHJcXG4gICAgYWRkIG5ldyBuZXR3b3JrIGZvciB5b3VyIHdhbGxldCwgYXMgaXQgZGlmZmVyZW5jZSBiZXR3ZWVuIHdhbGxldHMuXFxyXFxuICAgIDxmb3JtPlxcclxcbiAgICAgICAgPGxhYmVsPkNoYWluSWQ6XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzd2l0Y2hDaGFpbklkXFxcIi8+XFxyXFxuICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgPGxhYmVsPkNoYWluIG5hbWVcXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInN3aXRjaENoYWluTmFtZVxcXCIvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5DdXJyZW5jeSBuYW1lXFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzd2l0Y2hDdXJyZW5jeU5hbWVcXFwiLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgU3ltYm9sXFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzd2l0Y2hTeW1ib2xcXFwiLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICA8bGFiZWw+RGVjaW1hbFxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwic3dpdGNoRGVjaW1hbFxcXCIvPlxcclxcbiAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDxsYWJlbD5ScGMgVXJsXFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzd2l0Y2hScGNVcmxcXFwiLz5cXHJcXG4gICAgICAgIDwvbGFiZWw+XFxyXFxuICAgIDwvZm9ybT5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpYWxvZyBpZD1cXFwibGltaW5hbF9tYXJrZXRfbW9kYWxfZGl2XFxcIiBkYXRhLXRpdGxlPVxcXCJ7e3t0aXRsZX19fVxcXCI+XFxyXFxuICAgIDxhcnRpY2xlPlxcclxcbiAgICAgICAgPGhlYWRlcj5cXHJcXG4gICAgICAgICAgICA8c3Bhbj57e3RpdGxlfX08L3NwYW4+XFxyXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2Nsb3NlXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBpZD1cXFwibGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2VcXFwiPjwvYT5cXHJcXG4gICAgICAgIDwvaGVhZGVyPlxcclxcbiAgICAgICAge3t7Y29udGVudH19fVxcclxcbiAgICA8L2FydGljbGU+XFxyXFxuXFxyXFxuPC9kaWFsb2c+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBNb2RhbEh0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9Nb2RhbC5odG1sJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICAgIG1vZGFsSWQgPSAnbGltaW5hbF9tYXJrZXRfbW9kYWxfZGl2JztcclxuICAgIG9uSGlkZT8gOiAoKSA9PiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBoaWRlTW9kYWwoKSB7XHJcbiAgICAgICAgbGV0IG1vZGFsRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5tb2RhbElkKSE7XHJcbiAgICAgICAgbW9kYWxEaXYucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICAgICAgaWYgKHRoaXMub25IaWRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25IaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93TW9kYWwodGl0bGU6IHN0cmluZywgY29udGVudDogc3RyaW5nLCByZXVzZU1vZGFsSWZTYW1lVGl0bGU6IGJvb2xlYW4gPSBmYWxzZSwgb25IaWRlPzogKCkgPT4gdm9pZCwgaGlkZU9uT3V0c2lkZUNsaWNrID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBtb2RhbERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCk7XHJcbiAgICAgICAgaWYgKG1vZGFsRGl2KSB7XHJcbiAgICAgICAgICAgIGxldCBtb2RhbFRpdGxlID0gbW9kYWxEaXYuZGF0YXNldC50aXRsZTtcclxuICAgICAgICAgICAgaWYgKHJldXNlTW9kYWxJZlNhbWVUaXRsZSAmJiBtb2RhbFRpdGxlICYmIG1vZGFsVGl0bGUgPT09IHRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbERpdi5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShNb2RhbEh0bWwpO1xyXG5cclxuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudFxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaHRtbCA9IHRlbXBsYXRlKG9iaik7XHJcblxyXG4gICAgICAgIGlmIChtb2RhbERpdikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xyXG5cclxuICAgICAgICBtb2RhbERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCkhO1xyXG4gICAgICAgIG1vZGFsRGl2LnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcclxuXHJcbiAgICAgICAgaWYgKGhpZGVPbk91dHNpZGVDbGljaykge1xyXG4gICAgICAgICAgICBtb2RhbERpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCAmJiAoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQgPT09ICdsaW1pbmFsX21hcmtldF9tb2RhbF9kaXYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZScpXHJcbiAgICAgICAgaWYgKGxpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlKSBsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlTW9kYWwoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25IaWRlID0gb25IaWRlO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN1cml0eSB7XHJcbiAgICBDbGFzcyA6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBFeGNoYW5nZSA6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBTeW1ib2wgOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgTmFtZSA6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBTdGF0dXMgOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgVHJhZGFibGUgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBGcmFjdGlvbmFibGUgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBMb2dvIDogc3RyaW5nID0gXCJcIjtcclxuICAgIEZhdm9yaXRlIDogbnVtYmVyID0gMDtcclxuICAgIExvZ29QYXRoIDogc3RyaW5nID0gXCIvaW1nL2xvZ29zL1wiIDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nb1BhdGggPSBcIi9pbWcvbG9nb3MvXCIgO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgU2VjdXJpdHkgZnJvbSBcIi4vU2VjdXJpdHlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3VyaXRpZXNTZXJ2aWNlIHtcclxuXHJcbiAgICBzZWN1cml0aWVzID0gbmV3IE1hcDxzdHJpbmcsIFNlY3VyaXR5PigpO1xyXG4gICAgc2VjdXJpdGllc0FycmF5IDogYW55O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2UgOiBTZWN1cml0aWVzU2VydmljZTtcclxuICAgIHBhZ2U6IG51bWJlcjtcclxuICAgIHN5bWJvbHMgPSBbXCJNU0ZUXCIsIFwiQUFQTFwiLCBcIkFNWk5cIiwgXCJUU0xBXCIsIFwiR09PR0xcIiwgXCJHT09HXCIsIFwiR01FXCIsIFwiTUVUQVwiLCBcIk5WREFcIiwgXCJCUksuQlwiLCBcIkpQTVwiLCBcIkhEXCIsIFwiSk5KXCIsIFwiVU5IXCIsIFwiUEdcIiwgXCJCQUNcIiwgXCJWXCIsIFwiQURCRVwiLCBcIk5GTFhcIiwgXCJDUk1cIiwgXCJQRkVcIiwgXCJESVNcIiwgXCJNQVwiLCBcIlhPTVwiLCBcIlRNT1wiLCBcIkNPU1RcIl1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2VjdXJpdGllcyA9IG5ldyBNYXA8c3RyaW5nLCBTZWN1cml0eT4oKTtcclxuICAgICAgICB0aGlzLnBhZ2UgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0SW5zdGFuY2UoKTogUHJvbWlzZTxTZWN1cml0aWVzU2VydmljZT4ge1xyXG4gICAgICAgIGlmICghU2VjdXJpdGllc1NlcnZpY2UuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgU2VjdXJpdGllc1NlcnZpY2UuaW5zdGFuY2UgPSBuZXcgU2VjdXJpdGllc1NlcnZpY2UoKTtcclxuICAgICAgICAgICAgU2VjdXJpdGllc1NlcnZpY2UuaW5zdGFuY2Uuc2VjdXJpdGllcyA9IGF3YWl0IFNlY3VyaXRpZXNTZXJ2aWNlLmluc3RhbmNlLmdldFNlY3VyaXRpZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNlY3VyaXRpZXNTZXJ2aWNlLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRTZWN1cml0aWVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlY3VyaXRpZXMuc2l6ZSAhPSAwKSByZXR1cm4gdGhpcy5zZWN1cml0aWVzO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvc2VjdXJpdGllcy9zZWN1cml0aWVzLmpzb24nKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZWN1cml0aWVzLnNldChyZXN1bHRzW2ldLlN5bWJvbCwgT2JqZWN0LmFzc2lnbihuZXcgU2VjdXJpdHksIHJlc3VsdHNbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWN1cml0aWVzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMuc2VjdXJpdGllcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNlY3VyaXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFNlY3VyaXR5QnlTeW1ib2woc3ltYm9sIDogc3RyaW5nKSA6IFByb21pc2U8U2VjdXJpdHk+IHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHRoaXMuZ2V0U2VjdXJpdGllcygpO1xyXG5cclxuICAgICAgICBsZXQgc2VjdXJpdHkgPSBzZWN1cml0aWVzLmdldChzeW1ib2wpO1xyXG4gICAgICAgIHJldHVybiAoc2VjdXJpdHkpID8gc2VjdXJpdHkgOiBuZXcgU2VjdXJpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0VG9wU2VjdXJpdGllcygpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHRoaXMuZ2V0U2VjdXJpdGllcygpO1xyXG4gICAgICAgIGxldCB0b3BTZWN1cml0aWVzID0gbmV3IEFycmF5PFNlY3VyaXR5PigpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbCBvZiB0aGlzLnN5bWJvbHMpIHtcclxuICAgICAgICAgICAgbGV0IHNlY3VyaXR5ID0gc2VjdXJpdGllcy5nZXQoc3ltYm9sKTtcclxuICAgICAgICAgICAgaWYgKHNlY3VyaXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0b3BTZWN1cml0aWVzLnB1c2goc2VjdXJpdHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3BTZWN1cml0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRQYWdpbmF0aW5nU2VjdXJpdGllcyhwYWdlIDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHBhZ2UgPT0gMCkgcmV0dXJuIHRoaXMuZ2V0VG9wU2VjdXJpdGllcygpO1xyXG5cclxuICAgICAgICBsZXQgc2VjdXJpdGllc09uUGFnZSA9IG5ldyBBcnJheTxTZWN1cml0eT4oKTtcclxuICAgICAgICBsZXQgaSA9IHBhZ2UgKiB0aGlzLnN5bWJvbHMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBwYWdlQ291bnQgPSBpICsgMTA7XHJcbiAgICAgICAgZm9yICg7aTxwYWdlQ291bnQgJiYgaTx0aGlzLnNlY3VyaXRpZXNBcnJheS5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgIHNlY3VyaXRpZXNPblBhZ2UucHVzaCh0aGlzLnNlY3VyaXRpZXNBcnJheVtpXVsxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWN1cml0aWVzT25QYWdlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZmluZChzZWFyY2g6IHN0cmluZykgOiBQcm9taXNlPEFycmF5PFNlY3VyaXR5Pj4ge1xyXG4gICAgICAgIGxldCByZXN1bHRzID0gbmV3IEFycmF5PFNlY3VyaXR5PigpO1xyXG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnNlY3VyaXRpZXMuZm9yRWFjaChmdW5jdGlvbiAoc2VjdXJpdHkpIHtcclxuICAgICAgICAgICAgaWYgKHNlY3VyaXR5LlN5bWJvbC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoKSAhPSAtMSB8fFxyXG4gICAgICAgICAgICAgICAgc2VjdXJpdHkuTmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNlY3VyaXR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ0hlbHBlciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsYXN0RWxlbWVudD8gOiBIVE1MRWxlbWVudCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldExvYWRpbmcoZWxlbWVudD86IEhUTUxFbGVtZW50IHwgbnVsbCkge1xyXG4gICAgICAgIGlmIChMb2FkaW5nSGVscGVyLmxhc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIubGFzdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWJ1c3knLCAndHJ1ZScpO1xyXG4gICAgICAgIExvYWRpbmdIZWxwZXIubGFzdEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVtb3ZlTG9hZGluZygpIHtcclxuICAgICAgICBpZiAodGhpcy5sYXN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1idXN5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBlbnVtIEluZm9CYXJUeXBlIHtcclxuICAgIEluZm8gPSAnaW5mb0JhcicsXHJcbiAgICBXYXJuaW5nID0gJ3dhcm5pbmdCYXInLFxyXG4gICAgRXJyb3IgPSAnZXJyb3JCYXInXHJcbn0iLCJpbXBvcnQge0luZm9CYXJUeXBlfSBmcm9tIFwiLi9JbmZvQmFyVHlwZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5mb0JhciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzaG93KG1lc3NhZ2UgOiBzdHJpbmcsIHR5cGUgOiBJbmZvQmFyVHlwZSwgdGltZW91dEluU2Vjb25kcyA6IG51bWJlciA9IDQpIHtcclxuICAgICAgICBsZXQgaW5mb0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvQmFyJyk7XHJcbiAgICAgICAgaWYgKCFpbmZvQmFyKSB7XHJcbiAgICAgICAgICAgIGluZm9CYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaW5mb0Jhci5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb25CYXInKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWVuZCcsIGluZm9CYXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGluZm9CYXIuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGluZm9CYXIuY2xhc3NMaXN0LnJlbW92ZShJbmZvQmFyVHlwZS5JbmZvKTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5yZW1vdmUoSW5mb0JhclR5cGUuV2FybmluZyk7XHJcbiAgICAgICAgaW5mb0Jhci5jbGFzc0xpc3QucmVtb3ZlKEluZm9CYXJUeXBlLkVycm9yKTtcclxuICAgICAgICBpbmZvQmFyLmNsYXNzTGlzdC5hZGQodHlwZSlcclxuICAgICAgICBpZiAodGltZW91dEluU2Vjb25kcyA+IDApIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbmZvQmFyPy5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgdGltZW91dEluU2Vjb25kcyAqIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIlxcclxcbllvdSBuZWVkIHRvIHNldCB1cCBhIHdhbGxldCBpbiB5b3VyIGJyb3dzZXIgYmVmb3JlIHlvdSBjYW4gdXNlIGxpbWluYWwubWFya2V0Llxcclxcbjxici8+PGJyLz5cXHJcXG5UbyBtYWtlIGl0IHNpbXBsZSwgd2Ugd291bGQgbGlrZSB0byBzdWdnZXN0IHR3byBvcHRpb25zLiBJbiB5b3VyIGJyb3dzZXIgb3IgeW91ciBwaG9uZS5cXHJcXG48dWw+XFxyXFxuICAgIDxsaT5Gb3IgdGhlIGJyb3dzZXIgd2UgcmVjb21tZW5kIDxhIGhyZWY9XFxcImh0dHBzOi8vbWV0YW1hc2suaW8vZG93bmxvYWQvXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWV0YW1hc2s8L2E+LlxcclxcbiAgICA8L2xpPlxcclxcbiAgICA8bGk+XFxyXFxuICAgICAgICBGb3IgeW91ciBwaG9uZSwgd2UgbGlrZSA8YSBocmVmPVxcXCJodHRwczovL3d3dy50b2tlbnBvY2tldC5wcm8vZW4vZG93bmxvYWQvYXBwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+VG9rZW4gUG9rZXQ8L2E+XFxyXFxuICAgIDwvbGk+XFxyXFxuPC91bD5cXHJcXG48YnIvPlxcclxcbkJ1dCwgeW91IGhhdmUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9ldGhlcmV1bS5vcmcvZW4vd2FsbGV0cy9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5tYW55IG9wdGlvbnM8L2E+IGlmIHlvdSB3YW50IHRvIGxlYXJuIG1vcmUuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBJbmZvQmFyIGZyb20gXCIuLi91aS9lbGVtZW50cy9JbmZvQmFyXCI7XHJcbmltcG9ydCB7SW5mb0JhclR5cGV9IGZyb20gXCIuLi91aS9lbGVtZW50cy9JbmZvQmFyVHlwZVwiO1xyXG5pbXBvcnQgV2FsbGV0TWlzc2luZ0h0bWwgZnJvbSAnLi4vaHRtbC9tb2RhbC9XYWxsZXRNaXNzaW5nLmh0bWwnO1xyXG5pbXBvcnQgTWFya2V0SXNDbG9zZWRIdG1sIGZyb20gJy4uL2h0bWwvbW9kYWwvTWFya2V0SXNDbG9zZWQuaHRtbCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vdWkvbW9kYWxzL01vZGFsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVkZWZpbmVkRXJyb3JIYW5kbGVycyB7XHJcblxyXG4gICAgZXJyb3JNZXNzYWdlTWFwcGluZyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XHJcbiAgICBTZW50TG9naW5SZXF1ZXN0ID0gXCJXZSBoYXZlIHNlbnQgcmVxdWVzdCB0byB5b3Ugd2FsbGV0IHRvIGxvZ2luLiBPcGVuIHlvdXIgd2FsbGV0IHRvIGxvZ2luXCI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgnYWxyZWFkeSBwcm9jZXNzaW5nIGV0aF9yZXF1ZXN0YWNjb3VudHMnLCB0aGlzLlNlbnRMb2dpblJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTWFwcGluZy5zZXQoJ3JlcXVlc3Qgb2YgdHlwZSBcXCd3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXFwnIGFscmVhZHkgcGVuZGluZycsIHRoaXMuU2VudExvZ2luUmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgnYWxyZWFkeSBoYXMgYmVlbiBjYWxsZWQsIGJ1dCBpcyBub3QgZmluaXNoZWQgeWV0JywgdGhpcy5TZW50TG9naW5SZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuc2V0KCdyZXF1ZXN0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCB0aGlzLlNlbnRMb2dpblJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTWFwcGluZy5zZXQoJ3dlYjMgaW5zdGFuY2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGltaW5hbF9tYXJrZXRfY29ubmVjdF93YWxsZXRcIik7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50c1swXS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgndXNlciByZWplY3RlZCB0aGUgcmVxdWVzdCcsICgpID0+IHtcclxuICAgICAgICAgICAgTW9yYWxpcy5Vc2VyLmxvZ091dCgpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VNYXBwaW5nLnNldCgnTm9uIGV0aGVyZXVtIGVuYWJsZWQgYnJvd3NlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShXYWxsZXRNaXNzaW5nSHRtbCk7XHJcbiAgICAgICAgICAgIG1vZGFsLnNob3dNb2RhbCgnTmV3IHRvIGJsb2NrY2hhaW4/JywgdGVtcGxhdGUobnVsbCksIGZhbHNlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhbmRsZShtZXNzYWdlIDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZU1hcHBpbmcuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhhbmRsZWQgJiYgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoa2V5LnRvTG93ZXJDYXNlKCkpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSW5mb0Jhci5zaG93KHZhbHVlLnRvU3RyaW5nKCksIEluZm9CYXJUeXBlLldhcm5pbmcsIDEwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IFByZWRlZmluZWRFcnJvckhhbmRsZXJzIGZyb20gXCIuL1ByZWRlZmluZWRFcnJvckhhbmRsZXJzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcnJvckluZm8ge1xyXG5cclxuICAgIGVycm9ySW5mbzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVycm9ySW5mbzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5lcnJvckluZm8gPSBlcnJvckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVycm9ySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZXBvcnQoZXJyb3I6IEdlbmVyYWxFcnJvcikge1xyXG4gICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgIGlmICghZXJyb3IpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGVycm9ySGFuZGxlciA9IG5ldyBQcmVkZWZpbmVkRXJyb3JIYW5kbGVycygpO1xyXG4gICAgICAgIGlmIChlcnJvckhhbmRsZXIuaGFuZGxlKGVycm9yLm1lc3NhZ2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlcnJvci5jYWxsYmFjaykge1xyXG4gICAgICAgICAgICBlcnJvci5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0luZm9CYXIuc2hvdyhlcnJvci5tZXNzYWdlLCBJbmZvQmFyVHlwZS5FcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2cob2JqOiBhbnkpIHtcclxuICAgICAgICBFcnJvckluZm8ucmVwb3J0KG5ldyBHZW5lcmFsRXJyb3Iob2JqKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbmZvKG9iajogYW55KSB7XHJcbiAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChuZXcgR2VuZXJhbEVycm9yKG9iaikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXJyb3Iob2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhvYmopO1xyXG4gICAgICAgIEVycm9ySW5mby5yZXBvcnQobmV3IEdlbmVyYWxFcnJvcihvYmopKTtcclxuICAgIH1cclxufSIsImltcG9ydCBTZWN1cml0aWVzU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvYnJva2VyL1NlY3VyaXRpZXNTZXJ2aWNlXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuL0xvYWRpbmdIZWxwZXJcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgR2VuZXJhbEVycm9yIGZyb20gXCIuLi9lcnJvcnMvR2VuZXJhbEVycm9yXCI7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gXCIuLi9uZXR3b3Jrcy9OZXR3b3JrXCI7XHJcbmltcG9ydCAqIGFzIG5ldCBmcm9tIFwibmV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsZXRIZWxwZXIge1xyXG4gICAgc3RhdGljIGFkZFRva2VuRmFsbGJhY2tMb2FkZWQ/OiBib29sZWFuID0gdW5kZWZpbmVkO1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBVXNkQXNzZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgTG9nbzogJy4uL2F1c2QucG5nJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGFkZFRva2VuVG9XYWxsZXQoYWRkcmVzczogc3RyaW5nLCBzeW1ib2w6IHN0cmluZywgZmFsbGJhY2tUaW1lb3V0OiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IHNlY3VyaXRpZXNTZXJ2aWNlID0gYXdhaXQgU2VjdXJpdGllc1NlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXNzZXQgPSAoc3ltYm9sID09ICdhVVNEJykgPyB0aGlzLmdldEFVc2RBc3NldCgpIDogYXdhaXQgc2VjdXJpdGllc1NlcnZpY2UuZ2V0U2VjdXJpdHlCeVN5bWJvbChzeW1ib2wpO1xyXG4gICAgICAgIGxldCB3ZWIzID0gdGhpcy5tb3JhbGlzLndlYjMgYXMgYW55O1xyXG4gICAgICAgIGlmICghd2ViMykge1xyXG4gICAgICAgICAgICB3ZWIzID0gYXdhaXQgdGhpcy5tb3JhbGlzLmVuYWJsZVdlYjMoKS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChyZWFzb24pO1xyXG4gICAgICAgICAgICB9KSBhcyBhbnk7XHJcbiAgICAgICAgICAgIGlmICghd2ViMykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghd2ViMy5wcm92aWRlci5yZXF1ZXN0KSByZXR1cm47XHJcbiAgICAgICAgbGV0IHRpbWVvdXQgPSAoV2FsbGV0SGVscGVyLmFkZFRva2VuRmFsbGJhY2tMb2FkZWQgPT09IHVuZGVmaW5lZCkgPyAyICogMTAwMCA6IDIwMDtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKFdhbGxldEhlbHBlci5hZGRUb2tlbkZhbGxiYWNrTG9hZGVkICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgV2FsbGV0SGVscGVyLmFkZFRva2VuRmFsbGJhY2tMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrVGltZW91dCkgZmFsbGJhY2tUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwgdGltZW91dCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdhc0FkZGVkID0gYXdhaXQgd2ViMy5wcm92aWRlci5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3dhdGNoQXNzZXQnLFxyXG4gICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdFUkMyMCcsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogMTgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICdodHRwczovL2FwcC5saW1pbmFsLm1hcmtldC9pbWcvbG9nb3MvJyArIGFzc2V0LkxvZ28sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIFdhbGxldEhlbHBlci5hZGRUb2tlbkZhbGxiYWNrTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB3YXNBZGRlZDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGlzV2Vidmlldyh1YTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gaWYgaXQgc2F5cyBpdCdzIGEgd2VidmlldywgbGV0J3MgZ28gd2l0aCB0aGF0XHJcbiAgICAgICAgbGV0IHJ1bGVzID0gWydXZWJWaWV3JyxcclxuICAgICAgICAgICAgLy8gaU9TIHdlYnZpZXcgd2lsbCBiZSB0aGUgc2FtZSBhcyBzYWZhcmkgYnV0IG1pc3NpbmcgXCJTYWZhcmlcIlxyXG4gICAgICAgICAgICAnKGlQaG9uZXxpUG9kfGlQYWQpKD8hLipTYWZhcmkpJyxcclxuICAgICAgICAgICAgLy8gQW5kcm9pZCBMb2xsaXBvcCBhbmQgQWJvdmU6IHdlYnZpZXcgd2lsbCBiZSB0aGUgc2FtZSBhcyBuYXRpdmUgYnV0IGl0IHdpbGwgY29udGFpbiBcInd2XCJcclxuICAgICAgICAgICAgLy8gQW5kcm9pZCBLaXRLYXQgdG8gbG9sbGlwb3Agd2VidmlldyB3aWxsIHB1dCB7dmVyc2lvbn0uMC4wLjBcclxuICAgICAgICAgICAgJ0FuZHJvaWQuKih3dnwuMC4wLjApJyxcclxuICAgICAgICAgICAgLy8gb2xkIGNocm9tZSBhbmRyb2lkIHdlYnZpZXcgYWdlbnRcclxuICAgICAgICAgICAgJ0xpbnV4OyBVOyBBbmRyb2lkJyxcclxuICAgICAgICAgICAgJ1NESydcclxuICAgICAgICBdXHJcbiAgICAgICAgbGV0IHdlYnZpZXdSZWdFeHAgPSBuZXcgUmVnRXhwKCcoJyArIHJ1bGVzLmpvaW4oJ3wnKSArICcpJywgJ2lnJyk7XHJcbiAgICAgICAgcmV0dXJuICEhdWEubWF0Y2god2Vidmlld1JlZ0V4cClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc3dpdGNoTmV0d29yayhuZXR3b3JrOiBOZXR3b3JrKSA6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCB3ZWIzID0gdGhpcy5tb3JhbGlzLndlYjMgYXMgYW55O1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgd2ViMy5wcm92aWRlci5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxyXG4gICAgICAgICAgICBwYXJhbXM6IFt7Y2hhaW5JZDogJzB4JyArIG5ldHdvcmsuQ2hhaW5JZC50b1N0cmluZygxNil9XVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N3aXRjaCByZXN1bHQ6JywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goYXN5bmMgKGVycjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGVycm9yIGNvZGUgaW5kaWNhdGVzIHRoYXQgdGhlIGNoYWluIGhhcyBub3QgYmVlbiBhZGRlZCB0byBNZXRhTWFza1xyXG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09PSA0OTAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHdlYjMucHJvdmlkZXIucmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lOiBuZXR3b3JrLkNoYWluTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMHgnICsgbmV0d29yay5DaGFpbklkLnRvU3RyaW5nKDE2KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuZXR3b3JrLk5hdGl2ZUN1cnJlbmN5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IG5ldHdvcmsuTmF0aXZlRGVjaW1hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBuZXR3b3JrLk5hdGl2ZVN5bWJvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnBjVXJsczogW25ldHdvcmsuUnBjVXJsXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkQ2hhaW4gcmVzdWx0OicgKyByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igb24gYWRkTmV0d29yazonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBXcm9uZ05ldHdvcmtIdG1sIGZyb20gJy4uLy4uL2h0bWwvbW9kYWwvV3JvbmdOZXR3b3JrLmh0bWwnO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xyXG5pbXBvcnQgV2FsbGV0SGVscGVyIGZyb20gXCIuLi8uLi91dGlsL1dhbGxldEhlbHBlclwiO1xyXG5pbXBvcnQgR2VuZXJhbEVycm9yIGZyb20gXCIuLi8uLi9lcnJvcnMvR2VuZXJhbEVycm9yXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hOZXR3b3JrTW9kYWwge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBzZWxlY3RlZE5ldHdvcms/IDogTmV0d29yaztcclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoV3JvbmdOZXR3b3JrSHRtbCk7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtzID0gTmV0d29ya0luZm8uZ2V0TmV0d29ya3MoKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtuZXR3b3JrczogbmV0d29ya3N9KTtcclxuXHJcbiAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdTd2l0Y2ggbmV0d29yaycsIGNvbnRlbnQsIGZhbHNlLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE5ldHdvcmspIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHdhbGxldEhlbHBlci5zd2l0Y2hOZXR3b3JrKHRoaXMuc2VsZWN0ZWROZXR3b3JrKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgc2V0TmV0d29ya0xpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNldE5ldHdvcmsnKTtcclxuICAgICAgICBzZXROZXR3b3JrTGlua3MuZm9yRWFjaChzZXROZXR3b3JrTGluayA9PiB7XHJcbiAgICAgICAgICAgIHNldE5ldHdvcmtMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGFzZXQgPSAoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWROZXR3b3JrID0gTmV0d29ya0luZm8uZ2V0TmV0d29ya0luZm9CeUNoYWluSWQocGFyc2VJbnQoZGF0YXNldC5jaGFpbmlkISkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkTmV0d29yaykgdGhyb3cgbmV3IEdlbmVyYWxFcnJvcignQ291bGQgbm90IGZpbmQgY2hhaW5JZDonICsgZGF0YXNldC5jaGFpbmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgd2FsbGV0SGVscGVyID0gbmV3IFdhbGxldEhlbHBlcih0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NBZGRpbmdOZXR3b3JrID0gYXdhaXQgd2FsbGV0SGVscGVyLnN3aXRjaE5ldHdvcmsodGhpcy5zZWxlY3RlZE5ldHdvcmspXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvciA6IEdlbmVyYWxFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQganNTd2l0Y2hOZXR3b3JrTm90V29ya2luZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc1N3aXRjaE5ldHdvcmtOb3RXb3JraW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghanNTd2l0Y2hOZXR3b3JrTm90V29ya2luZykgdGhyb3cgZXJyb3I7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqc1N3aXRjaE5ldHdvcmtOb3RXb3JraW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3dpdGNoTmV0d29ya0luZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoTmV0d29ya0luZm8nKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaE5ldHdvcmtJbmZvLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2hDaGFpbklkJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBkYXRhc2V0LmNoYWluaWQhICsgJyBvciBpdCBtaWdodCBiZTogJyArICcweCcgKyBwYXJzZUludChkYXRhc2V0LmNoYWluaWQhKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoQ2hhaW5OYW1lJykhIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gZGF0YXNldC5jaGFpbm5hbWUhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaEN1cnJlbmN5TmFtZScpISBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGRhdGFzZXQuY3VycmVuY3luYW1lITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2hTeW1ib2wnKSEgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBkYXRhc2V0LnN5bWJvbCE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoRGVjaW1hbCcpICFhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGRhdGFzZXQuZGVjaW1hbCE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoUnBjVXJsJykhIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gZGF0YXNldC5ycGN1cmwhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0FkZGluZ05ldHdvcmspIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5oaWRlTW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5saW1pbmFsX21hcmtldF9jb25uZWN0X3dhbGxldFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1swXS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTW9yYWxpcyBmcm9tIFwibW9yYWxpc1wiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBHZW5lcmFsRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IFN3aXRjaE5ldHdvcmtNb2RhbCBmcm9tIFwiLi4vLi4vdWkvbW9kYWxzL1N3aXRjaE5ldHdvcmtNb2RhbFwiO1xyXG5pbXBvcnQgTW9yYWxpc1dlYjNQcm92aWRlciA9IE1vcmFsaXMuTW9yYWxpc1dlYjNQcm92aWRlcjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhlbnRpY2F0ZVNlcnZpY2Uge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXNcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBhdXRoZW50aWNhdGVVc2VyKHByb3ZpZGVyOiBhbnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVXZWIzQ2FsbGJhY2s/OiAod2FsbGV0Q29ubmVjdGlvbkluZm86IE1vcmFsaXNXZWIzUHJvdmlkZXIpID0+IHZvaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkQ2FsbGJhY2s/OiAodXNlcjogTW9yYWxpcy5BdHRyaWJ1dGVzKSA9PiB2b2lkXHJcbiAgICApIHtcclxuICAgICAgICBsZXQgbW9yYWxpcyA9IHRoaXMubW9yYWxpcztcclxuICAgICAgICBsZXQgY2hhaW5JZCA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCkuQ2hhaW5JZDtcclxuXHJcbiAgICAgICAgbGV0IHdlYjNSZXN1bHQgPSBhd2FpdCBtb3JhbGlzLmVuYWJsZVdlYjMoe1xyXG4gICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIsXHJcbiAgICAgICAgICAgIGNoYWluSWQ6IGNoYWluSWQsIGFwcExvZ286ICdodHRwczovL2FwcC5saW1pbmFsLm1hcmtldC9pbWcvbG9nb3MvZGVmYXVsdF9sb2dvLnBuZydcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goYXN5bmMgKHJlYXNvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChlbmFibGVXZWIzQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZW5hYmxlV2ViM0NhbGxiYWNrKHdlYjNSZXN1bHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0ZWRDYWxsYmFjaykgYXV0aGVudGljYXRlZENhbGxiYWNrKHVzZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2ViM1Jlc3VsdC5uZXR3b3JrLmNoYWluSWQgIT0gY2hhaW5JZCkge1xyXG4gICAgICAgICAgICBsZXQgdXNlck5ldHdvcmsgPSBOZXR3b3JrSW5mby5nZXROZXR3b3JrSW5mb0J5Q2hhaW5JZCh3ZWIzUmVzdWx0Lm5ldHdvcmsuY2hhaW5JZCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyTmV0d29yaykge1xyXG4gICAgICAgICAgICAgICAgTmV0d29ya0luZm8uc2V0TmV0d29ya0J5Q2hhaW5JZCh3ZWIzUmVzdWx0Lm5ldHdvcmsuY2hhaW5JZClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IG5ldyBTd2l0Y2hOZXR3b3JrTW9kYWwodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vcmFsaXMuYXV0aGVudGljYXRlKHtcclxuICAgICAgICAgICAgc2lnbmluZ01lc3NhZ2U6IFwiWW91IGFyZSBsb2dnaW5nIGludG8gTGltaW5hbC5tYXJrZXQuXFxuXFxuXCIsXHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlcixcclxuICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZFxyXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb246IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGVkQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgYXV0aGVudGljYXRlZENhbGxiYWNrKHJlc3VsdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRVc2VyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEV0aEFkZHJlc3MoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMuZ2V0VXNlcigpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuICcnO1xyXG5cclxuICAgICAgICBsZXQgZXRoQWRkcmVzcyA9IHVzZXIuZ2V0KCdldGhBZGRyZXNzJyk7XHJcbiAgICAgICAgcmV0dXJuIGV0aEFkZHJlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzV2FsbGV0Q29ubmVjdGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vcmFsaXMuaXNXZWIzRW5hYmxlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1VzZXJMb2dnZWRJbigpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKSAhPT0gbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENoYWluSWQoKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoIXRoaXMubW9yYWxpcy5jaGFpbklkKSByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMubW9yYWxpcy5jaGFpbklkLCAxNik7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGVudW0gV2FsbGV0VHlwZSB7XHJcbiAgICBNZXRhbWFzayA9ICdtZXRhbWFzaycsXHJcbiAgICBXYWxsZXRDb25uZWN0ID0gJ3dhbGxldENvbm5lY3QnLFxyXG4gICAgQ29pbmJhc2VXYWxsZXQgPSAnY29pbmJhc2UnLFxyXG4gICAgVW5rbm93biA9ICd1bmtub3duJ1xyXG59IiwiaW1wb3J0IHtXYWxsZXRUeXBlfSBmcm9tIFwiLi4vZW51bXMvV2FsbGV0VHlwZVwiO1xyXG5pbXBvcnQgTW9yYWxpcyBmcm9tIFwibW9yYWxpc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdmlkZXJJbmZvIHtcclxuXHJcbiAgICB3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueTtcclxuXHJcbiAgICBQcm92aWRlck5hbWUgOiBzdHJpbmcgPSAndW5rbm93bic7XHJcbiAgICBXYWxsZXROYW1lIDogc3RyaW5nID0gJyc7XHJcbiAgICBXYWxsZXRVcmwgOiBzdHJpbmcgPSAnJztcclxuICAgIFdhbGxldFR5cGUgOiBXYWxsZXRUeXBlID0gV2FsbGV0VHlwZS5Vbmtub3duO1xyXG4gICAgQ2hhaW5JZCA6IG51bWJlciA9IDA7XHJcbiAgICBVc2VyQWRkcmVzcyA6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgIHN0YXRpYyBJbnN0YW5jZSA6IFByb3ZpZGVySW5mbztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueSkge1xyXG4gICAgICAgIGlmICghd2FsbGV0Q29ubmVjdGlvbkluZm8gfHwgIXdhbGxldENvbm5lY3Rpb25JbmZvLnByb3ZpZGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMud2FsbGV0Q29ubmVjdGlvbkluZm8gPSB3YWxsZXRDb25uZWN0aW9uSW5mbztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMud2FsbGV0Q29ubmVjdGlvbkluZm8uY29ubmVjdGlvbiAmJiB0aGlzLndhbGxldENvbm5lY3Rpb25JbmZvLmNvbm5lY3Rpb24udXJsID09ICdtZXRhbWFzaycpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkTWV0YW1hc2sod2FsbGV0Q29ubmVjdGlvbkluZm8pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy53YWxsZXRDb25uZWN0aW9uSW5mby5wcm92aWRlci53Yykge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRXYWxsZXRDb25uZWN0KHdhbGxldENvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEb250IGhhdmUgcHJvdmlkZXIgZm9yIHRoaXMnLCB3YWxsZXRDb25uZWN0aW9uSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFByb3ZpZGVySW5mby5JbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvYWRNZXRhbWFzayh3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueSkge1xyXG4gICAgICAgIHRoaXMuUHJvdmlkZXJOYW1lID0gJ21ldGFtYXNrJztcclxuICAgICAgICB0aGlzLldhbGxldE5hbWUgPSBcIk1ldGFtYXNrXCI7XHJcbiAgICAgICAgdGhpcy5XYWxsZXRVcmwgPSAnaHR0cHM6Ly9tZXRhbWFzay5pby8nO1xyXG4gICAgICAgIHRoaXMuV2FsbGV0VHlwZSA9IFdhbGxldFR5cGUuTWV0YW1hc2s7XHJcbiAgICAgICAgdGhpcy5DaGFpbklkID0gd2FsbGV0Q29ubmVjdGlvbkluZm8ucHJvdmlkZXIuY2hhaW5JZDtcclxuICAgICAgICB0aGlzLlVzZXJBZGRyZXNzID0gd2FsbGV0Q29ubmVjdGlvbkluZm8ucHJvdmlkZXIuc2VsZWN0ZWRBZGRyZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZFdhbGxldENvbm5lY3Qod2FsbGV0Q29ubmVjdGlvbkluZm8gOiBhbnkpIHtcclxuICAgICAgICBsZXQgd2MgPSB3YWxsZXRDb25uZWN0aW9uSW5mby5wcm92aWRlci53YztcclxuXHJcbiAgICAgICAgdGhpcy5Qcm92aWRlck5hbWUgPSBcIndhbGxldENvbm5lY3RcIjtcclxuICAgICAgICB0aGlzLldhbGxldE5hbWUgPSB3Yy5fcGVlck1ldGEubmFtZTtcclxuICAgICAgICB0aGlzLldhbGxldFVybCA9IHdjLl9wZWVyTWV0YS51cmwgPz8gJyc7XHJcbiAgICAgICAgdGhpcy5XYWxsZXRUeXBlID0gV2FsbGV0VHlwZS5XYWxsZXRDb25uZWN0O1xyXG4gICAgICAgIHRoaXMuQ2hhaW5JZCA9IHdhbGxldENvbm5lY3Rpb25JbmZvLnByb3ZpZGVyLmNoYWluSWQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBNYXJrZXRTZXJ2aWNlIGZyb20gXCIuLi9icm9rZXIvTWFya2V0U2VydmljZVwiO1xyXG5pbXBvcnQgQ29va2llSGVscGVyIGZyb20gXCIuLi8uLi91dGlsL0Nvb2tpZUhlbHBlclwiO1xyXG5pbXBvcnQgQXV0aGVudGljYXRlU2VydmljZSBmcm9tIFwiLi9BdXRoZW50aWNhdGVTZXJ2aWNlXCI7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgS3ljUmVzdWx0IGZyb20gXCIuLi8uLi9kdG8vS3ljUmVzdWx0XCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlclNlcnZpY2Uge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcz86IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgaWYgKCFtb3JhbGlzKSBtb3JhbGlzID0gTW9yYWxpc1xyXG5cclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvZ0luKCkge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9yYWxpcy5hdXRoZW50aWNhdGUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9nT3V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vcmFsaXMuVXNlci5sb2dPdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaXNMb2dnZWRJbihsb2FkaW5nTWVzc2FnZSA6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgIGxldCBjb29raWVIZWxwZXIgPSBuZXcgQ29va2llSGVscGVyKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgbGV0IHByb3ZpZGVyTmFtZSA9IGNvb2tpZUhlbHBlci5nZXRDb29raWVWYWx1ZSgncHJvdmlkZXInKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGlmICh3YWxsZXRIZWxwZXIuaXNXZWJ2aWV3KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkgcHJvdmlkZXJOYW1lID0gJyAnO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwcm92aWRlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tb3JhbGlzLmlzV2ViM0VuYWJsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0ciA9ICdXZSBhcmUgc2VuZGluZyBsb2dpbiByZXF1ZXN0IHRvIHlvdXIgd2FsbGV0LiBJZiB5b3UgY2FuY2VsIHdlIHdpbGwgc2ltcGx5IGxvZyB5b3Ugb3V0LiBZb3UgY2FuIGFsd2F5cyBsb2cgYWdhaW4gaW4uJztcclxuICAgICAgICAgICAgICAgIHN0ciArPSAnPGJ1dHRvbiBpZD1cImxvZ291dEJ1dHRvblwiPkxvZ291dDwvYnV0dG9uPidcclxuICAgICAgICAgICAgICAgIGxvYWRpbmdNZXNzYWdlLmlubmVySFRNTCA9IHN0cjtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbG9nb3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ291dEJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvZ291dEJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3JhbGlzLlVzZXIubG9nT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb3JhbGlzLmVuYWJsZVdlYjMoe3Byb3ZpZGVyOnByb3ZpZGVyTmFtZSBhcyBhbnl9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChhc3luYyByZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFcnJvckluZm8ucmVwb3J0KHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJvdmlkZXJJbmZvIDogUHJvdmlkZXJJbmZvID0gbmV3IFByb3ZpZGVySW5mbyhudWxsKTtcclxuICAgICAgICAgICAgbGV0IGF1dGhlbnRpY2F0aW9uU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGVTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IGF1dGhlbnRpY2F0aW9uU2VydmljZS5hdXRoZW50aWNhdGVVc2VyKHByb3ZpZGVyTmFtZSwgKHdhbGxldENvbm5lY3Rpb25JbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm92aWRlckluZm8gPSBuZXcgUHJvdmlkZXJJbmZvKHdhbGxldENvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAodXNlciBhcyBhbnkpLnByb3ZpZGVySW5mbyA9IHByb3ZpZGVySW5mbztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFzeW5jIGlzTWFya2V0T3Blbk9yVXNlck9mZkhvdXJzKCkgOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBsZXQgbWFya2V0U2VydmljZSA9IG5ldyBNYXJrZXRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGlzT3BlbiA9IGF3YWl0IG1hcmtldFNlcnZpY2UuaXNNYXJrZXRPcGVuKCk7XHJcbiAgICAgICAgaWYgKGlzT3BlbikgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKCFuZXR3b3JrSW5mby5UZXN0TmV0d29yaykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QWxwYWNhSWQoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMuZ2V0VXNlcigpO1xyXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuICcnO1xyXG5cclxuICAgICAgICByZXR1cm4gKGF3YWl0IHVzZXIuZmV0Y2goKSkuZ2V0KCdhbHBhY2FJZCcpLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldEFjY291bnQoKSB7XHJcbiAgICAgICAgbGV0IHVzZXIgPSB0aGlzLmdldFVzZXIoKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2FjY291bnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFdGhBZGRyZXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFVzZXIoKT8uZ2V0KCdldGhBZGRyZXNzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGt5Y0FjdGlvblJlcXVpcmVkKCk6IFByb21pc2U8S3ljUmVzdWx0PiB7XHJcbiAgICAgICAgbGV0IGt5Y1Jlc3VsdHMgPSBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCdreWNBY3Rpb25SZXF1aXJlZCcpIGFzIEt5Y1Jlc3VsdDtcclxuICAgICAgICByZXR1cm4ga3ljUmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlTmFtZShnaXZlbl9uYW1lOiBzdHJpbmcsIG1pZGRsZV9uYW1lOiBzdHJpbmcsIGZhbWlseV9uYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigndXBkYXRlTmFtZScsIHtcclxuICAgICAgICAgICAgZ2l2ZW5fbmFtZTogZ2l2ZW5fbmFtZSxcclxuICAgICAgICAgICAgbWlkZGxlX25hbWU6IG1pZGRsZV9uYW1lLFxyXG4gICAgICAgICAgICBmYW1pbHlfbmFtZTogZmFtaWx5X25hbWVcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVDb250YWN0KGRhdGE6IGFueSkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCd1cGRhdGVDb250YWN0JywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZVRydXN0ZWRDb250YWN0KGRhdGE6IGFueSkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCd1cGRhdGVUcnVzdGVkQ29udGFjdCcsIGRhdGEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbnRyYWN0QWRkcmVzc2VzIGZyb20gXCIuL0NvbnRyYWN0QWRkcmVzc2VzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsb2NhbGhvc3RDb250cmFjdEFkZHJlc3NlcyBpbXBsZW1lbnRzIENvbnRyYWN0QWRkcmVzc2VzIHtcclxuXHJcbiAgICBOZXR3b3JrTmFtZSA9IFwibG9jYWxob3N0XCJcclxuICAgIEtZQ19BRERSRVNTID0gXCIweDI4NTZhMEM4MDM0YkY4ODc5Mjg4NDVEMDUxNzk4NDdlMEFEQzIyMDlcIjtcclxuICAgIEFVU0RfQUREUkVTUyA9IFwiMHg2YUNFNzEyRDQxMmU5OTcyN2FEZjIyNzJCRTI0ZjhlNDVhRjc2MjcwXCI7XHJcbiAgICBMSU1JTkFMX01BUktFVF9BRERSRVNTID0gXCIweGJkMTI3MGYzZjgxNzU5MjdGZTQyN2EyMjBiOTI1M2IzNjBCZTUyQmRcIjtcclxuICAgIE1BUktFVF9DQUxFTkRBUl9BRERSRVNTID0gXCIweDQ1OTIzOUQ5Njk3NjQ0MGQ2OGZkNzhlMTQwMTk4MzM3Njg0MGQ1NjNcIjtcclxuXHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ29udHJhY3RBZGRyZXNzZXMge1xyXG5cclxuICAgIEtZQ19BRERSRVNTID0gXCIweEVCQzY4OERhRjA5MjREMUEzYjk1Qjg2OTcxN2I5ODcwODdBNTIxNTZcIjtcclxuICAgIEFVU0RfQUREUkVTUyA9IFwiMHg4RTMyZjI3NDQ3NkNFMjNENjRhZTAwMzdDRTgwQ0U4YjhENjcwNjU4XCI7XHJcbiAgICBMSU1JTkFMX01BUktFVF9BRERSRVNTID0gXCIweGU4QzhDOUZmOTQ0YzA0MzE4ZjQzRkUxNDc5QTFkNTFFQkFmMkVCRDhcIjtcclxufSIsImltcG9ydCBDb250cmFjdEFkZHJlc3NlcyBmcm9tIFwiLi9Db250cmFjdEFkZHJlc3Nlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgcmlua2VieUNvbnRyYWN0QWRkcmVzc2VzIGV4dGVuZHMgQ29udHJhY3RBZGRyZXNzZXN7XHJcblxyXG5cdEtZQ19BRERSRVNTID0gXCIweDFkOEFlYUM0Y0VhQmU5ODVlMUFENzNCOEYwOWFlNTcyODQ4MzRGZDdcIjtcclxuXHRBVVNEX0FERFJFU1MgPSBcIjB4NDkyNWYzNURiMmIzZkI3RkYyQTVGMDUyNURhMjlDQjRGNUYxMmNBY1wiO1xyXG5cdExJTUlOQUxfTUFSS0VUX0FERFJFU1MgPSBcIjB4RkJhQWI5RjM5NEYxYUE4MDE4MmRENkZGYjUxODdFNDhjQUZCOTkyMlwiO1xyXG5cdFVTRENfQUREUkVTUyA9IFwiMHg0REJDZEY5QjYyZTg5MWE3Y2VjNUEyNTY4QzNGNEZBRjlFOEFiZTJiXCI7XHJcbn0iLCJpbXBvcnQgQ29udHJhY3RBZGRyZXNzZXMgZnJvbSBcIi4vQ29udHJhY3RBZGRyZXNzZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIG11bWJhaUNvbnRyYWN0QWRkcmVzc2VzIGV4dGVuZHMgQ29udHJhY3RBZGRyZXNzZXMge1xyXG5cclxuICAgIEtZQ19BRERSRVNTID0gXCIweDIzYzJkMjVCYTRFOGREMmQ0NjUzNDhBNzAzOWM4RDVhYWFhNzJjNUJcIjtcclxuICAgIEFVU0RfQUREUkVTUyA9IFwiMHhlNjVGYjI5QzhDZUI3MjA3NTVENDU2MjMzYzk3MUREYjExZmNiYjhkXCI7XHJcbiAgICBMSU1JTkFMX01BUktFVF9BRERSRVNTID0gXCIweDJCRmIwMjA3QkM4OEJBOWUyQWM3NEYxOWM5ZTg4RWRDY2RCYkMyYTlcIjtcclxufSIsImltcG9ydCBDb250cmFjdEFkZHJlc3NlcyBmcm9tIFwiLi9Db250cmFjdEFkZHJlc3Nlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZnVqaUNvbnRyYWN0QWRkcmVzc2VzIGltcGxlbWVudHMgQ29udHJhY3RBZGRyZXNzZXMge1xyXG5cclxuICAgIE5ldHdvcmtOYW1lID0gXCJmdWppXCJcclxuICAgIEtZQ19BRERSRVNTID0gXCIweDA1OTREMDRGREI1Qzk4RmI3Rjc3N2E3OTkxMzk0MjRBZTI0MTRBYURcIjtcclxuICAgIEFVU0RfQUREUkVTUyA9IFwiMHhiQWM0ODJhRTBiMGQ2NTI4NTRkZjM3N2JlNTY2NDQ1OTg0QTAyMUVEXCI7XHJcbiAgICBMSU1JTkFMX01BUktFVF9BRERSRVNTID0gXCIweDA5OEE1MTJCMDE3NDA4MDA4YTIzRUNlMjI4NDM3ODg3OTlDRGViRmRcIjtcclxuICAgIE1BUktFVF9DQUxFTkRBUl9BRERSRVNTID0gXCIweDc3RTZBNjJCZTgzOThCMThkMmRBODFDREI2RWIwOTdiRDgxMzJjY0JcIjtcclxuXHJcbn0iLCIvKlxyXG5leHBvcnQgY29uc3QgS1lDX0FERFJFU1MgPSBcIjB4RDVmMDcxRjJEOEJGNkU3ZDZCQzI1QTFEODllOWIxNDMwQUM3OEE1OFwiO1xyXG5leHBvcnQgY29uc3QgTElNSU5BTF9BRERSRVNTID0gXCIweDNEN0NEMjhFZkQwOEZmRTlDZThjQTMyOUVDMmU2NzgyMkM3NTY1MjZcIjtcclxuZXhwb3J0IGNvbnN0IEFVU0RfQUREUkVTUyA9IFwiMHg2ODU0REMwZTU4RWYxMDI5YUE0MkJhNjFjYTExNjA1MjdiQmVDMDFFXCI7XHJcbmV4cG9ydCBjb25zdCBTRUNVUklUWV9GQUNUT1JZX0FERFJFU1MgPSBcIjB4MGM4Q2QxM2ZmNjhENDEyNjNFNjkzNzIyNEI5ZTVjN2ZGNTRkNzJmOVwiO1xyXG5leHBvcnQgY29uc3QgU0VDVVJJVFlfVE9LRU5fT1dORVIgPSBcIjB4MGM4Q2QxM2ZmNjhENDEyNjNFNjkzNzIyNEI5ZTVjN2ZGNTRkNzJmOVwiO1xyXG5leHBvcnQgY29uc3QgVVNEQ19BRERSRVNTID0gXCIweDREQkNkRjlCNjJlODkxYTdjZWM1QTI1NjhDM0Y0RkFGOUU4QWJlMmJcIjtcclxuKi9cclxuaW1wb3J0IGxvY2FsaG9zdENvbnRyYWN0QWRkcmVzc2VzIGZyb20gJy4vbG9jYWxob3N0LWNvbnRyYWN0LWFkZHJlc3Nlcyc7XHJcbmltcG9ydCByaW5rZWJ5Q29udHJhY3RBZGRyZXNzZXMgZnJvbSAnLi9yaW5rZWJ5LWNvbnRyYWN0LWFkZHJlc3Nlcyc7XHJcbmltcG9ydCBtdW1iYWlDb250cmFjdEFkZHJlc3NlcyBmcm9tICcuL211bWJhaS1jb250cmFjdC1hZGRyZXNzZXMnO1xyXG5pbXBvcnQgZnVqaUNvbnRyYWN0QWRkcmVzc2VzIGZyb20gJy4vZnVqaS1jb250cmFjdC1hZGRyZXNzZXMnO1xyXG5pbXBvcnQgQ29udHJhY3RBZGRyZXNzZXMgZnJvbSBcIi4vQ29udHJhY3RBZGRyZXNzZXNcIjtcclxuaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyYWN0SW5mbyB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29udHJhY3RJbmZvKG5ldHdvcmtOYW1lPzogc3RyaW5nKTogQ29udHJhY3RBZGRyZXNzZXMge1xyXG4gICAgICAgIGxldCBjb250cmFjdEluZm9zOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGxvY2FsaG9zdENvbnRyYWN0QWRkcmVzc2VzLCByaW5rZWJ5Q29udHJhY3RBZGRyZXNzZXMsXHJcbiAgICAgICAgICAgIG11bWJhaUNvbnRyYWN0QWRkcmVzc2VzLCBmdWppQ29udHJhY3RBZGRyZXNzZXNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIW5ldHdvcmtOYW1lKSB7XHJcbiAgICAgICAgICAgIG5ldHdvcmtOYW1lID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKS5OYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250cmFjdEluZm9UeXBlID0gY29udHJhY3RJbmZvc1tuZXR3b3JrTmFtZSArICdDb250cmFjdEFkZHJlc3NlcyddO1xyXG4gICAgICAgIHJldHVybiBuZXcgY29udHJhY3RJbmZvVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBjbGFzcz1cXFwiY2VudGVyXFxcIj5cXHJcXG4gICAgVGhlIHN0b2NrIG1hcmtldCBpcyBjdXJyZW50bHkgY2xvc2VkLjxici8+XFxyXFxuSXQgaXMgdXN1YWxseSBvcGVuIG1vbmRheSB0byBmcmlkYXkgYmV0d2VlbiA5OjMwIEFNIGFuZCA0OjAwIFBNIEVTVCAoOTozMCAtIDE2OjAwIEVTVCkuXFxyXFxuICAgIDxici8+PGJyLz5cXHJcXG5Ub2RheSBpcyB7e2RheU9mV2Vla319XFxyXFxuPGJyIC8+PGJyLz5cXHJcXG5Zb3VyIGN1cnJlbnQgdGltZSBpcyB7e2N1cnJlbnRUaW1lfX0gKHt7R01UfX0pXFxyXFxuICAgIDxici8+PGJyLz5cXHJcXG5UaGF0IG1lYW5zIHRoZSBtYXJrZXQgaXMgb3BlbiB5b3VyIHRpbWUgYmV0d2Vlblxcclxcbnt7b3BlbkZyb219fSAtIHt7b3BlblRvfX1cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZUhlbHBlciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc09sZGVyVGhlbihkYXRlIDogRGF0ZSwgbWludXRlcyA6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHJldHVybiAoY3VycmVudFRpbWUgPiAoZGF0ZS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAgKiAxMDAwKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0V2Vla2RheSgpIHtcclxuICAgICAgICBjb25zdCB3ZWVrZGF5ID0gW1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl07XHJcblxyXG4gICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiB3ZWVrZGF5W2QuZ2V0RGF5KCldO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0T3BlbkFuZENsb3NlSG91cnMoKSB7XHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIGxldCBvcGVuSG91ciA9IDkgKyA0ICsgKC0xICogKGQuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCkpO1xyXG4gICAgICAgIGxldCBjbG9zZUhvdXIgPSAxNiArIDQgKyAoLTEgKiAoZC5nZXRUaW1lem9uZU9mZnNldCgpLzYwKSk7XHJcbiAgICAgICAgcmV0dXJuIFtvcGVuSG91ciArICc6MzAnLCBjbG9zZUhvdXIgKyAnOjAwJ11cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgR2VuZXJhbEVycm9yIGZyb20gXCIuL0dlbmVyYWxFcnJvclwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL3VpL21vZGFscy9Nb2RhbFwiO1xyXG5pbXBvcnQgTWFya2V0SXNDbG9zZWRIdG1sIGZyb20gXCIuLi9odG1sL21vZGFsL01hcmtldElzQ2xvc2VkLmh0bWxcIjtcclxuaW1wb3J0IERhdGVIZWxwZXIgZnJvbSBcIi4uL3V0aWwvRGF0ZUhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2tjaGFpbkVycm9yIGV4dGVuZHMgR2VuZXJhbEVycm9yIHtcclxuICAgIHN0YXRpYyBFcnJvckZyb21Db250cmFjdCA9IC0xO1xyXG4gICAgc3RhdGljIFVzZXJDYW5jZWxsZWQgPSAxO1xyXG4gICAgc3RhdGljIEFkZHJlc3NJc05vdFZhbGlkS1lDID0gMjtcclxuICAgIHN0YXRpYyBNYXJrZXRJc0Nsb3NlZCA9IDM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZSA6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGUpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGUudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudXNlckRlbmllZFRyYW5zYWN0aW9uU2lnbmF0dXJlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlID0gQmxvY2tjaGFpbkVycm9yLlVzZXJDYW5jZWxsZWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFkZHJlc3NJc05vdFZhbGlkS1lDKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlID0gQmxvY2tjaGFpbkVycm9yLkFkZHJlc3NJc05vdFZhbGlkS1lDO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc01hcmtldENsb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IEJsb2NrY2hhaW5FcnJvci5NYXJrZXRJc0Nsb3NlZDtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IHRoaXMubWFya2V0SXNDbG9zZWRNb2RhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlLmRhdGEgJiYgZS5kYXRhLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbGV0IG1zZyA6IHN0cmluZyA9IGUuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICBsZXQgc2VhcmNoU3RyID0gJ3JldmVydGVkIHdpdGggcmVhc29uIHN0cmluZyc7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSBtc2cuaW5kZXhPZihzZWFyY2hTdHIpICsgc2VhcmNoU3RyLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnLnN1YnN0cmluZyhpZHgpLnRyaW0oKS5yZXBsYWNlKC8nL2csICcnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29kZSA9IEJsb2NrY2hhaW5FcnJvci5FcnJvckZyb21Db250cmFjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlckRlbmllZFRyYW5zYWN0aW9uU2lnbmF0dXJlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UuaW5kZXhPZignZGVuaWVkIHRyYW5zYWN0aW9uIHNpZ25hdHVyZScpICE9PSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkcmVzc0lzTm90VmFsaWRLWUMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS5pbmRleE9mKCdhZGRyZXNzIGlzIG5vdCBreWMgdmFsaWQnKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzTWFya2V0Q2xvc2VkKCkge1xyXG4gICAgICAgIGxldCBzZWFyY2hTdHIgPSAnTWFya2V0IGlzIGNsb3NlZCc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS5pbmRleE9mKHNlYXJjaFN0cikgIT09IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYXJrZXRJc0Nsb3NlZE1vZGFsKCkge1xyXG4gICAgICAgIGxldCBbb3BlbkhvdXIsIGNsb3NlSG91cl0gPSBEYXRlSGVscGVyLmdldE9wZW5BbmRDbG9zZUhvdXJzKCk7XHJcbiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWU6IHRpbWVbMF0sXHJcbiAgICAgICAgICAgIEdNVDogdGltZVsxXSxcclxuICAgICAgICAgICAgZGF5T2ZXZWVrIDogRGF0ZUhlbHBlci5nZXRXZWVrZGF5KCksXHJcbiAgICAgICAgICAgIG9wZW5Gcm9tIDogb3BlbkhvdXIsXHJcbiAgICAgICAgICAgIG9wZW5UbyA6IGNsb3NlSG91clxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKE1hcmtldElzQ2xvc2VkSHRtbCk7XHJcbiAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdNYXJrZXQgaXMgY2xvc2VkJywgdGVtcGxhdGUob2JqKSlcclxuICAgIH1cclxufSIsImltcG9ydCBDb250cmFjdEluZm8gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9Db250cmFjdEluZm9cIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgQmxvY2tjaGFpbkVycm9yIGZyb20gXCIuLi8uLi9lcnJvcnMvQmxvY2tjaGFpbkVycm9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW1pbmFsTWFya2V0U2VydmljZSB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBMaW1pbmFsTWFya2V0SW5mbzogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgdGhpcy5nZXRPcHRpb25zKFwiZ2V0U2VjdXJpdHlUb2tlblwiLCB7XHJcbiAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sXHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2tjaGFpbkVycm9yID0gbmV3IEJsb2NrY2hhaW5FcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JJbmZvLnJlcG9ydChibG9ja2NoYWluRXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGdldE9wdGlvbnMoZnVuY3Rpb25OYW1lOiBzdHJpbmcsIHBhcmFtczogYW55KSB7XHJcbiAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuICAgICAgICBsZXQgYWJpID0gYXdhaXQgdGhpcy5nZXRMaW1pbmFsTWFya2V0QWJpKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogY29udHJhY3RJbmZvLkxJTUlOQUxfTUFSS0VUX0FERFJFU1MsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxyXG4gICAgICAgICAgICBhYmk6IGFiaSxcclxuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0TGltaW5hbE1hcmtldEFiaSgpIHtcclxuICAgICAgICBpZiAoTGltaW5hbE1hcmtldFNlcnZpY2UuTGltaW5hbE1hcmtldEluZm8pIHJldHVybiBMaW1pbmFsTWFya2V0U2VydmljZS5MaW1pbmFsTWFya2V0SW5mby5hYmk7XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuLi9hYmkvTGltaW5hbE1hcmtldC5qc29uJyk7XHJcbiAgICAgICAgTGltaW5hbE1hcmtldFNlcnZpY2UuTGltaW5hbE1hcmtldEluZm8gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgcmV0dXJuIExpbWluYWxNYXJrZXRTZXJ2aWNlLkxpbWluYWxNYXJrZXRJbmZvLmFiaTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlVG9rZW4oc3ltYm9sOiBzdHJpbmcsIGNyZWF0aW5nVG9rZW4gOiAoKSA9PiB2b2lkKTogUHJvbWlzZTxzdHJpbmcgfCBCbG9ja2NoYWluRXJyb3I+IHtcclxuICAgICAgICBsZXQgc2FsdCA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSArIChNYXRoLnJhbmRvbSgpICogMTAwMDAwKSkudG9TdHJpbmcoKTtcclxuICAgICAgICBzYWx0ID0gc2FsdC5zdWJzdHJpbmcoMCwgc2FsdC5pbmRleE9mKCcuJykpO1xyXG4gICAgICAgIGNvbnN0IGxpbWluYWxPcHRpb25zID0gYXdhaXQgdGhpcy5nZXRPcHRpb25zKFwiY3JlYXRlVG9rZW5cIiwge1xyXG4gICAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgICAgc2FsdCA6IHNhbHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMubW9yYWxpcy5leGVjdXRlRnVuY3Rpb24obGltaW5hbE9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0IGFzIHR5cGVvZiBFeGVjdXRlRnVuY3Rpb25DYWxsUmVzdWx0O1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIGlmIChibG9ja2NoYWluRXJyb3IudXNlckRlbmllZFRyYW5zYWN0aW9uU2lnbmF0dXJlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvY2tjaGFpbkVycm9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JJbmZvLnJlcG9ydChibG9ja2NoYWluRXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBCbG9ja2NoYWluRXJyb3IpIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIGNyZWF0aW5nVG9rZW4oKTtcclxuICAgICAgICBhd2FpdCAocmVzdWx0IGFzIHR5cGVvZiBFeGVjdXRlRnVuY3Rpb25DYWxsUmVzdWx0KS53YWl0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmlndXJlPlxcclxcbiAgICA8dGFibGUgaWQ9XFxcImxpbWluYWxfbWFya2V0X3NlY3VyaXRpZXNfdGFibGVcXFwiIHJvbGU9XFxcImdyaWRcXFwiPlxcclxcbiAgICA8dGhlYWQ+XFxyXFxuICAgIDx0cj5cXHJcXG4gICAgICAgIDx0aCBjb2xzcGFuPVxcXCIyXFxcIj48aW5wdXQgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHR5cGU9XFxcInNlYXJjaFxcXCIgaWQ9XFxcInNlYXJjaF9mb3Jfc3ltYm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiU2VhcmNoIGZvciBuYW1lIG9yIHN5bWJvbCBpbiB7e3NlY3VyaXRpZXNDb3VudH19IHN0b2Nrc1xcXCI+PC90aD5cXHJcXG4gICAgPC90cj5cXHJcXG4gICAgPC90aGVhZD5cXHJcXG4gICAgPHRib2R5IGlkPVxcXCJ7e3Rib2R5SWR9fVxcXCI+XFxyXFxuICAgIHt7PnNlY3VyaXRpZXN9fVxcclxcbiAgICA8L3Rib2R5PlxcclxcbjwvdGFibGU+XFxyXFxuPHNwYW4gaWQ9XFxcImxpbWluYWxfbWFya2V0X2xvYWRfbW9yZVxcXCI+PC9zcGFuPlxcclxcbjwvZmlndXJlPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJ7eyNlYWNoIHNlY3VyaXRpZXN9fVxcclxcbjx0ciBkYXRhLXN5bWJvbD1cXFwie3t7U3ltYm9sfX19XFxcIiBkYXRhLWxvZ289XFxcInt7TG9nb1BhdGh9fXt7TG9nb319XFxcIiBkYXRhLW5hbWU9XFxcInt7TmFtZX19XFxcIj5cXHJcXG4gICAgPHRkIGNsYXNzPVxcXCJzeW1ib2xfbG9nb1xcXCI+PGltZyBzcmM9XFxcInt7TG9nb1BhdGh9fXt7TG9nb319XFxcIi8+PC90ZD5cXHJcXG4gICAgPHRkIGNsYXNzPVxcXCJzZWN1cml0eV9pbmZvcm1hdGlvblxcXCI+XFxyXFxuICAgICAgICA8c3Ryb25nPnt7TmFtZX19PC9zdHJvbmc+PGJyLz5cXHJcXG4gICAgICAgIDxuYXYgY2xhc3M9XFxcInNlY3VyaXR5X2V4dHJhXFxcIj5cXHJcXG4gICAgICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImh0dHBzOi8vc3RyaWtlLm1hcmtldC9zdG9ja3Mve3tTeW1ib2x9fVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnt7U3ltYm9sfX08L2E+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGk+XFxyXFxuICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImdldEFkZHJlc3NcXFwiIGRhdGEtc3ltYm9sPVxcXCJ7e1N5bWJvbH19XFxcIj5HZXQgYWRkcmVzczwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICA8L3VsPlxcclxcbiAgICAgICAgICAgIDx1bD5cXHJcXG4gICAgICAgICAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYWRkVG9XYWxsZXRcXFwiIGRhdGEtc3ltYm9sPVxcXCJ7e1N5bWJvbH19XFxcIj5BZGQgdG8gd2FsbGV0PC9hPlxcclxcbiAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDwvdWw+XFxyXFxuICAgICAgICA8L25hdj5cXHJcXG4gICAgPC90ZD5cXHJcXG48L3RyPlxcclxcbnt7L2VhY2h9fVwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb3B5SGVscGVyIHtcclxuXHJcbiAgICBwdWJsaWMgZmFsbGJhY2tDb3B5VGV4dFRvQ2xpcGJvYXJkKHRleHQgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XHJcbiAgICAgICAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xyXG5cclxuICAgICAgICAvLyBBdm9pZCBzY3JvbGxpbmcgdG8gYm90dG9tXHJcbiAgICAgICAgdGV4dEFyZWEuc3R5bGUudG9wID0gXCIwXCI7XHJcbiAgICAgICAgdGV4dEFyZWEuc3R5bGUubGVmdCA9IFwiMFwiO1xyXG4gICAgICAgIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcclxuICAgICAgICB0ZXh0QXJlYS5mb2N1cygpO1xyXG4gICAgICAgIHRleHRBcmVhLnNlbGVjdCgpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzZnVsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY29weVRleHRUb0NsaXBib2FyZCh0ZXh0IDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IuY2xpcGJvYXJkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhbGxiYWNrQ29weVRleHRUb0NsaXBib2FyZCh0ZXh0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KS50aGVuKGJsZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdibGUnLCBibGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0pLlxyXG4gICAgICAgIGNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YXJ0aWNsZSBpZD1cXFwic3ltYm9sSW5mb1RvQ29weVxcXCI+XFxyXFxuICAgIFRoaXMgaXMgdGhlIGFkZHJlc3MgZm9yIHRoZSBzeW1ib2wge3tzeW1ib2x9fS5cXHJcXG4gICAgPGJyLz5cXHJcXG4gICAgPGlucHV0IHZhbHVlPVxcXCJ7e2FkZHJlc3N9fVxcXCIvPlxcclxcbjwvYXJ0aWNsZT5cXHJcXG5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPHRyIGlkPVxcXCJzeW1ib2xJbmZvVG9Db3B5XFxcIj5cXHJcXG4gICAgPHRkIGNvbHNwYW49XFxcIjRcXFwiPlxcclxcbiAgICAgICAgPGFydGljbGU+XFxyXFxuICAgICAgICBUaGlzIHN5bWJvbCBoYXMgbmV2ZXIgYmVlbiBib3VnaHQgYW5kIGRvZXMgbm90IGV4aXN0LiBCdXkgdGhpcyBzeW1ib2wgYW5kIGFkZHJlc3Mgd2lsbCBiZWNvbWUgYXZhaWxhYmxlLlxcclxcbiAgICAgICAgPC9hcnRpY2xlPlxcclxcbiAgICA8L3RkPlxcclxcbjwvdHI+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dDb250YWluZXIgPSBmdW5jdGlvbihpZCA6IHN0cmluZykge1xyXG4gICAgbGV0IGNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFpbmVyJyk7XHJcbiAgICBmb3IgKGxldCBpPTA7aTxjb250YWluZXJzLmxlbmd0aDtpKyspIHtcclxuXHRcdGxldCBlbGVtZW50ID0gY29udGFpbmVyc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoZWxlbWVudC5pZCA9PSBpZCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyIDogbnVtYmVyKSB7XHJcblx0cmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogMTAwKSAvIDEwMDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtYmVyRGVjaW1hbCA9IGZ1bmN0aW9uKG51bWJlciA6IG51bWJlciwgZGVjaW1hbCA6IG51bWJlcikge1xyXG5cdGxldCBodW5kcmVkID0gcGFyc2VJbnQoJzEnKyAnMCcucmVwZWF0KGRlY2ltYWwpKTtcclxuXHRyZXR1cm4gTWF0aC5yb3VuZChudW1iZXIgKiBodW5kcmVkKSAvIGh1bmRyZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCByb3VuZEJpZ051bWJlciA9IGZ1bmN0aW9uKG51bWJlciA6IEJpZ051bWJlcikgOiBCaWdOdW1iZXIge1xyXG5cdHJldHVybiBuZXcgQmlnTnVtYmVyKE1hdGgucm91bmQobnVtYmVyLnRvTnVtYmVyKCkgKiAxMDApIC8gMTAwKTtcclxufVxyXG5leHBvcnQgY29uc3Qgcm91bmRCaWdOdW1iZXJEZWNpbWFsID0gZnVuY3Rpb24obnVtYmVyIDogQmlnTnVtYmVyLCBkZWNpbWFsIDogbnVtYmVyKSA6IEJpZ051bWJlciB7XHJcblx0bGV0IGh1bmRyZWQgPSBwYXJzZUludCgnMScrICcwJy5yZXBlYXQoZGVjaW1hbCkpO1xyXG5cdHJldHVybiBuZXcgQmlnTnVtYmVyKE1hdGgucm91bmQobnVtYmVyLnRvTnVtYmVyKCkgKiBodW5kcmVkKSAvIGh1bmRyZWQpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWRkcmVzc1plcm8gPSBcIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzSlNPTiA9IGZ1bmN0aW9uKHN0ciA6IHN0cmluZykge1xyXG5cdHRyeSB7XHJcblx0XHRKU09OLnBhcnNlKHN0cik7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9IGNhdGNoIChlKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3J0RXRoID0gZnVuY3Rpb24oZXRoQWRkcmVzcyA6IHN0cmluZykge1xyXG5cdGlmICghZXRoQWRkcmVzcykgcmV0dXJuICcnO1xyXG5cclxuXHRyZXR1cm4gZXRoQWRkcmVzcy5zdWJzdHJpbmcoMCwgNikgKyBcIi4uLlwiICsgZXRoQWRkcmVzcy5zdWJzdHJpbmcoZXRoQWRkcmVzcy5sZW5ndGggLSA0KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cHBlckZpcnN0TGV0dGVyID0gZnVuY3Rpb24odGV4dCA6IHN0cmluZykge1xyXG5cdHJldHVybiB0ZXh0WzBdLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnN1YnN0cmluZygxKTtcclxufVxyXG4iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8dHIgaWQ9XFxcInN5bWJvbEluZm9Ub0NvcHlcXFwiPlxcclxcbiAgICA8dGQgY29sc3Bhbj1cXFwiNFxcXCI+XFxyXFxuICAgICAgICA8YXJ0aWNsZT5cXHJcXG4gICAgICAgIFNvbWUgd2FsbGV0cyBkZXRlY3QgYXV0b21hdGljYWxseSB0aGUgY29pbnMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB0byB5b3VyIGFkZHJlc3MuXFxyXFxuICAgICAgICBUaG9zZSB0aGF0IGRvbid0IGRvIGF1dG9tYXRpYyBkZXRlY3Rpb24sIHlvdSBuZWVkIHRvIGFkZCB0aGVtIG1hbnVhbGx5LlxcclxcbiAgICAgICAgPGJyIC8+PGJyIC8+XFxyXFxuICAgICAgICBUaGlzIGlzIHRoZSBhZGRyZXNzIGZvciB0aGUgc3ltYm9sIHt7c3ltYm9sfX0sXFxyXFxuICAgICAgICB5b3UgbmVlZCB0byBjb3B5IGl0IGFuZCBpbXBvcnQgdGhlIHRva2VuIGluIHlvdXIgd2FsbGV0XFxyXFxuICAgICAgICA8YnIgLz5cXHJcXG4gICAgICAgIDxpbnB1dCB2YWx1ZT1cXFwie3thZGRyZXNzfX1cXFwiIC8+XFxyXFxuICAgICAgICA8L2FydGljbGU+XFxyXFxuICAgIDwvdGQ+XFxyXFxuPC90cj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IFNlY3VyaXRpZXNTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9icm9rZXIvU2VjdXJpdGllc1NlcnZpY2VcIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0SHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL1NlY3VyaXRpZXNMaXN0Lmh0bWwnXHJcbmltcG9ydCBTZWN1cml0eUh0bWwgZnJvbSAnLi4vLi4vaHRtbC9lbGVtZW50cy9TZWN1cml0aWVzLmh0bWwnO1xyXG5pbXBvcnQgU2VjdXJpdHkgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jyb2tlci9TZWN1cml0eVwiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IENvcHlIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvQ29weUhlbHBlclwiO1xyXG5pbXBvcnQgQWRkcmVzc0luZm9IdG1sIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvQWRkcmVzc0luZm8uaHRtbCc7XHJcbmltcG9ydCBDb250cmFjdEFkZHJlc3NOb3RGb3VuZCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL0NvbnRyYWN0QWRkcmVzc05vdEZvdW5kLmh0bWwnO1xyXG5pbXBvcnQge0FkZHJlc3NaZXJvfSBmcm9tIFwiLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEFkZFRvV2FsbGV0SHRtbCBmcm9tICcuLi8uLi9odG1sL2VsZW1lbnRzL0FkZFRvV2FsbGV0Lmh0bWwnO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0dlbmVyYWxFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdXJpdGllc0xpc3Qge1xyXG4gICAgcGFnZTogbnVtYmVyO1xyXG4gICAgdGJvZHlJZCA9ICdsaW1pbmFsX21hcmtldF9zZWN1cml0aWVzX2xpc3QnO1xyXG4gICAgbG9hZG1vcmU6IGJvb2xlYW47XHJcbiAgICBvblNlbGVjdFN5bWJvbD86IChzeW1ib2w6IHN0cmluZywgbmFtZTogc3RyaW5nLCBsb2dvOiBzdHJpbmcpID0+IHZvaWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRtb3JlID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllc1NlcnZpY2UgPSBhd2FpdCBTZWN1cml0aWVzU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBsZXQgc2VjdXJpdGllc0NvdW50ID0gc2VjdXJpdGllc1NlcnZpY2Uuc2VjdXJpdGllc0FycmF5Lmxlbmd0aDtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHNlY3VyaXRpZXNTZXJ2aWNlLmdldFBhZ2luYXRpbmdTZWN1cml0aWVzKHRoaXMucGFnZSsrKTtcclxuXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoXHJcbiAgICAgICAgICAgIFwic2VjdXJpdGllc1wiLFxyXG4gICAgICAgICAgICBTZWN1cml0eUh0bWxcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShTZWN1cml0aWVzTGlzdEh0bWwpO1xyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgdGJvZHlJZDogdGhpcy50Ym9keUlkLFxyXG4gICAgICAgICAgICBzZWN1cml0aWVzOiBzZWN1cml0aWVzLFxyXG4gICAgICAgICAgICBzZWN1cml0aWVzQ291bnQ6IHNlY3VyaXRpZXNDb3VudFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUob2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgYmluZEV2ZW50cyhvblNlbGVjdFN5bWJvbDogKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuYmluZE9uQ2xpY2tFdmVudChvblNlbGVjdFN5bWJvbCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5iaW5kU2VhcmNoRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmJpbmRMb2FkTW9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZE9uQ2xpY2tFdmVudChvblNlbGVjdFN5bWJvbDogKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9zZWN1cml0aWVzX3RhYmxlJyk7XHJcblxyXG4gICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChuZXcgR2VuZXJhbEVycm9yKFwiUGFnZSBjb3VsZCBub3QgbG9hZCBjb3JyZWN0bHksIHRyeSByZWxvYWRpbmdcIikpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25TZWxlY3RTeW1ib2wgPSBvblNlbGVjdFN5bWJvbDtcclxuXHJcbiAgICAgICAgdGFibGUub25jbGljayA9IGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbGljayhldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbmNvbnNvbGUubG9nKCdldnQgb24gaGFuZGxlQ2xpY2snLCBldnQpO1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gKGV2dC50YXJnZXQhIGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICdhJykge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRvV2FsbGV0T3JHZXRBZGRyZXNzKGV2dCwgZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJlbnRUciA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICBpZiAoIXBhcmVudFRyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChwYXJlbnRUci50YWdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgIT09ICd0cicpIHtcclxuICAgICAgICAgICAgcGFyZW50VHIgPSBwYXJlbnRUci5wYXJlbnRFbGVtZW50ITtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzeW1ib2wgPSBwYXJlbnRUci5kYXRhc2V0LnN5bWJvbDtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgbmFtZSA9IHBhcmVudFRyLmRhdGFzZXQubmFtZSFcclxuICAgICAgICBsZXQgbG9nbyA9IHBhcmVudFRyLmRhdGFzZXQubG9nbyE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9uU2VsZWN0U3ltYm9sKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RTeW1ib2woc3ltYm9sLCBuYW1lLCBsb2dvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBiaW5kU2VhcmNoRXZlbnQoKSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaEZvclN5bWJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hfZm9yX3N5bWJvbCcpO1xyXG4gICAgICAgIGlmICghc2VhcmNoRm9yU3ltYm9sKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBzZWN1cml0aWVzU2VydmljZSA9IGF3YWl0IFNlY3VyaXRpZXNTZXJ2aWNlLmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgICAgIGxldCB0aW1lb3V0OiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHNlYXJjaEZvclN5bWJvbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWFyY2ggPSAoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmICghc2VhcmNoIHx8IHNlYXJjaC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkbW9yZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaG93VG9wU2VjdXJpdGllcyhzZWN1cml0aWVzU2VydmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkbW9yZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWN1cml0aWVzID0gYXdhaXQgc2VjdXJpdGllc1NlcnZpY2UuZmluZChzZWFyY2gpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkU2VjdXJpdGllc1RvRG9tKHNlY3VyaXRpZXMpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93VG9wU2VjdXJpdGllcyhzZWN1cml0aWVzU2VydmljZTogU2VjdXJpdGllc1NlcnZpY2UpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdGllcyA9IGF3YWl0IHNlY3VyaXRpZXNTZXJ2aWNlLmdldFRvcFNlY3VyaXRpZXMoKTtcclxuICAgICAgICB0aGlzLmxvYWRTZWN1cml0aWVzVG9Eb20oc2VjdXJpdGllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkU2VjdXJpdGllc1RvRG9tKHNlY3VyaXRpZXM6IEFycmF5PFNlY3VyaXR5Pikge1xyXG4gICAgICAgIGxldCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMudGJvZHlJZCk7XHJcbiAgICAgICAgaWYgKCF0Ym9keSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoU2VjdXJpdHlIdG1sKTtcclxuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIHNlY3VyaXRpZXM6IHNlY3VyaXRpZXNcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZShvYmopO1xyXG4gICAgICAgIHRib2R5LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kTG9hZE1vcmUoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpbWluYWxfbWFya2V0X2xvYWRfbW9yZScpITtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoYXN5bmMgKFtlbnRyeV0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRNb3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHJvb3Q6IG51bGwsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMC4xLCAvLyBzZXQgb2Zmc2V0IDAuMSBtZWFucyB0cmlnZ2VyIGlmIGF0bGVhc3QgMTAlIG9mIGVsZW1lbnQgaW4gdmlld3BvcnRcclxuICAgICAgICB9KTtcclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZE1vcmUodGhpczogU2VjdXJpdGllc0xpc3QpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMubG9hZG1vcmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50Ym9keUlkKTtcclxuICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBzZWN1cml0aWVzU2VydmljZSA9IGF3YWl0IFNlY3VyaXRpZXNTZXJ2aWNlLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IHNlY3VyaXRpZXMgPSBhd2FpdCBzZWN1cml0aWVzU2VydmljZS5nZXRQYWdpbmF0aW5nU2VjdXJpdGllcyh0aGlzLnBhZ2UrKyk7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShTZWN1cml0eUh0bWwpO1xyXG4gICAgICAgIGxldCBvYmo6IGFueSA9IHtcclxuICAgICAgICAgICAgc2VjdXJpdGllczogc2VjdXJpdGllc1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKG9iaik7XHJcblxyXG4gICAgICAgIHRib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBhZGRUb1dhbGxldE9yR2V0QWRkcmVzcyhldmVudDogTW91c2VFdmVudCwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSAnZ2V0QWRkcmVzcycgJiYgY2xhc3NOYW1lICE9ICdhZGRUb1dhbGxldCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgbGV0IHN5bWJvbCA9IGVsZW1lbnQuZGF0YXNldC5zeW1ib2w7XHJcbiAgICAgICAgaWYgKCFzeW1ib2wpIHJldHVybjtcclxuXHJcbiAgICAgICAgTG9hZGluZ0hlbHBlci5zZXRMb2FkaW5nKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICBsZXQgbGltaW5hbE1hcmtldFNlcnZpY2UgPSBuZXcgTGltaW5hbE1hcmtldFNlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3Moc3ltYm9sKTtcclxuXHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnZ2V0QWRkcmVzcycpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zaG93R2V0QWRkcmVzcyhlbGVtZW50LCBzeW1ib2wsIGFkZHJlc3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hvd0FkZFRvV2FsbGV0KGVsZW1lbnQsIHN5bWJvbCwgYWRkcmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2hvd0dldEFkZHJlc3MoZWxlbWVudDogSFRNTEVsZW1lbnQsIHN5bWJvbDogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoYWRkcmVzcyAhPT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgbGV0IGNvcHlIZWxwZXIgPSBuZXcgQ29weUhlbHBlcigpO1xyXG4gICAgICAgICAgICBsZXQgc3VjY2VzcyA9IGF3YWl0IGNvcHlIZWxwZXIuY29weVRleHRUb0NsaXBib2FyZChhZGRyZXNzKTtcclxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gJ0NvcGllZCc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDb250cmFjdEluZm9Ub1N0cmluZyhlbGVtZW50LCBhZGRyZXNzLCBzeW1ib2wsIEFkZHJlc3NJbmZvSHRtbClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd0FkZFRvV2FsbGV0KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzeW1ib2w6IHN0cmluZywgYWRkcmVzczogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGFkZHJlc3MgIT09IEFkZHJlc3NaZXJvKSB7XHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKE1vcmFsaXMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkZGVkID0gYXdhaXQgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoYWRkcmVzcywgc3ltYm9sLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udHJhY3RJbmZvVG9TdHJpbmcoZWxlbWVudCwgYWRkcmVzcywgc3ltYm9sLCBBZGRUb1dhbGxldEh0bWwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGFkZGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVuZGVyQ29udHJhY3RJbmZvVG9TdHJpbmcoZWxlbWVudCwgYWRkcmVzcywgc3ltYm9sLCBBZGRUb1dhbGxldEh0bWwpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJDb250cmFjdEluZm9Ub1N0cmluZyhlbGVtZW50OiBIVE1MRWxlbWVudCwgYWRkcmVzczogc3RyaW5nLCBzeW1ib2w6IHN0cmluZywgdGVtcGxhdGU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBzeW1ib2xJbmZvVG9Db3B5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bWJvbEluZm9Ub0NvcHknKTtcclxuICAgICAgICBpZiAoc3ltYm9sSW5mb1RvQ29weSkgc3ltYm9sSW5mb1RvQ29weS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAnJztcclxuICAgICAgICBpZiAoYWRkcmVzcyA9PT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKENvbnRyYWN0QWRkcmVzc05vdEZvdW5kKTtcclxuICAgICAgICAgICAgY29udGVudCA9IHRlbXBsYXRlKG51bGwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShBZGRyZXNzSW5mb0h0bWwpO1xyXG4gICAgICAgICAgICBsZXQgb2JqOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZW50ID0gdGVtcGxhdGUob2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgY29udGVudCk7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2IGlkPVxcXCJ1c2VyTWVudVBhbmVsXFxcIj5cXHJcXG4gICAgPGEgaHJlZj1cXFwiI1xcXCIgaWQ9XFxcInVzZXJJbmZvQWN0aW9uXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxyXFxuICAgICAgICA8aW1nIHNyYz1cXFwiaHR0cHM6Ly9lZmZpZ3kuaW0vYS97e2V0aEFkZHJlc3N9fS5wbmdcXFwiIHdpZHRoPVxcXCIyNFxcXCI+XFxyXFxuICAgICAgICA8c3BhbiBpZD1cXFwidXNlcl9pbmZvX2V0aEFkZHJlc3NcXFwiPnt7c2hvcnRFdGhBZGRyZXNzfX08L3NwYW4+XFxyXFxuICAgIDwvYT5cXHJcXG5cXHJcXG4gICAgPGRpdiBpZD1cXFwidXNlckluZm9Ecm9wZG93blxcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkIGFjY291bnRfaW5mb1xcXCI+XFxyXFxuICAgICAgICAgICAgPGg2PkFjY291bnQ8L2g2PlxcclxcbiAgICAgICAgICAgIDxhIGlkPVxcXCJkaXNjb25uZWN0RnJvbU5ldHdvcmtcXFwiIGhyZWY9XFxcIiNcXFwiPkRpc2Nvbm5lY3Q8L2E+XFxyXFxuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImVkaXRfYWNjb3VudCBncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8YSBpZD1cXFwiZWRpdE5hbWVcXFwiIGhyZWY9XFxcIiNcXFwiPkVkaXQgbmFtZTwvYT5cXHJcXG4gICAgICAgICAgICA8YSBpZD1cXFwiZWRpdENvbnRhY3RcXFwiIGhyZWY9XFxcIiNcXFwiPkVkaXQgY29udGFjdCBpbmZvPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJlZGl0X2FjY291bnRcXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGlkPVxcXCJlZGl0VHJ1c3RlZENvbnRhY3RcXFwiIGhyZWY9XFxcIiNcXFwiPkVkaXQgdHJ1c3RlZCBjb250YWN0PC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8aHIvPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcImh0dHBzOi8vZWZmaWd5LmltL2Eve3tldGhBZGRyZXNzfX0ucG5nXFxcIj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVxcXCJkLWJsb2NrXFxcIj48YSBocmVmPVxcXCJ7e2Jsb2NrY2hhaW5FeHBsb3Jlcn19e3tldGhBZGRyZXNzfX1cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj57e3Nob3J0RXRoQWRkcmVzc319PC9hPjwvc3Ryb25nPlxcclxcbiAgICAgICAgICAgICAgICA8c21hbGw+e3t3YWxsZXROYW1lfX08L3NtYWxsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8aHIvPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGlkZGVuXFxcIiBpZD1cXFwidXNlckluZm9BVXNkQmFsYW5jZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXY+PGltZyBzcmM9XFxcImh0dHBzOi8vYXBwLmxpbWluYWwubWFya2V0L2ltZy9hdXNkLnBuZ1xcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVxcXCJkLWJsb2NrXFxcIj5hVVNEIDxzcGFuIGlkPVxcXCJ1c2VyX2luZm9fYXVzZF9iYWxhbmNlXFxcIj48L3NwYW4+PC9zdHJvbmc+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJmdW5kX2FjY291bnRcXFwiPjwvYnV0dG9uPlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8aHIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVxcXCJkLWJsb2NrXFxcIj5OZXR3b3JrPC9zdHJvbmc+XFxyXFxuICAgICAgICAgICAgPHNtYWxsPnt7bmV0d29ya05hbWV9fTwvc21hbGw+XFxyXFxuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldCBpZD1cXFwia3ljRWRpdE5hbWVcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJpbmZvQmFyXFxcIj5Zb3UgY2FuIG9ubHkgY2hhbmdlIHRoZSBuYW1lIG9uY2UuIEJlIGNhcmVmdWwgb2Ygd2hhdCB5b3UgY2hhbmdlPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJnaXZlbl9uYW1lXFxcIj5MZWdhbCBGaXJzdCBuYW1lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwiZ2l2ZW5fbmFtZVxcXCIgbmFtZT1cXFwiZ2l2ZW5fbmFtZVxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiUm9uXFxcIlxcclxcbiAgICAgICAgICAgICAgIHZhbHVlPVxcXCJ7e2dpdmVuX25hbWV9fVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJnaXZlbi1uYW1lXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJtaWRkbGVfbmFtZVxcXCI+TGVnYWwgTWlkZGxlIG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJtaWRkbGVfbmFtZVxcXCIgbmFtZT1cXFwibWlkZGxlX25hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwie3ttaWRkbGVfbmFtZX19XFxcIiBhdXRvY29tcGxldGU9XFxcImFkZGl0aW9uYWwtbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZmFtaWx5X25hbWVcXFwiPkxlZ2FsIExhc3QgbmFtZTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgcmVxdWlyZWQgaWQ9XFxcImZhbWlseV9uYW1lXFxcIiBuYW1lPVxcXCJmYW1pbHlfbmFtZVxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiU3dhbnNvblxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwie3tmYW1pbHlfbmFtZX19XFxcIiBhdXRvY29tcGxldGU9XFxcImZhbWlseS1uYW1lXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwia3ljRWRpdE5hbWVDb25maXJtXFxcIj5Db25maXJtPC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XFxyXFxuXFxyXFxuPGZpZWxkc2V0IGNsYXNzPVxcXCJoaWRkZW5cXFwiIGlkPVxcXCJjb25maXJtTmFtZUZpZWxkc2V0XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29uZmlybV9uYW1lXFxcIj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvbmZpcm1fbmFtZVxcXCIgaWQ9XFxcImxhYmVsX2NvbmZpcm1fbmFtZVxcXCI+UGxlYXNlIHR5cGU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImNvbmZpcm1fbmFtZVxcXCIgaWQ9XFxcImNvbmZpcm1fbmFtZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiIGlkPVxcXCJreWNFZGl0TmFtZUVycm9yXFxcIj48L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiYnV0dG9ucyBncmlkXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gaWQ9XFxcImt5Y0VkaXROYW1lQmFja1xcXCI+QmFjazwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGlkPVxcXCJreWNFZGl0TmFtZVNhdmVcXFwiPkNvbmZpcm08L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaW5nSGVscGVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgaXNOdWxsT3JFbXB0eShzdHI6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiAhc3RyIHx8IHN0ci50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPT0gMDtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IEt5Y0VkaXROYW1lSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNFZGl0TmFtZS5odG1sJztcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBTdHJpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvU3RyaW5nSGVscGVyXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0VkaXROYW1lRm9ybSB7XHJcbiAgICBtb2RhbDogTW9kYWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93KCkge1xyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZUVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lRXJyb3InKTtcclxuICAgICAgICBpZiAoa3ljRWRpdE5hbWVFcnJvcikga3ljRWRpdE5hbWVFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICBsZXQgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRBY2NvdW50KClcclxuXHJcbiAgICAgICAgbGV0IGdpdmVuX25hbWUgPSBhY2NvdW50LmlkZW50aXR5LmdpdmVuX25hbWUgYXMgc3RyaW5nO1xyXG4gICAgICAgIGxldCBtaWRkbGVfbmFtZSA9IGFjY291bnQuaWRlbnRpdHkubWlkZGxlX25hbWUgYXMgc3RyaW5nO1xyXG4gICAgICAgIGxldCBmYW1pbHlfbmFtZSA9IGFjY291bnQuaWRlbnRpdHkuZmFtaWx5X25hbWU7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNFZGl0TmFtZUh0bWwpXHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZSh7Z2l2ZW5fbmFtZTogZ2l2ZW5fbmFtZSwgbWlkZGxlX25hbWU6IG1pZGRsZV9uYW1lLCBmYW1pbHlfbmFtZTogZmFtaWx5X25hbWV9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0VkaXQgbmFtZScsIGNvbnRlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRFdmVudHMoKSB7XHJcblxyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZUNvbmZpcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWVDb25maXJtJyk7XHJcbiAgICAgICAga3ljRWRpdE5hbWVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBnaXZlbl9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdmVuX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgbWlkZGxlX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWlkZGxlX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgZmFtaWx5X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFtaWx5X25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShnaXZlbl9uYW1lLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoJ0dpdmVuIG5hbWUgY2Fubm90IGJlIGVtcHR5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShmYW1pbHlfbmFtZS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKCdGYW1pbHkgbmFtZSBjYW5ub3QgYmUgZW1wdHknKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZnVsbF9uYW1lID0gdGhpcy5nZXRGdWxsTmFtZSgpO1xyXG4gICAgICAgICAgICBsZXQgbGFiZWxfY29uZmlybV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhYmVsX2NvbmZpcm1fbmFtZScpO1xyXG4gICAgICAgICAgICBpZiAoIWxhYmVsX2NvbmZpcm1fbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiByZXBvcnQgZXJyb3IgaW4gZm9ybVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsYWJlbF9jb25maXJtX25hbWUuaW5uZXJIVE1MID0gJ1BsZWFzZSB0eXBlIGluIHRoZSBmdWxsIG5hbWUgXCInICsgZnVsbF9uYW1lICsgJ1wiIGluIHRoZSBib3ggYmVsb3cgdG8gY29uZmlybS4gWW91IFdJTEwgTk9UIGJlIGFibGUgdG8gY2hhbmdlIGl0IGFnYWluLic7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybU5hbWVGaWVsZHNldCcpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWUnKT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQga3ljRWRpdE5hbWVCYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lQmFjaycpO1xyXG4gICAgICAgIGt5Y0VkaXROYW1lQmFjaz8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtTmFtZUZpZWxkc2V0Jyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNFZGl0TmFtZScpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBjb25maXJtX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAoIWNvbmZpcm1fbmFtZSkge1xyXG4gICAgICAgICAgICAvL1RPRE86IHJlcG9ydCBlcnJvciBpbiBmb3JtXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZVNhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWVTYXZlJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAga3ljRWRpdE5hbWVTYXZlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBjb25maXJtX25hbWUuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIGNvbmZpcm1fbmFtZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpcm1fbmFtZS52YWx1ZSA9PSB0aGlzLmdldEZ1bGxOYW1lKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1fbmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICdmYWxzZScpO1xyXG4gICAgICAgICAgICAgICAga3ljRWRpdE5hbWVTYXZlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtX25hbWUuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAga3ljRWRpdE5hbWVTYXZlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGt5Y0VkaXROYW1lU2F2ZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb25maXJtX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGNvbmZpcm1fbmFtZSAmJiBjb25maXJtX25hbWUudmFsdWUgIT0gdGhpcy5nZXRGdWxsTmFtZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChjb25maXJtX25hbWUudmFsdWUgKyAnIGlzIG5vdCBzYW1lIGFzICcgKyB0aGlzLmdldEZ1bGxOYW1lKCkgKyAnLiBHbyBvdmVyIHRoZSBuYW1lIGFuZCBtYWtlIHN1cmUgaXQgaXMgaWRlbnRpY2FsJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBnaXZlbl9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdmVuX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgbWlkZGxlX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWlkZGxlX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgZmFtaWx5X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFtaWx5X25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBMb2FkaW5nSGVscGVyLnNldExvYWRpbmcoa3ljRWRpdE5hbWVTYXZlKTtcclxuICAgICAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVOYW1lKGdpdmVuX25hbWUudmFsdWUsIG1pZGRsZV9uYW1lLnZhbHVlLCBmYW1pbHlfbmFtZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFzb24ubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihKU09OLnBhcnNlKHJlYXNvbi5tZXNzYWdlKS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93RXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGt5Y0VkaXROYW1lRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljRWRpdE5hbWVFcnJvcicpO1xyXG4gICAgICAgIGlmICgha3ljRWRpdE5hbWVFcnJvcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBreWNFZGl0TmFtZUVycm9yLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAga3ljRWRpdE5hbWVFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEZ1bGxOYW1lKCkge1xyXG4gICAgICAgIGxldCBnaXZlbl9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdmVuX25hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBtaWRkbGVfbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaWRkbGVfbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGZhbWlseV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhbWlseV9uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdpdmVuX25hbWUudmFsdWUgKyAnICcgKyAoIVN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KG1pZGRsZV9uYW1lLnZhbHVlKSA/IG1pZGRsZV9uYW1lLnZhbHVlICsgJyAnIDogJycpICsgZmFtaWx5X25hbWUudmFsdWU7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgaWQ9XFxcImt5Y0VkaXRDb250YWN0RmllbGRzZXRcXFwiPlxcclxcbiAgICA8Zm9ybSBpZD1cXFwia3ljRWRpdENvbnRhY3RGb3JtXFxcIj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1haWxfYWRkcmVzc1xcXCI+RW1haWw8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgcmVxdWlyZWQgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImVtYWlsX2FkZHJlc3NcXFwiIG5hbWU9XFxcImVtYWlsX2FkZHJlc3NcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJuYW1lQGV4YW1wbGUuY29tXFxcIiBhdXRvY29tcGxldGU9XFxcImVtYWlsXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJwaG9uZV9udW1iZXJcXFwiPlBob25lPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGVsXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwicGhvbmVfbnVtYmVyXFxcIiBuYW1lPVxcXCJwaG9uZV9udW1iZXJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCIrMS01NTUtNjY2LTc3ODhcXFwiIGF1dG9jb21wbGV0ZT1cXFwidGVsXFxcIiB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCI+UGVybWFuZW50IFJlc2lkZW50aWFsIEFkZHJlc3M8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImV4cGxhaW5cXFwiPkl0IG11c3QgYmUgYSBwaHlzaWNhbCBhZGRyZXNzLCBub3QgYSBQTyBib3guPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCIgbmFtZT1cXFwic3RyZWV0X2FkZHJlc3NcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCIyMCBOIFNhbiBNYXRlbyBEclxcXCIgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxpbmUxXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJ1bml0XFxcIj5Vbml0IC8gQXB0ICM8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwidW5pdFxcXCIgbmFtZT1cXFwidW5pdFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY2l0eVxcXCI+Q2l0eTwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJjaXR5XFxcIiBuYW1lPVxcXCJjaXR5XFxcIiBwbGFjZWhvbGRlcj1cXFwiUGF3bmVlXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIiBhdXRvY29tcGxldGU9XFxcImFkZHJlc3MtbGV2ZWwyXFxcIj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJwb3N0YWxfY29kZVxcXCI+UG9zdGFsIGNvZGU8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwicG9zdGFsX2NvZGVcXFwiIGF1dG9jb21wbGV0ZT1cXFwicG9zdGFsLWNvZGVcXFwiIG5hbWU9XFxcInBvc3RhbF9jb2RlXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiOTQ0MDFcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICB7eyNpZiB1c2F9fVxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwic3RhdGVfZGl2XFxcIj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJzdGF0ZVxcXCI+U3RhdGUgKDIgbGV0dGVycyk8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCBtYXhsZW5ndGg9XFxcIjJcXFwiIGlkPVxcXCJzdGF0ZVxcXCIgbmFtZT1cXFwic3RhdGVcXFwiIHBsYWNlaG9sZGVyPVxcXCJOWVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxldmVsMVxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIHt7L2lmfX1cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwia3ljRWRpdENvbnRhY3RFcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b25zXFxcIj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgaWQ9XFxcImt5Y0VkaXRDb250YWN0U2F2ZVxcXCI+U2F2ZTwvYnV0dG9uPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZm9ybT5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS3ljVmFsaWRhdG9yRXJyb3IgZnJvbSBcIi4uL2Vycm9ycy9jbG91ZC9LeWNWYWxpZGF0b3JFcnJvclwiO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuL1N0cmluZ0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybUhlbHBlciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQYXJhbXMoc2VsZWN0b3I6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgICAgIGlmICghZm9ybSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoZGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHNlcmlhbGl6ZShkYXRhOiBhbnkpIHtcclxuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAob2JqW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9ialtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9ialtrZXldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZpbGxJbnB1dHMocHJvcGVydGllczogc3RyaW5nW10sIGl0ZW06IGFueSkge1xyXG4gICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9JyArIHZhbHVlICsgJ10nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tib3gnLCBpbnB1dCwgaXRlbVt2YWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gaXRlbVt2YWx1ZV1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBpdGVtW3ZhbHVlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSlcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9JyArIHZhbHVlICsgJ10nKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBpdGVtW3ZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3QuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZShzZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIGlucHV0W3JlcXVpcmVkXScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGlucHV0c1tpXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJylcclxuICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IEt5Y0VkaXRDb250YWN0Rm9ybUh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljRWRpdENvbnRhY3RGb3JtLmh0bWwnXHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgRm9ybUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Gb3JtSGVscGVyXCI7XHJcbmltcG9ydCBLeWNWYWxpZGF0b3JFcnJvciBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBTdHJpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvU3RyaW5nSGVscGVyXCI7XHJcbmltcG9ydCB7QWNjb3VudEluZm99IGZyb20gXCIuLi8uLi8uLi9kdG8vYWxwYWNhL0FjY291bnRJbmZvXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0VkaXRDb250YWN0Rm9ybSB7XHJcbiAgICBtb2RhbDogTW9kYWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93KCkge1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IHVzZXJTZXJ2aWNlLmdldEFjY291bnQoKTtcclxuICAgICAgICBsZXQgdXNhID0gYWNjb3VudC5pZGVudGl0eS5jb3VudHJ5X29mX3RheF9yZXNpZGVuY2UgPT0gJ1VTQSdcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljRWRpdENvbnRhY3RGb3JtSHRtbCk7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0VkaXQgY29udGFjdCBpbmZvcm1hdGlvbicsIHRlbXBsYXRlKHt1c2E6IHVzYX0pKVxyXG5cclxuICAgICAgICBsZXQgY29udGFjdFByb3BlcnRpZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhY2NvdW50LmNvbnRhY3QpO1xyXG4gICAgICAgIEZvcm1IZWxwZXIuZmlsbElucHV0cyhjb250YWN0UHJvcGVydGllcywgYWNjb3VudC5jb250YWN0KTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBsZXQga3ljRWRpdENvbnRhY3RTYXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXRDb250YWN0U2F2ZScpO1xyXG4gICAgICAgIGt5Y0VkaXRDb250YWN0U2F2ZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIuc2V0TG9hZGluZyhreWNFZGl0Q29udGFjdFNhdmUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBGb3JtSGVscGVyLmdldFBhcmFtcygnI2t5Y0VkaXRDb250YWN0Rm9ybScpO1xyXG4gICAgICAgICAgICBsZXQgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLnVwZGF0ZUNvbnRhY3QoZGF0YSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgYWNjb3VudEluZm8gPSByZXNwb25zZSBhcyBBY2NvdW50SW5mbztcclxuICAgICAgICAgICAgICAgIGxldCBlbWFpbF9hZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsX2FkZHJlc3MnKSBhcyBIVE1MSW5wdXRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudEluZm8uY29udGFjdC5lbWFpbF9hZGRyZXNzICE9IGVtYWlsX2FkZHJlc3M/LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoJ0VtYWlsIHdhcyBub3QgY2hhbmdlZC4gVGhlIGVtYWlsICcgKyBlbWFpbF9hZGRyZXNzPy52YWx1ZSArICcgaXMgYWxyZWFkeSByZWdpc3RlcmVkIHVuZGVyIGRpZmZlcmVudCBhY2NvdW50LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhc29uLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihKU09OLnBhcnNlKHJlYXNvbi5tZXNzYWdlKS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dFcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQga3ljRWRpdE5hbWVFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNFZGl0Q29udGFjdEVycm9yJyk7XHJcbiAgICAgICAgaWYgKCFreWNFZGl0TmFtZUVycm9yKSByZXR1cm47XHJcblxyXG4gICAgICAgIGt5Y0VkaXROYW1lRXJyb3IuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICBreWNFZGl0TmFtZUVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmFsaWRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNreWNFZGl0Q29udGFjdEZpZWxkc2V0IGlucHV0W3JlcXVpcmVkXScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGlucHV0c1tpXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkoaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJylcclxuICAgICAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KGlucHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICdmYWxzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGNsYXNzPVxcXCJreWNUcnVzdGVkQ29udGFjdFxcXCI+XFxyXFxuICAgIDxmb3JtIGlkPVxcXCJreWNUcnVzdGVkQ29udGFjdEZvcm1cXFwiIG1ldGhvZD1cXFwicG9zdFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5cXHJcXG4gICAgICAgICAgICBBIHRydXN0ZWQgY29udGFjdCBpcyBhIHBlcnNvbiB5b3UgYXV0aG9yaXplIHlvdXIgZmluYW5jaWFsIGZpcm0gdG8gY29udGFjdCBpbiBsaW1pdGVkIGNpcmN1bXN0YW5jZXMsXFxyXFxuICAgICAgICAgICAgc3VjaCBhcyBpZiB0aGVyZSBpcyBhIGNvbmNlcm4gYWJvdXQgYWN0aXZpdHkgaW4geW91ciBhY2NvdW50IGFuZCB0aGV5IGhhdmUgYmVlbiB1bmFibGUgdG8gZ2V0IGluIHRvdWNoIHdpdGhcXHJcXG4gICAgICAgICAgICB5b3UuXFxyXFxuICAgICAgICAgICAgPGJyLz48YnIvPlxcclxcbiAgICAgICAgICAgIEEgdHJ1c3RlZCBjb250YWN0IG1heSBiZSBhIGZhbWlseSBtZW1iZXIsIGF0dG9ybmV5LCBhY2NvdW50YW50IG9yIGFub3RoZXIgdGhpcmQtcGFydHkgd2hvIHlvdSBiZWxpZXZlIHdvdWxkXFxyXFxuICAgICAgICAgICAgcmVzcGVjdCB5b3VyIHByaXZhY3kgYW5kIGtub3cgaG93IHRvIGhhbmRsZSB0aGUgcmVzcG9uc2liaWxpdHkuXFxyXFxuICAgICAgICAgICAgVGhlIHRydXN0ZWQgcGVyc29uIHNob3VsZCBiZSAxOCB5ZWFycyBvbGQgb3Igb2xkZXIuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZ2l2ZW5fbmFtZVxcXCI+TGVnYWwgZ2l2ZW4gbmFtZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwiZ2l2ZW5fbmFtZVxcXCIgbmFtZT1cXFwiZ2l2ZW5fbmFtZVxcXCIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImZhbWlseV9uYW1lXFxcIj5MZWdhbCBmYW1pbHkgbmFtZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwiZmFtaWx5X25hbWVcXFwiIG5hbWU9XFxcImZhbWlseV9uYW1lXFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgSWYgeW91IGZpbGwgaW4gbmFtZSwgeW91IGFyZSByZXF1aXJlZCB0byBmaWxsIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nLCBlbWFpbCwgcGhvbmUgb3IgYWRkcmVzc1xcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcImNvbnRhY3RfbWlzc2luZ19pbmZvXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1haWxfYWRkcmVzc1xcXCI+RW1haWwgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImVtYWlsX2FkZHJlc3NcXFwiIHR5cGU9XFxcImVtYWlsXFxcIiBuYW1lPVxcXCJlbWFpbF9hZGRyZXNzXFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwicGhvbmVfbnVtYmVyXFxcIj5QaG9uZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwicGhvbmVfbnVtYmVyXFxcIiB0eXBlPVxcXCJ0ZWxcXFwiIG5hbWU9XFxcInBob25lX251bWJlclxcXCIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInN0cmVldF9hZGRyZXNzXFxcIj5BZGRyZXNzIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCIgbmFtZT1cXFwic3RyZWV0X2FkZHJlc3NcXFwiLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjaXR5XFxcIj5DaXR5IG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJjaXR5XFxcIiBuYW1lPVxcXCJjaXR5XFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwic3RhdGVcXFwiPlN0YXRlIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzdGF0ZVxcXCIgbmFtZT1cXFwic3RhdGVcXFwiLz5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJwb3N0YWxfY29kZVxcXCI+UG9zdGFsIGNvZGUgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInBvc3RhbF9jb2RlXFxcIiBuYW1lPVxcXCJwb3N0YWxfY29kZVxcXCIvPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImNvdW50cnlcXFwiPkNvdW50cnkgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJjb3VudHJ5XFxcIiByZXF1aXJlZCBuYW1lPVxcXCJjb3VudHJ5XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAge3sjZWFjaCBjb3VudHJpZXN9fVxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2NvZGV9fVxcXCI+e3tuYW1lfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIiBpZD1cXFwia3ljRWRpdE5hbWVFcnJvclxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b25zXFxcIj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgaWQ9XFxcInRydXN0ZWRDb250YWN0U3VibWl0XFxcIj5TdWJtaXQ8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRyeUhlbHBlciB7XHJcbiAgICBzdGF0aWMgQ291bnRyaWVzID0gW1xyXG4gICAgICAgIHtcIm5hbWVcIjogXCJVbml0ZWQgU3RhdGVzIG9mIEFtZXJpY2FcIiwgXCJjb2RlXCI6IFwiVVNBXCJ9LFxyXG4gICAgICAgIHtcIm5hbWVcIjogXCJVbml0ZWQgS2luZ2RvbVwiLCBcImNvZGVcIjogXCJHQlJcIn0sXHJcbiAgICAgICAge1wibmFtZVwiOiBcIkFmZ2hhbmlzdGFuXCIsIFwiY29kZVwiOiBcIkFGR1wifSwge1wibmFtZVwiOiBcIkFsYmFuaWFcIiwgXCJjb2RlXCI6IFwiQUxCXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFsZ2VyaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRFpBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQW1lcmljYW4gU2Ftb2FcIiwgXCJjb2RlXCI6IFwiQVNNXCJ9LCB7XCJuYW1lXCI6IFwiQW5kb3JyYVwiLCBcImNvZGVcIjogXCJBTkRcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW5nb2xhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkFHT1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkFuZ3VpbGxhXCIsIFwiY29kZVwiOiBcIkFJQVwifSwge1wibmFtZVwiOiBcIkFudGFyY3RpY2FcIiwgXCJjb2RlXCI6IFwiQVRBXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFudGlndWEgYW5kIEJhcmJ1ZGFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQVRHXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQXJnZW50aW5hXCIsIFwiY29kZVwiOiBcIkFSR1wifSwge1wibmFtZVwiOiBcIkFybWVuaWFcIiwgXCJjb2RlXCI6IFwiQVJNXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFydWJhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkFCV1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkF1c3RyYWxpYVwiLCBcImNvZGVcIjogXCJBVVNcIn0sIHtcIm5hbWVcIjogXCJBdXN0cmlhXCIsIFwiY29kZVwiOiBcIkFVVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBemVyYmFpamFuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkFaRVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIsOFbGFuZCBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkFMQVwifSwge1wibmFtZVwiOiBcIkJhaGFtYXNcIiwgXCJjb2RlXCI6IFwiQkhTXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJhaHJhaW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQkhSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQmFuZ2xhZGVzaFwiLCBcImNvZGVcIjogXCJCR0RcIn0sIHtcIm5hbWVcIjogXCJCYXJiYWRvc1wiLCBcImNvZGVcIjogXCJCUkJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQmVsYXJ1c1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCTFJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCZWxnaXVtXCIsIFwiY29kZVwiOiBcIkJFTFwifSwge1wibmFtZVwiOiBcIkJlbGl6ZVwiLCBcImNvZGVcIjogXCJCTFpcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQmVuaW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQkVOXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQmVybXVkYVwiLCBcImNvZGVcIjogXCJCTVVcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQmh1dGFuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkJUTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkJvbGl2aWEgKFBsdXJpbmF0aW9uYWwgU3RhdGUgb2YpXCIsIFwiY29kZVwiOiBcIkJPTFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCb25haXJlLCBTaW50IEV1c3RhdGl1cyBhbmQgU2FiYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCRVNcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCb3NuaWEgYW5kIEhlcnplZ292aW5hXCIsIFwiY29kZVwiOiBcIkJJSFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCb3Rzd2FuYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCV0FcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCb3V2ZXQgSXNsYW5kXCIsIFwiY29kZVwiOiBcIkJWVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCcmF6aWxcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQlJBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5XCIsIFwiY29kZVwiOiBcIklPVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJCcnVuZWkgRGFydXNzYWxhbVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJCUk5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJCdWxnYXJpYVwiLCBcImNvZGVcIjogXCJCR1JcIn0sIHtcIm5hbWVcIjogXCJCdXJraW5hIEZhc29cIiwgXCJjb2RlXCI6IFwiQkZBXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkJ1cnVuZGlcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQkRJXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ2FibyBWZXJkZVwiLCBcImNvZGVcIjogXCJDUFZcIn0sIHtcIm5hbWVcIjogXCJDYW1ib2RpYVwiLCBcImNvZGVcIjogXCJLSE1cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2FtZXJvb25cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQ01SXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ2FuYWRhXCIsIFwiY29kZVwiOiBcIkNBTlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDYXltYW4gSXNsYW5kc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDWU1cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDZW50cmFsIEFmcmljYW4gUmVwdWJsaWNcIiwgXCJjb2RlXCI6IFwiQ0FGXCJ9LCB7XCJuYW1lXCI6IFwiQ2hhZFwiLCBcImNvZGVcIjogXCJUQ0RcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ2hpbGVcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQ0hMXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ2hpbmFcIiwgXCJjb2RlXCI6IFwiQ0hOXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNocmlzdG1hcyBJc2xhbmRcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQ1hSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ29jb3MgKEtlZWxpbmcpIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiQ0NLXCJ9LCB7XCJuYW1lXCI6IFwiQ29sb21iaWFcIiwgXCJjb2RlXCI6IFwiQ09MXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNvbW9yb3NcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiQ09NXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiQ29uZ28gKHRoZSBEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZSlcIiwgXCJjb2RlXCI6IFwiQ09EXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkNvbmdvXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkNPR1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkNvb2sgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJDT0tcIn0sIHtcIm5hbWVcIjogXCJDb3N0YSBSaWNhXCIsIFwiY29kZVwiOiBcIkNSSVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJDcm9hdGlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkhSVlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkN1YmFcIiwgXCJjb2RlXCI6IFwiQ1VCXCJ9LCB7XCJuYW1lXCI6IFwiQ3VyYcOnYW9cIiwgXCJjb2RlXCI6IFwiQ1VXXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkN5cHJ1c1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJDWVBcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJDemVjaGlhXCIsIFwiY29kZVwiOiBcIkNaRVwifSwge1wibmFtZVwiOiBcIkPDtHRlIGQnSXZvaXJlXCIsIFwiY29kZVwiOiBcIkNJVlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJEZW5tYXJrXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkROS1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkRqaWJvdXRpXCIsIFwiY29kZVwiOiBcIkRKSVwifSwge1wibmFtZVwiOiBcIkRvbWluaWNhXCIsIFwiY29kZVwiOiBcIkRNQVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJEb21pbmljYW4gUmVwdWJsaWNcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRE9NXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRWN1YWRvclwiLCBcImNvZGVcIjogXCJFQ1VcIn0sIHtcIm5hbWVcIjogXCJFZ3lwdFwiLCBcImNvZGVcIjogXCJFR1lcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRWwgU2FsdmFkb3JcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU0xWXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRXF1YXRvcmlhbCBHdWluZWFcIiwgXCJjb2RlXCI6IFwiR05RXCJ9LCB7XCJuYW1lXCI6IFwiRXJpdHJlYVwiLCBcImNvZGVcIjogXCJFUklcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXN0b25pYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJFU1RcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJFc3dhdGluaVwiLCBcImNvZGVcIjogXCJTV1pcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXRoaW9waWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiRVRIXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRmFsa2xhbmQgSXNsYW5kcyBbTWFsdmluYXNdXCIsIFwiY29kZVwiOiBcIkZMS1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJGYXJvZSBJc2xhbmRzXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkZST1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkZpamlcIiwgXCJjb2RlXCI6IFwiRkpJXCJ9LCB7XCJuYW1lXCI6IFwiRmlubGFuZFwiLCBcImNvZGVcIjogXCJGSU5cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRnJhbmNlXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkZSQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkZyZW5jaCBHdWlhbmFcIiwgXCJjb2RlXCI6IFwiR1VGXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkZyZW5jaCBQb2x5bmVzaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiUFlGXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiRnJlbmNoIFNvdXRoZXJuIFRlcnJpdG9yaWVzXCIsIFwiY29kZVwiOiBcIkFURlwifSwge1wibmFtZVwiOiBcIkdhYm9uXCIsIFwiY29kZVwiOiBcIkdBQlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJHYW1iaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiR01CXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiR2VvcmdpYVwiLCBcImNvZGVcIjogXCJHRU9cIn0sIHtcIm5hbWVcIjogXCJHZXJtYW55XCIsIFwiY29kZVwiOiBcIkRFVVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJHaGFuYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJHSEFcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJHaWJyYWx0YXJcIiwgXCJjb2RlXCI6IFwiR0lCXCJ9LCB7XCJuYW1lXCI6IFwiR3JlZWNlXCIsIFwiY29kZVwiOiBcIkdSQ1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJHcmVlbmxhbmRcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiR1JMXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiR3JlbmFkYVwiLCBcImNvZGVcIjogXCJHUkRcIn0sIHtcIm5hbWVcIjogXCJHdWFkZWxvdXBlXCIsIFwiY29kZVwiOiBcIkdMUFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJHdWFtXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkdVTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkd1YXRlbWFsYVwiLCBcImNvZGVcIjogXCJHVE1cIn0sIHtcIm5hbWVcIjogXCJHdWVybnNleVwiLCBcImNvZGVcIjogXCJHR1lcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiR3VpbmVhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkdJTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkd1aW5lYS1CaXNzYXVcIiwgXCJjb2RlXCI6IFwiR05CXCJ9LCB7XCJuYW1lXCI6IFwiR3V5YW5hXCIsIFwiY29kZVwiOiBcIkdVWVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJIYWl0aVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJIVElcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJIZWFyZCBJc2xhbmQgYW5kIE1jRG9uYWxkIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiSE1EXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkhvbHkgU2VlXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlZBVFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkhvbmR1cmFzXCIsIFwiY29kZVwiOiBcIkhORFwifSwge1wibmFtZVwiOiBcIkhvbmcgS29uZ1wiLCBcImNvZGVcIjogXCJIS0dcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSHVuZ2FyeVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJIVU5cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJJY2VsYW5kXCIsIFwiY29kZVwiOiBcIklTTFwifSwge1wibmFtZVwiOiBcIkluZGlhXCIsIFwiY29kZVwiOiBcIklORFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJJbmRvbmVzaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiSUROXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiSXJhbiAoSXNsYW1pYyBSZXB1YmxpYyBvZilcIiwgXCJjb2RlXCI6IFwiSVJOXCJ9LCB7XCJuYW1lXCI6IFwiSXJhcVwiLCBcImNvZGVcIjogXCJJUlFcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiSXJlbGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJJUkxcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJJc2xlIG9mIE1hblwiLCBcImNvZGVcIjogXCJJTU5cIn0sIHtcIm5hbWVcIjogXCJJc3JhZWxcIiwgXCJjb2RlXCI6IFwiSVNSXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkl0YWx5XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIklUQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkphbWFpY2FcIiwgXCJjb2RlXCI6IFwiSkFNXCJ9LCB7XCJuYW1lXCI6IFwiSmFwYW5cIiwgXCJjb2RlXCI6IFwiSlBOXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkplcnNleVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJKRVlcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJKb3JkYW5cIiwgXCJjb2RlXCI6IFwiSk9SXCJ9LCB7XCJuYW1lXCI6IFwiS2F6YWtoc3RhblwiLCBcImNvZGVcIjogXCJLQVpcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiS2VueWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiS0VOXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiS2lyaWJhdGlcIiwgXCJjb2RlXCI6IFwiS0lSXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIktvcmVhICh0aGUgRGVtb2NyYXRpYyBQZW9wbGUncyBSZXB1YmxpYyBvZilcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiUFJLXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiS29yZWEgKHRoZSBSZXB1YmxpYyBvZilcIiwgXCJjb2RlXCI6IFwiS09SXCJ9LCB7XCJuYW1lXCI6IFwiS3V3YWl0XCIsIFwiY29kZVwiOiBcIktXVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJLeXJneXpzdGFuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIktHWlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkxhbyBQZW9wbGUncyBEZW1vY3JhdGljIFJlcHVibGljXCIsIFwiY29kZVwiOiBcIkxBT1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJMYXR2aWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTFZBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTGViYW5vblwiLCBcImNvZGVcIjogXCJMQk5cIn0sIHtcIm5hbWVcIjogXCJMZXNvdGhvXCIsIFwiY29kZVwiOiBcIkxTT1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJMaWJlcmlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkxCUlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIkxpYnlhXCIsIFwiY29kZVwiOiBcIkxCWVwifSwge1wibmFtZVwiOiBcIkxpZWNodGVuc3RlaW5cIiwgXCJjb2RlXCI6IFwiTElFXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkxpdGh1YW5pYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJMVFVcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJMdXhlbWJvdXJnXCIsIFwiY29kZVwiOiBcIkxVWFwifSwge1wibmFtZVwiOiBcIk1hY2FvXCIsIFwiY29kZVwiOiBcIk1BQ1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNYWRhZ2FzY2FyXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk1ER1wiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk1hbGF3aVwiLCBcImNvZGVcIjogXCJNV0lcIn0sIHtcIm5hbWVcIjogXCJNYWxheXNpYVwiLCBcImNvZGVcIjogXCJNWVNcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTWFsZGl2ZXNcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTURWXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTWFsaVwiLCBcImNvZGVcIjogXCJNTElcIn0sIHtcIm5hbWVcIjogXCJNYWx0YVwiLCBcImNvZGVcIjogXCJNTFRcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTWFyc2hhbGwgSXNsYW5kc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNSExcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNYXJ0aW5pcXVlXCIsIFwiY29kZVwiOiBcIk1UUVwifSwge1wibmFtZVwiOiBcIk1hdXJpdGFuaWFcIiwgXCJjb2RlXCI6IFwiTVJUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk1hdXJpdGl1c1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNVVNcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNYXlvdHRlXCIsIFwiY29kZVwiOiBcIk1ZVFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNZXhpY29cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTUVYXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTWljcm9uZXNpYSAoRmVkZXJhdGVkIFN0YXRlcyBvZilcIiwgXCJjb2RlXCI6IFwiRlNNXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk1vbGRvdmEgKHRoZSBSZXB1YmxpYyBvZilcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTURBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTW9uYWNvXCIsIFwiY29kZVwiOiBcIk1DT1wifSwge1wibmFtZVwiOiBcIk1vbmdvbGlhXCIsIFwiY29kZVwiOiBcIk1OR1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJNb250ZW5lZ3JvXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk1ORVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk1vbnRzZXJyYXRcIiwgXCJjb2RlXCI6IFwiTVNSXCJ9LCB7XCJuYW1lXCI6IFwiTW9yb2Njb1wiLCBcImNvZGVcIjogXCJNQVJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTW96YW1iaXF1ZVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJNT1pcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJNeWFubWFyXCIsIFwiY29kZVwiOiBcIk1NUlwifSwge1wibmFtZVwiOiBcIk5hbWliaWFcIiwgXCJjb2RlXCI6IFwiTkFNXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIk5hdXJ1XCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk5SVVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk5lcGFsXCIsIFwiY29kZVwiOiBcIk5QTFwifSwge1wibmFtZVwiOiBcIk5ldGhlcmxhbmRzXCIsIFwiY29kZVwiOiBcIk5MRFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJOZXcgQ2FsZWRvbmlhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk5DTFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIk5ldyBaZWFsYW5kXCIsIFwiY29kZVwiOiBcIk5aTFwifSwge1wibmFtZVwiOiBcIk5pY2FyYWd1YVwiLCBcImNvZGVcIjogXCJOSUNcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTmlnZXJcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiTkVSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiTmlnZXJpYVwiLCBcImNvZGVcIjogXCJOR0FcIn0sIHtcIm5hbWVcIjogXCJOaXVlXCIsIFwiY29kZVwiOiBcIk5JVVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJOb3Jmb2xrIElzbGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJORktcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJOb3J0aGVybiBNYXJpYW5hIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiTU5QXCJ9LCB7XCJuYW1lXCI6IFwiTm9yd2F5XCIsIFwiY29kZVwiOiBcIk5PUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJPbWFuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIk9NTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlBha2lzdGFuXCIsIFwiY29kZVwiOiBcIlBBS1wifSwge1wibmFtZVwiOiBcIlBhbGF1XCIsIFwiY29kZVwiOiBcIlBMV1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJQYWxlc3RpbmUsIFN0YXRlIG9mXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlBTRVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlBhbmFtYVwiLCBcImNvZGVcIjogXCJQQU5cIn0sIHtcIm5hbWVcIjogXCJQYXB1YSBOZXcgR3VpbmVhXCIsIFwiY29kZVwiOiBcIlBOR1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJQYXJhZ3VheVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJQUllcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJQZXJ1XCIsIFwiY29kZVwiOiBcIlBFUlwifSwge1wibmFtZVwiOiBcIlBoaWxpcHBpbmVzXCIsIFwiY29kZVwiOiBcIlBITFwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJQaXRjYWlyblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJQQ05cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJQb2xhbmRcIiwgXCJjb2RlXCI6IFwiUE9MXCJ9LCB7XCJuYW1lXCI6IFwiUG9ydHVnYWxcIiwgXCJjb2RlXCI6IFwiUFJUXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlB1ZXJ0byBSaWNvXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlBSSVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlFhdGFyXCIsIFwiY29kZVwiOiBcIlFBVFwifSwge1wibmFtZVwiOiBcIlJlcHVibGljIG9mIE5vcnRoIE1hY2Vkb25pYVwiLCBcImNvZGVcIjogXCJNS0RcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUm9tYW5pYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJST1VcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJSdXNzaWFuIEZlZGVyYXRpb25cIiwgXCJjb2RlXCI6IFwiUlVTXCJ9LCB7XCJuYW1lXCI6IFwiUndhbmRhXCIsIFwiY29kZVwiOiBcIlJXQVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJSw6l1bmlvblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJSRVVcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTYWludCBCYXJ0aMOpbGVteVwiLCBcImNvZGVcIjogXCJCTE1cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2FpbnQgSGVsZW5hLCBBc2NlbnNpb24gYW5kIFRyaXN0YW4gZGEgQ3VuaGFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU0hOXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU2FpbnQgS2l0dHMgYW5kIE5ldmlzXCIsIFwiY29kZVwiOiBcIktOQVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTYWludCBMdWNpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJMQ0FcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTYWludCBNYXJ0aW4gKEZyZW5jaCBwYXJ0KVwiLCBcImNvZGVcIjogXCJNQUZcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvblwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTUE1cIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lc1wiLCBcImNvZGVcIjogXCJWQ1RcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2Ftb2FcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiV1NNXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU2FuIE1hcmlub1wiLCBcImNvZGVcIjogXCJTTVJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2FvIFRvbWUgYW5kIFByaW5jaXBlXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNUUFwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlNhdWRpIEFyYWJpYVwiLCBcImNvZGVcIjogXCJTQVVcIn0sIHtcIm5hbWVcIjogXCJTZW5lZ2FsXCIsIFwiY29kZVwiOiBcIlNFTlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTZXJiaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU1JCXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU2V5Y2hlbGxlc1wiLCBcImNvZGVcIjogXCJTWUNcIn0sIHtcIm5hbWVcIjogXCJTaWVycmEgTGVvbmVcIiwgXCJjb2RlXCI6IFwiU0xFXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNpbmdhcG9yZVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTR1BcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTaW50IE1hYXJ0ZW4gKER1dGNoIHBhcnQpXCIsIFwiY29kZVwiOiBcIlNYTVwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTbG92YWtpYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTVktcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTbG92ZW5pYVwiLCBcImNvZGVcIjogXCJTVk5cIn0sIHtcIm5hbWVcIjogXCJTb2xvbW9uIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiU0xCXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlNvbWFsaWFcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU09NXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiU291dGggQWZyaWNhXCIsIFwiY29kZVwiOiBcIlpBRlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTb3V0aCBHZW9yZ2lhIGFuZCB0aGUgU291dGggU2FuZHdpY2ggSXNsYW5kc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJTR1NcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJTb3V0aCBTdWRhblwiLCBcImNvZGVcIjogXCJTU0RcIn0sIHtcIm5hbWVcIjogXCJTcGFpblwiLCBcImNvZGVcIjogXCJFU1BcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU3JpIExhbmthXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIkxLQVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlN1ZGFuXCIsIFwiY29kZVwiOiBcIlNETlwifSwge1wibmFtZVwiOiBcIlN1cmluYW1lXCIsIFwiY29kZVwiOiBcIlNVUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJTdmFsYmFyZCBhbmQgSmFuIE1heWVuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlNKTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlN3ZWRlblwiLCBcImNvZGVcIjogXCJTV0VcIn0sIHtcIm5hbWVcIjogXCJTd2l0emVybGFuZFwiLCBcImNvZGVcIjogXCJDSEVcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU3lyaWFuIEFyYWIgUmVwdWJsaWNcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiU1lSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVGFpd2FuIChQcm92aW5jZSBvZiBDaGluYSlcIiwgXCJjb2RlXCI6IFwiVFdOXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlRhamlraXN0YW5cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVEpLXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVGFuemFuaWEsIFVuaXRlZCBSZXB1YmxpYyBvZlwiLCBcImNvZGVcIjogXCJUWkFcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVGhhaWxhbmRcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVEhBXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVGltb3ItTGVzdGVcIiwgXCJjb2RlXCI6IFwiVExTXCJ9LCB7XCJuYW1lXCI6IFwiVG9nb1wiLCBcImNvZGVcIjogXCJUR09cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVG9rZWxhdVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJUS0xcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJUb25nYVwiLCBcImNvZGVcIjogXCJUT05cIn0sIHtcIm5hbWVcIjogXCJUcmluaWRhZCBhbmQgVG9iYWdvXCIsIFwiY29kZVwiOiBcIlRUT1wifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJUdW5pc2lhXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlRVTlwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlR1cmtleVwiLCBcImNvZGVcIjogXCJUVVJcIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVHVya21lbmlzdGFuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIlRLTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlR1cmtzIGFuZCBDYWljb3MgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJUQ0FcIn0sIHtcIm5hbWVcIjogXCJUdXZhbHVcIiwgXCJjb2RlXCI6IFwiVFVWXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlVnYW5kYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJVR0FcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJVa3JhaW5lXCIsIFwiY29kZVwiOiBcIlVLUlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJVbml0ZWQgQXJhYiBFbWlyYXRlc1wiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJBUkVcIlxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVW5pdGVkIEtpbmdkb20gb2YgR3JlYXQgQnJpdGFpbiBhbmQgTm9ydGhlcm4gSXJlbGFuZFwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJHQlJcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJVbml0ZWQgU3RhdGVzIE1pbm9yIE91dGx5aW5nIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiVU1JXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogXCJVU0FcIlxyXG4gICAgICAgIH0sIHtcIm5hbWVcIjogXCJVcnVndWF5XCIsIFwiY29kZVwiOiBcIlVSWVwifSwge1wibmFtZVwiOiBcIlV6YmVraXN0YW5cIiwgXCJjb2RlXCI6IFwiVVpCXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlZhbnVhdHVcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVlVUXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVmVuZXp1ZWxhIChCb2xpdmFyaWFuIFJlcHVibGljIG9mKVwiLCBcImNvZGVcIjogXCJWRU5cIn0sIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiVmlldCBOYW1cIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVk5NXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiVmlyZ2luIElzbGFuZHMgKEJyaXRpc2gpXCIsIFwiY29kZVwiOiBcIlZHQlwifSwge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJWaXJnaW4gSXNsYW5kcyAoVS5TLilcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IFwiVklSXCJcclxuICAgICAgICB9LCB7XCJuYW1lXCI6IFwiV2FsbGlzIGFuZCBGdXR1bmFcIiwgXCJjb2RlXCI6IFwiV0xGXCJ9LCB7XCJuYW1lXCI6IFwiV2VzdGVybiBTYWhhcmFcIiwgXCJjb2RlXCI6IFwiRVNIXCJ9LCB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlllbWVuXCIsXHJcbiAgICAgICAgICAgIFwiY29kZVwiOiBcIllFTVwiXHJcbiAgICAgICAgfSwge1wibmFtZVwiOiBcIlphbWJpYVwiLCBcImNvZGVcIjogXCJaTUJcIn0sIHtcIm5hbWVcIjogXCJaaW1iYWJ3ZVwiLCBcImNvZGVcIjogXCJaV0VcIn1cclxuICAgIF07XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsXCI7XHJcbmltcG9ydCBLeWNFZGl0VHJ1c3RlZENvbnRhY3RIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0VkaXRUcnVzdGVkQ29udGFjdC5odG1sJztcclxuaW1wb3J0IENvdW50cnlIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvQ291bnRyeUhlbHBlclwiO1xyXG5pbXBvcnQgRm9ybUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Gb3JtSGVscGVyXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNFZGl0VHJ1c3RlZENvbnRhY3Qge1xyXG5cclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3coKSB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgdXNlclNlcnZpY2UuZ2V0QWNjb3VudCgpO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljRWRpdFRydXN0ZWRDb250YWN0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5zaG93TW9kYWwoJ0VkaXQgdHJ1c3RlZCBjb250YWN0JywgdGVtcGxhdGUoe2NvdW50cmllczogQ291bnRyeUhlbHBlci5Db3VudHJpZXN9KSlcclxuXHJcbiAgICAgICAgaWYgKGFjY291bnQudHJ1c3RlZF9jb250YWN0KSB7XHJcbiAgICAgICAgICAgIGxldCBjb250YWN0UHJvcGVydGllcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFjY291bnQudHJ1c3RlZF9jb250YWN0KTtcclxuICAgICAgICAgICAgRm9ybUhlbHBlci5maWxsSW5wdXRzKGNvbnRhY3RQcm9wZXJ0aWVzLCBhY2NvdW50LnRydXN0ZWRfY29udGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHRydXN0ZWRDb250YWN0U3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRDb250YWN0U3VibWl0Jyk7XHJcbiAgICAgICAgdHJ1c3RlZENvbnRhY3RTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghRm9ybUhlbHBlci52YWxpZGF0ZSgnI2t5Y1RydXN0ZWRDb250YWN0Rm9ybScpKSByZXR1cm47XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIuc2V0TG9hZGluZyh0cnVzdGVkQ29udGFjdFN1Ym1pdCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gRm9ybUhlbHBlci5nZXRQYXJhbXMoJyNreWNUcnVzdGVkQ29udGFjdEZvcm0nKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVHJ1c3RlZENvbnRhY3QocGFyYW1zKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlYXNvbi5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoSlNPTi5wYXJzZShyZWFzb24ubWVzc2FnZSkubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0Vycm9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBreWNFZGl0TmFtZUVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y0VkaXROYW1lRXJyb3InKTtcclxuICAgICAgICBpZiAoIWt5Y0VkaXROYW1lRXJyb3IpIHJldHVybjtcclxuXHJcbiAgICAgICAga3ljRWRpdE5hbWVFcnJvci5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgIGt5Y0VkaXROYW1lRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBNb3JhbGlzIGZyb20gXCJNb3JhbGlzXCI7XHJcbmltcG9ydCBVc2VySW5mb0VsZW1lbnQgZnJvbSAnLi4vLi4vaHRtbC9lbGVtZW50cy9Vc2VySW5mby5odG1sJ1xyXG5pbXBvcnQge3JvdW5kQmlnTnVtYmVyLCBzaG9ydEV0aH0gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBBVVNEU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9BVVNEU2VydmljZVwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IEFVU0RGdW5kIGZyb20gXCIuLi9tb2RhbHMvQVVTREZ1bmRcIjtcclxuaW1wb3J0IEt5Y0VkaXROYW1lRm9ybSBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0TmFtZUZvcm1cIjtcclxuaW1wb3J0IEt5Y0VkaXRDb250YWN0Rm9ybSBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0Q29udGFjdEZvcm1cIjtcclxuaW1wb3J0IEt5Y0VkaXRUcnVzdGVkQ29udGFjdCBmcm9tIFwiLi4vbW9kYWxzL0tZQy9LeWNFZGl0VHJ1c3RlZENvbnRhY3RcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIHVzZXI/OiBNb3JhbGlzLkF0dHJpYnV0ZXM7XHJcbiAgICB1c2VyU2VydmljZTogVXNlclNlcnZpY2U7XHJcbiAgICBwcm92aWRlckluZm86IFByb3ZpZGVySW5mbztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobW9yYWxpczogdHlwZW9mIE1vcmFsaXMsIHByb3ZpZGVySW5mbzogUHJvdmlkZXJJbmZvLCB1c2VyPzogTW9yYWxpcy5BdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVySW5mbyA9IHByb3ZpZGVySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JXYWxsZXRDaGFuZ2VzKCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZFVzZXJNZW51VUkoZWxlbWVudElkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpc3RlbkZvcldhbGxldENoYW5nZXMoKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzLm9uQ2hhaW5DaGFuZ2VkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzLm9uQWNjb3VudENoYW5nZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vcmFsaXMub25EaXNjb25uZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzLm9uQ29ubmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvYWRVc2VyTWVudVVJKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJJbmZvRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoIXVzZXJJbmZvRGl2KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IG9iajogYW55ID0ge1xyXG4gICAgICAgICAgICBldGhBZGRyZXNzOiB0aGlzLnVzZXIuZ2V0KCdldGhBZGRyZXNzJyksXHJcbiAgICAgICAgICAgIHNob3J0RXRoQWRkcmVzczogc2hvcnRFdGgodGhpcy51c2VyLmdldCgnZXRoQWRkcmVzcycpKSxcclxuICAgICAgICAgICAgd2FsbGV0TmFtZTogdGhpcy5wcm92aWRlckluZm8uV2FsbGV0TmFtZSxcclxuICAgICAgICAgICAgbmV0d29ya05hbWU6IG5ldHdvcmtJbmZvLkNoYWluTmFtZSArICgobmV0d29ya0luZm8uVGVzdE5ldHdvcmspID8gJyAtIChUZXN0IG5ldHdvcmspJyA6ICcnKSxcclxuICAgICAgICAgICAgYmxvY2tjaGFpbkV4cGxvcmVyOiBuZXR3b3JrSW5mby5CbG9ja0V4cGxvcmVyICsgJy9hZGRyZXNzLycsXHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiAnJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFVzZXJJbmZvRWxlbWVudCk7XHJcbiAgICAgICAgbGV0IGh0bWwgPSB0ZW1wbGF0ZShvYmopO1xyXG5cclxuICAgICAgICB1c2VySW5mb0Rpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgICAgICBsZXQgdXNlckluZm9BY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckluZm9BY3Rpb24nKTtcclxuICAgICAgICB1c2VySW5mb0FjdGlvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdXNlckluZm9Ecm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5mb0Ryb3Bkb3duJyk7XHJcbiAgICAgICAgICAgIGlmICghdXNlckluZm9Ecm9wZG93bikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdXNlckluZm9Ecm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgdXNlckluZm9Ecm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGRpc2Nvbm5lY3RGcm9tTmV0d29yayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjb25uZWN0RnJvbU5ldHdvcmsnKTtcclxuICAgICAgICBkaXNjb25uZWN0RnJvbU5ldHdvcms/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9yYWxpcy5Vc2VyLmxvZ091dCgpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmluZFVzZXJBY3Rpb25FdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRVc2VyQWN0aW9uRXZlbnRzKCkge1xyXG4gICAgICAgIGxldCBlZGl0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TmFtZScpO1xyXG4gICAgICAgIGVkaXROYW1lPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBsZXQga3ljTW9kYWwgPSBuZXcgS3ljRWRpdE5hbWVGb3JtKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGt5Y01vZGFsLnNob3coKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgZWRpdENvbnRhY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvbnRhY3QnKTtcclxuICAgICAgICBlZGl0Q29udGFjdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQga3ljTW9kYWwgPSBuZXcgS3ljRWRpdENvbnRhY3RGb3JtKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGt5Y01vZGFsLnNob3coKTtcclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IGVkaXRUcnVzdGVkQ29udGFjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0VHJ1c3RlZENvbnRhY3QnKTtcclxuICAgICAgICBlZGl0VHJ1c3RlZENvbnRhY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IGt5Y01vZGFsID0gbmV3IEt5Y0VkaXRUcnVzdGVkQ29udGFjdCgpO1xyXG4gICAgICAgICAgICBhd2FpdCBreWNNb2RhbC5zaG93KCk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YnV0dG9uIGNsYXNzPVxcXCJsaW1pbmFsX21hcmtldF9jb25uZWN0X3dhbGxldCBvdXRsaW5lXFxcIj5Db25uZWN0IHdhbGxldDwvYnV0dG9uPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJcXHJcXG48YXJ0aWNsZSBpZD1cXFwidG9zX3BwX2Nvb2tpZV9wYW5lbFxcXCI+XFxyXFxuICAgIDxwPlxcclxcbiAgICAgICAgQnkgY29ubmVjdGluZyBhIHdhbGxldCwgSSBhZ3JlZSB0byBsaW1pbmFsLm1hcmtldCBUZXJtcyBvZiBVc2UsIENvb2tpZXMgUG9saWN5IGFuZCBQcml2YWN5IFBvbGljeS5cXHJcXG4gICAgPC9wPlxcclxcbiAgICA8dWw+XFxyXFxuICAgICAgICA8bGk+XFxyXFxuICAgIDxsYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiYWxsXFxcIiB2YWx1ZT1cXFwiMVxcXCI+XFxyXFxuXFxyXFxuICAgICAgICBJIGFjY2VwdCBhbGxcXHJcXG5cXHJcXG4gICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDwvbGk+XFxyXFxuICAgICAgICA8bGk+XFxyXFxuICAgIDxsYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwidG9zXFxcIiB2YWx1ZT1cXFwiMVxcXCI+XFxyXFxuICAgICAgICA8c3Bhbj5cXHJcXG4gICAgICAgIEkgYWNjZXB0IDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LmxpbWluYWwubWFya2V0L3Rlcm1zLW9mLXNlcnZpY2VcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5UZXJtcyBvZiBzZXJ2aWNlPC9hPlxcclxcbiAgICAgICAgPHNtYWxsPlRoaW5ncyB0byBub3RlLiBZb3UgYXJlIHRha2luZyBhIHJpc2sgYnkgYnV5aW5nIHN0b2Nrcy4gWW91IHdpbGwgYmUgYXNrZWQgdG8gZG8gS1lDL0FNTC4gWW91IGFyZSByZXNwb25zaWJsZSBmb3IgYW55IHRyYW5zYWN0aW9uIHlvdSBtYWtlLjwvc21hbGw+XFxyXFxuICAgICAgPC9zcGFuPlxcclxcbiAgICA8L2xhYmVsPjwvbGk+XFxyXFxuICAgICAgICA8bGk+XFxyXFxuICAgIDxsYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwicHBcXFwiIHZhbHVlPVxcXCIxXFxcIj5cXHJcXG4gICAgICAgIDxzcGFuPlxcclxcbiAgICAgICAgSSBhY2NlcHQgdGhlIDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LmxpbWluYWwubWFya2V0L3ByaXZhY3ktcG9saWN5XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+UHJpdmFjeSBQb2xpY3k8L2E+XFxyXFxuICAgICAgICA8c21hbGw+TGltaW5hbC5tYXJrZXQgZG9lc24ndCBzdG9yZSBhbnkgcGVyc29uYWwgZGF0YS4gQW55IEtZQyBpbmZvIGlzIHN0b3JlZCB3aXRoIHRoZSBicm9rZXIuIElmIHlvdSByZWdpc3RlciBvbiBvdXIgbWFpbGluZyBsaXN0LCB0aGF0IHdpbGwgYmUgdGhlIG9ubHkgcGVyc29uYWwgaW5mbyB3ZSBzdG9yZS48L3NtYWxsPlxcclxcbiAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9sYWJlbD48L2xpPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICA8bGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNvb2tpZVxcXCIgdmFsdWU9XFxcIjFcXFwiPlxcclxcbiAgICAgICAgPHNwYW4+XFxyXFxuICAgICAgICBJIGFjY2VwdCA8YSBocmVmPVxcXCJodHRwczovL3d3dy5saW1pbmFsLm1hcmtldC9jb29raWUtcG9saWN5XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Q29va2llIHBvbGljeTwvYT5cXHJcXG4gICAgICAgIDxzbWFsbD5XZSB1c2Ugc29tZSBjb29raWVzICYgc2VydmljZXMgdG8gaW1wcm92ZSBvdXIgc2VydmljZS4gWW91IGRvbid0IGhhdmUgdG8gYWNjZXB0IGJ1dCB3ZSB3aWxsIHRoZW4ganVzdCBzdG9yZSBlc3NlbnRpYWwgY29va2llcy48L3NtYWxsPlxcclxcbiAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDwvbGk+XFxyXFxuICAgIDwvdWw+XFxyXFxuPC9hcnRpY2xlPlxcclxcblxcclxcbjxkaXYgY2xhc3M9XFxcImQtbm9uZVxcXCIgaWQ9XFxcIndhbGxldF9jb25uZWN0b3JfcGFuZWxcXFwiPlxcclxcbiAgICA8YXJ0aWNsZSBjbGFzcz1cXFwicHJvdmlkZXJcXFwiIGlkPVxcXCJjb25uZWN0X3dhbGxldF93YWxsZXRDb25uZWN0XFxcIiBkYXRhLXByb3ZpZGVyPVxcXCJ3YWxsZXRDb25uZWN0XFxcIj5cXHJcXG5cXHJcXG4gICAgICAgIDxoMz5Db25uZWN0IHVzaW5nIFdhbGxldENvbm5lY3Q8L2gzPlxcclxcbiAgICAgICAgPHA+XFxyXFxuICAgICAgICAgICAgUG9wdWxhciBvcHRpb24gdG8gY29ubmVjdCB5b3VyIG1vYmlsZSB3YWxsZXQuXFxyXFxuICAgICAgICAgICAgRm9yIG1vYmlsZSB3ZSBsaWtlIDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnRva2VucG9ja2V0LnByby9cXFwiIHRhcmdldD1cXFwiX2JsYW5rIG9uY2xpY2s9J2V2ZW50LnN0b3BQcm9nYXRpb24oKTsnXFxcIj5Ub2tlblxcclxcbiAgICAgICAgICAgIFBva2V0PC9hPlxcclxcbiAgICAgICAgICAgIGFzIGlzIHN1cHBvcnQgdGVzdCBuZXR3b3JrPC9wPlxcclxcblxcclxcbiAgICA8L2FydGljbGU+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImQtbm9uZVxcXCIgaWQ9XFxcIndhbGxldENvbm5lY3RDb25uZWN0aW9uSW5mb1xcXCI+PC9kaXY+XFxyXFxuICAgIDwhLS1cXHJcXG4gICAgPGFydGljbGUgY2xhc3M9XFxcInByb3ZpZGVyXFxcIiBpZD1cXFwiY29ubmVjdF93YWxsZXRfY29pbmJhc2VXYWxsZXRcXFwiIGRhdGEtcHJvdmlkZXI9XFxcImNvaW5iYXNlXFxcIj5cXHJcXG5cXHJcXG4gICAgICAgIDxoMz5Db2luYmFzZSB3YWxsZXQ8L2gzPlxcclxcbiAgICAgICAgPHA+Q29ubmVjdCB1c2luZyB5b3VyIENvaW5iYXNlIGFwcDwvcD5cXHJcXG5cXHJcXG4gICAgPC9hcnRpY2xlPlxcclxcbiAgICAtLT5cXHJcXG4gICAgPGFydGljbGUgaWQ9XFxcImNvbm5lY3Rfd2FsbGV0X21ldGFtYXNrXFxcIiBjbGFzcz1cXFwicHJvdmlkZXJcXFwiIGRhdGEtcHJvdmlkZXI9XFxcIm1ldGFtYXNrXFxcIj5cXHJcXG5cXHJcXG4gICAgICAgIDxoMz5NZXRhbWFzazwvaDM+XFxyXFxuICAgICAgICA8cD5Db25uZWN0IHVzaW5nIHlvdXIgTWV0YW1hc2s8L3A+XFxyXFxuXFxyXFxuICAgIDwvYXJ0aWNsZT5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9lbGVtZW50cy9Vc2VySW5mb1wiO1xyXG5pbXBvcnQgQXV0aGVudGljYXRlU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9BdXRoZW50aWNhdGVTZXJ2aWNlXCI7XHJcbmltcG9ydCB3YWxsZXRCdXR0b24gZnJvbSAnLi4vLi4vaHRtbC9lbGVtZW50cy9Db25uZWN0V2FsbGV0QnV0dG9uLmh0bWwnO1xyXG5pbXBvcnQgc2VsZWN0V2FsbGV0UHJvdmlkZXIgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9TZWxlY3RXYWxsZXRQcm92aWRlci5odG1sJztcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IHtzaG9ydEV0aH0gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBDb29raWVIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvQ29va2llSGVscGVyXCI7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi4vLi4vZXJyb3JzL0Vycm9ySW5mb1wiO1xyXG5pbXBvcnQgVHJhZGVQYWdlIGZyb20gXCIuLi9wYWdlcy9UcmFkZVBhZ2VcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29ubmVjdFdhbGxldCB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuICAgIHB1YmxpYyBzdGF0aWMgUHJvdmlkZXI6IHN0cmluZztcclxuICAgIG1vZGFsIDogTW9kYWw7XHJcbiAgICBwcm92aWRlckluZm8gOiBQcm92aWRlckluZm87XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlckluZm8gPSBuZXcgUHJvdmlkZXJJbmZvKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXJCdXR0b24oZWxlbWVudElkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKSEuaW5uZXJIVE1MID0gd2FsbGV0QnV0dG9uO1xyXG5cclxuICAgICAgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxpbWluYWxfbWFya2V0X2Nvbm5lY3Rfd2FsbGV0XCIpO1xyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2hvb3NlV2FsbGV0UHJvdmlkZXIoKSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jaG9vc2VXYWxsZXRQcm92aWRlcigpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaG9vc2VXYWxsZXRQcm92aWRlcigpIHtcclxuICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnQ29ubmVjdCB0byBhIHdhbGxldCcsIHNlbGVjdFdhbGxldFByb3ZpZGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENoZWNrYm94ZXMoKTtcclxuICAgICAgICB0aGlzLnNldHVwUHJvdmlkZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENoZWNrYm94ZXMoKSB7XHJcbiAgICAgICAgbGV0IGNoZWNrYm94ZXM6IGFueSA9IHthbGw6ZmFsc2UsIHRvczogZmFsc2UsIHBwOiBmYWxzZSwgY29va2llOiBmYWxzZX07XHJcblxyXG4gICAgICAgIGxldCBjb29raWVIZWxwZXIgPSBuZXcgQ29va2llSGVscGVyKGRvY3VtZW50KTtcclxuICAgICAgICBsZXQgdG9zQ29uZmlybWVkID0gY29va2llSGVscGVyLmdldENvb2tpZVZhbHVlKCd0b3MnKTtcclxuICAgICAgICBpZiAodG9zQ29uZmlybWVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY2hlY2tib3hlcyA9IHt0b3M6IHRydWUsIHBwOiB0cnVlfVxyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQcm92aWRlcnMoY2hlY2tib3hlcyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9zX3BwX2Nvb2tpZV9wYW5lbCcpIS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Rvc19wcF9jb29raWVfcGFuZWwgaW5wdXQnKTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjaGVja2JveCA9IGlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gY2hlY2tib3guZ2V0QXR0cmlidXRlKCduYW1lJykhO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gJ2FsbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVUb1NldCA9IGNoZWNrYm94LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzLmZvckVhY2godG1wID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG90aGVySW5wdXQgPSB0bXAgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlc1tvdGhlcklucHV0Lm5hbWVdID0gdmFsdWVUb1NldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJJbnB1dC5jaGVja2VkID0gdmFsdWVUb1NldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlc1tuYW1lXSA9IGNoZWNrYm94LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQcm92aWRlcnMoY2hlY2tib3hlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwUHJvdmlkZXJzKCkge1xyXG4gICAgICAgIGxldCBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3dhbGxldF9jb25uZWN0b3JfcGFuZWwgLnByb3ZpZGVyJyk7XHJcbiAgICAgICAgYW5jaG9ycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHByb3ZpZGVyID0gKGV2dC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50KS5kYXRhc2V0LnByb3ZpZGVyITtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdFdhbGxldChwcm92aWRlcilcclxuICAgICAgICAgICAgfSwge2NhcHR1cmU6dHJ1ZX0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvZ2dsZVByb3ZpZGVycyhjaGVja2JveGVzOiBhbnkpIHtcclxuICAgICAgICBsZXQgY29va2llSGVscGVyID0gbmV3IENvb2tpZUhlbHBlcihkb2N1bWVudCk7XHJcblxyXG4gICAgICAgIGlmIChjaGVja2JveGVzLnRvcyAmJiBjaGVja2JveGVzLnBwKSB7XHJcbiAgICAgICAgICAgIGNvb2tpZUhlbHBlci5zZXRDb29raWUoJ3RvcycsIG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgaWYgKHdhbGxldEhlbHBlci5pc1dlYnZpZXcod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0V2FsbGV0KCcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YWxsZXRfY29ubmVjdG9yX3BhbmVsJykhLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb29raWVIZWxwZXIuZGVsZXRlQ29va2llKCd0b3MnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhbGxldF9jb25uZWN0b3JfcGFuZWwnKSEuY2xhc3NMaXN0LmFkZCgnZC1ub25lJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93VW5zdXBwb3J0ZWROZXR3b3JrTWVzc2FnZShjb25uZWN0aW9uSW5mbyA6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHN0ciA9ICdUaGUgbmV0d29yayB5b3UgYXJlIGNvbm5lY3RpbmcgdG8gaXMgbm90IHN1cHBvcnRlZC4nO1xyXG4gICAgICAgIHN0ciArPSAnRm9sbG93aW5nIG5ldHdvcmtzIGFyZSBzdXBwb3J0ZWQuICdcclxuICAgICAgICBsZXQgbmV0d29ya3MgPSBOZXR3b3JrSW5mby5nZXROZXR3b3JrcygpO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPG5ldHdvcmtzLmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgIT0gMCkgc3RyICs9ICcsICc7XHJcbiAgICAgICAgICAgIHN0ciArPSBuZXR3b3Jrc1tpXS5OYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25uZWN0aW9uSW5mby5pbm5lckhUTUwgPSBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25uZWN0V2FsbGV0KHByb3ZpZGVyTmFtZSA6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBhdXRoZW50aWNhdGlvblNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG5cclxuICAgICAgICBsZXQgY29va2llSGVscGVyID0gbmV3IENvb2tpZUhlbHBlcihkb2N1bWVudCk7XHJcbiAgICAgICAgY29va2llSGVscGVyLnNldENvb2tpZVByb3ZpZGVyKHByb3ZpZGVyTmFtZSk7XHJcblxyXG4gICAgICAgIGF1dGhlbnRpY2F0aW9uU2VydmljZS5hdXRoZW50aWNhdGVVc2VyKFxyXG4gICAgICAgICAgICBwcm92aWRlck5hbWUsXHJcbiAgICAgICAgICAgICh3YWxsZXRDb25uZWN0aW9uSW5mbyA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53ZWIzRW5hYmxlZFJlc3VsdChwcm92aWRlck5hbWUsIHdhbGxldENvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGlkZU1vZGFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHRoaXMubW9yYWxpcywgdGhpcy5wcm92aWRlckluZm8sIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXNlckluZm8ucmVuZGVyKCd1c2VyX2hlYWRlcl9pbmZvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9leGVjdXRlX3RyYWRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZSA9IG5ldyBUcmFkZVBhZ2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQocmVhc29uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3ZWIzRW5hYmxlZFJlc3VsdChwcm92aWRlck5hbWUgOiBzdHJpbmcsIHdhbGxldENvbm5lY3Rpb25JbmZvIDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlckluZm8gPSBuZXcgUHJvdmlkZXJJbmZvKHdhbGxldENvbm5lY3Rpb25JbmZvKTtcclxuXHJcbiAgICAgICAgbGV0IGNvbm5lY3Rpb25JbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvdmlkZXJOYW1lICsgJ0Nvbm5lY3Rpb25JbmZvJyk7XHJcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uSW5mbykgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25uZWN0aW9uSW5mby5jbGFzc0xpc3QucmVwbGFjZSgnYWxlcnQtd2FybmluZycsICdhbGVydC1pbmZvJyk7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlckluZm8uQ2hhaW5JZCAhPSBuZXR3b3JrSW5mby5DaGFpbklkKSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyTmV0d29yayA9IE5ldHdvcmtJbmZvLmdldE5ldHdvcmtJbmZvQnlDaGFpbklkKHRoaXMucHJvdmlkZXJJbmZvLkNoYWluSWQpO1xyXG4gICAgICAgICAgICBpZiAoIXVzZXJOZXR3b3JrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dVbnN1cHBvcnRlZE5ldHdvcmtNZXNzYWdlKGNvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIE5ldHdvcmtJbmZvLnNldE5ldHdvcmtCeUNoYWluSWQodGhpcy5wcm92aWRlckluZm8uQ2hhaW5JZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHN0ciA9ICdDb25uZWN0aW5nIHRvIHlvdSB3YWxsZXQgXCInICsgdGhpcy5wcm92aWRlckluZm8uV2FsbGV0TmFtZSArICdcIiB0byBhZGRyZXNzICcgKyBzaG9ydEV0aCh0aGlzLnByb3ZpZGVySW5mby5Vc2VyQWRkcmVzcyk7XHJcbiAgICAgICAgc3RyICs9ICcuIE9wZW4gJyArIHRoaXMucHJvdmlkZXJJbmZvLldhbGxldE5hbWUgKyAnIGFuZCA8c3Ryb25nPkNvbmZpcm08L3N0cm9uZz4gdGhlIHNpZ24gaW4uJztcclxuICAgICAgICBjb25uZWN0aW9uSW5mby5pbm5lckhUTUwgPSBzdHI7XHJcbiAgICAgICAgY29ubmVjdGlvbkluZm8uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29udHJhY3RJbmZvIGZyb20gXCIuLi8uLi9jb250cmFjdHMvQ29udHJhY3RJbmZvXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IERhdGVIZWxwZXIgZnJvbSAnLi4vLi4vdXRpbC9EYXRlSGVscGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFVU0RTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIEFVU0RJbmZvIDogYW55O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbGFzdFVwZGF0ZT8gOiBEYXRlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYVVTREFtb3VudD8gOiBCaWdOdW1iZXI7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QVVTREJhbGFuY2VPZihldGhBZGRyZXNzIDogc3RyaW5nKSA6IFByb21pc2U8QmlnTnVtYmVyPiB7XHJcbiAgICAgICAgaWYgKEFVU0RTZXJ2aWNlLmxhc3RVcGRhdGUgJiYgQVVTRFNlcnZpY2UuYVVTREFtb3VudCAmJlxyXG4gICAgICAgICAgICAgICAgRGF0ZUhlbHBlci5pc09sZGVyVGhlbihBVVNEU2VydmljZS5sYXN0VXBkYXRlLCA1KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQVVTRFNlcnZpY2UuYVVTREFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcHRpb25zID0gYXdhaXQgdGhpcy5nZXRPcHRpb25zKFwiYmFsYW5jZU9mXCIsIHtcclxuICAgICAgICAgICAgYWNjb3VudDogZXRoQWRkcmVzc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKS50aGVuKGJhbGFuY2VPZiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSB0aGlzLm1vcmFsaXMuVW5pdHMuRnJvbVdlaShiYWxhbmNlT2YudG9TdHJpbmcoKSwgMTgpO1xyXG4gICAgICAgICAgICBBVVNEU2VydmljZS5hVVNEQW1vdW50ID0gbmV3IEJpZ051bWJlcihhbW91bnQpO1xyXG4gICAgICAgICAgICBBVVNEU2VydmljZS5sYXN0VXBkYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBBVVNEU2VydmljZS5hVVNEQW1vdW50O1xyXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChibG9ja2NoYWluRXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QVVzZEFiaSgpIHtcclxuICAgICAgICBpZiAoQVVTRFNlcnZpY2UuQVVTREluZm8pIHJldHVybiBBVVNEU2VydmljZS5BVVNESW5mby5hYmk7XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuLi9hYmkvYVVTRC5qc29uJyk7XHJcbiAgICAgICAgQVVTRFNlcnZpY2UuQVVTREluZm8gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgcmV0dXJuIEFVU0RTZXJ2aWNlLkFVU0RJbmZvLmFiaTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdHJhbnNmZXIoc3ltYm9sQWRkcmVzcyA6IHN0cmluZywgcXR5IDogQmlnTnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMuZ2V0T3B0aW9ucygndHJhbnNmZXInLCB7XHJcbiAgICAgICAgICAgIHJlY2lwaWVudDogc3ltYm9sQWRkcmVzcyxcclxuICAgICAgICAgICAgYW1vdW50OiBNb3JhbGlzLlVuaXRzLlRva2VuKHF0eS50b1N0cmluZygpLCAxOClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IE1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7cmV0dXJuIHJlc3VsdDt9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBibG9ja2NoYWluRXJyb3IgPSBuZXcgQmxvY2tjaGFpbkVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvckluZm8ucmVwb3J0KGJsb2NrY2hhaW5FcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBBVVNEU2VydmljZS5hVVNEQW1vdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIEFVU0RTZXJ2aWNlLmxhc3RVcGRhdGUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldE9wdGlvbnMoZnVuY3Rpb25OYW1lIDogc3RyaW5nLCBwYXJhbXMgOiBhbnkpIHtcclxuICAgICAgICBsZXQgY29udHJhY3RJbmZvID0gQ29udHJhY3RJbmZvLmdldENvbnRyYWN0SW5mbygpO1xyXG4gICAgICAgIGxldCBhYmkgPSBhd2FpdCB0aGlzLmdldEFVc2RBYmkoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBjb250cmFjdEluZm8uQVVTRF9BRERSRVNTLFxyXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcclxuICAgICAgICAgICAgYWJpOiBhYmksXHJcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YXJ0aWNsZT5cXHJcXG4gICAgPGRpdiBpZD1cXFwiYmVmb3JlRnVuZGluZ1xcXCI+XFxyXFxuICAgICAgICBUbyB1c2UgbGltaW5hbC5tYXJrZXQgeW91IG5lZWQgc29tZSBhVVNELiBhVVNEIGlzIHRoZSBzYW1lIHZhbHVlIGFzIFVTRC5cXHJcXG4gICAgICAgIFdlIGNhbiBnaXZlIHlvdSBzb21lIGFVU0QgKHRoaXMgaXMgYWxsIGZha2UgbW9uZXkpLCBzbyB5b3UgY2FuIHBsYXkgd2l0aCB0aGUgc3lzdGVtLlxcclxcblxcclxcbiAgICAgICAgRmlyc3QsIHlvdSBuZWVkIHRvIGFkZCBhVVNEIHRvIHlvdSB3YWxsZXQuXFxyXFxuXFxyXFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJhZGRUb2tlblRvV2FsbGV0XFxcIj5BZGQgYVVTRCB0byB3YWxsZXQ8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxibG9ja3F1b3RlIGlkPVxcXCJuZWVkVG9Db3B5XFxcIiBjbGFzcz1cXFwiZC1ub25lXFxcIj5cXHJcXG4gICAgICAgICAgICBJZiB0aGUgYnV0dG9uIGRpZG4ndCB3b3JrLCB5b3UgY2FuIGNvcHkgdGhlIGFkZHJlc3MgaGVyZSBhbmQgaW1wb3J0IGl0IGludG8geW91ciB3YWxsZXRcXHJcXG4gICAgICAgICAgICA8aW5wdXQgdmFsdWU9XFxcInt7YVVTREFkZHJlc3N9fVxcXCIvPlxcclxcbiAgICAgICAgPC9ibG9ja3F1b3RlPlxcclxcbiAgICAgICAgV2hlbiB5b3UgaGF2ZSBhVVNEIHRvIHlvdSB3YWxsZXQsIHlvdSBjYW4gcmVxdWVzdCBzb21lIG1vbmV5IHRvIHRyYWRlIHdpdGguXFxyXFxuXFxyXFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJyZXF1ZXN0RmFrZUFVU0RcXFwiPlJlcXVlc3Qgc29tZSBhVVNEPC9idXR0b24+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3YXJuaW5nQmFyIG5vdGlmaWNhdGlvbkJhciBkLW5vbmVcXFwiIGlkPVxcXCJmdW5kaW5nRXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiYWZ0ZXJGdW5kaW5nXFxcIiBjbGFzcz1cXFwiZC1ub25lIGNlbnRlclxcXCI+XFxyXFxuICAgICAgICBXZSBoYXZlIG5vdyBzZW5kaW5nIGFVU0QgdG8geW91ciB3YWxsZXQuIFRoaXMgdXN1YWxseSB0YWtlcyBmZXcgbWludXRlcywgc28gbGV0cyB3YWl0LlxcclxcbjxiciAvPjxiciAvPlxcclxcbiAgICAgICAgV2hlbiB5b3UgaGF2ZSB0aGUgYVVTRCBpbiB5b3Ugd2FsbGV0LCB3ZSB3aWxsIHRlbGwgeW91LlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8aDM+Q3VycmVudCBhVVNEIGJhbGFuY2U8L2gzPlxcclxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcImN1cnJlbnRBVVNEQmFsYW5jZVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImVycm9yQWZ0ZXJUcnlGdW5kaW5nXFxcIiBjbGFzcz1cXFwiZC1ub25lXFxcIj5cXHJcXG4gICAgICAgIFdlIGhhZCBhbiBlcnJvciB3aGlsZSB0cnlpbmcgdG8gZnVuZCB5b3UuIFdlJ2xsIGJlIGNyYWNraW5nIGF0IHRoZSBpc3N1ZSBzb29uIHRvIGZpeCBpdC5cXHJcXG4gICAgICAgIFRyeSBhZ2FpbiBpbiBmZXcgbWludXRlcy4gSWYgbm90LCB0cnkgYWdhaW4gaW4gZmV3IGhvdXJzLlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2FydGljbGU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bmRpbmdTZXJ2aWNlIHtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyByZXF1ZXN0RmFrZUZ1bmRpbmcoKSB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2Z1bmRVc2VyJywge2NoYWluSWQ6bmV0d29ya0luZm8uQ2hhaW5JZH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBGYWtlRnVuZGluZ0h0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9GYWtlRnVuZGluZy5odG1sJztcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBDb250cmFjdEluZm8gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9Db250cmFjdEluZm9cIjtcclxuaW1wb3J0IEZ1bmRpbmdTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9icm9rZXIvRnVuZGluZ1NlcnZpY2VcIjtcclxuaW1wb3J0IEFVU0RTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQge3JvdW5kQmlnTnVtYmVyfSBmcm9tIFwiLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVVTREZ1bmQge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgY3VycmVudEJhbGFuY2UgOiBCaWdOdW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEJhbGFuY2UgID0gbmV3IEJpZ051bWJlcigtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dBVVNERnVuZChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG5cclxuICAgICAgICAvL3RoaXMgaXMgcmVhbCBpbnN0cnVjdGlvbiBob3cgdG8gdHJhbnNmZXIgdG8gYnJva2VyXHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0FVU0RGYWtlRnVuZChjYWxsYmFjayA6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoRmFrZUZ1bmRpbmdIdG1sKTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHthVVNEQWRkcmVzczpjb250cmFjdEluZm8uQVVTRF9BRERSRVNTfSk7XHJcblxyXG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIG1vZGFsLnNob3dNb2RhbCgnRnVuZCBteSBhY2NvdW50IChGYWtlIG1vbmV5KScsIGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBsZXQgYWRkVG9XYWxsZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVG9rZW5Ub1dhbGxldCcpO1xyXG4gICAgICAgIGlmICghYWRkVG9XYWxsZXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgYWRkVG9XYWxsZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb250cmFjdEluZm8gPSBDb250cmFjdEluZm8uZ2V0Q29udHJhY3RJbmZvKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgd2FsbGV0SGVscGVyID0gbmV3IFdhbGxldEhlbHBlcih0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoY29udHJhY3RJbmZvLkFVU0RfQUREUkVTUywgJ2FVU0QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDb3B5RmllbGQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHRoaXMuc2hvd0NvcHlGaWVsZCgpO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgcmVxdWVzdEZha2VBVVNEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcXVlc3RGYWtlQVVTRCcpO1xyXG4gICAgICAgIGlmICghcmVxdWVzdEZha2VBVVNEKSByZXR1cm47XHJcblxyXG4gICAgICAgIHJlcXVlc3RGYWtlQVVTRC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdEZha2VBVVNEIS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZnVuZGluZ1NlcnZpY2UgPSBuZXcgRnVuZGluZ1NlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZ1bmRpbmdTZXJ2aWNlLnJlcXVlc3RGYWtlRnVuZGluZygpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JXaGlsZUZ1bmRpbmcoe30pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MnLCByZXN1bHQuc3VjY2Vzcyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuZGluZ0Vycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmRpbmdFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RGYWtlQVVTRCEucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5kaW5nRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuZGluZ0Vycm9yLmlubmVySFRNTCA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5kaW5nRXJyb3IhLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAgKiAxMDAwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmVmb3JlRnVuZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZWZvcmVGdW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWZ0ZXJGdW5kaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FmdGVyRnVuZGluZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiZWZvcmVGdW5kaW5nIHx8ICFhZnRlckZ1bmRpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRBVVNEQmFsYW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlRnVuZGluZy5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgIGFmdGVyRnVuZGluZy5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JXaGlsZUZ1bmRpbmcocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jYWxsYmFjaygpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQVVTREJhbGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRBVVNEQmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50QVVTREJhbGFuY2UnKVxyXG4gICAgICAgIGlmICghY3VycmVudEFVU0RCYWxhbmNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBhVVNEU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdXNlclNlcnZpY2UuZ2V0RXRoQWRkcmVzcygpO1xyXG5cclxuICAgICAgICBsZXQgYW1vdW50ID0gYXdhaXQgYVVTRFNlcnZpY2UuZ2V0QVVTREJhbGFuY2VPZihldGhBZGRyZXNzKTtcclxuICAgICAgICBjdXJyZW50QVVTREJhbGFuY2UuaW5uZXJIVE1MID0gJyQnICsgcm91bmRCaWdOdW1iZXIoYW1vdW50KS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QmFsYW5jZS5lcSgtMSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmFsYW5jZSA9IGFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRCYWxhbmNlLmVxKGFtb3VudCkpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRBVVNEQmFsYW5jZSgpO1xyXG4gICAgICAgICAgICB9LCA1ICogMTAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dDb3B5RmllbGQoKSB7XHJcblxyXG4gICAgICAgIGxldCBuZWVkVG9Db3B5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRUb0NvcHknKTtcclxuICAgICAgICBpZiAoIW5lZWRUb0NvcHkpIHJldHVybjtcclxuXHJcbiAgICAgICAgbmVlZFRvQ29weS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVycm9yV2hpbGVGdW5kaW5nKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgbGV0IGJlZm9yZUZ1bmRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVmb3JlRnVuZGluZycpO1xyXG4gICAgICAgIGxldCBlcnJvckFmdGVyRnVuZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvckFmdGVyVHJ5RnVuZGluZycpO1xyXG4gICAgICAgIGlmICghYmVmb3JlRnVuZGluZyB8fCAhZXJyb3JBZnRlckZ1bmRpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGVycm9yQWZ0ZXJGdW5kaW5nLmlubmVySFRNTCA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiZWZvcmVGdW5kaW5nLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGVycm9yQWZ0ZXJGdW5kaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEFVU0RTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlXCI7XHJcbmltcG9ydCB7cm91bmRCaWdOdW1iZXJ9IGZyb20gXCIuLi8uLi91dGlsL0hlbHBlclwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBBVVNERnVuZCBmcm9tIFwiLi4vbW9kYWxzL0FVU0RGdW5kXCI7XHJcbmltcG9ydCBNb3JhbGlzIGZyb20gXCJtb3JhbGlzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBVXNkQmFsYW5jZSB7XHJcbiAgICB1c2VyOiBNb3JhbGlzLkF0dHJpYnV0ZXM7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcywgdXNlcjogTW9yYWxpcy5BdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBsb2FkQVVTREJhbGFuY2VVSSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudXNlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdXNlckluZm9BVXNkQmFsYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5mb0FVc2RCYWxhbmNlJyk7XHJcbiAgICAgICAgbGV0IGZyb250cGFnZUFVc2RCYWxhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zyb250cGFnZUFVc2RCYWxhbmNlJyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy51c2VyLmdldCgnYWxwYWNhSWQnKSkge1xyXG4gICAgICAgICAgICBmcm9udHBhZ2VBVXNkQmFsYW5jZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvQVVzZEJhbGFuY2U/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZnJvbnRwYWdlQVVzZEJhbGFuY2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICB1c2VySW5mb0FVc2RCYWxhbmNlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhVVNEU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBhVXNkVmFsdWUgPSBhd2FpdCBhVVNEU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMudXNlci5nZXQoJ2V0aEFkZHJlc3MnKSk7XHJcbiAgICAgICAgYVVzZFZhbHVlID0gcm91bmRCaWdOdW1iZXIoYVVzZFZhbHVlKTtcclxuXHJcbiAgICAgICAgbGV0IGZyb250cGFnZUFVU0RCYWxhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zyb250X3BhZ2VfYVVTRF9iYWxhbmNlJyk7XHJcbiAgICAgICAgaWYgKGZyb250cGFnZUFVU0RCYWxhbmNlKSBmcm9udHBhZ2VBVVNEQmFsYW5jZS5pbm5lckhUTUwgPSAnJCcgKyBhVXNkVmFsdWU7XHJcblxyXG4gICAgICAgIGxldCB1c2VySW5mb0FVU0RCYWxhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJfaW5mb19hdXNkX2JhbGFuY2UnKVxyXG4gICAgICAgIGlmICh1c2VySW5mb0FVU0RCYWxhbmNlKSB1c2VySW5mb0FVU0RCYWxhbmNlLmlubmVySFRNTCA9ICckJyArIGFVc2RWYWx1ZTtcclxuXHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IGZ1bmRfYWNjb3VudEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZnVuZF9hY2NvdW50Jyk7XHJcbiAgICAgICAgZnVuZF9hY2NvdW50QnV0dG9ucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYVVTREZ1bmRpbmdNb2RhbCA9IG5ldyBBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJ0NsaWNrIGZvciBzb21lIGFVU0QnO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhVVNERnVuZGluZ01vZGFsLnNob3dBVVNERmFrZUZ1bmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICdGdW5kIHlvdXIgYWNjb3VudCc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFVU0RGdW5kaW5nTW9kYWwuc2hvd0FVU0RGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhVXNkVmFsdWUuaXNMZXNzVGhhbigxMCkpIHtcclxuICAgICAgICAgICAgbGV0IGZyb250cGFnZV9mdW5kX2FjY291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJvbnRwYWdlX2Z1bmRfYWNjb3VudCcpO1xyXG4gICAgICAgICAgICBpZiAoIWZyb250cGFnZV9mdW5kX2FjY291bnQpIHJldHVybjtcclxuICAgICAgICAgICAgZnJvbnRwYWdlX2Z1bmRfYWNjb3VudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi8uLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0dlbmVyYWxFcnJvclwiO1xyXG5pbXBvcnQgS3ljU3RhdHVzIGZyb20gXCIuLi8uLi9kdG8vS3ljU3RhdHVzXCI7XHJcbmltcG9ydCBBVXNkQmFsYW5jZSBmcm9tIFwiLi4vLi4vdWkvZWxlbWVudHMvQVVzZEJhbGFuY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtZQ1NlcnZpY2Uge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBLWUNJbmZvOiBhbnk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBLeWNSZXNwb25zZTogS3ljU3RhdHVzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0S1lDQWJpKCkge1xyXG4gICAgICAgIGlmIChLWUNTZXJ2aWNlLktZQ0luZm8pIHJldHVybiBLWUNTZXJ2aWNlLktZQ0luZm8uYWJpO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiLi4vYWJpL0tZQy5qc29uXCIpO1xyXG4gICAgICAgIEtZQ1NlcnZpY2UuS1lDSW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICByZXR1cm4gS1lDU2VydmljZS5LWUNJbmZvLmFiaTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGhhc1ZhbGlkS1lDKCk6IFByb21pc2U8S3ljU3RhdHVzPiB7XHJcbiAgICAgICAgaWYgKEtZQ1NlcnZpY2UuS3ljUmVzcG9uc2UgJiYgS1lDU2VydmljZS5LeWNSZXNwb25zZS5pc1ZhbGlkS3ljKSByZXR1cm4gS1lDU2VydmljZS5LeWNSZXNwb25zZTtcclxuXHJcbiAgICAgICAgS1lDU2VydmljZS5LeWNSZXNwb25zZSA9IGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2lzVmFsaWRLeWMnLCB7Y2hhaW5JZDogdGhpcy5tb3JhbGlzLmNoYWluSWR9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBibG9ja2NoYWluRXJyb3IgPSBuZXcgQmxvY2tjaGFpbkVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tjaGFpbkVycm9yLmFkZHJlc3NJc05vdFZhbGlkS1lDKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBFcnJvckluZm8ucmVwb3J0KGJsb2NrY2hhaW5FcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSkgYXMgS3ljU3RhdHVzO1xyXG5cclxuICAgICAgICBpZiAoS1lDU2VydmljZS5LeWNSZXNwb25zZS5hbHBhY2FJZCkge1xyXG4gICAgICAgICAgICBsZXQgdXNlciA9IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgICAgICAgICAgdXNlcj8uc2V0KCdhbHBhY2FJZCcsIEtZQ1NlcnZpY2UuS3ljUmVzcG9uc2UuYWxwYWNhSWQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFVc2RCYWxhbmNlID0gbmV3IEFVc2RCYWxhbmNlKHRoaXMubW9yYWxpcywgdXNlciEpO1xyXG4gICAgICAgICAgICBhd2FpdCBhVXNkQmFsYW5jZS5sb2FkQVVTREJhbGFuY2VVSSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gS1lDU2VydmljZS5LeWNSZXNwb25zZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2F2ZUtZQ0luZm8oZGF0YTogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBHZW5lcmFsRXJyb3IoXCJZb3UgbmVlZCB0byBiZSBsb2dnZWQgaW4gdG8gZG8gS1lDLiBQbGVhc2UgbG9naW4gYWdhaW4uXCIpXHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKFwia3ljUmVnaXN0cmF0aW9uXCIsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVLWUNJbmZvKGRhdGE6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSB0aHJvdyBuZXcgR2VuZXJhbEVycm9yKFwiWW91IG5lZWQgdG8gYmUgbG9nZ2VkIGluIHRvIGRvIEtZQy4gUGxlYXNlIGxvZ2luIGFnYWluLlwiKVxyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bihcInVwZGF0ZUFjY291bnRcIiwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsaWRBY2NvdW50SWQoc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJ15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC01XVswLTlhLWZdezN9LVswODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kJyk7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3Qoc3RyKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVEb2N1bWVudHMocGFyYW1zOiBhbnkpIHtcclxuICAgICAgICBsZXQgdXNlciA9IHRoaXMubW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBHZW5lcmFsRXJyb3IoXCJZb3UgbmVlZCB0byBiZSBsb2dnZWQgaW4gdG8gZG8gS1lDLiBQbGVhc2UgbG9naW4gYWdhaW4uXCIpXHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKFwia3ljQWN0aW9uUmVxdWlyZWRVcGRhdGVcIiwgcGFyYW1zKTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb250cmFjdEluZm8gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9Db250cmFjdEluZm9cIjtcclxuaW1wb3J0IExpbWluYWxNYXJrZXRTZXJ2aWNlIGZyb20gXCIuL0xpbWluYWxNYXJrZXRTZXJ2aWNlXCI7XHJcbmltcG9ydCBFcnJvckluZm8gZnJvbSBcIi4uLy4uL2Vycm9ycy9FcnJvckluZm9cIjtcclxuaW1wb3J0IHtBZGRyZXNzWmVyb30gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xyXG5pbXBvcnQgQmxvY2tjaGFpbkVycm9yIGZyb20gXCIuLi8uLi9lcnJvcnMvQmxvY2tjaGFpbkVycm9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN1cml0eVRva2VuU2VydmljZSB7XHJcbiAgICBtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBTZWN1cml0eVRva2VuSW5mbzogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFF1YW50aXR5QnlBZGRyZXNzKHN5bWJvbDogc3RyaW5nLCBldGhBZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPEJpZ051bWJlcj4ge1xyXG4gICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBzeW1ib2xBZGRyZXNzID0gYXdhaXQgbGltaW5hbE1hcmtldFNlcnZpY2UuZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbCk7XHJcbiAgICAgICAgaWYgKHN5bWJvbEFkZHJlc3MgPT09IEFkZHJlc3NaZXJvKSByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLmdldE9wdGlvbnMoJ2JhbGFuY2VPZicsIHN5bWJvbEFkZHJlc3MsIHtcclxuICAgICAgICAgICAgYWNjb3VudDogZXRoQWRkcmVzc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbihiYWxhbmNlT2YgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFtb3VudCA9IHRoaXMubW9yYWxpcy5Vbml0cy5Gcm9tV2VpKGJhbGFuY2VPZi50b1N0cmluZygpLCAxOCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihhbW91bnQpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdHJhbnNmZXIoc3ltYm9sQWRkcmVzczogc3RyaW5nLCBxdHk6IEJpZ051bWJlcikge1xyXG4gICAgICAgIGxldCBjb250cmFjdEluZm8gPSBDb250cmFjdEluZm8uZ2V0Q29udHJhY3RJbmZvKCk7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBhd2FpdCB0aGlzLmdldE9wdGlvbnMoJ3RyYW5zZmVyJywgc3ltYm9sQWRkcmVzcywge1xyXG4gICAgICAgICAgICByZWNpcGllbnQ6IGNvbnRyYWN0SW5mby5BVVNEX0FERFJFU1MsXHJcbiAgICAgICAgICAgIGFtb3VudDogTW9yYWxpcy5Vbml0cy5Ub2tlbihxdHkudG9TdHJpbmcoKSwgMTgpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrY2hhaW5FcnJvciA9IG5ldyBCbG9ja2NoYWluRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9ySW5mby5yZXBvcnQoYmxvY2tjaGFpbkVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGdldE9wdGlvbnMoZnVuY3Rpb25OYW1lOiBzdHJpbmcsIHN5bWJvbEFkZHJlc3M6IHN0cmluZywgcGFyYW1zOiBhbnkpIHtcclxuICAgICAgICBsZXQgc2VjdXJpdHlTeW1ib2xBYmkgPSBhd2FpdCB0aGlzLmdldFNlY3VyaXR5VG9rZW5BYmkoKTtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6IHN5bWJvbEFkZHJlc3MsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxyXG4gICAgICAgICAgICBhYmk6IHNlY3VyaXR5U3ltYm9sQWJpLFxyXG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFNlY3VyaXR5VG9rZW5BYmkoKSB7XHJcbiAgICAgICAgaWYgKFNlY3VyaXR5VG9rZW5TZXJ2aWNlLlNlY3VyaXR5VG9rZW5JbmZvKSByZXR1cm4gU2VjdXJpdHlUb2tlblNlcnZpY2UuU2VjdXJpdHlUb2tlbkluZm8uYWJpO1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnLi4vYWJpL1NlY3VyaXR5VG9rZW4uanNvbicpO1xyXG4gICAgICAgIFNlY3VyaXR5VG9rZW5TZXJ2aWNlLlNlY3VyaXR5VG9rZW5JbmZvID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHJldHVybiBTZWN1cml0eVRva2VuU2VydmljZS5TZWN1cml0eVRva2VuSW5mby5hYmk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzcyB7XHJcblxyXG4gICAgcHVibGljIHNob3cobWVzc2FnZSA6IHN0cmluZywgcGVyY2VudGFnZSA6IG51bWJlciwgd2FybmluZz8gOiBib29sZWFuLCBoaWRlRWxlbWVudHM/IDogc3RyaW5nW10pIHtcclxuXHJcbiAgICAgICAgbGV0IHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyk7XHJcbiAgICAgICAgaWYgKCFwcm9ncmVzcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoaGlkZUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGhpZGVFbGVtZW50cy5mb3JFYWNoKChlbDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTtcclxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvZ3Jlc3Muc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgcHJvZ3Jlc3MuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJwcm9ncmVzc190ZXh0XCI+JyArIG1lc3NhZ2UgKyAnPC9kaXY+JztcclxuICAgICAgICBwcm9ncmVzcy5zdHlsZS53aWR0aCA9IHBlcmNlbnRhZ2UgKyAnJSc7XHJcblxyXG4gICAgICAgIHByb2dyZXNzLmNsYXNzTGlzdC50b2dnbGUoJ3Byb2dyZXNzLWJhci1zdHJpcGVkJywgKHBlcmNlbnRhZ2UgIT0gMTAwKSk7XHJcbiAgICAgICAgcHJvZ3Jlc3MuY2xhc3NMaXN0LnRvZ2dsZSgncHJvZ3Jlc3MtYmFyLWFuaW1hdGVkJywgKHBlcmNlbnRhZ2UgIT0gMTAwKSk7XHJcbiAgICAgICAgaWYgKHdhcm5pbmcpIHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MuY2xhc3NMaXN0LmFkZCgnYmctd2FybmluZycpO1xyXG4gICAgICAgICAgICBwcm9ncmVzcy5jbGFzc0xpc3QuYWRkKCdwcm9ncmVzc190ZXh0X2F0dG4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9ncmVzcy5jbGFzc0xpc3QucmVtb3ZlKCdiZy13YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHByb2dyZXNzLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2dyZXNzX3RleHRfYXR0bicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBQcm9ncmVzcyBmcm9tIFwiLi4vLi4vdWkvZWxlbWVudHMvUHJvZ3Jlc3NcIjtcclxuaW1wb3J0IHtUcmFkZVR5cGV9IGZyb20gXCIuLi8uLi9lbnVtcy9UcmFkZVR5cGVcIjtcclxuaW1wb3J0IHt1cHBlckZpcnN0TGV0dGVyfSBmcm9tIFwiLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1YnNjcmlwdGlvbiB7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T3JkZXJCdXlUYWJsZVByZWZpeCgpIHtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHJldHVybiBuZXR3b3JrSW5mby5OYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc3Vic2NyaWJlVG9UYWJsZSh0cmFkZVR5cGUgOiBUcmFkZVR5cGUsIG9uVXBkYXRlQ2FsbGJhY2sgOiAob2JqZWN0IDogYW55KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IHRhYmxlTmFtZSA9IHRoaXMuZ2V0T3JkZXJCdXlUYWJsZVByZWZpeCgpICsgJ09yZGVyJyArIHRyYWRlVHlwZTtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3Vic2NyaWJlIHRvIHRhYmxlOicgKyB0YWJsZU5hbWUpO1xyXG5cclxuICAgICAgICBsZXQgcXVlcnkgPSBuZXcgdGhpcy5tb3JhbGlzLlF1ZXJ5KHRhYmxlTmFtZSk7XHJcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHF1ZXJ5LnN1YnNjcmliZSgpO1xyXG5cclxuICAgICAgICBzdWJzY3JpcHRpb24ub24oJ3VwZGF0ZScsIChyZXNwb25zZSA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3QgPSByZXNwb25zZS50b0pTT04oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ29iamVjdCB1cGRhdGVkJywgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSwgb2JqZWN0KTtcclxuICAgICAgICAgICAgbGV0IGV0aExpbmsgPSAnIDxhIGNsYXNzPVwid2hpdGUtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL211bWJhaS5wb2x5Z29uc2Nhbi5jb20vdHgvJyArIG9iamVjdC50cmFuc2FjdGlvbl9oYXNoICsgJ1wiPlZpZXcgdHJhbnNhY3Rpb248L2E+JztcclxuXHJcbiAgICAgICAgICAgIG9uVXBkYXRlQ2FsbGJhY2sob2JqZWN0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXR1czonLCBvYmplY3Quc3RhdHVzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9IG5ldyBQcm9ncmVzcygpO1xyXG4gICAgICAgICAgICBpZiAoKCFvYmplY3Quc3RhdHVzICYmIG9iamVjdC5jb25maXJtZWQpIHx8IG9iamVjdC5zdGF0dXMgPT0gJ21vbmV5X3NlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcy5zaG93KCdCbG9ja2NoYWluIGhhcyBjb25maXJtZWQsIG1vbmV5IGhhcyBiZWVuIHNlbnQgdG8gYnJva2VyLicgKyBldGhMaW5rLCA1NilcclxuICAgICAgICAgICAgICAgIC8vYmxvY2tjaGFpbiBoYXMgY29uZmlybWVkLCBtb25leSB3aWxsIGFycml2ZSBzb29uIHRvIGJyb2tlclxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ21vbmV5X2Fycml2ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcy5zaG93KCdNb25leSBoYXMgYXJyaXZlZCwgd2lsbCBub3cgZXhlY3V0ZSB5b3VyIGJ1eSBvcmRlci4nICsgZXRoTGluaywgNzApXHJcbiAgICAgICAgICAgICAgICAvL21vbmV5IGhhcyBhcnJpdmVkIHRvIGJyb2tlciwgd2Ugd2lsbCBub3cgZXhlY3V0ZSB5b3VyIG9yZGVyXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfcmVxdWVzdGVkJykge1xyXG4gICAgICAgICAgICAgICAgLy9vcmRlciBoYXMgYmVlbiBleGVjdXRlZCwgd2UgYXJlIHdhaXRpbmcgb24gcmVzcG9uc2UgZnJvbSB0aGUgc3RvY2sgZXhjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzLnNob3coJ0J1eSBvcmRlciBoYXMgYmVlbiBleGVjdXRlZC4gV2Ugd2lsbCB1cGRhdGUgeW91IHdoZW4gaXQgaGFzIGJlZW4gZmlsbGVkLicgKyBldGhMaW5rLCA4NClcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdvcmRlcl9maWxsZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvL29yZGVyIGhhcyBiZWVuIGZpbGxlZCwgeW91IGdvdCBvYmplY3QuZmlsbGVkUXR5IG9mIHNoYXJlcy4gWW91IHdpbGwgc2VlIGl0IHNvb24gaW4geW91ciB3YWxsZXRcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzLnNob3coJ09yZGVyIGhhcyBiZWVuIGZpbGxlZCwgeW91IHdpbGwgcmVjZWl2ZSAnICsgb2JqZWN0LmZpbGxlZFF0eSArICcgJyArIFN5bWJvbCArICcgc29vbiBpbnRvIHlvdXIgd2FsbGV0LicgKyBldGhMaW5rLCAxMDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3Muc2hvdygnV2FpdGluZyBmb3IgYmxvY2tjaGFpbiB0byBjb25maXJtIHRyYW5zYWN0aW9uLicsIDk5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbn0iLCJleHBvcnQgZW51bSBUcmFkZVR5cGUge1xyXG4gICAgU2VsbCA9ICdTZWxsJyxcclxuICAgIEJ1eSA9ICdCdXknXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YnV0dG9uIGlkPVxcXCJsaW1pbmFsX21hcmtldF9leGVjdXRlX3RyYWRlXFxcIj48L2J1dHRvbj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiXFxyXFxuPGFydGljbGUgY2xhc3M9XFxcInRyYWRlX2V4ZWN1dGVkXFxcIj5cXHJcXG4gICAgPG5hdj5cXHJcXG4gICAgPHVsPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJ7e3NlbGxpbmdMb2dvfX1cXFwiPjxiciAvPlxcclxcbiAgICAgICAgICAgIHt7c2VsbGluZ1N5bWJvbH19PGJyIC8+XFxyXFxuICAgICAgICAgICAge3tzZWxsaW5nQW1vdW50fX1cXHJcXG4gICAgICAgIDwvbGk+XFxyXFxuICAgIDwvdWw+XFxyXFxuICAgIDx1bD5cXHJcXG4gICAgICAgIDxsaT4gLS0tLT4gPC9saT5cXHJcXG4gICAgPC91bD5cXHJcXG4gICAgPHVsPlxcclxcbiAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJ7e2J1eWluZ0xvZ299fVxcXCIgLz48YnIgLz5cXHJcXG4gICAgICAgICAgICB7e2J1eWluZ1N5bWJvbH19PGJyIC8+XFxyXFxuICAgICAgICAgICAgPGFiYnIgdGl0bGU9XFxcInt7YnV5aW5nUXVhbnRpdHl9fVxcXCIgZGF0YS10b29sdGlwPVxcXCJ7e2J1eWluZ1F1YW50aXR5fX1cXFwiPnt7YnV5aW5nUm91bmRRdWFudGl0eX19PC9hYmJyPlxcclxcbiAgICAgICAgPC9saT5cXHJcXG4gICAgPC91bD5cXHJcXG4gICAgPC9uYXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICBJZiB5b3UgaGF2ZW4ndCBhbHJlYWR5LCBhZGQgdGhlIHt7YnV5aW5nU3ltYm9sfX0gdG8geW91ciB3YWxsZXQuXFxyXFxuICAgICAgICA8YnIgLz48YnIgLz5cXHJcXG4gICAgICAgIDxidXR0b24gaWQ9XFxcImFkZFRva2VuVG9XYWxsZXRcXFwiIGRhdGEtYWRkcmVzcz1cXFwie3t0b2tlbkFkZHJlc3N9fVxcXCI+QWRkIHt7YnV5aW5nU3ltYm9sfX0gdG8gd2FsbGV0PC9idXR0b24+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJhZGRUb2tlblRvV2FsbGV0RmFpbGVkXFxcIiBjbGFzcz1cXFwiZC1ub25lXFxcIj5cXHJcXG4gICAgICAgICAgICBZb3UgY2FuIGNvcHkgdGhlIGFkZHJlc3MsIHRvIGltcG9ydCB0aGUgdG9rZW5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgdmFsdWU9XFxcInt7dG9rZW5BZGRyZXNzfX1cXFwiIC8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxiciAvPlxcclxcbiAgICAgICAgU2hvdWxkIGJlIHZpc2libGUgaW4geW91ciB7e3dhbGxldE5hbWV9fSBvbiBhZGRyZXNzIHt7c2hvcnRFdGhBZGRyZXNzfX0uXFxyXFxuICAgICAgICA8YnIgLz48YnIgLz5cXHJcXG4gICAgICAgIDxzbWFsbD5Zb3UgY2FuIHZpZXcgdGhlIDxhIGhyZWY9XFxcInt7YmxvY2tFeHBsb3Jlckxpbmt9fVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmJsb2NrIHRyYW5zYWN0aW9uIGhlcmU8L2E+PC9zbWFsbD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9hcnRpY2xlPlxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJZb3UgbmVlZCB0byBoYXZlIHt7c3ltYm9sfX0gY3VycmVuY3kgaW4geW91ciB3YWxsZXQuIFlvdSB1c2Uge3tzeW1ib2x9fSB0byBwYXkgZm9yIHVzaW5nIHRoZSBibG9ja2NoYWluLlxcclxcblxcclxcblRvIGdldCBzb21lIHt7c3ltYm9sfX0gY3VycmVuY3lcXHJcXG48b2w+XFxyXFxuICAgIDxsaT5Db3B5IHlvdXIgYWRkcmVzcyBzaG93biBiZWxvd1xcclxcbiAgICAgICAgPGlucHV0IHZhbHVlPVxcXCJ7e2V0aEFkZHJlc3N9fVxcXCIgLz5cXHJcXG4gICAgPC9saT5cXHJcXG4gICAgPGxpPk9wZW4gPGEgaHJlZj1cXFwie3tmYXVjZXRVcmx9fVxcXCIgaWQ9XFxcImdldE5hdGl2ZVRva2Vuc1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnt7ZmF1Y2V0VXJsfX08L2E+PC9saT5cXHJcXG4gICAgPGxpPlBhc3RlIGluIHlvdXIgYWRkcmVzcyB5b3UganVzdCBjb3BpZWQgYW5kIGNsaWNrIHRoZSBzdWJtaXQgYnV0dG9uPC9saT5cXHJcXG48L29sPlxcclxcblxcclxcbjxkaXYgY2xhc3M9XFxcImluZm9CYXIgZC1ub25lXFxcIiBpZD1cXFwid2FpdGluZ0Zvck5hdGl2ZVRva2VuXFxcIj5XYWl0aW5nIGZvciB7e3N5bWJvbH19LiBXaW5kb3cgd2lsbCBjbG9zZSB3aGVuIHlvdSBoYXZlIHNvbWUgaW5cXHJcXG4gICAgeW91IHdhbGxldC5cXHJcXG4gICAgSXQgbWlnaHQgdGFrZSBmZXcgbWludXRlcyBhZnRlciB5b3UgcmVxdWVzdGVkIGl0LlxcclxcbiAgICA8cHJvZ3Jlc3M+PC9wcm9ncmVzcz5cXHJcXG48L2Rpdj5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiWW91IG5lZWQgdG8gaGF2ZSB7e3N5bWJvbH19IGN1cnJlbmN5IGluIHlvdXIgd2FsbGV0LiBZb3UgdXNlIHt7c3ltYm9sfX0gdG8gcGF5IGZvciB1c2luZyB0aGUgYmxvY2tjaGFpbi5cXHJcXG5cXHJcXG5UbyBnZXQgc29tZSB7e3N5bWJvbH19IGN1cnJlbmN5XFxyXFxuPG9sPlxcclxcbiAgICA8bGk+Q29weSB5b3VyIGFkZHJlc3Mgc2hvd24gYmVsb3dcXHJcXG4gICAgICAgIDxpbnB1dCB2YWx1ZT1cXFwie3tldGhBZGRyZXNzfX1cXFwiIC8+XFxyXFxuICAgIDwvbGk+XFxyXFxuICAgIDxsaT5PcGVuIDxhIGhyZWY9XFxcInt7YnV5VXJsfX1cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj57e2J1eVVybH19PC9hPjwvbGk+XFxyXFxuICAgIDxsaT5QYXN0ZSBpbiB5b3VyIGFkZHJlc3MgeW91IGp1c3QgY29waWVkIGFuZCBjbGljayB0aGUgc3VibWl0IGJ1dHRvbjwvbGk+XFxyXFxuPC9vbD5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi8uLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5pbXBvcnQgRmFrZU5hdGl2ZVRva2VuTmVlZGVkSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL0Zha2VOYXRpdmVUb2tlbk5lZWRlZC5odG1sJztcclxuaW1wb3J0IE5hdGl2ZVRva2VuTmVlZGVkSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL05hdGl2ZVRva2VuTmVlZGVkLmh0bWwnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXRpdmVUb2tlbk5lZWRlZCB7XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBvbk5hdGl2ZVRva2VuQXJyaXZlZCA6ICgpID0+IHZvaWQ7XHJcbiAgICB0aW1lT3V0PzogYW55ID0gdW5kZWZpbmVkO1xyXG4gICAgbW9kYWw6IE1vZGFsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcywgb25OYXRpdmVUb2tlbkFycml2ZWQgOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLm9uTmF0aXZlVG9rZW5BcnJpdmVkID0gb25OYXRpdmVUb2tlbkFycml2ZWQ7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKCk7XHJcbiAgICAgICAgbGV0IGV0aEFkZHJlc3MgPSB1c2VyU2VydmljZS5nZXRFdGhBZGRyZXNzKCk7XHJcblxyXG4gICAgICAgIGlmIChuZXR3b3JrSW5mby5UZXN0TmV0d29yaykge1xyXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoRmFrZU5hdGl2ZVRva2VuTmVlZGVkSHRtbCk7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUoe3N5bWJvbDpuZXR3b3JrSW5mby5OYXRpdmVTeW1ib2wsIGZhdWNldFVybDpuZXR3b3JrSW5mby5GYXVjZXRVcmwsIGV0aEFkZHJlc3M6ZXRoQWRkcmVzc30pXHJcbiAgICAgICAgICAgIHRoaXMubW9kYWwuc2hvd01vZGFsKCdHZXQgc29tZSAnICsgbmV0d29ya0luZm8uTmF0aXZlU3ltYm9sLCBjb250ZW50LCBmYWxzZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxUaW1lcigpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShOYXRpdmVUb2tlbk5lZWRlZEh0bWwpO1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtzeW1ib2w6bmV0d29ya0luZm8uTmF0aXZlU3ltYm9sLCBidXlVcmw6bmV0d29ya0luZm8uQnV5VXJsLCBldGhBZGRyZXNzOmV0aEFkZHJlc3N9KVxyXG4gICAgICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnR2V0IHNvbWUgJyArIG5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbCwgY29udGVudCwgZmFsc2UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsVGltZXIoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldE5hdGl2ZVRva2VucycpO1xyXG4gICAgICAgIGlmICghbGluaykgcmV0dXJuO1xyXG5cclxuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgd2FpdGluZ0Zvck5hdGl2ZVRva2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhaXRpbmdGb3JOYXRpdmVUb2tlbicpO1xyXG4gICAgICAgICAgICB3YWl0aW5nRm9yTmF0aXZlVG9rZW4/LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja0Zvck5hdGl2ZVRva2VucygpO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYW5jZWxUaW1lcigpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lT3V0KSBjbGVhclRpbWVvdXQodGhpcy50aW1lT3V0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY2hlY2tGb3JOYXRpdmVUb2tlbnMoKSB7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBsZXQgaGFzRW5vdWdoTmF0aXZlVG9rZW5zID0gYXdhaXQgbmV0d29ya0luZm8uaGFzRW5vdWdoTmF0aXZlVG9rZW5zKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgaWYgKGhhc0Vub3VnaE5hdGl2ZVRva2Vucykge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uTmF0aXZlVG9rZW5BcnJpdmVkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lT3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmNoZWNrRm9yTmF0aXZlVG9rZW5zKCksIDUgKiAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2IGlkPVxcXCJreWNBY3Rpb25SZXF1aXJlZERpdlxcXCI+XFxyXFxuXFxyXFxuICAgIHt7I2lmIE90aGVyfX1cXHJcXG4gICAgPHN0cm9uZz5UaGlzIGlzIHRoZSBtZXNzYWdlIGZyb20gS1lDIHByb2Nlc3NvciB3ZSByZWNlaXZlZDwvc3Ryb25nPlxcclxcbiAgICA8YmxvY2txdW90ZT5cXHJcXG4gICAgICAgIHt7T3RoZXJ9fVxcclxcbiAgICA8L2Jsb2NrcXVvdGU+XFxyXFxuICAgIHt7L2lmfX1cXHJcXG4gICAgPGZvcm0gbm92YWxpZGF0ZSBpZD1cXFwia3ljQWN0aW9uUmVxdWlyZWRGb3JtXFxcIiBuYW1lPVxcXCJreWNBY3Rpb25SZXF1aXJlZEZvcm1cXFwiIG9uc3VibWl0PVxcXCJyZXR1cm4gZmFsc2U7XFxcIj5cXHJcXG4gICAgICAgIHt7e0t5Y0luZm99fX1cXHJcXG4gICAgICAgIHt7I2lmIFN1Ym1pdERhdGF9fVxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiIGlkPVxcXCJreWNBY3Rpb25SZXF1aXJlZEVycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwia3ljQWN0aW9uUmVxdWlyZWRTdWJtaXRcXFwiPlNlbmQgbmV3IGluZm9ybWF0aW9uPC9idXR0b24+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIHt7L2lmfX1cXHJcXG4gICAgPC9mb3JtPlxcclxcbjwvZGl2PlxcclxcblxcclxcbjxkaXYgaWQ9XFxcImt5Y0FjdGlvblJlcXVpcmVkU3VibWl0dGVkRGl2XFxcIiBjbGFzcz1cXFwiaGlkZGVuIGNlbnRlclxcXCI+XFxyXFxuICAgIDxoMz5Zb3UgZG9jdW1lbnRzIGhhdmUgYmVlbiBzdWJtaXR0ZWQuPGJyLz5XZSB3aWxsIGVtYWlsIHlvdSB3aGVuIHlvdXIgYWNjb3VudCBpcyByZWFkeS48L2gzPlxcclxcbiAgICBZb3UgY2FuIGNsb3NlIHRoaXMgd2luZG93LlxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIFlvdXIgYXBwbGljYXRpb24gaGFzIGJlZW4gcmVqZWN0ZWQgZHVyaW5nIEtZQyBwcm9jZXNzLjxici8+PGJyLz5cXHJcXG4gICAgV2UgZG9uJ3QgaGF2ZSB0aGUgaW5mb3JtYXRpb24gb24gd2h5IHRoYXQgaGFwcGVuZWQsIGJ1dCB5b3UgY2FuIGVtYWlsIHVzIGF0XFxyXFxuICAgIDxhIGhyZWY9J21haWx0bzppbmZvQGxpbWluYWwubWFya2V0P3N1YmplY3Q9TXkgYXBwbGljYXRpb24gd2FzIHJlamVjdGVkJmJvZHk9SGksIGNhbiB5b3UgaGVscCBtZSB0byBmaW5kIG91dCB3aGF0IHRoZSBwcm9ibGVtIGlzPyBNeSBuYW1lIGlzIF9fX19fX18gYW5kIEkgdXNlZCB0aGUgZW1haWwgX19fX19fXyB0byByZWdpc3RlciBhdCBsaW1pbmFsLm1hcmtldCc+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT5cXHJcXG4gICAgYW5kIHdlIGNhbiBmaW5kIG91dCwgYW5kIHdlIHNob3VsZCBiZSBhYmxlIHRvIHNvbHZlIGl0IHRvZ2V0aGVyLlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgPHA+XFxyXFxuICAgICAgICBJZGVudGl0eSBuZWVkcyB0byBiZSB2ZXJpZmllZC5cXHJcXG4gICAgICAgIFRoaXMgbWVhbnMgeW91IG5lZWQgdG8gdXBsb2FkXFxyXFxuICAgICAgICBhIG5ldyBwaG90byBvZiB5b3VyIGlkLiBZb3UgbWlnaHQgdHJ5IGFub3RoZXIgdHlwZSBvZiBJRCwgc3VjaCBhc1xcclxcbiAgICAgICAgZHJpdmVyJ3MgbGljZW5zZSBpZiB5b3UgdHJpZWQgcGFzc3BvcnQgYmVmb3JlXFxyXFxuICAgIDwvcD5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25cXFwiIFxcXCJQaG90byBJRCBGcm9udCAoRnJvbnQgb2YgcGFzc3BvcnQpXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25fMlxcXCIgXFxcIlBob3RvIElEIEJhY2sgKFBhc3Nwb3J0IHBpY3R1cmUgb2YgSUQpIFxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICA8cD5cXHJcXG4gICAgICAgIEFkZHJlc3MgbmVlZHMgdG8gYmUgdmVyaWZpZWQuIFBsZWFzZSB1cGxvYWQgZG9jdW1lbnQgdGhhdCBjb25maXJtcyB5b3VyIGFkZHJlc3MuXFxyXFxuICAgICAgICBBIGJpbGwgZnJvbSB0aGUgZ292ZXJubWVudCBvciB1dGlsaXR5IGNvbXBhbnkgaW4gdGhhdCBsYXN0IDMwIGRheXMgd2l0aCB5b3VyIG5hbWUgaXQgc2hvdWxkIHdvcmsuXFxyXFxuICAgIDwvcD5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJhZGRyZXNzX3ZlcmlmaWNhdGlvblxcXCIgXFxcIlBpY3R1cmUgb2YgYWRkcmVzcyB2ZXJpZmljYXRpb25cXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgRnVydGhlciBpbmZvcm1hdGlvbiBuZWVkcyB0byBiZSBzdWJtaXR0ZWQgaWYgYWNjb3VudCBvd25lciBpcyBhZmZpbGlhdGVkIHRvIGZpbnJhIG9yIGFuIGV4Y2hhbmdlXFxyXFxuICAgIDxici8+XFxyXFxuICAgIFBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9XFxcIm1haWx0bzppbmZvQGxpbWluYWwubWFya2V0XFxcIj5pbmZvQGxpbWluYWwubWFya2V0PC9hPiBmb3IgZnVydGhlciBpbmZvcm1hdGlvblxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgRnVydGhlciBpbmZvcm1hdGlvbiBuZWVkcyB0byBiZSBzdWJtaXR0ZWQgaWYgYWNjb3VudCBvd25lciBpcyBhIGNvbnRyb2wgcGVyc29uXFxyXFxuICAgIDxici8+XFxyXFxuICAgIFBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9XFxcIm1haWx0bzppbmZvQGxpbWluYWwubWFya2V0XFxcIj5pbmZvQGxpbWluYWwubWFya2V0PC9hPiBmb3IgZnVydGhlciBpbmZvcm1hdGlvblxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgVGhlIGFjY291bnQgb3duZXLigJlzIGNvdW50cnkgb2YgdGF4IHJlc2lkZW5jZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBLWUMgcHJvdmlkZXJzLlxcclxcbiAgICBJbiB0aGlzIGNhc2UsIHdl4oCZbGwgbWFudWFsbHkgcGVyZm9ybSBLWUMgb24gdGhlIHVzZXJcXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIERhdGUgb2YgYmlydGggbmVlZHMgdG8gYmUgdmVyaWZpZWQuIFBsZWFzZSB1cGxvYWQgZG9jdW1lbnQgdGhhdCBjb25maXJtcyB5b3VyIGRhdGUgb2YgYmlydGguXFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiZGF0ZV9vZl9iaXJ0aF92ZXJpZmljYXRpb25cXFwiIFxcXCJEYXRlIG9mIGJpcnRoIHZlcmlmaWNhdGlvblxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBGdXJ0aGVyIGluZm9ybWF0aW9uIG5lZWRzIHRvIGJlIHN1Ym1pdHRlZCBpZiBmYW1pbHkgbWVtYmVyIGlzIGEgcG9saXRpY2FsbHkgZXhwb3NlZCBwZXJzb25cXHJcXG4gICAgPGJyLz5cXHJcXG4gICAgUGxlYXNlIGNvbnRhY3QgdXMgYXQgPGEgaHJlZj1cXFwibWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXRcXFwiPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uXFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBJZGVudGl0eSBuZWVkcyB0byBiZSB2ZXJpZmllZCB2aWEgYSBnb3Zlcm5tZW50IGlzc3VlZCBJRC5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25cXFwiIFxcXCJQaG90byBJRCBGcm9udCAoRnJvbnQgb2YgcGFzc3BvcnQpXFxcIn19fVxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25fMlxcXCIgXFxcIlBob3RvIElEIEJhY2sgKFBhc3Nwb3J0IHBpY3R1cmUgb2YgSUQpIFxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0PlxcclxcbiAgICBGdXJ0aGVyIGluZm9ybWF0aW9uIG5lZWRzIHRvIGJlIHN1Ym1pdHRlZCBpZiBhY2NvdW50IG93bmVyIGlzIHBvbGl0aWNhbGx5IGV4cG9zZWQgcGVyc29uXFxyXFxuICAgIDxici8+XFxyXFxuICAgIFBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9XFxcIm1haWx0bzppbmZvQGxpbWluYWwubWFya2V0XFxcIj5pbmZvQGxpbWluYWwubWFya2V0PC9hPiBmb3IgZnVydGhlciBpbmZvcm1hdGlvblxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgSWRlbnRpdHkgbmVlZHMgdG8gYmUgdmVyaWZpZWQgdmlhIGEgbGl2ZSBzZWxmaWUgb2YgdGhlIGFjY291bnQgb3duZXJcXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJpZGVudGl0eV92ZXJpZmljYXRpb25cXFwiIFxcXCJMaXZlIHNlbGZpZSB2ZXJpZmljYXRpb25cXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgVGF4IElEIG51bWJlciBuZWVkcyB0byBiZSB2ZXJpZmllZC4gUGxlYXNlIHVwbG9hZCBkb2N1bWVudCB0aGF0IGNvbmZpcm1zIHlvdXIgVGF4IElkXFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwidGF4X2lkX3ZlcmlmaWNhdGlvblxcXCIgXFxcIlRheCBpZCB2ZXJpZmljYXRpb25cXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxmaWVsZHNldD5cXHJcXG4gICAgRnVydGhlciBpbmZvcm1hdGlvbiBuZWVkcyB0byBiZSBzdWJtaXR0ZWQgYWJvdXQgYWNjb3VudCBvd25lcuKAmXMgdmlzYVxcclxcbiAgICA8YnIvPlxcclxcbiAgICBQbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPVxcXCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldFxcXCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQ+XFxyXFxuICAgIElkZW50aWZ5aW5nIGluZm9ybWF0aW9uIHN1Ym1pdHRlZCBieSB0aGUgdXNlciB3YXMgaW5jb3JyZWN0IHNvIGEgbmV3LCBjb3JyZWN0ZWQsIFc4QkVOIG5lZWRzIHRvIGJlIHN1Ym1pdHRlZFxcclxcbiAgICA8YnIvPlxcclxcbiAgICBQbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPVxcXCJtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldFxcXCI+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT4gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2PlxcclxcbiAgICA8bGFiZWwgZm9yPVxcXCJ7e2lucHV0SWR9fVxcXCI+e3tsYWJlbH19PC9sYWJlbD5cXHJcXG4gICAgPGlucHV0IHR5cGU9XFxcImZpbGVcXFwiIHJlcXVpcmVkIGlkPVxcXCJ7e2lucHV0SWR9fVxcXCIgYWNjZXB0PVxcXCJ7e2FjY2VwdH19XFxcIiBjYXB0dXJlPVxcXCJ7e2NhcHR1cmV9fVxcXCIvPlxcclxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBpZD1cXFwie3tpbnB1dElkfX1fYmFzZTY0XFxcIiBuYW1lPVxcXCJ7e2lucHV0SWR9fV9iYXNlNjRcXFwiLz5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZXJyb3IgaGlkZGVuXFxcIiBpZD1cXFwie3tpbnB1dElkfX1fZXJyb3JcXFwiPjwvZGl2PlxcclxcbjwvZGl2PlxcclxcbjxkaXYgaWQ9XFxcInt7aW5wdXRJZH19X3ByZXZpZXdcXFwiPlxcclxcblxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgRmlsZVVwbG9hZEh0bWwgZnJvbSAnLi4vLi4vaHRtbC9lbGVtZW50cy9GaWxlVXBsb2FkLmh0bWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsZVVwbG9hZCB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXhGaWxlU2l6ZTogbnVtYmVyID0gOCAqIDEwMjQgKiAxMDI0ICogMTA7IC8vMTBNQlxyXG4gICAgaW5wdXRJZDogc3RyaW5nO1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIGFjY2VwdCA9IFwiaW1hZ2UvKiwucGRmXCI7XHJcbiAgICBjYXB0dXJlID0gJ2Vudmlyb25tZW50JztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbnB1dElkOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcsIGFjY2VwdCA9IFwiaW1hZ2UvcG5nLGltYWdlL2pwZWcsLnBkZlwiLCBjYXB0dXJlID0gJ2Vudmlyb25tZW50Jykge1xyXG4gICAgICAgIHRoaXMuaW5wdXRJZCA9IGlucHV0SWQ7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgIHRoaXMuYWNjZXB0ID0gYWNjZXB0O1xyXG4gICAgICAgIHRoaXMuY2FwdHVyZSA9IGNhcHR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoRmlsZVVwbG9hZEh0bWwpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIGxldCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlucHV0SWQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbGUoZmlsZUlucHV0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIHByb2Nlc3NGaWxlKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmhpZGVGaWxlUmVsYXRlZEluZm8oZWxlbWVudC5pZCk7XHJcblxyXG4gICAgICAgIGxldCBmaWxlcyA9IGVsZW1lbnQuZmlsZXM7XHJcbiAgICAgICAgaWYgKCFmaWxlcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgIGlmICghZmlsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dGaWxlUmVsYXRlZEluZm8oZWxlbWVudC5pZCwgJ05vIGZpbGUgc2VsZWN0ZWQuIFBsZWFzZSBzZWxlY3QgZmlsZS4nKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRCYXNlNjRJbnB1dChlbGVtZW50LmlkLCAnJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaWxlLnNpemUgPiB0aGlzLm1heEZpbGVTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0ZpbGVSZWxhdGVkSW5mbyhlbGVtZW50LmlkLCAnRmlsZSAnICsgZmlsZS5uYW1lICsgJyBpcyB0byBsYXJnZS4gRmlsZXMgY2Fubm90IGJlIGxhcmdlciB0aGVuIDEwTUIuIFlvdSBuZWVkIHRvIG1ha2UgaXQgc21hbGxlciBiZWZvcmUgc3VibWl0dGluZyB5b3VyIGFwcGxpY2F0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmFzZTY0SW5wdXQoZWxlbWVudC5pZCwgJycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRCYXNlNjRJbnB1dChlbGVtZW50LmlkLCByZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93RmlsZVJlbGF0ZWRJbmZvKGVsZW1lbnQuaWQsICdDb3VsZCBub3QgcmVhZCBmaWxlICcgKyBmaWxlLm5hbWUgKyAnLiBFaXRoZXIgdGhlIGZpbGUgaXMgY29ycnVwdCBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3QgYWxsb3cgdXMgdG8gcmVhZCBpdCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzZXRCYXNlNjRJbnB1dChlbGVtZW50SWQ6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBiYXNlNjRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCArICdfYmFzZTY0JykhIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgYmFzZTY0SW5wdXQudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBsZXQgcHJldmlld0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQgKyAnX3ByZXZpZXcnKTtcclxuICAgICAgICBpZiAoIXByZXZpZXdFbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKCdkYXRhOmltYWdlJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgcHJldmlld0VsZW1lbnQuaW5uZXJIVE1MID0gJzxpbWcgc3JjPVwiJyArIGJhc2U2NElucHV0LnZhbHVlICsgJ1wiIC8+J1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByZXZpZXdFbGVtZW50LmlubmVySFRNTCA9ICcnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2hvd0ZpbGVSZWxhdGVkSW5mbyhlbGVtZW50SWQ6IHN0cmluZywgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGZpbGVSZWxhdGVkSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCArICdfZXJyb3InKSEgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFmaWxlUmVsYXRlZEluZm8pIHJldHVybjtcclxuXHJcbiAgICAgICAgZmlsZVJlbGF0ZWRJbmZvLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgZmlsZVJlbGF0ZWRJbmZvLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGhpZGVGaWxlUmVsYXRlZEluZm8oZWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZmlsZVJlbGF0ZWRJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkICsgJ19lcnJvcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghZmlsZVJlbGF0ZWRJbmZvKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZpbGVSZWxhdGVkSW5mby5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZmlsZVVwbG9hZHM6IEZpbGVVcGxvYWRbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVnaXN0ZXJIYW5kbGVyKCkge1xyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2ZpbGVVcGxvYWQnLCAoaWQsIGxhYmVsKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlVXBsb2FkID0gbmV3IEZpbGVVcGxvYWQoaWQsIGxhYmVsKTtcclxuICAgICAgICAgICAgRmlsZVVwbG9hZC5maWxlVXBsb2Fkcy5wdXNoKGZpbGVVcGxvYWQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZpbGVVcGxvYWQucmVuZGVyKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBLeWNWYWxpZGF0b3JFcnJvciBmcm9tIFwiLi4vZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBTdHJpbmdIZWxwZXIgZnJvbSBcIi4vU3RyaW5nSGVscGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIHNlbGVjdG9yOiBzdHJpbmc7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCkge1xyXG4gICAgICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IgKyAnIGlucHV0W3JlcXVpcmVkXSwgJyArIHRoaXMuc2VsZWN0b3IgKyAnIHNlbGVjdFtyZXF1aXJlZF0nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBpbnB1dHNbaV0gYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTWlzc2luZ0lucHV0RnJvbVVzZXIoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgbXVzdCBmaWxsIGludG8gdGhpcyBmaWVsZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXROYW1lOiBpbnB1dC5pZCxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj0nICsgaW5wdXQuaWQgKyAnXScpIS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogaW5wdXQucGF0dGVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlKG9iaik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5wYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IGlucHV0LnBhdHRlcm47XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IGlucHV0LnZhbHVlLm1hdGNoKHBhdHRlcm4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIGlzIG5vdCB2YWxpZCBkYXRlIGZvcm1hdCwgcGxlYXNlIHVzZSBZWVlZLU1NLUREICh5ZWFyLW1vbnRoLWRhdGUpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXROYW1lOiBpbnB1dC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9JyArIGlucHV0LmlkICsgJ10nKSEuaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBpbnB1dC5wYXR0ZXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZShvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBpc01pc3NpbmdJbnB1dEZyb21Vc2VyKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuICgoaW5wdXQudHlwZSA9PSAnY2hlY2tib3gnICYmICFpbnB1dC5jaGVja2VkKSB8fCBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShpbnB1dC52YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZW1vdmVNaXNzaW5nSW5mbyhlcnJvckRpdklkOiBzdHJpbmcsIGZvY3VzRWxlbWVudElkPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckRpdklkKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGlmICghZm9jdXNFbGVtZW50SWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGZvY3VzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvY3VzRWxlbWVudElkKTtcclxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0TWlzc2luZ0luZm8oZXJyb3JEaXZJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIGZvY3VzRWxlbWVudElkPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckRpdklkKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIGlmICh0ZXh0ID09ICcnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgICAgICAgaWYgKGZvY3VzRWxlbWVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk/LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk/LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZShvYmo6IHsgbGFiZWxUZXh0OiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZzsgcGF0dGVybjogc3RyaW5nOyBpbnB1dE5hbWU6IHN0cmluZyB9KSB7XHJcbiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqLmlucHV0TmFtZSk7XHJcbiAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgaW5wdXRFcnJvciA9IGlucHV0LnBhcmVudEVsZW1lbnQhLnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9lcnJvcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChpbnB1dEVycm9yKSB7XHJcbiAgICAgICAgICAgIGlucHV0RXJyb3Iuc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiAnY2VudGVyJ30pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICBpbnB1dC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCAnPGRpdiBjbGFzcz1cImlucHV0X2Vycm9yXCIgc3R5bGU9XCJkaXNwbGF5OiBibG9ja1wiIGlkPVwiaW5wdXRfZXJyb3JfJyArIG9iai5pbnB1dE5hbWUgKyAnXCI+JyArIG9iai5tZXNzYWdlICsgJzwvZGl2PicpO1xyXG4gICAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgaWYgKG9iai5wYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGF0dGVybicsIG9iai5wYXR0ZXJuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdwYXR0ZXJuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChwYXR0ZXJuICYmIGlucHV0LnZhbHVlLm1hdGNoKHBhdHRlcm4pKSB8fCAoaW5wdXQucmVxdWlyZWQgJiYgaW5wdXQudmFsdWUpIHx8IGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRfZXJyb3JfJyArIG9iai5pbnB1dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIGVycm9yTWVzc2FnZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgODAwKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWxcIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBLeWNBY3Rpb25SZXF1aXJlZEh0bWwgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvS3ljQWN0aW9uUmVxdWlyZWQuaHRtbCc7XHJcbmltcG9ydCBXZURvbnRLbm93V2h5SHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9XZURvbnRLbm93V2h5Lmh0bWwnXHJcbmltcG9ydCBLeWNSZXN1bHRNZXNzYWdlIGZyb20gXCIuLi8uLi8uLi9kdG8vS3ljUmVzdWx0TWVzc2FnZVwiO1xyXG5cclxuXHJcbmltcG9ydCBJREVOVElUWV9WRVJJRklDQVRJT04gZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvSURFTlRJVFlfVkVSSUZJQ0FUSU9OLmh0bWwnXHJcbmltcG9ydCBBRERSRVNTX1ZFUklGSUNBVElPTiBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9BRERSRVNTX1ZFUklGSUNBVElPTi5odG1sJ1xyXG5pbXBvcnQgQUZGSUxJQVRFRCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9BRkZJTElBVEVELmh0bWwnXHJcbmltcG9ydCBDT05UUk9MX1BFUlNPTiBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9DT05UUk9MX1BFUlNPTi5odG1sJ1xyXG5pbXBvcnQgQ09VTlRSWV9OT1RfU1VQUE9SVEVEIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL0NPVU5UUllfTk9UX1NVUFBPUlRFRC5odG1sJ1xyXG5pbXBvcnQgREFURV9PRl9CSVJUSCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9EQVRFX09GX0JJUlRILmh0bWwnXHJcbmltcG9ydCBGQU1JTFlfTUVNQkVSX1BFUCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9GQU1JTFlfTUVNQkVSX1BFUC5odG1sJ1xyXG5pbXBvcnQgSU5WQUxJRF9JREVOVElUWV9QQVNTUE9SVCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9JTlZBTElEX0lERU5USVRZX1BBU1NQT1JULmh0bWwnXHJcbmltcG9ydCBQRVAgZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvUEVQLmh0bWwnXHJcbmltcG9ydCBTRUxGSUVfVkVSSUZJQ0FUSU9OIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0FjdGlvblJlcXVpcmVkL1NFTEZJRV9WRVJJRklDQVRJT04uaHRtbCdcclxuaW1wb3J0IFRBWF9JREVOVElGSUNBVElPTiBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9UQVhfSURFTlRJRklDQVRJT04uaHRtbCdcclxuaW1wb3J0IFZJU0FfVFlQRV9PVEhFUiBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9BY3Rpb25SZXF1aXJlZC9WSVNBX1RZUEVfT1RIRVIuaHRtbCdcclxuaW1wb3J0IFc4QkVOX0NPUlJFQ1RJT04gZnJvbSAnLi4vLi4vLi4vaHRtbC9tb2RhbC9LeWMvQWN0aW9uUmVxdWlyZWQvVzhCRU5fQ09SUkVDVElPTi5odG1sJ1xyXG5pbXBvcnQgRm9ybUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Gb3JtSGVscGVyXCI7XHJcbmltcG9ydCBGaWxlVXBsb2FkIGZyb20gXCIuLi8uLi9lbGVtZW50cy9GaWxlVXBsb2FkXCI7XHJcbmltcG9ydCBLeWNWYWxpZGF0b3JFcnJvciBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi8uLi8uLi91dGlsL0Zvcm1WYWxpZGF0b3JcIjtcclxuaW1wb3J0IEtZQ1NlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vS1lDU2VydmljZVwiO1xyXG5pbXBvcnQgTG9hZGluZ0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Mb2FkaW5nSGVscGVyXCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4uLy4uL2VsZW1lbnRzL3RyYWRlcGFuZWwvRXhlY3V0ZVRyYWRlQnV0dG9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljQWN0aW9uUmVxdWlyZWQge1xyXG5cclxuICAgIG1vZGFsOiBNb2RhbDtcclxuICAgIHRlbXBsYXRlczogTWFwPHN0cmluZywgc3RyaW5nPjtcclxuICAgIGV4ZWN1dGVUcmFkZUJ1dHRvbjogRXhlY3V0ZVRyYWRlQnV0dG9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGV4ZWN1dGVUcmFkZUJ1dHRvbjogRXhlY3V0ZVRyYWRlQnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZXhlY3V0ZVRyYWRlQnV0dG9uID0gZXhlY3V0ZVRyYWRlQnV0dG9uO1xyXG5cclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ1dlRG9udEtub3dXaHlIdG1sJywgV2VEb250S25vd1doeUh0bWwpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnQUREUkVTU19WRVJJRklDQVRJT04nLCBBRERSRVNTX1ZFUklGSUNBVElPTik7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdBRkZJTElBVEVEJywgQUZGSUxJQVRFRCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdDT05UUk9MX1BFUlNPTicsIENPTlRST0xfUEVSU09OKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ0NPVU5UUllfTk9UX1NVUFBPUlRFRCcsIENPVU5UUllfTk9UX1NVUFBPUlRFRCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdEQVRFX09GX0JJUlRIJywgREFURV9PRl9CSVJUSCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdGQU1JTFlfTUVNQkVSX1BFUCcsIEZBTUlMWV9NRU1CRVJfUEVQKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ0lERU5USVRZX1ZFUklGSUNBVElPTicsIElERU5USVRZX1ZFUklGSUNBVElPTik7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdJTlZBTElEX0lERU5USVRZX1BBU1NQT1JUJywgSU5WQUxJRF9JREVOVElUWV9QQVNTUE9SVCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdQRVAnLCBQRVApO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnU0VMRklFX1ZFUklGSUNBVElPTicsIFNFTEZJRV9WRVJJRklDQVRJT04pO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGVzLnNldCgnVEFYX0lERU5USUZJQ0FUSU9OJywgVEFYX0lERU5USUZJQ0FUSU9OKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlcy5zZXQoJ1ZJU0FfVFlQRV9PVEhFUicsIFZJU0FfVFlQRV9PVEhFUik7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuc2V0KCdXOEJFTl9DT1JSRUNUSU9OJywgVzhCRU5fQ09SUkVDVElPTik7XHJcblxyXG4gICAgICAgIEZpbGVVcGxvYWQucmVnaXN0ZXJIYW5kbGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3coKSB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBreWNSZXN1bHQgPSBhd2FpdCB1c2VyU2VydmljZS5reWNBY3Rpb25SZXF1aXJlZCgpXHJcbiAgICAgICAgaWYgKCFreWNSZXN1bHQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGt5Y0luZm8gPSB0aGlzLmdldEt5Y01lc3NhZ2VzKGt5Y1Jlc3VsdC5tZXNzYWdlcyk7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNBY3Rpb25SZXF1aXJlZEh0bWwpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUoe1xyXG4gICAgICAgICAgICBqc29uOiBKU09OLnN0cmluZ2lmeShreWNSZXN1bHQpLFxyXG4gICAgICAgICAgICBLeWNJbmZvOiBreWNJbmZvLFxyXG4gICAgICAgICAgICBPdGhlcjoga3ljUmVzdWx0LmFkZGl0aW9uYWxfaW5mb3JtYXRpb24sXHJcbiAgICAgICAgICAgIFN1Ym1pdERhdGE6IGt5Y0luZm8uaW5kZXhPZignPGlucHV0JykgIT0gLTFcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLm1vZGFsLnNob3dNb2RhbCgnQWN0aW9uIHJlcXVpcmVkJywgY29udGVudCwgZmFsc2UsICgpID0+IHtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGxldCBreWNBY3Rpb25SZXF1aXJlZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWRGb3JtJyk7XHJcbiAgICAgICAga3ljQWN0aW9uUmVxdWlyZWRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVFcnJvcigpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNBY3Rpb25SZXF1aXJlZFN1Ym1pdCcpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBMb2FkaW5nSGVscGVyLnNldExvYWRpbmcoc3VibWl0QnRuKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoJyNreWNBY3Rpb25SZXF1aXJlZEZvcm0nKVxyXG4gICAgICAgICAgICBpZiAoIWZvcm1WYWxpZGF0b3IudmFsaWRhdGVSZXF1aXJlZEZpZWxkcygpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gRm9ybUhlbHBlci5nZXRQYXJhbXMoJyNreWNBY3Rpb25SZXF1aXJlZEZvcm0nKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBreWNTZXJ2aWNlID0gbmV3IEtZQ1NlcnZpY2UoTW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IGt5Y1NlcnZpY2UudXBkYXRlRG9jdW1lbnRzKHBhcmFtcylcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQga3ljQWN0aW9uUmVxdWlyZWREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWREaXYnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBreWNBY3Rpb25SZXF1aXJlZERpdj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBreWNBY3Rpb25SZXF1aXJlZFN1Ym1pdHRlZERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNBY3Rpb25SZXF1aXJlZFN1Ym1pdHRlZERpdicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGt5Y0FjdGlvblJlcXVpcmVkU3VibWl0dGVkRGl2Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVUcmFkZUJ1dHRvbi5jaGVja0t5Y0lzRG9uZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlVHJhZGVCdXR0b24ucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgRmlsZVVwbG9hZC5maWxlVXBsb2Fkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBGaWxlVXBsb2FkLmZpbGVVcGxvYWRzW2ldLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2V0S3ljTWVzc2FnZXMobWVzc2FnZXM6IEt5Y1Jlc3VsdE1lc3NhZ2VbXSkge1xyXG4gICAgICAgIGxldCBreWNJbmZvID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaHRtbFRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZXMuZ2V0KG1lc3NhZ2VzW2ldLmtleSk7XHJcbiAgICAgICAgICAgIGlmICghaHRtbFRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAvL1RPRE86IEhlcmUgd2Ugc2hvdWxkIHRvIGxvZ2dlciwgY3JpdGljYWwgdGhhdCB3ZSBkb250IGtub3cgd2h5XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoaHRtbFRlbXBsYXRlKVxyXG4gICAgICAgICAgICBreWNJbmZvICs9IHRlbXBsYXRlKHttZXNzYWdlOiBtZXNzYWdlc1tpXS5tZXNzYWdlfSlcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoa3ljSW5mbyA9PSAnJykge1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9IHRoaXMudGVtcGxhdGVzLmdldCgnV2VEb250S25vd1doeUh0bWwnKTtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGh0bWwpO1xyXG4gICAgICAgICAgICBreWNJbmZvID0gdGVtcGxhdGUoe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGt5Y0luZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoaWRlRXJyb3IoKSB7XHJcbiAgICAgICAgbGV0IGt5Y0FjdGlvblJlcXVpcmVkRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWRFcnJvcicpO1xyXG4gICAgICAgIGlmICgha3ljQWN0aW9uUmVxdWlyZWRFcnJvcikgcmV0dXJuO1xyXG4gICAgICAgIGt5Y0FjdGlvblJlcXVpcmVkRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0Vycm9yKHJlYXNvbjogYW55KSB7XHJcbiAgICAgICAgbGV0IGt5Y0FjdGlvblJlcXVpcmVkRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljQWN0aW9uUmVxdWlyZWRFcnJvcicpO1xyXG4gICAgICAgIGlmICgha3ljQWN0aW9uUmVxdWlyZWRFcnJvcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBreWNBY3Rpb25SZXF1aXJlZEVycm9yLmlubmVySFRNTCA9ICdFcnJvciBvY2N1cnJlZCB3aGlsZSBzYXZpbmcgeW91ciBkb2N1bWVudHMuIFJlYXNvbjonICsgcmVhc29uO1xyXG4gICAgICAgIGt5Y0FjdGlvblJlcXVpcmVkRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxkaXYgaWQ9XFxcImt5Y19yZWdcXFwiPlxcclxcblxcclxcbiAgICA8Zm9ybSBpZD1cXFwia3ljX3dpemFyZF9mb3JtXFxcIiBuYW1lPVxcXCJreWNfd2l6YXJkX2Zvcm1cXFwiIG5vdmFsaWRhdGUgb25zdWJtaXQ9XFxcInJldHVybiBmYWxzZVxcXCI+XFxyXFxuICAgICAgICB7e3tLeWNDb250YWN0SHRtbH19fVxcclxcbiAgICAgICAge3t7S3ljSWRlbnRpdHlIdG1sfX19XFxyXFxuICAgICAgICB7e3tLeWNUcnVzdGVkQ29udGFjdEh0bWx9fX1cXHJcXG4gICAgICAgIHt7e0t5Y0Rpc2Nsb3N1cmVIdG1sfX19XFxyXFxuICAgICAgICB7e3tLeWNVcGxvYWRIdG1sfX19XFxyXFxuICAgICAgICB7e3tLeWNBY2NvdW50QWdyZWVtZW50SHRtbH19fVxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9kaXY+XFxyXFxuXFxyXFxuPGRpdiBpZD1cXFwid2FpdGluZ19mb3Jfa3ljX3JlZ1xcXCIgY2xhc3M9XFxcImhpZGRlblxcXCI+XFxyXFxuICAgIEtZQyBpcyBiZWluZyBwcm9jZXNzZWQuIFRoaXMgbWF5IHRha2UgYWJvdXQgNC01IG1pbnV0ZXMuIFdpbmRvdyB3aWxsIGNsb3NlIHdoZW4gaXQncyBkb25lLlxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuICAgIFlvdSBjYW4gY2xvc2UgdGhlIHdpbmRvdywgd2Ugd2lsbCBlbWFpbCB5b3Ugd2hlbiBLWUMgaXMgZmluaXNoZWQuXFxyXFxuXFxyXFxuICAgIDxwcm9ncmVzcz48L3Byb2dyZXNzPlxcclxcblxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y0NvbnRhY3QgaGlkZGVuXFxcIiBkYXRhLWZvcm09XFxcIjFcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJleHBsYWluXFxcIj5cXHJcXG4gICAgICAgIFRvIGJlIGFibGUgdG8gdHJhZGUgb24gdGhlIHN0b2NrIG1hcmtldCwgd2UgbmVlZCB0byBnZXQgeW91ciBpbmZvcm1hdGlvbi5cXHJcXG4gICAgICAgIFRoaXMgaXMgYSByZXF1aXJlbWVudCBmcm9tIHRoZSBmaW5hbmNpYWwgcmVndWxhdG9ycy5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbWFpbF9hZGRyZXNzXFxcIj5FbWFpbDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHJlcXVpcmVkIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJlbWFpbF9hZGRyZXNzXFxcIiBuYW1lPVxcXCJlbWFpbF9hZGRyZXNzXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJuYW1lQGV4YW1wbGUuY29tXFxcIiBhdXRvY29tcGxldGU9XFxcImVtYWlsXFxcIlxcclxcbiAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInBob25lX251bWJlclxcXCI+UGhvbmU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRlbFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcInBob25lX251bWJlclxcXCIgbmFtZT1cXFwicGhvbmVfbnVtYmVyXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCIrMS01NTUtNjY2LTc3ODhcXFwiIGF1dG9jb21wbGV0ZT1cXFwidGVsXFxcIiB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJzdHJlZXRfYWRkcmVzc1xcXCI+UGVybWFuZW50IFJlc2lkZW50aWFsIEFkZHJlc3M8L2xhYmVsPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+SXQgbXVzdCBiZSBhIHBoeXNpY2FsIGFkZHJlc3MsIG5vdCBhIFBPIGJveC48L2Rpdj5cXHJcXG4gICAgICAgIDxpbnB1dCByZXF1aXJlZCBpZD1cXFwic3RyZWV0X2FkZHJlc3NcXFwiIG5hbWU9XFxcInN0cmVldF9hZGRyZXNzXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCIyMCBOIFNhbiBNYXRlbyBEclxcXCIgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxpbmUxXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ1bml0XFxcIj5Vbml0IC8gQXB0ICM8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ1bml0XFxcIiBuYW1lPVxcXCJ1bml0XFxcIiB2YWx1ZT1cXFwiXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjaXR5XFxcIj5DaXR5PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwiY2l0eVxcXCIgbmFtZT1cXFwiY2l0eVxcXCIgcGxhY2Vob2xkZXI9XFxcIlBhd25lZVxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIiBhdXRvY29tcGxldGU9XFxcImFkZHJlc3MtbGV2ZWwyXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJwb3N0YWxfY29kZVxcXCI+UG9zdGFsIGNvZGU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJwb3N0YWxfY29kZVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJwb3N0YWwtY29kZVxcXCIgbmFtZT1cXFwicG9zdGFsX2NvZGVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIjk0NDAxXFxcIlxcclxcbiAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwic3RhdGVfZGl2XFxcIj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInN0YXRlXFxcIj5TdGF0ZSAoMiBsZXR0ZXJzKTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbWF4bGVuZ3RoPVxcXCIyXFxcIiBpZD1cXFwic3RhdGVcXFwiIG5hbWU9XFxcInN0YXRlXFxcIiBwbGFjZWhvbGRlcj1cXFwiTllcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJhZGRyZXNzLWxldmVsMVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY291bnRyeV9vZl90YXhfcmVzaWRlbmNlXFxcIj5Db3VudHJ5IG9mIHRheCByZXNpZGVuY2U8L2xhYmVsPlxcclxcbiAgICAgICAge3sjaWYgZWRpdH19XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiY291bnRyeV9vZl90YXhfcmVzaWRlbmNlXFxcIiByZWFkb25seSBpZD1cXFwiY291bnRyeV9vZl90YXhfcmVzaWRlbmNlXFxcIi8+XFxyXFxuICAgICAgICB7ey9pZn19XFxyXFxuICAgICAgICB7eyN1bmxlc3MgZWRpdH19XFxyXFxuICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJjb3VudHJ5X29mX3RheF9yZXNpZGVuY2VcXFwiIG5hbWU9XFxcImNvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJjb3VudHJ5XFxcIj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIHt7I2VhY2ggY291bnRyaWVzfX1cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2NvZGV9fVxcXCI+e3tuYW1lfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7ey9lYWNofX1cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICAgICAge3svdW5sZXNzfX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJjb250YWN0X25leHRcXFwiPk5leHQ6IElkZW50aXR5PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi8uLi91aS9tb2RhbHMvS1lDRm9ybVwiO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuLi8uLi91dGlsL1N0cmluZ0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljVmFsaWRhdG9yRXJyb3Ige1xyXG4gICAgdmFsaWRWYWx1ZXM6IHN0cmluZyB8IHN0cmluZ1tdID0gJyc7XHJcbiAgICBpbnB1dE5hbWU6IHN0cmluZyA9ICcnO1xyXG4gICAgbGFiZWxUZXh0OiBzdHJpbmcgPSAnJztcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIHBhdHRlcm46IHN0cmluZyA9ICcnO1xyXG4gICAgb25zaG93OiBhbnk7XHJcbiAgICBreWNGb3JtOiBLWUNGb3JtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVycm9yOiBhbnksIGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIWVycm9yLmlucHV0TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShlcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gb2JqLm1lc3NhZ2U/LnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICAgICAgdGhpcy52YWxpZFZhbHVlcyA9IG9iai52YWxpZFZhbHVlcz8ucmVwbGFjZSgvXy9nLCAnICcpO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0TmFtZSA9IG9iai5pbnB1dE5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWxUZXh0ID0gb2JqLmxhYmVsVGV4dDtcclxuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuID0gb2JqLnBhdHRlcm47XHJcbiAgICAgICAgICAgIHRoaXMub25zaG93ID0gb2JqLm9uc2hvdztcclxuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3IubWVzc3NhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmt5Y0Zvcm0gPSBreWNGb3JtO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodGhpcy5pbnB1dE5hbWUpKSB7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVGaWVsZHNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5reWNGb3JtLmFjdGl2ZUZpZWxkc2V0U2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRFcnJvciA9IGFjdGl2ZUZpZWxkc2V0LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dF9lcnJvcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVycm9yLmlubmVySFRNTCA9IHRoaXMudmFsaWRWYWx1ZXMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZSAmJiB0aGlzLm1lc3NhZ2UuaW5kZXhPZignSW52YWxpZCBmdW5jdGlvbicpICE9IC0xIHx8IHRoaXMubWVzc2FnZS5pbmRleE9mKCdVbmFibGUgdG8gY29ubmVjdCB0byB0aGUgUGFyc2UgQVBJJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFcnJvci5pbm5lckhUTUwgPSAnV2UganVzdCBkZXBsb3llZCBuZXcgdmVyc2lvbiBvZiBvdXIgd2Vic2l0ZS4gVGhpcyBjYW4gY2F1c2UgaW50ZXJydXB0aW9uLiBQbGVhc2Ugd2FpdCAzMCBzZWNvbmRzIGFuZCBzdWJtaXQgYWdhaW4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RXJyb3IuaW5uZXJIVE1MID0gdGhpcy5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlucHV0RXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVycm9yLnNjcm9sbEludG9WaWV3KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaW5wdXROYW1lKTtcclxuICAgICAgICBpZiAoIWlucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBpbnB1dEVycm9yID0gaW5wdXQucGFyZW50RWxlbWVudCEucXVlcnlTZWxlY3RvcignLmlucHV0X2Vycm9yJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGlucHV0RXJyb3IpIHtcclxuICAgICAgICAgICAgaW5wdXRFcnJvci5zY3JvbGxJbnRvVmlldyh7YmxvY2s6ICdjZW50ZXInfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIGxldCBlcnJvcklucHV0ID0gJzxkaXYgY2xhc3M9XCJpbnB1dF9lcnJvclwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2tcIiBpZD1cImlucHV0X2Vycm9yXycgKyB0aGlzLmlucHV0TmFtZSArICdcIj4nICsgdGhpcy5tZXNzYWdlICsgJzwvZGl2Pic7XHJcbiAgICAgICAgaWYgKGlucHV0LmNsaWVudFdpZHRoIDwgMzAwKSB7XHJcbiAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLmdldERpdlRvRGlzcGxheUVycm9yTWVzc2FnZShpbnB1dCk7XHJcbiAgICAgICAgICAgIGRpdi5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBlcnJvcklucHV0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnB1dC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBlcnJvcklucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICBpZiAodGhpcy5wYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGF0dGVybicsIHRoaXMucGF0dGVybik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IGlucHV0LmdldEF0dHJpYnV0ZSgncGF0dGVybicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgocGF0dGVybiAmJiBpbnB1dC52YWx1ZS5tYXRjaChwYXR0ZXJuKSkgfHwgKGlucHV0LnR5cGUgIT0gJ2NoZWNrYm94JyAmJiBpbnB1dC50eXBlICE9ICdyYWRpbycgJiYgaW5wdXQucmVxdWlyZWQgJiYgaW5wdXQudmFsdWUpIHx8IGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRfZXJyb3JfJyArIHRoaXMuaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSBlcnJvck1lc3NhZ2UucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDgwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IGZpZWxkc2V0RWxlbWVudCA9IGlucHV0LmNsb3Nlc3QoJ2ZpZWxkc2V0W2RhdGEtZm9ybT1cIjFcIl0nKTtcclxuICAgICAgICBpZiAoZmllbGRzZXRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBjbGFzc05hbWUgPSBmaWVsZHNldEVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoJ2hpZGRlbicsICcnKS50cmltKCk7XHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5zaG93KGNsYXNzTmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpbnB1dC5zY3JvbGxJbnRvVmlldyhmYWxzZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9uc2hvdykge1xyXG4gICAgICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub25zaG93LmlkKTtcclxuICAgICAgICAgICAgaWYgKCFsaW5rKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBNb3JhbGlzLkNsb3VkLnJ1bih0aGlzLm9uc2hvdy5mdW5jdGlvbk5hbWUsIHRoaXMub25zaG93LnBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X2Vycm9yXycgKyB0aGlzLmlucHV0TmFtZSkhLmlubmVySFRNTCA9ICdFbWFpbCBoYXMgYmVlbiBzZW50IHRvICcgKyB0aGlzLm9uc2hvdy5wYXJhbXMuZW1haWw7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGl2VG9EaXNwbGF5RXJyb3JNZXNzYWdlKGlucHV0OiBIVE1MRWxlbWVudCwgY291bnRlciA9IDEpOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBkaXYgPSBpbnB1dC5wYXJlbnRFbGVtZW50IS5jbG9zZXN0KCdkaXYnKTtcclxuICAgICAgICBpZiAoIWRpdikgcmV0dXJuIGlucHV0O1xyXG5cclxuICAgICAgICBpZiAoZGl2LmNsaWVudFdpZHRoID4gMzAwIHx8IGNvdW50ZXIgPiA1KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXZUb0Rpc3BsYXlFcnJvck1lc3NhZ2UoZGl2LCArK2NvdW50ZXIpO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBTdHJpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvU3RyaW5nSGVscGVyXCI7XHJcbmltcG9ydCBLeWNWYWxpZGF0b3JFcnJvciBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBGaWxlVXBsb2FkIGZyb20gXCIuLi8uLi9lbGVtZW50cy9GaWxlVXBsb2FkXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljQmFzZSB7XHJcbiAgICBreWNGb3JtOiBLWUNGb3JtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICB0aGlzLmt5Y0Zvcm0gPSBreWNGb3JtO1xyXG5cclxuICAgICAgICBGaWxlVXBsb2FkLnJlZ2lzdGVySGFuZGxlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93RmllbGRzZXQoc2VsZWN0b3I6IHN0cmluZywgaGVhZGVyOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmhpZGVGaWVsZHNldHMoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaW1pbmFsX21hcmtldF9tb2RhbF9kaXYgPiBhcnRpY2xlID4gaGVhZGVyID4gc3BhbicpIS5pbm5lckhUTUwgPSBoZWFkZXJcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGltaW5hbF9tYXJrZXRfbW9kYWxfZGl2ID4gYXJ0aWNsZScpIS5zY3JvbGxUb3AgPSAwXHJcbiAgICAgICAgdGhpcy5reWNGb3JtLmFjdGl2ZUZpZWxkc2V0U2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd1JlcXVpcmVkTWFya2VyKCkge1xyXG4gICAgICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgc2VsZWN0Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICghaW5wdXQuaWQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9JyArIGlucHV0LmlkICsgJ10nKTtcclxuICAgICAgICAgICAgaWYgKCFsYWJlbCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5wdXQucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5pbm5lckhUTUwuaW5kZXhPZignKicpID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MICs9ICcqJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5pbm5lckhUTUwuaW5kZXhPZignKicpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gbGFiZWwuaW5uZXJIVE1MLnJlcGxhY2UoJyonLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFJlcXVpcmVkKGlucHV0SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpPy5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVJlcXVpcmVkKGlucHV0SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpPy5yZW1vdmVBdHRyaWJ1dGUoJ3JlcXVpcmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmQoc2VsZWN0b3I6IHN0cmluZywgZXZlbnROYW1lOiBzdHJpbmcsIGFjdGlvbjogKGV2dDogRXZlbnQpID0+IHZvaWQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24oZXZ0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRmlsZVVwbG9hZHMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBGaWxlVXBsb2FkLmZpbGVVcGxvYWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIEZpbGVVcGxvYWQuZmlsZVVwbG9hZHNbaV0uYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZUZpZWxkc2V0cygpIHtcclxuICAgICAgICBsZXQgZmllbGRzZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2t5Y193aXphcmRfZm9ybSA+IGZpZWxkc2V0Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHNldHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZmllbGRzZXRzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoc2VsZWN0b3I6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyBpbnB1dFtyZXF1aXJlZF0sICcgKyBzZWxlY3RvciArICcgc2VsZWN0W3JlcXVpcmVkXScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGlucHV0c1tpXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNaXNzaW5nSW5wdXRGcm9tVXNlcihpbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1lvdSBtdXN0IGZpbGwgaW50byB0aGlzIGZpZWxkJyxcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dE5hbWU6IGlucHV0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPScgKyBpbnB1dC5pZCArICddJykhLmlubmVySFRNTCxcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBpbnB1dC5wYXR0ZXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGt5Y1ZhbGlkYXRpb25FcnJvciA9IG5ldyBLeWNWYWxpZGF0b3JFcnJvcihvYmosIHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgICAgICAgICBreWNWYWxpZGF0aW9uRXJyb3IuaGFuZGxlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5wYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IGlucHV0LnBhdHRlcm47XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IGlucHV0LnZhbHVlLm1hdGNoKHBhdHRlcm4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIGlzIG5vdCB2YWxpZCBkYXRlIGZvcm1hdCwgcGxlYXNlIHVzZSBZWVlZLU1NLUREICh5ZWFyLW1vbnRoLWRhdGUpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXROYW1lOiBpbnB1dC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9JyArIGlucHV0LmlkICsgJ10nKSEuaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBpbnB1dC5wYXR0ZXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQga3ljVmFsaWRhdGlvbkVycm9yID0gbmV3IEt5Y1ZhbGlkYXRvckVycm9yKG9iaiwgdGhpcy5reWNGb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICBreWNWYWxpZGF0aW9uRXJyb3IuaGFuZGxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc2hvd0VsZW1lbnQoZWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZUVsZW1lbnQoZWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0TGFiZWwoZWxlbWVudElkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RheF9pZF9sYWJlbCcpO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc01pc3NpbmdJbnB1dEZyb21Vc2VyKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuICgoaW5wdXQudHlwZSA9PSAnY2hlY2tib3gnICYmICFpbnB1dC5jaGVja2VkKSB8fCBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eShpbnB1dC52YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZW1vdmVNaXNzaW5nSW5mbyhlcnJvckRpdklkOiBzdHJpbmcsIGZvY3VzRWxlbWVudElkPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckRpdklkKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIGlmICghZm9jdXNFbGVtZW50SWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGZvY3VzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvY3VzRWxlbWVudElkKTtcclxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0TWlzc2luZ0luZm8oZXJyb3JEaXZJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIGZvY3VzRWxlbWVudElkPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckRpdklkKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIGlmICh0ZXh0ID09ICcnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgICAgICAgICAgaWYgKGZvY3VzRWxlbWVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk/LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb2N1c0VsZW1lbnRJZCk/LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IEt5Y0NvbnRhY3RIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0NvbnRhY3QuaHRtbCc7XHJcbmltcG9ydCBLeWNCYXNlIGZyb20gXCIuL0t5Y0Jhc2VcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IENvdW50cnlIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvQ291bnRyeUhlbHBlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0NvbnRhY3QgZXh0ZW5kcyBLeWNCYXNlIHtcclxuXHJcbiAgICB1c1RheFJlc2lkZW5jZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihlZGl0ID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljQ29udGFjdEh0bWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUoe2VkaXQ6IGVkaXQsIGNvdW50cmllczogQ291bnRyeUhlbHBlci5Db3VudHJpZXN9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICB0aGlzLnNob3dGaWVsZHNldCgnLmt5Y0NvbnRhY3QnLCAnQ29udGFjdCBpbmZvcm1hdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuYmluZCgnI2NvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZScsICdjaGFuZ2UnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy51c1RheFJlc2lkZW5jZSA9IChpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpID09ICdVU0EnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzVGF4UmVzaWRlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdGVfZGl2Jyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmt5Y0Zvcm0uc2V0U3RlcHMoNSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVxdWlyZWQoJ3N0YXRlJylcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmt5Y0Zvcm0uc2V0U3RlcHMoNilcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ3N0YXRlJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdGVfZGl2Jyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHNob3dJZGVudGl0eUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0X25leHQnKTtcclxuICAgICAgICBpZiAoc2hvd0lkZW50aXR5QnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHNob3dJZGVudGl0eUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCcua3ljQ29udGFjdCcpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0lkZW50aXR5LnNob3coKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y0lkZW50aXR5IGhpZGRlblxcXCIgZGF0YS1mb3JtPVxcXCIxXFxcIj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImdpdmVuX25hbWVcXFwiPkxlZ2FsIEZpcnN0IG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJnaXZlbl9uYW1lXFxcIiBuYW1lPVxcXCJnaXZlbl9uYW1lXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJSb25cXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJnaXZlbi1uYW1lXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJtaWRkbGVfbmFtZVxcXCI+TGVnYWwgTWlkZGxlIG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJtaWRkbGVfbmFtZVxcXCIgbmFtZT1cXFwibWlkZGxlX25hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIiBhdXRvY29tcGxldGU9XFxcImFkZGl0aW9uYWwtbmFtZVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZmFtaWx5X25hbWVcXFwiPkxlZ2FsIExhc3QgbmFtZTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgcmVxdWlyZWQgaWQ9XFxcImZhbWlseV9uYW1lXFxcIiBuYW1lPVxcXCJmYW1pbHlfbmFtZVxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiU3dhbnNvblxcXCJcXHJcXG4gICAgICAgICAgICAgICB2YWx1ZT1cXFwiXFxcIiBhdXRvY29tcGxldGU9XFxcImZhbWlseS1uYW1lXFxcIj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIHt7I3VubGVzcyBlZGl0fX1cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImRhdGVfb2ZfYmlydGhcXFwiPkRhdGUgb2YgYmlydGg8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImRhdGVcXFwiIHJlcXVpcmVkIGlkPVxcXCJkYXRlX29mX2JpcnRoXFxcIiBuYW1lPVxcXCJkYXRlX29mX2JpcnRoXFxcIlxcclxcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCIxOTc4LTExLTI0XFxcIiBwYXR0ZXJuPVxcXCJcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVxcXCIgdmFsdWU9XFxcIjE5NzgtMDgtMDJcXFwiIGF1dG9jb21wbGV0ZT1cXFwiYmRheVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcblxcclxcbiAgICA8ZGl2IGlkPVxcXCJjaXRpemVuX29mX3VzYV9xdWVzdGlvblxcXCIgY2xhc3M9XFxcImhpZGRlblxcXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjaXRpemVuX3llc1xcXCI+QXJlIHlvdSBhIGNpdGl6ZW4gb2YgdGhlIFVuaXRlZCBTdGF0ZXM/PC9sYWJlbD5cXHJcXG4gICAgICAgIDxmaWVsZHNldD5cXHJcXG4gICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgaWQ9XFxcImNpdGl6ZW5feWVzXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cXFwiY2l0aXplblxcXCIgdmFsdWU9XFxcIjFcXFwiPiBZZXNcXHJcXG4gICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBpZD1cXFwiY2l0aXplbl9ub1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcImNpdGl6ZW5cXFwiIHZhbHVlPVxcXCIwXFxcIj4gTm9cXHJcXG4gICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxmaWVsZHNldCBpZD1cXFwiY2l0aXplbl9ub190eXBlX29wdGlvbnNcXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBlcm1hbmVudF9yZXNpZGVudFxcXCIgaWQ9XFxcImNpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzFcXFwiIHZhbHVlPVxcXCIxXFxcIi8+IEdyZWVuIENhcmRcXHJcXG4gICAgICAgICAgICAgICAgICAgIC8gUGVybWFuZW50IFJlc2lkZW50XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBlcm1hbmVudF9yZXNpZGVudFxcXCIgaWQ9XFxcImNpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzJcXFwiIHZhbHVlPVxcXCIwXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgICAgICBWaXNhPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxcclxcbiAgICAgICAgPC9maWVsZHNldD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcInRheF9pZF90eXBlX29wdGlvbnNcXFwiPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidGF4X2lkX3R5cGVcXFwiPlRheCBJZCBUeXBlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgcmVxdWlyZWQgaWQ9XFxcInRheF9pZF90eXBlXFxcIiBuYW1lPVxcXCJ0YXhfaWRfdHlwZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlVTQV9TU05cXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlVTQV9TU05cXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkFSR19BUl9DVUlUXFxcIj5BcmdlbnRpbmEgQ1VJVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkFVU19URk5cXFwiPkF1c3RyYWxpYW4gVGF4IEZpbGUgTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiQVVTX0FCTlxcXCI+QXVzdHJhbGlhbiBCdXNpbmVzcyBOdW1iZXI8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJCT0xfTklUXFxcIj5Cb2xpdmlhIE5JVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkJSQV9DUEZcXFwiPkJyYXppbCBDUEY8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDSExfUlVUXFxcIj5DaGlsZSBSVVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDT0xfTklUXFxcIj5Db2xvbWJpYSBOSVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJDUklfTklURVxcXCI+Q29zdGEgUmljYSBOSVRFPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiREVVX1RBWF9JRFxcXCI+R2VybWFueSBUYXggSUQgKElkZW50aWZpa2F0aW9uc251bW1lcik8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJET01fUk5DXFxcIj5Eb21pbmljYW4gUmVwdWJsaWMgUk5DPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRUNVX1JVQ1xcXCI+RWN1YWRvciBSVUM8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJGUkFfU1BJXFxcIj5GcmFuY2UgU1BJIChSZWZlcmVuY2UgVGF4IE51bWJlcik8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJHQlJfVVRSXFxcIj5VSyBVVFIgKFVuaXF1ZSBUYXhwYXllciBSZWZlcmVuY2UpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiR0JSX05JTk9cXFwiPlVLIE5JTk8gKE5hdGlvbmFsIEluc3VyYW5jZSBOdW1iZXIpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiR1RNX05JVFxcXCI+R3VhdGVtYWxhIE5JVDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkhORF9SVE5cXFwiPkhvbmR1cmFzIFJUTjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkhVTl9USU5cXFwiPkh1bmdhcnkgVElOIE51bWJlcjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIklETl9LVFBcXFwiPkluZG9uZXNpYSBLVFA8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJJTkRfUEFOXFxcIj5JbmRpYSBQQU4gTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiSVNSX1RBWF9JRFxcXCI+SXNyYWVsIFRheCBJRCAoVGV1ZGF0IFplaHV0KTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIklUQV9UQVhfSURcXFwiPkl0YWx5IFRheCBJRCAoQ29kaWNlIEZpc2NhbGUpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiSlBOX1RBWF9JRFxcXCI+SmFwYW4gVGF4IElEIChLb2lqaW4gQmFuZ28pPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiTUVYX1JGQ1xcXCI+TWV4aWNvIFJGQzwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIk5JQ19SVUNcXFwiPk5pY2FyYWd1YSBSVUM8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJOTERfVElOXFxcIj5OZXRoZXJsYW5kcyBUSU4gTnVtYmVyPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUEFOX1JVQ1xcXCI+UGFuYW1hIFJVQzwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlBFUl9SVUNcXFwiPlBlcnUgUlVDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUFJZX1JVQ1xcXCI+UGFyYWd1YXkgUlVDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiU0dQX05SSUNcXFwiPlNpbmdhcG9yZSBOUklDPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiU0dQX0ZJTlxcXCI+U2luZ2Fwb3JlIEZJTjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlNHUF9BU0dEXFxcIj5TaW5nYXBvcmUgQVNHRDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlNHUF9JVFJcXFwiPlNpbmdhcG9yZSBJVFI8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJTTFZfTklUXFxcIj5FbCBTYWx2YWRvciBOSVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJTV0VfVEFYX0lEXFxcIj5Td2VkZW4gVGF4IElEIChQZXJzb25udW1tZXIpPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiVVJZX1JVVFxcXCI+VXJ1Z3VheSBSVVQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJWRU5fUklGXFxcIj5WZW5lenVlbGEgUklGPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiTk9UX1NQRUNJRklFRFxcXCIgc2VsZWN0ZWQ+T3RoZXIgVGF4IElEczwvb3B0aW9uPlxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGlkPVxcXCJ0YXhfaWRfbGFiZWxcXFwiIGZvcj1cXFwidGF4X2lkXFxcIj5UYXggSWQgKFNTTik8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHJlcXVpcmVkIGlkPVxcXCJ0YXhfaWRcXFwiIG5hbWU9XFxcInRheF9pZFxcXCJcXHJcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiNjY2LTU1LTQzMjFcXFwiXFxyXFxuICAgICAgICAgICAgICAgdmFsdWU9XFxcIjAyMDg3ODUzMzlcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiY291bnRyeV9vZl9iaXJ0aF9vcHRpb25cXFwiPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY291bnRyeV9vZl9iaXJ0aFxcXCI+Q291bnRyeSBvZiBiaXJ0aDwvbGFiZWw+XFxyXFxuICAgICAgICA8c2VsZWN0IGlkPVxcXCJjb3VudHJ5X29mX2JpcnRoXFxcIiBuYW1lPVxcXCJjb3VudHJ5X29mX2JpcnRoXFxcIj5cXHJcXG4gICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3tjb2RlfX1cXFwiPnt7bmFtZX19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImNvdW50cnlfb2ZfY2l0aXplbnNoaXBfb3B0aW9uXFxcIj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvdW50cnlfb2ZfY2l0aXplbnNoaXBcXFwiPkNvdW50cnkgb2YgY2l0aXplbnNoaXA8L2xhYmVsPlxcclxcbiAgICAgICAgPHNlbGVjdCByZXF1aXJlZCBpZD1cXFwiY291bnRyeV9vZl9jaXRpemVuc2hpcFxcXCIgbmFtZT1cXFwiY291bnRyeV9vZl9jaXRpemVuc2hpcFxcXCI+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICB7eyNlYWNoIGNvdW50cmllc319XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3tjb2RlfX1cXFwiPnt7bmFtZX19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3svZWFjaH19XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgaWQ9XFxcInZpc2FfdHlwZV9vcHRpb25cXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJ2aXNhX3R5cGVcXFwiPlZpc2EgdHlwZSAtIDxhXFxyXFxuICAgICAgICAgICAgICAgICAgICBocmVmPVxcXCJodHRwczovL3RyYXZlbC5zdGF0ZS5nb3YvY29udGVudC90cmF2ZWwvZW4vdXMtdmlzYXMvdmlzYS1pbmZvcm1hdGlvbi1yZXNvdXJjZXMvYWxsLXZpc2EtY2F0ZWdvcmllcy5odG1sXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlZpc2FcXHJcXG4gICAgICAgICAgICAgICAgaW5mb3JtYXRpb248L2E+PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8c2VsZWN0IGlkPVxcXCJ2aXNhX3R5cGVcXFwiIG5hbWU9XFxcInZpc2FfdHlwZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkIxXFxcIiBzZWxlY3RlZD5VU0EgVmlzYSBDYXRlZ29yeSBCLTE8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiQjJcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEItMjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJEQUNBXFxcIj5VU0EgVmlzYSBDYXRlZ29yeSBEQUNBPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkUxXFxcIj5VU0EgVmlzYSBDYXRlZ29yeSBFLTE8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRTJcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEUtMjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJFM1xcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgRS0zPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkYxXFxcIj5VU0EgVmlzYSBDYXRlZ29yeSBGLTE8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRzRcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEctNDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJIMUJcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEgtMUI8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiSjFcXFwiPlVTQSBWaXNhIENhdGVnb3J5IEotMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJMMVxcXCI+VVNBIFZpc2EgQ2F0ZWdvcnkgTC0xPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIk9USEVSXFxcIj5Bbnkgb3RoZXIgVVNBIFZpc2EgQ2F0ZWdvcnk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiTzFcXFwiPlVTQSBWaXNhIENhdGVnb3J5IE8tMTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJUTjFcXFwiPlVTQSBWaXNhIENhdGVnb3J5IFROLTE8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwidmlzYV9leHBpcmF0aW9uX2RhdGVfb3B0aW9uXFxcIj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJ2aXNhX2V4cGlyYXRpb25fZGF0ZVxcXCI+VmlzYSBleHBpcmF0aW9uIGRhdGU8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJkYXRlXFxcIiBpZD1cXFwidmlzYV9leHBpcmF0aW9uX2RhdGVcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcInZpc2FfZXhwaXJhdGlvbl9kYXRlXFxcIiBwbGFjZWhvbGRlcj1cXFwiMjAyOC0wNS0wMVxcXCIgdmFsdWU9XFxcIlxcXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcImRhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhX29wdGlvblxcXCI+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2FcXFwiPkRhdGUgb2YgZGVwYXJ0dXJlIGZyb20gVVNBPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZGF0ZVxcXCIgaWQ9XFxcImRhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICBuYW1lPVxcXCJkYXRlX29mX2RlcGFydHVyZV9mcm9tX3VzYVxcXCIgcGxhY2Vob2xkZXI9XFxcIjIwMjgtMDUtMDFcXFwiIHZhbHVlPVxcXCJcXFwiPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiYW5udWFsX2luY29tZVxcXCI+QW5udWFsIEhvdXNlaG9sZCBJbmNvbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICAgICAgQW5udWFsIGhvdXNlaG9sZCBpbmNvbWUgaW5jbHVkZXMgaW5jb21lIGZyb20gc291cmNlcyBzdWNoIGFzIGVtcGxveW1lbnQsIGFsaW1vbnksIHNvY2lhbCBzZWN1cml0eSxcXHJcXG4gICAgICAgICAgICBpbnZlc3RtZW50IGluY29tZSwgZXRjLlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcImFubnVhbF9pbmNvbWVcXFwiIGlkPVxcXCJhbm51YWxfaW5jb21lXFxcIj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPjAgLSAkMjAsMDAwPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+JDIwLDAwMCAtICQ0OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIzXFxcIj4kNTAsMDAwIC0gJDk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjRcXFwiPiQxMDAsMDAwIC0gJDQ5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCI1XFxcIj4kNTAwLDAwMCAtICQ5OTksOTk5PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiNlxcXCI+JDEsMDAwLDAwMCAtICQ5LDk5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImxpcXVpZF9uZXRfd29ydGhcXFwiPkxpcXVpZCBBc3NldHM8L2xhYmVsPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+TGlxdWlkIGFzc2V0cyBpcyB5b3VyIG5ldCB3b3J0aCBtaW51cyBhc3NldHMgdGhhdCBjYW5ub3QgYmVcXHJcXG4gICAgICAgICAgICBjb252ZXJ0ZWQgcXVpY2tseSBhbmQgZWFzaWx5IGludG8gY2FzaCwgc3VjaCBhcyByZWFsIGVzdGF0ZSwgYnVzaW5lc3MgZXF1aXR5LFxcclxcbiAgICAgICAgICAgIHBlcnNvbmFsIHByb3BlcnR5IGFuZCBhdXRvbW9iaWxlcywgZXhwZWN0ZWQgaW5oZXJpdGFuY2VzLCBhc3NldHMgZWFybWFya2VkIGZvclxcclxcbiAgICAgICAgICAgIG90aGVyIHB1cnBvc2VzLCBhbmQgaW52ZXN0bWVudHMgb3IgYWNjb3VudHMgc3ViamVjdCB0byBzdWJzdGFudGlhbCBwZW5hbHRpZXNcXHJcXG4gICAgICAgICAgICBpZiB0aGV5IHdlcmUgc29sZCBvciBpZiBhc3NldHMgd2VyZSB3aXRoZHJhd24gZnJvbSB0aGVtLlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcImxpcXVpZF9uZXRfd29ydGhcXFwiIHJlcXVpcmVkIGlkPVxcXCJsaXF1aWRfbmV0X3dvcnRoXFxcIj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPjwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiIHNlbGVjdGVkPjAgLSAkMjAsMDAwPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+JDIwLDAwMCAtICQ0OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIzXFxcIj4kNTAsMDAwIC0gJDk5LDk5OTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjRcXFwiPiQxMDAsMDAwIC0gJDQ5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCI1XFxcIj4kNTAwLDAwMCAtICQ5OTksOTk5PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+JDEsMDAwLDAwMCAtICQ5LDk5OSw5OTk8L29wdGlvbj5cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImZ1bmRpbmdfc291cmNlXFxcIj5GdW5kaW5nIHNvdXJjZTwvbGFiZWw+XFxyXFxuICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJmdW5kaW5nX3NvdXJjZVxcXCIgbmFtZT1cXFwiZnVuZGluZ19zb3VyY2VcXFwiXFxyXFxuICAgICAgICAgICAgICAgIG11bHRpcGxlIHNpemU9XFxcIjRcXFwiIGFyaWEtbGFiZWw9XFxcInNpemUgMyBzZWxlY3RcXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImVtcGxveW1lbnRfaW5jb21lXFxcIiBzZWxlY3RlZD5FbXBsb3ltZW50IGluY29tZTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImludmVzdG1lbnRzXFxcIj5JbnZlc3RtZW50czwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImluaGVyaXRhbmNlXFxcIj5Jbmhlcml0YW5jZTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImJ1c2luZXNzX2luY29tZVxcXCI+QnVzaW5lc3MgaW5jb21lPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwic2F2aW5nc1xcXCI+U2F2aW5nczwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImZhbWlseVxcXCI+RmFtaWx5PC9vcHRpb24+XFxyXFxuICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIHt7L3VubGVzc319XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcImlkZW50aXR5X3ByZXZcXFwiPlByZXZpb3VzOiBDb250YWN0PC9idXR0b24+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcImlkZW50aXR5X25leHRcXFwiPk5leHQ6IFRydXN0ZWQgY29udGFjdHM8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IEt5Y0Jhc2UgZnJvbSBcIi4vS3ljQmFzZVwiO1xyXG5pbXBvcnQgS3ljSWRlbnRpdHlIdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNJZGVudGl0eS5odG1sXCI7XHJcbmltcG9ydCBDb3VudHJ5SGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL0NvdW50cnlIZWxwZXJcIjtcclxuaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuLi8uLi8uLi9lcnJvcnMvY2xvdWQvS3ljVmFsaWRhdG9yRXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNJZGVudGl0eSBleHRlbmRzIEt5Y0Jhc2Uge1xyXG4gICAgZWRpdCA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGVkaXQgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuZWRpdCA9IGVkaXQ7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNJZGVudGl0eUh0bWwpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSh7ZWRpdDogZWRpdCwgY291bnRyaWVzOiBDb3VudHJ5SGVscGVyLkNvdW50cmllc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5reWNGb3JtLmt5Y0NvbnRhY3QudXNUYXhSZXNpZGVuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93RWxlbWVudCgnY2l0aXplbl9vZl91c2FfcXVlc3Rpb24nKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgndGF4X2lkX3R5cGVfb3B0aW9ucycpO1xyXG4gICAgICAgICAgICB0aGlzLnNldExhYmVsKCd0YXhfaWRfbGFiZWwnLCAnU1NOJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgnY2l0aXplbl9vZl91c2FfcXVlc3Rpb24nKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRMYWJlbCgndGF4X2lkX2xhYmVsJywgJ05hdGlvbmFsIFRheCBJZCAoU1NOKScpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dFbGVtZW50KCd0YXhfaWRfdHlwZV9vcHRpb25zJylcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaG93RmllbGRzZXQoJy5reWNJZGVudGl0eScsICdJZGVudGl0eScpO1xyXG4gICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXBfb3B0aW9uJyk7XHJcbiAgICAgICAgbGV0IGNvdW50cnlfb2ZfY2l0aXplbnNoaXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRyeV9vZl9jaXRpemVuc2hpcCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgIGlmIChjb3VudHJ5X29mX2NpdGl6ZW5zaGlwKSB7XHJcbiAgICAgICAgICAgIGNvdW50cnlfb2ZfY2l0aXplbnNoaXAub3B0aW9uc1sxXS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kKCcjY2l0aXplbl95ZXMnLCAnY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXhJZFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGF4X2lkX3R5cGUnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmICh0YXhJZFR5cGUpIHRheElkVHlwZS52YWx1ZSA9ICdVU0FfU1NOJztcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY291bnRyeV9vZl9jaXRpemVuc2hpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5X29mX2NpdGl6ZW5zaGlwLm9wdGlvbnNbMV0uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvdW50cnlfb2ZfY2l0aXplbnNoaXAudmFsdWUgPSAnVVNBJztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFbGVtZW50KCdjaXRpemVuX25vX3R5cGVfb3B0aW9ucycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgndmlzYV90eXBlX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgnY291bnRyeV9vZl9jaXRpemVuc2hpcF9vcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ2NvdW50cnlfb2ZfYmlydGgnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ3Zpc2FfdHlwZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgndmlzYV9leHBpcmF0aW9uX2RhdGUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ2RhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGF4X2lkX2xhYmVsJykhLmlubmVySFRNTCA9ICdTU04nXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVDaXRpemVuRXJyb3JNZXNzYWdlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYmluZCgnI2NpdGl6ZW5fbm8nLCAnY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dFbGVtZW50KCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXF1aXJlZCgnY291bnRyeV9vZl9iaXJ0aCcpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RheF9pZF9sYWJlbCcpIS5pbm5lckhUTUwgPSAnU1NOJ1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50cnlfb2ZfY2l0aXplbnNoaXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRyeV9vZl9jaXRpemVuc2hpcCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgY291bnRyeV9vZl9jaXRpemVuc2hpcC5vcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvdW50cnlfb2ZfY2l0aXplbnNoaXAub3B0aW9uc1sxXS5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlQ2l0aXplbkVycm9yTWVzc2FnZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICB0aGlzLmJpbmQoJyNjaXRpemVuX25vX3R5cGVfb3B0aW9uc18xJywgJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dFbGVtZW50KCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRWxlbWVudCgndmlzYV90eXBlX29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXF1aXJlZCgnY291bnRyeV9vZl9iaXJ0aCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSZXF1aXJlZCgndmlzYV90eXBlJylcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ3Zpc2FfZXhwaXJhdGlvbl9kYXRlJylcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ2RhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuYmluZCgnI2NpdGl6ZW5fbm9fdHlwZV9vcHRpb25zXzInLCAnY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ3Zpc2FfdHlwZV9vcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0VsZW1lbnQoJ2NvdW50cnlfb2ZfY2l0aXplbnNoaXBfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdjb3VudHJ5X29mX2JpcnRoJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCdjb3VudHJ5X29mX2NpdGl6ZW5zaGlwJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlcXVpcmVkKCd2aXNhX3R5cGUnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXF1aXJlZCgndmlzYV9leHBpcmF0aW9uX2RhdGUnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXF1aXJlZCgnZGF0ZV9vZl9kZXBhcnR1cmVfZnJvbV91c2EnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kKCcjdmlzYV90eXBlJywgJ2NoYW5nZScsIChldnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgPT0gJ0IxJyB8fCBpbnB1dC52YWx1ZSA9PSAnQjInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dFbGVtZW50KCdkYXRlX29mX2RlcGFydHVyZV9mcm9tX3VzYV9vcHRpb24nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUVsZW1lbnQoJ2RhdGVfb2ZfZGVwYXJ0dXJlX2Zyb21fdXNhX29wdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kQnV0dG9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGlkZUNpdGl6ZW5FcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdGl6ZW5feWVzJykhLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XHJcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dF9lcnJvcl9jaXRpemVuX3llcycpO1xyXG4gICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIGVycm9yTWVzc2FnZS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRCdXR0b25zKCkge1xyXG4gICAgICAgIGxldCBzaG93Q29udGFjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZGVudGl0eV9wcmV2Jyk7XHJcbiAgICAgICAgc2hvd0NvbnRhY3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljQ29udGFjdC5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IHNob3dEaXNjbG9zdXJlc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZGVudGl0eV9uZXh0Jyk7XHJcbiAgICAgICAgc2hvd0Rpc2Nsb3N1cmVzQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlSW5wdXRzKCkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoJy5reWNJZGVudGl0eScpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljVHJ1c3RlZENvbnRhY3Quc2hvdygpO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmFsaWRhdGVJbnB1dHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGxldCBjaXRpemVuX3llcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXRpemVuX3llcycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGNpdGl6ZW5fbm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0aXplbl9ubycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5reWNGb3JtLmt5Y0NvbnRhY3QudXNUYXhSZXNpZGVuY2UpIHtcclxuICAgICAgICAgICAgY2l0aXplbl95ZXMuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaXRpemVuX25vLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNpdGl6ZW5feWVzLmNoZWNrZWQgJiYgIWNpdGl6ZW5fbm8uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1lvdSBtdXN0IHNlbGVjdCBlaXRoZXIgb3B0aW9uJyxcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZTogJ2NpdGl6ZW5feWVzJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPWNpdGl6ZW5feWVzXScpIS5pbm5lckhUTUxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGt5Y1ZhbGlkYXRpb25FcnJvciA9IG5ldyBLeWNWYWxpZGF0b3JFcnJvcihvYmosIHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgICAgIGt5Y1ZhbGlkYXRpb25FcnJvci5oYW5kbGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGdyZWVuQ2FyZE9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXRpemVuX25vX3R5cGVfb3B0aW9uc18xJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgdmlzYU9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXRpemVuX25vX3R5cGVfb3B0aW9uc18yJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAoY2l0aXplbl9uby5jaGVja2VkICYmICFncmVlbkNhcmRPcHRpb24uY2hlY2tlZCAmJiAhdmlzYU9wdGlvbi5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IG11c3Qgc2VsZWN0IGVpdGhlciBvcHRpb24sIFwiR3JlZW4gQ2FyZCAvIFBlcm1hbmVudCBSZXNpZGVudFwiIG9yIFwiVmlzYVwiJyxcclxuICAgICAgICAgICAgICAgIGlucHV0TmFtZTogJ2NpdGl6ZW5fbm8nLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0OiAnJ1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQga3ljVmFsaWRhdGlvbkVycm9yID0gbmV3IEt5Y1ZhbGlkYXRvckVycm9yKG9iaiwgdGhpcy5reWNGb3JtKTtcclxuICAgICAgICAgICAga3ljVmFsaWRhdGlvbkVycm9yLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y0Rpc2Nsb3N1cmVzIGhpZGRlblxcXCIgZGF0YS1mb3JtPVxcXCIxXFxcIj5cXHJcXG4gICAge3sjdW5sZXNzIGVkaXR9fVxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1wbG95bWVudF9zdGF0dXNcXFwiPkVtcGxveW1lbnQgc3RhdHVzPC9sYWJlbD5cXHJcXG4gICAgICAgIDxzZWxlY3QgaWQ9XFxcImVtcGxveW1lbnRfc3RhdHVzXFxcIiByZXF1aXJlZCBuYW1lPVxcXCJlbXBsb3ltZW50X3N0YXR1c1xcXCI+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj48L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJlbXBsb3llZFxcXCI+RW1wbG95ZWQ8L29wdGlvbj5cXHJcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ1bmVtcGxveWVkXFxcIj5VbmVtcGxveWVkPC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwicmV0aXJlZFxcXCI+UmV0aXJlZDwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInN0dWRlbnRcXFwiPlN0dWRlbnQ8L29wdGlvbj5cXHJcXG4gICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImVtcGxveWVyX25hbWVcXFwiPkVtcGxveWVyIG5hbWU8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IG5hbWU9XFxcImVtcGxveWVyX25hbWVcXFwiIGlkPVxcXCJlbXBsb3llcl9uYW1lXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZW1wbG95ZXJfYWRkcmVzc1xcXCI+RW1wbG95ZXIgYWRkcmVzczwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiZW1wbG95ZXJfYWRkcmVzc1xcXCIgaWQ9XFxcImVtcGxveWVyX2FkZHJlc3NcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbXBsb3ltZW50X3Bvc2l0aW9uXFxcIj5PY2N1cGF0aW9uIC8gSm9iIHRpdGxlPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJlbXBsb3ltZW50X3Bvc2l0aW9uXFxcIiBpZD1cXFwiZW1wbG95bWVudF9wb3NpdGlvblxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvcmdhbml6YXRpb24tdGl0bGVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIHt7L3VubGVzc319XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImRpc2Nsb3N1cmVfc2VsZWN0aW9uc1xcXCI+XFxyXFxuICAgICAgICBEbyBhbnkgb2YgdGhlIGZvbGxvd2luZyBhcHBseSB0byB5b3Ugb3IgYSBtZW1iZXIgb2YgeW91ciBpbW1lZGlhdGUgZmFtaWx5P1xcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGlkPVxcXCJpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhXFxcIiBuYW1lPVxcXCJpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XFxcInN3aXRjaFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgQWZmaWxpYXRlZCBvciB3b3JrIHdpdGggYSBVUyByZWdpc3RlcmVkIGJyb2tlci1kZWFsZXIgb3JcXHJcXG4gICAgICAgICAgICAgICAgRklOUkEuXFxyXFxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cXFwiZXhwbGFpblxcXCI+QXJlIHlvdSBvciBhbiBpbW1lZGlhdGUgZmFtaWx5IG1lbWJlciBhZmZpbGlhdGVkIHdpdGggb3IgZW1wbG95ZWQgYnkgYSBzdG9ja1xcclxcbiAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2UsIHJlZ3VsYXRvcnkgYm9keSwgbWVtYmVyIGZpcm0gb2YgYW4gZXhjaGFuZ2UsIEZJTlJBIG9yIGEgbXVuaWNpcGFsIHNlY3VyaXRpZXNcXHJcXG4gICAgICAgICAgICAgICAgICAgIGJyb2tlci1kZWFsZXI/PC9zbWFsbD5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYV9leHRyYVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlzX2NvbnRyb2xfcGVyc29uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcImlzX2NvbnRyb2xfcGVyc29uXFxcIiBuYW1lPVxcXCJpc19jb250cm9sX3BlcnNvblxcXCIgcm9sZT1cXFwic3dpdGNoXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgICAgICBTZW5pb3IgZXhlY3V0aXZlIGF0IG9yIGEgMTAlIG9yIGdyZWF0ZXIgc2hhcmVob2xkZXIgb2YgYSBwdWJsaWNseSB0cmFkZWQgY29tcGFueS5cXHJcXG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVxcXCJleHBsYWluXFxcIj5BcmUgeW91IG9yIGFuIGltbWVkaWF0ZSBmYW1pbHkgbWVtYmVyIGFuIG9mZmljZXIgb3IgMTAlIG9yIGdyZWF0ZXIgc2hhcmVob2xkZXIgb2ZcXHJcXG4gICAgICAgICAgICAgICAgICAgIGEgcHVibGljbHkgdHJhZGVkIGNvbXBhbnksIHN1YmplY3QgdG8gdGhlIFVTIFNlY3VyaXRpZXMgRXhjaGFuZ2UgQWN0IDE5MzQ/PC9zbWFsbD5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaXNfY29udHJvbF9wZXJzb25fZXh0cmFcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpc19wb2xpdGljYWxseV9leHBvc2VkXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcImlzX3BvbGl0aWNhbGx5X2V4cG9zZWRcXFwiIG5hbWU9XFxcImlzX3BvbGl0aWNhbGx5X2V4cG9zZWRcXFwiIHJvbGU9XFxcInN3aXRjaFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgSSBhbSBhIHNlbmlvciBwb2xpdGljYWwgZmlndXJlLlxcclxcbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XFxcImV4cGxhaW5cXFwiPkFyZSB5b3UgY3VycmVudGx5IG9yIGZvcm1lcmx5IGEgUG9saXRpY2FsbHkgRXhwb3NlZCBQZXJzb24gb3IgUHVibGljIE9mZmljaWFsXFxyXFxuICAgICAgICAgICAgICAgICAgICAoUEVQKT8gPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0lRTIlODAlOUNQb2xpdGljYWxseStFeHBvc2VkK1BlcnNvbiVFMiU4MCU5RCsoUEVQKVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+V2hhdCBpcyBQRVA/PC9hPiA8L2E+PC9zbWFsbD5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaXNfcG9saXRpY2FsbHlfZXhwb3NlZF9leHRyYVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcImltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZFxcXCIgbmFtZT1cXFwiaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkXFxcIiByb2xlPVxcXCJzd2l0Y2hcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIEkgYW0gYSBmYW1pbHkgbWVtYmVyIG9yIHJlbGF0aXZlIG9mIGEgc2VuaW9yIHBvbGl0aWNhbCBmaWd1cmUuXFxyXFxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cXFwiZXhwbGFpblxcXCI+QXJlIHlvdSBhbiBpbW1lZGlhdGUgZmFtaWx5IG1lbWJlciBjdXJyZW50bHkgb3IgZm9ybWVybHkgYSBQb2xpdGljYWxseSBFeHBvc2VkXFxyXFxuICAgICAgICAgICAgICAgICAgICBQZXJzb24gb3IgUHVibGljIE9mZmljaWFsIChQRVApPyA8YVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPVxcXCJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSVFMiU4MCU5Q1BvbGl0aWNhbGx5K0V4cG9zZWQrUGVyc29uJUUyJTgwJTlEKyhQRVApXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+V2hhdCBpcyBQRVA/PC9hPjwvc21hbGw+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZF9leHRyYVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm5vbmVfYWJvdmVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwibm9uZV9hYm92ZVxcXCIgbmFtZT1cXFwibm9uZV9hYm92ZVxcXCIgcm9sZT1cXFwic3dpdGNoXFxcIj48L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIE5vbmUgb2YgdGhlIGFib3ZlIGFwcGx5IHRvIG1lIG9yIG15IGZhbWlseS5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiIGlkPVxcXCJub25lX2Fib3ZlX2Vycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcImRpc2Nsb3N1cmVzX3ByZXZcXFwiPlByZXZpb3VzOiBUcnVzdGVkIGNvbnRhY3Q8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiZGlzY2xvc3VyZXNfbmV4dFxcXCI+TmV4dDogQWdyZWVtZW50czwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgaWQ9XFxcImFmZmlsaWF0ZV9vcl9jb250cm9sbGVkXFxcIj5cXHJcXG4gICAgPGRpdj5Zb3UgbmVlZCB0byBmaWxsIGluIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb248L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImNvbXBhbnlfbmFtZVxcXCI+Q29tcGFueSBuYW1lPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJjb21wYW55X25hbWVcXFwiIHJlcXVpcmVkIGlkPVxcXCJjb21wYW55X25hbWVcXFwiIGF1dG9jb21wbGV0ZT1cXFwib3JnYW5pemF0aW9uXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29tcGFueV9zdHJlZXRfYWRkcmVzc1xcXCI+Q29tcGFueSBzdHJlZXQgYWRkcmVzczwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiY29tcGFueV9zdHJlZXRfYWRkcmVzc1xcXCIgcmVxdWlyZWQgaWQ9XFxcImNvbXBhbnlfc3RyZWV0X2FkZHJlc3NcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb21wYW55X2NpdHlcXFwiPkNvbXBhbnkgY2l0eTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiY29tcGFueV9jaXR5XFxcIiByZXF1aXJlZCBpZD1cXFwiY29tcGFueV9jaXR5XFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29tcGFueV9zdGF0ZVxcXCI+Q29tcGFueSBzdGF0ZTwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiY29tcGFueV9zdGF0ZVxcXCIgcmVxdWlyZWQgaWQ9XFxcImNvbXBhbnlfc3RhdGVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb21wYW55X2NvdW50cnlcXFwiPkNvbXBhbnkgY291bnRyeTwvbGFiZWw+XFxyXFxuICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVxcXCJjb21wYW55X2NvdW50cnlcXFwiIHJlcXVpcmVkIG5hbWU9XFxcImNvbXBhbnlfY291bnRyeVxcXCI+XFxyXFxuICAgICAgICAgICAge3sjZWFjaCBjb3VudHJpZXN9fVxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInt7Y29kZX19XFxcIj57e25hbWV9fTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIHt7L2VhY2h9fVxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29tcGFueV9jb21wbGlhbmNlX2VtYWlsXFxcIj5Db21wYW55IGNvbXBsaWFuY2Ugb2ZmaWNlciBlbWFpbDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwiY29tcGFueV9jb21wbGlhbmNlX2VtYWlsXFxcIiByZXF1aXJlZCBpZD1cXFwiY29tcGFueV9jb21wbGlhbmNlX2VtYWlsXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICAgICAgSW4gYWNjb3JkYW5jZSB3aXRoIGFwcGxpY2FibGUgRklOUkEgcnVsZXMsIHVzZXIgd2lsbCBuZWVkIHRvIG9idGFpbiBhIGxldHRlciB3cml0dGVuXFxyXFxuICAgICAgICAgICAgYW5kIHNpZ25lZCBieSBhIGNvbXBsaWFuY2Ugb2ZmaWNlciBvbiBjb21wYW55IGxldHRlcmhlYWQgZXhwbGljaXRseSBncmFudGluZyBwZXJtaXNzaW9uIGZvclxcclxcbiAgICAgICAgICAgIHRoZSBhcHBsaWNhbnQgdG8gY2FycnkgdGhlIGFjY291bnQgYW5kIGV4cGxpY2l0bHkgc3RhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgZmlybSByZXF1aXJlc1xcclxcbiAgICAgICAgICAgIGFjY2VzcyB0byBkdXBsaWNhdGUgYWNjb3VudCBzdGF0ZW1lbnRzIGFuZC9vciB0cmFkZSBjb25maXJtYXRpb25zLlxcclxcblxcclxcbiAgICAgICAgICAgIElmIHRoZSBmaXJtIHdvdWxkIGxpa2Ugb25saW5lIGFjY2VzcyB5b3VyIGR1cGxpY2F0ZSBhY2NvdW50IHN0YXRlbWVudHMgYW5kL29yIHRyYWRlIGNvbmZpcm1hdGlvbnMsXFxyXFxuICAgICAgICAgICAgaW5jbHVkZSBpbiB0aGUgbGV0dGVyIHRoZSBhcHBsaWNhbnQncyBmdWxsIG5hbWUgYW5kIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb24gZm9yIHRoZSBpbnRlcmVzdGVkXFxyXFxuICAgICAgICAgICAgcGFydHk6IEZpcnN0IGFuZCBsYXN0IG5hbWUsIHRpdGxlLCBlbWFpbCBhZGRyZXNzLCB0ZWxlcGhvbmUgbnVtYmVyLlxcclxcblxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICB7e3tmaWxlVXBsb2FkIFxcXCJhY2NvdW50X2FwcHJvdmFsX2xldHRlclxcXCIgXFxcIkFjY291bnQgYXBwcm92YWwgbGV0dGVyXFxcIn19fVxcclxcblxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBLeWNBZmZpbGlhdGVPckNvbnRyb2xsZWRIdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNBZmZpbGlhdGVPckNvbnRyb2xsZWQuaHRtbFwiO1xyXG5pbXBvcnQgQ291bnRyeUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Db3VudHJ5SGVscGVyXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkIGV4dGVuZHMgS3ljQmFzZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioa3ljRm9ybTogS1lDRm9ybSkge1xyXG4gICAgICAgIHN1cGVyKGt5Y0Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGt5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZFRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZEh0bWwpXHJcbiAgICAgICAgcmV0dXJuIGt5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZFRlbXBsYXRlKHtjb3VudHJpZXM6IENvdW50cnlIZWxwZXIuQ291bnRyaWVzfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5iaW5kRmlsZVVwbG9hZHMoKTtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBhbnlfY291bnRyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55X2NvdW50cnknKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGNvbXBhbnlfY291bnRyeT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ID0gZXZ0LnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdC52YWx1ZSA9PT0gJ1VTQScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVxdWlyZWQoJ2NvbXBhbnlfc3RhdGUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVxdWlyZWQoJ2NvbXBhbnlfc3RhdGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCkge1xyXG4gICAgICAgIGxldCBjb21wYW55X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueV9uYW1lJyk7XHJcbiAgICAgICAgaWYgKCFjb21wYW55X25hbWUpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCcjYWZmaWxpYXRlX29yX2NvbnRyb2xsZWQnKVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGlkPVxcXCJpbW1lZGlhdGVfZmFtaWx5XFxcIj5cXHJcXG4gICAgPGRpdj5TaW5jZSB5b3UgY2hvc2UgdGhhdCB5b3VyIGltbWVkaWF0ZSBmYW1pbHkgbWVtYmVyLCB5b3UgbmVlZCB0byBmaWxsIGluIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb248L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImRpc2Nsb3N1cmVfZ2l2ZW5fbmFtZVxcXCI+R2l2ZW4gbmFtZSBvZiBwb2xpdGljYWwgcGVyc29uPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJkaXNjbG9zdXJlX2dpdmVuX25hbWVcXFwiIGlkPVxcXCJkaXNjbG9zdXJlX2dpdmVuX25hbWVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJkaXNjbG9zdXJlX2ZhbWlseV9uYW1lXFxcIj5GYW1pbHkgbmFtZSBvZiBwb2xpdGljYWwgcGVyc29uPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBuYW1lPVxcXCJkaXNjbG9zdXJlX2ZhbWlseV9uYW1lXFxcIiBpZD1cXFwiZGlzY2xvc3VyZV9mYW1pbHlfbmFtZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2ZpZWxkc2V0PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBLeWNJbW1lZGlhdGVGYW1pbHlIdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNJbW1lZGlhdGVGYW1pbHkuaHRtbFwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y0ltbWVkaWF0ZUZhbWlseSBleHRlbmRzIEt5Y0Jhc2Uge1xyXG4gICAgY29uc3RydWN0b3Ioa3ljRm9ybTogS1lDRm9ybSkge1xyXG4gICAgICAgIHN1cGVyKGt5Y0Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGt5Y0ltbWVkaWF0ZUZhbWlseVRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKEt5Y0ltbWVkaWF0ZUZhbWlseUh0bWwpO1xyXG4gICAgICAgIHJldHVybiBreWNJbW1lZGlhdGVGYW1pbHlUZW1wbGF0ZSh7fSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGRpc2Nsb3N1cmVfZ2l2ZW5fbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjbG9zdXJlX2dpdmVuX25hbWUnKVxyXG4gICAgICAgIGlmICghZGlzY2xvc3VyZV9naXZlbl9uYW1lKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVSZXF1aXJlZEZpZWxkcygnI2ltbWVkaWF0ZV9mYW1pbHknKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEt5Y0Jhc2UgZnJvbSBcIi4vS3ljQmFzZVwiO1xyXG5pbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vS1lDRm9ybVwiO1xyXG5pbXBvcnQgS3ljRGlzY2xvc3VyZUh0bWwgZnJvbSBcIi4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y0Rpc2Nsb3N1cmVzLmh0bWxcIjtcclxuaW1wb3J0IEt5Y0FmZmlsaWF0ZU9yQ29udHJvbGxlZCBmcm9tIFwiLi9LeWNBZmZpbGlhdGVPckNvbnRyb2xsZWRcIjtcclxuaW1wb3J0IEt5Y0ltbWVkaWF0ZUZhbWlseSBmcm9tIFwiLi9LeWNJbW1lZGlhdGVGYW1pbHlcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNEaXNjbG9zdXJlcyBleHRlbmRzIEt5Y0Jhc2Uge1xyXG4gICAga3ljQWZmaWxpYXRlZE9yQ29udHJvbGxlZDogS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkO1xyXG4gICAga3ljSW1tZWRpYXRlRmFtaWx5OiBLeWNJbW1lZGlhdGVGYW1pbHk7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioa3ljRm9ybTogS1lDRm9ybSkge1xyXG4gICAgICAgIHN1cGVyKGt5Y0Zvcm0pO1xyXG5cclxuICAgICAgICB0aGlzLmt5Y0FmZmlsaWF0ZWRPckNvbnRyb2xsZWQgPSBuZXcgS3ljQWZmaWxpYXRlT3JDb250cm9sbGVkKHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgdGhpcy5reWNJbW1lZGlhdGVGYW1pbHkgPSBuZXcgS3ljSW1tZWRpYXRlRmFtaWx5KHRoaXMua3ljRm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihlZGl0ID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljRGlzY2xvc3VyZUh0bWwpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSh7ZWRpdDogZWRpdH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmt5Y0Zvcm0uc3RlcHMgPT0gNSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY2xvc3VyZXNfbmV4dCcpIS5pbm5lclRleHQgPSAnTmV4dDogQWdyZWVtZW50cyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2Nsb3N1cmVzX25leHQnKSEuaW5uZXJUZXh0ID0gJ05leHQ6IFVwbG9hZCBkb2N1bWVudHMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNob3dGaWVsZHNldCgnLmt5Y0Rpc2Nsb3N1cmVzJywgJ0Rpc2Nsb3N1cmVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcblxyXG4gICAgICAgIGxldCBpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmE/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRBZmZpbGlhdGVkT3JDb250cm9sQ29tcG9uZW50KCdpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBpc19jb250cm9sX3BlcnNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc19jb250cm9sX3BlcnNvbicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaXNfY29udHJvbF9wZXJzb24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRBZmZpbGlhdGVkT3JDb250cm9sQ29tcG9uZW50KCdpc19jb250cm9sX3BlcnNvbicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkUGVwKCdpbW1lZGlhdGVfZmFtaWx5X2V4cG9zZWQnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpc19wb2xpdGljYWxseV9leHBvc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzX3BvbGl0aWNhbGx5X2V4cG9zZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlzX3BvbGl0aWNhbGx5X2V4cG9zZWQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVuY2hlY2soJ2ltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IG5vbmVfYWJvdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uZV9hYm92ZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbm9uZV9hYm92ZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWlzc2luZ0luZm8oJ25vbmVfYWJvdmVfZXJyb3InKTtcclxuICAgICAgICAgICAgbm9uZV9hYm92ZS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBwcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2Nsb3N1cmVzX3ByZXYnKTtcclxuICAgICAgICBwcmV2Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y1RydXN0ZWRDb250YWN0LnNob3coKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IG5leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY2xvc3VyZXNfbmV4dCcpO1xyXG4gICAgICAgIG5leHQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVGaWVsZHMoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5reWNGb3JtLnN0ZXBzID09IDUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNBY2NvdW50QWdyZWVtZW50LnNob3coKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNVcGxvYWQuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQWZmaWxpYXRlZE9yQ29udHJvbENvbXBvbmVudChlbGVtZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChlbGVtZW50SWQgPT0gJ2lzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5jaGVjaygnaXNfY29udHJvbF9wZXJzb24nKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5jaGVjaygnaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgZXh0cmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQgKyAnX2V4dHJhJyk7XHJcbiAgICAgICAgaWYgKCFleHRyYSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoZWxlbWVudC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIGV4dHJhLmlubmVySFRNTCA9IHRoaXMua3ljQWZmaWxpYXRlZE9yQ29udHJvbGxlZC5yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5reWNBZmZpbGlhdGVkT3JDb250cm9sbGVkLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBleHRyYS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUGVwKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRJZCA9PSAnaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkJykge1xyXG4gICAgICAgICAgICB0aGlzLnVuY2hlY2soJ2lzX3BvbGl0aWNhbGx5X2V4cG9zZWQnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5jaGVjaygnaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCBleHRyYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCArICdfZXh0cmEnKTtcclxuICAgICAgICBpZiAoIWV4dHJhKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgZXh0cmEuaW5uZXJIVE1MID0gdGhpcy5reWNJbW1lZGlhdGVGYW1pbHkucmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMua3ljSW1tZWRpYXRlRmFtaWx5LmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBleHRyYS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1bmNoZWNrKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgZWxlbWVudC5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGV4dHJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkICsgJ19leHRyYScpITtcclxuICAgICAgICBleHRyYS5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlRmllbGRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCcua3ljRGlzY2xvc3VyZXMnKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICghdGhpcy5reWNJbW1lZGlhdGVGYW1pbHkudmFsaWRhdGUoKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICghdGhpcy5reWNBZmZpbGlhdGVkT3JDb250cm9sbGVkLnZhbGlkYXRlKCkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGlzX2FmZmlsaWF0ZWRfZXhjaGFuZ2Vfb3JfZmlucmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNfYWZmaWxpYXRlZF9leGNoYW5nZV9vcl9maW5yYScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGlzX2NvbnRyb2xfcGVyc29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzX2NvbnRyb2xfcGVyc29uJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgaXNfcG9saXRpY2FsbHlfZXhwb3NlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc19wb2xpdGljYWxseV9leHBvc2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBsZXQgaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltbWVkaWF0ZV9mYW1pbHlfZXhwb3NlZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IG5vbmVfYWJvdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uZV9hYm92ZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICghbm9uZV9hYm92ZS5jaGVja2VkICYmICFpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhLmNoZWNrZWQgJiYgIWlzX2NvbnRyb2xfcGVyc29uLmNoZWNrZWRcclxuICAgICAgICAgICAgJiYgIWlzX3BvbGl0aWNhbGx5X2V4cG9zZWQuY2hlY2tlZCAmJiAhaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkLmNoZWNrZWRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygnbm9uZV9hYm92ZV9lcnJvcicsICdZb3UgbXVzdCBzZWxlY3QsIFwiTm9uZSBvZiB0aGUgYWJvdmUgYXBwbHkgdG8gbWUgb3IgbXkgZmFtaWx5LlwiIGlmIG5vdGhpbmcgaXMgc2VsZWN0ZWQnLCAnbm9uZV9hYm92ZScpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm9uZV9hYm92ZS5jaGVja2VkICYmIChpc19hZmZpbGlhdGVkX2V4Y2hhbmdlX29yX2ZpbnJhLmNoZWNrZWQgfHwgaXNfY29udHJvbF9wZXJzb24uY2hlY2tlZFxyXG4gICAgICAgICAgICB8fCBpc19wb2xpdGljYWxseV9leHBvc2VkLmNoZWNrZWQgfHwgaW1tZWRpYXRlX2ZhbWlseV9leHBvc2VkLmNoZWNrZWRcclxuICAgICAgICApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWlzc2luZ0luZm8oJ25vbmVfYWJvdmVfZXJyb3InLCAnWW91IGNhbm5vdCBoYXZlIFwiTm9uZSBvZiB0aGUgYWJvdmUgYXBwbHkgdG8gbWUgb3IgbXkgZmFtaWx5LlwiIHNlbGVjdGVkIGFuZCBvdGhlciBvcHRpb25zIHNlbGVjdGVkLiBQbGVhc2Ugc2VsZWN0IG9ubHkgb25lJywgJ25vbmVfYWJvdmUnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y0FjY291bnRBZ3JlZW1lbnQgaGlkZGVuXFxcIiBkYXRhLWZvcm09XFxcIjFcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJreWNBY2NvdW50QWdyZWVtZW50R3JpZFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJhY2NvdW50X2FncmVlbWVudF9lcnJvclxcXCIgY2xhc3M9XFxcImlucHV0X2Vycm9yXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImFjY291bnRfYWdyZWVtZW50XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiYWNjb3VudF9hZ3JlZW1lbnRcXFwiIGlkPVxcXCJhY2NvdW50X2FncmVlbWVudFxcXCIgdmFsdWU9XFxcIjFcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJhY2NvdW50X2FncmVlbWVudFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICBJIGFncmVlIHRvIDxhIGhyZWY9XFxcImh0dHBzOi8vZmlsZXMuYWxwYWNhLm1hcmtldHMvZGlzY2xvc3VyZXMvbGlicmFyeS9BY2N0QXBwTWFyZ2luQW5kQ3VzdEFnbXQucGRmXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+QWxwYWNhIEN1c3RvbWVyIEFncmVlbWVudDwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwiY3VzdG9tZXJfYWdyZWVtZW50X2Vycm9yXFxcIiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY3VzdG9tZXJfYWdyZWVtZW50XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY3VzdG9tZXJfYWdyZWVtZW50XFxcIiBpZD1cXFwiY3VzdG9tZXJfYWdyZWVtZW50XFxcIiB2YWx1ZT1cXFwiMVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImN1c3RvbWVyX2FncmVlbWVudFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICBDdXN0b21lciBBZ3JlZW1lbnQgQWNrbm93bGVkZ2VtZW50PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXhwbGFpblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICBJIGhhdmUgcmVhZCwgdW5kZXJzdG9vZCwgYW5kIGFncmVlIHRvIGJlIGJvdW5kIGJ5IEFscGFjYSBTZWN1cml0aWVzIExMQyBhbmQgTGltaW5hbC5tYXJrZXQgSW5jLlxcclxcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxcclxcbiAgICAgICAgICAgICAgICAgICAgdGVybXMsXFxyXFxuICAgICAgICAgICAgICAgICAgICBhbmQgYWxsIG90aGVyIHRlcm1zLCBkaXNjbG9zdXJlcyBhbmQgZGlzY2xhaW1lcnMgYXBwbGljYWJsZSB0byBtZSwgYXMgcmVmZXJlbmNlZCBpbiB0aGUgQWxwYWNhXFxyXFxuICAgICAgICAgICAgICAgICAgICBDdXN0b21lclxcclxcbiAgICAgICAgICAgICAgICAgICAgQWdyZWVtZW50LlxcclxcbiAgICAgICAgICAgICAgICAgICAgSSBhbHNvIGFja25vd2xlZGdlIHRoYXQgdGhlIEFscGFjYSBDdXN0b21lciBBZ3JlZW1lbnQgY29udGFpbnMgYSBwcmUtZGlzcHV0ZSBhcmJpdHJhdGlvbiBjbGF1c2VcXHJcXG4gICAgICAgICAgICAgICAgICAgIGluXFxyXFxuICAgICAgICAgICAgICAgICAgICBTZWN0aW9uXFxyXFxuICAgICAgICAgICAgICAgICAgICA0My5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcImRpZ2l0YWxfc2lnbmF0dXJlX2Vycm9yXFxcIiBjbGFzcz1cXFwiaW5wdXRfZXJyb3JcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGlnaXRhbF9zaWduYXR1cmVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJkaWdpdGFsX3NpZ25hdHVyZVxcXCIgaWQ9XFxcImRpZ2l0YWxfc2lnbmF0dXJlXFxcIiB2YWx1ZT1cXFwiMVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImRpZ2l0YWxfc2lnbmF0dXJlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIERpZ2l0YWwgU2lnbmF0dXJlIEFja25vd2xlZGdlbWVudDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImV4cGxhaW5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgSSB1bmRlcnN0YW5kIEkgYW0gc2lnbmluZyB0aGlzIGFncmVlbWVudCBlbGVjdHJvbmljYWxseSxcXHJcXG4gICAgICAgICAgICAgICAgICAgIGFuZCB0aGF0IG15IGVsZWN0cm9uaWMgc2lnbmF0dXJlIHdpbGwgaGF2ZSB0aGUgc2FtZSBlZmZlY3QgYXMgcGh5c2ljYWxseSBzaWduaW5nIGFuZCByZXR1cm5pbmdcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoZVxcclxcbiAgICAgICAgICAgICAgICAgICAgQXBwbGljYXRpb24gQWdyZWVtZW50LlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBoaWRkZW5cXFwiIGlkPVxcXCJ3OGRpc2Nsb3N1cmVfZGl2XFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJ3OGRpc2Nsb3N1cmVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkIHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJ3OGRpc2Nsb3N1cmVcXFwiIGlkPVxcXCJ3OGRpc2Nsb3N1cmVcXFwiIHZhbHVlPVxcXCIxXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdj48bGFiZWwgZm9yPVxcXCJ3OGRpc2Nsb3N1cmVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICBJIGNlcnRpZnkgdGhhdCBJIGFtIG5vdCBhIFVTIGNpdGl6ZW4sIFVTIHJlc2lkZW50IGFsaWVuIG9yIG90aGVyIFVTIHBlcnNvbiBmb3IgVVMgdGF4IHB1cnBvc2VzLFxcclxcbiAgICAgICAgICAgICAgICBhbmQgSSBhbSBzdWJtaXR0aW5nIHRoZSBhcHBsaWNhYmxlIEZvcm0gVy04IEJFTiB3aXRoIHRoaXMgZm9ybSB0byBjZXJ0aWZ5IG15IGZvcmVpZ24gc3RhdHVzIGFuZCxcXHJcXG4gICAgICAgICAgICAgICAgaWYgYXBwbGljYWJsZSwgY2xhaW0gdGF4IHRyZWF0eSBiZW5lZml0cy4gPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3JpZCBidXR0b25zXFxcIj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiYWNjb3VudF9hZ3JlZW1lbnRfcHJldlxcXCI+UHJldmlvdXM6IFVwbG9hZCBkb2N1bWVudHM8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwic3VibWl0S1lDXFxcIj5Db25maXJtIGlkZW50aXR5PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJhbGVydCBhbGVydC1kYW5nZXJcXFwiIGlkPVxcXCJreWNFcnJvclxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPjwvZGl2PlxcclxcbjwvZmllbGRzZXQ+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBLeWNCYXNlIGZyb20gXCIuL0t5Y0Jhc2VcIjtcclxuaW1wb3J0IEtZQ0Zvcm0gZnJvbSBcIi4uL0tZQ0Zvcm1cIjtcclxuaW1wb3J0IEt5Y0FjY291bnRBZ3JlZW1lbnRIdG1sIGZyb20gXCIuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNBY2NvdW50QWdyZWVtZW50Lmh0bWxcIjtcclxuaW1wb3J0IExvYWRpbmdIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvTG9hZGluZ0hlbHBlclwiO1xyXG5pbXBvcnQgTmV0d29ya0luZm8gZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtzL05ldHdvcmtJbmZvXCI7XHJcbmltcG9ydCBLWUNTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2VcIjtcclxuaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuLi8uLi8uLi9lcnJvcnMvY2xvdWQvS3ljVmFsaWRhdG9yRXJyb3JcIjtcclxuaW1wb3J0IEZvcm1IZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvRm9ybUhlbHBlclwiO1xyXG5pbXBvcnQgRXhlY3V0ZVRyYWRlQnV0dG9uIGZyb20gXCIuLi8uLi9lbGVtZW50cy90cmFkZXBhbmVsL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljQWNjb3VudEFncmVlbWVudCBleHRlbmRzIEt5Y0Jhc2Uge1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGVkaXQgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNBY2NvdW50QWdyZWVtZW50SHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlKHtlZGl0OiBlZGl0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5zaG93RmllbGRzZXQoJy5reWNBY2NvdW50QWdyZWVtZW50JywgJ0FncmVlbWVudHMnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMua3ljRm9ybS5zdGVwcyA9PSA1KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50X2FncmVlbWVudF9wcmV2JykhLmlubmVyVGV4dCA9ICdQcmV2aW91czogRGlzY2xvc3VyZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRfYWdyZWVtZW50X3ByZXYnKSEuaW5uZXJUZXh0ID0gJ1ByZXZpb3VzOiBVcGxvYWQgZG9jdW1lbnRzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua3ljRm9ybS5reWNDb250YWN0LnVzVGF4UmVzaWRlbmNlKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3OGRpc2Nsb3N1cmVfZGl2Jyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3c4ZGlzY2xvc3VyZV9kaXYnKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcblxyXG4gICAgICAgIGxldCBhY2NvdW50X2FncmVlbWVudF9wcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRfYWdyZWVtZW50X3ByZXYnKVxyXG4gICAgICAgIGFjY291bnRfYWdyZWVtZW50X3ByZXY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5reWNGb3JtLnN0ZXBzID09IDUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNEaXNjbG9zdXJlcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljVXBsb2FkLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuYmluZFN1Ym1pdEt5YygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYmluZFN1Ym1pdEt5YyhlZGl0ID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgc3VibWl0S1lDID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEtZQycpO1xyXG4gICAgICAgIGlmICghc3VibWl0S1lDKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN1Ym1pdEtZQy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWVkaXQgJiYgIXRoaXMudmFsaWRhdGUoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFjY291bnRfYWdyZWVtZW50X3ByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9hZ3JlZW1lbnRfcHJldicpO1xyXG4gICAgICAgICAgICAvL2lmIChhY2NvdW50X2FncmVlbWVudF9wcmV2KSBhY2NvdW50X2FncmVlbWVudF9wcmV2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X21vZGFsX2Nsb3NlJyk7XHJcbiAgICAgICAgICAgIC8vIGlmIChsaW1pbmFsX21hcmtldF9tb2RhbF9jbG9zZSkgbGltaW5hbF9tYXJrZXRfbW9kYWxfY2xvc2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgICAgIGxldCBzdWJtaXRCdG4gPSAoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIuc2V0TG9hZGluZyhzdWJtaXRCdG4pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IEZvcm1IZWxwZXIuZ2V0UGFyYW1zKCcja3ljX3dpemFyZF9mb3JtJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICBwYXJhbXMuY2hhaW5JZCA9IG5ldHdvcmtJbmZvLkNoYWluSWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQga3ljU2VydmljZSA9IG5ldyBLWUNTZXJ2aWNlKE1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQga3ljU2VydmljZS5zYXZlS1lDSW5mbyhwYXJhbXMpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKHJlYXNvbjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY291bnRfYWdyZWVtZW50X3ByZXYpIGFjY291bnRfYWdyZWVtZW50X3ByZXYuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9hZGluZ0hlbHBlci5yZW1vdmVMb2FkaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFzb24ubWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQga3ljRXJyb3IgPSBuZXcgS3ljVmFsaWRhdG9yRXJyb3IocmVhc29uLm1lc3NhZ2UsIHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGt5Y0Vycm9yLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmt5Y0Zvcm0ua3ljV2FpdGluZy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBFeGVjdXRlVHJhZGVCdXR0b24uSW5zdGFuY2UucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudF9hZ3JlZW1lbnRfcHJldikgYWNjb3VudF9hZ3JlZW1lbnRfcHJldi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIExvYWRpbmdIZWxwZXIucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBsZXQgYWNjb3VudF9hZ3JlZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9hZ3JlZW1lbnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghYWNjb3VudF9hZ3JlZW1lbnQ/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygnYWNjb3VudF9hZ3JlZW1lbnRfZXJyb3InLCAnWW91IG5lZWQgdG8gYWdyZWUgdG8gYWdyZWVtZW50cycsICdhY2NvdW50X2FncmVlbWVudCcpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1pc3NpbmdJbmZvKCdhY2NvdW50X2FncmVlbWVudF9lcnJvcicsICdhY2NvdW50X2FncmVlbWVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGN1c3RvbWVyX2FncmVlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21lcl9hZ3JlZW1lbnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghY3VzdG9tZXJfYWdyZWVtZW50Py5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWlzc2luZ0luZm8oJ2N1c3RvbWVyX2FncmVlbWVudF9lcnJvcicsICdZb3UgbmVlZCB0byBhZ3JlZSB0byBjdXN0b21lciBhZ3JlbWVudCcsICdjdXN0b21lcl9hZ3JlZW1lbnQnKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVNaXNzaW5nSW5mbygnY3VzdG9tZXJfYWdyZWVtZW50X2Vycm9yJywgJ2N1c3RvbWVyX2FncmVlbWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGlnaXRhbF9zaWduYXR1cmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlnaXRhbF9zaWduYXR1cmUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghZGlnaXRhbF9zaWduYXR1cmU/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygnZGlnaXRhbF9zaWduYXR1cmVfZXJyb3InLCAnWW91IG5lZWQgdG8gc2lnbicsICdkaWdpdGFsX3NpZ25hdHVyZScpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1pc3NpbmdJbmZvKCdkaWdpdGFsX3NpZ25hdHVyZV9lcnJvcicsICdkaWdpdGFsX3NpZ25hdHVyZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGZpZWxkc2V0IGNsYXNzPVxcXCJreWNUcnVzdGVkQ29udGFjdCBoaWRkZW5cXFwiIGRhdGEtZm9ybT1cXFwiMVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImV4cGxhaW5cXFwiPlxcclxcbiAgICAgICAgQSB0cnVzdGVkIGNvbnRhY3QgaXMgYSBwZXJzb24geW91IGF1dGhvcml6ZSB5b3VyIGZpbmFuY2lhbCBmaXJtIHRvIGNvbnRhY3QgaW4gbGltaXRlZCBjaXJjdW1zdGFuY2VzLFxcclxcbiAgICAgICAgc3VjaCBhcyBpZiB0aGVyZSBpcyBhIGNvbmNlcm4gYWJvdXQgYWN0aXZpdHkgaW4geW91ciBhY2NvdW50IGFuZCB0aGV5IGhhdmUgYmVlbiB1bmFibGUgdG8gZ2V0IGluIHRvdWNoIHdpdGggeW91LlxcclxcbiAgICAgICAgPGJyLz48YnIvPlxcclxcbiAgICAgICAgQSB0cnVzdGVkIGNvbnRhY3QgbWF5IGJlIGEgZmFtaWx5IG1lbWJlciwgYXR0b3JuZXksIGFjY291bnRhbnQgb3IgYW5vdGhlciB0aGlyZC1wYXJ0eSB3aG8geW91IGJlbGlldmUgd291bGRcXHJcXG4gICAgICAgIHJlc3BlY3QgeW91ciBwcml2YWN5IGFuZCBrbm93IGhvdyB0byBoYW5kbGUgdGhlIHJlc3BvbnNpYmlsaXR5LlxcclxcbiAgICAgICAgVGhlIHRydXN0ZWQgcGVyc29uIHNob3VsZCBiZSAxOCB5ZWFycyBvbGQgb3Igb2xkZXIuXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidHJ1c3RlZF9maXJzdF9uYW1lXFxcIj5MZWdhbCBmaXJzdCBuYW1lIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcInRydXN0ZWRfZmlyc3RfbmFtZVxcXCIgbmFtZT1cXFwidHJ1c3RlZF9maXJzdF9uYW1lXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidHJ1c3RlZF9sYXN0X25hbWVcXFwiPkxlZ2FsIGxhc3QgbmFtZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX2xhc3RfbmFtZVxcXCIgbmFtZT1cXFwidHJ1c3RlZF9sYXN0X25hbWVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICBJZiB5b3UgZmlsbCBpbiBuYW1lLCB5b3UgYXJlIHJlcXVpcmVkIHRvIGZpbGwgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcsIGVtYWlsLCBwaG9uZSBvciBhZGRyZXNzXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dF9lcnJvclxcXCIgaWQ9XFxcInRydXN0ZWRfY29udGFjdF9taXNzaW5nX2luZm9cXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidHJ1c3RlZF9lbWFpbFxcXCI+RW1haWwgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidHJ1c3RlZF9lbWFpbFxcXCIgdHlwZT1cXFwiZW1haWxcXFwiIG5hbWU9XFxcInRydXN0ZWRfZW1haWxcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX3Bob25lXFxcIj5QaG9uZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX3Bob25lXFxcIiB0eXBlPVxcXCJ0ZWxcXFwiIG5hbWU9XFxcInRydXN0ZWRfcGhvbmVcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX3N0cmVldF9hZGRyZXNzXFxcIj5BZGRyZXNzIG9mIHRydXN0ZWQgY29udGFjdDwvbGFiZWw+XFxyXFxuICAgICAgICA8aW5wdXQgaWQ9XFxcInRydXN0ZWRfc3RyZWV0X2FkZHJlc3NcXFwiIG5hbWU9XFxcInRydXN0ZWRfc3RyZWV0X2FkZHJlc3NcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX2NpdHlcXFwiPkNpdHkgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidHJ1c3RlZF9jaXR5XFxcIiBuYW1lPVxcXCJ0cnVzdGVkX2NpdHlcXFwiLz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJ0cnVzdGVkX3N0YXRlXFxcIj5TdGF0ZSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ0cnVzdGVkX3N0YXRlXFxcIiBuYW1lPVxcXCJ0cnVzdGVkX3N0YXRlXFxcIi8+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwidHJ1c3RlZF9wb3N0YWxfY29kZVxcXCI+UG9zdGFsIGNvZGUgb2YgdHJ1c3RlZCBjb250YWN0PC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCBpZD1cXFwidHJ1c3RlZF9wb3N0YWxfY29kZVxcXCIgbmFtZT1cXFwidHJ1c3RlZF9wb3N0YWxfY29kZVxcXCIvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdj5cXHJcXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInRydXN0ZWRfY291bnRyeVxcXCI+Q291bnRyeSBvZiB0cnVzdGVkIGNvbnRhY3Q8L2xhYmVsPlxcclxcbiAgICAgICAgPHNlbGVjdCByZXF1aXJlZCBpZD1cXFwidHJ1c3RlZF9jb3VudHJ5XFxcIiByZXF1aXJlZCBuYW1lPVxcXCJ0cnVzdGVkX2NvdW50cnlcXFwiPlxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAge3sjZWFjaCBjb3VudHJpZXN9fVxcclxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInt7Y29kZX19XFxcIj57e25hbWV9fTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgIHt7L2VhY2h9fVxcclxcbiAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICB7eyN1bmxlc3MgZWRpdH19XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInRydXN0ZWRDb250YWN0X3ByZXZcXFwiPlByZXZpb3VzOiBJZGVudGl0eTwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJ0cnVzdGVkQ29udGFjdF9uZXh0XFxcIj5OZXh0OiBEaXNjbG9zdXJlczwvYnV0dG9uPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAge3svdW5sZXNzfX1cXHJcXG4gICAge3sjaWYgZWRpdH19XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInRydXN0ZWRDb250YWN0X3ByZXZcXFwiPlByZXZpb3VzOiBJZGVudGl0eTwvYnV0dG9uPlxcclxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGlkPVxcXCJzdWJtaXRLWUNcXFwiPlVwZGF0ZSBhY2NvdW50PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJhbGVydCBhbGVydC1kYW5nZXJcXFwiIGlkPVxcXCJreWNFcnJvclxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPjwvZGl2PlxcclxcbiAgICB7ey9pZn19XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEt5Y0Jhc2UgZnJvbSBcIi4vS3ljQmFzZVwiO1xyXG5pbXBvcnQgS1lDRm9ybSBmcm9tIFwiLi4vS1lDRm9ybVwiO1xyXG5pbXBvcnQgS3ljVHJ1c3RlZENvbnRhY3RIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvbW9kYWwvS3ljL0t5Y1RydXN0ZWRDb250YWN0Lmh0bWwnO1xyXG5pbXBvcnQgU3RyaW5nSGVscGVyIGZyb20gXCIuLi8uLi8uLi91dGlsL1N0cmluZ0hlbHBlclwiO1xyXG5pbXBvcnQgQ291bnRyeUhlbHBlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9Db3VudHJ5SGVscGVyXCI7XHJcblxyXG5pbXBvcnQgS3ljQWNjb3VudEFncmVlbWVudCBmcm9tIFwiLi9LeWNBY2NvdW50QWdyZWVtZW50XCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljVHJ1c3RlZENvbnRhY3QgZXh0ZW5kcyBLeWNCYXNlIHtcclxuICAgIGVkaXQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihlZGl0ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmVkaXQgPSBlZGl0O1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS3ljVHJ1c3RlZENvbnRhY3RIdG1sKTtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUoe2VkaXQ6IGVkaXQsIGNvdW50cmllczogQ291bnRyeUhlbHBlci5Db3VudHJpZXN9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdygpIHtcclxuICAgICAgICB0aGlzLnNob3dGaWVsZHNldCgnLmt5Y1RydXN0ZWRDb250YWN0JywgJ1RydXN0ZWQgY29udGFjdCcpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IHNob3dQcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRDb250YWN0X3ByZXYnKTtcclxuICAgICAgICBzaG93UHJldj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNJZGVudGl0eS5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IHNob3dOZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRDb250YWN0X25leHQnKTtcclxuICAgICAgICBzaG93TmV4dD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5reWNEaXNjbG9zdXJlcy5zaG93KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdCkge1xyXG4gICAgICAgICAgICBsZXQga3ljQWNjb3VudCA9IG5ldyBLeWNBY2NvdW50QWdyZWVtZW50KHRoaXMua3ljRm9ybSk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBreWNBY2NvdW50LmJpbmRTdWJtaXRLeWModGhpcy5lZGl0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCd0cnVzdGVkX2NvbnRhY3RfbWlzc2luZ19pbmZvJywgJycpO1xyXG5cclxuICAgICAgICBsZXQgdHJ1c3RlZF9maXJzdF9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfZmlyc3RfbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHRydXN0ZWRfZmlyc3RfbmFtZSAmJiAhU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9maXJzdF9uYW1lLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBsZXQgdHJ1c3RlZF9lbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnVzdGVkX2VtYWlsJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IHRydXN0ZWRfcGhvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ1c3RlZF9waG9uZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCB0cnVzdGVkX3N0cmVldF9hZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfc3RyZWV0X2FkZHJlc3MnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgdHJ1c3RlZF9jaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfY2l0eScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCB0cnVzdGVkX3Bvc3RhbF9jb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfcG9zdGFsX2NvZGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgdHJ1c3RlZF9jb3VudHJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydXN0ZWRfY291bnRyeScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9lbWFpbC52YWx1ZSkgJiYgU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9waG9uZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICYmIFN0cmluZ0hlbHBlci5pc051bGxPckVtcHR5KHRydXN0ZWRfc3RyZWV0X2FkZHJlc3MudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1pc3NpbmdJbmZvKCd0cnVzdGVkX2NvbnRhY3RfbWlzc2luZ19pbmZvJywgJ1lvdSBuZWVkIHRvIGZpbGwgaW4gZWl0aGVyIGVtYWlsLCBwaG9uZSBvciBhZGRyZXNzJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9lbWFpbC52YWx1ZSkgJiYgdHJ1c3RlZF9lbWFpbC52YWx1ZS5pbmRleE9mKCdAJykgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWlzc2luZ0luZm8oJ3RydXN0ZWRfY29udGFjdF9taXNzaW5nX2luZm8nLCAnRW1haWwgaXMgbm90IHZhbGlkLiBJdCBtdXN0IGNvbnRhaW4gQCBzaWduJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9zdHJlZXRfYWRkcmVzcy52YWx1ZSkgJiZcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX2NpdHkudmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nSGVscGVyLmlzTnVsbE9yRW1wdHkodHJ1c3RlZF9wb3N0YWxfY29kZS52YWx1ZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmdIZWxwZXIuaXNOdWxsT3JFbXB0eSh0cnVzdGVkX2NvdW50cnkudmFsdWUpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNaXNzaW5nSW5mbygndHJ1c3RlZF9jb250YWN0X21pc3NpbmdfaW5mbycsICdZb3UgbmVlZCBmaWxsIGlubiBpbnRvIENpdHksIFBvc3RhbCBjb2RlIGFuZCBDb3VudHJ5IHdoZW4gZmlsbGluZyB0aGUgc3RyZWV0IGFkZHJlc3MnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZmllbGRzZXQgY2xhc3M9XFxcImt5Y1VwbG9hZCBoaWRkZW5cXFwiIGRhdGEtZm9ybT1cXFwiMVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXFxcIiBcXFwiUGhvdG8gSUQgRnJvbnQgKEZyb250IG9mIHBhc3Nwb3J0KVxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWRcXFwiPlxcclxcbiAgICAgICAge3t7ZmlsZVVwbG9hZCBcXFwiaWRlbnRpdHlfdmVyaWZpY2F0aW9uXzJcXFwiIFxcXCJQaG90byBJRCBCYWNrIChQYXNzcG9ydCBwaWN0dXJlIG9mIElEKSBcXFwifX19XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJncmlkXFxcIj5cXHJcXG4gICAgICAgIHt7e2ZpbGVVcGxvYWQgXFxcImFkZHJlc3NfdmVyaWZpY2F0aW9uXFxcIiBcXFwiUGljdHVyZSBvZiBhZGRyZXNzIHZlcmlmaWNhdGlvblxcXCJ9fX1cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgYnV0dG9uc1xcXCI+XFxyXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInVwbG9hZF9wcmV2XFxcIj5QcmV2aW91czogRGlzY2xvc3VyZXM8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwidXBsb2FkX25leHRcXFwiPk5leHQ6IEFncmVlbWVudHM8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9maWVsZHNldD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IEt5Y0Jhc2UgZnJvbSBcIi4vS3ljQmFzZVwiO1xyXG5pbXBvcnQgS3ljVXBsb2FkSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNVcGxvYWQuaHRtbCc7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS3ljVXBsb2FkIGV4dGVuZHMgS3ljQmFzZSB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGt5Y0Zvcm06IEtZQ0Zvcm0pIHtcclxuICAgICAgICBzdXBlcihreWNGb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNVcGxvYWRIdG1sKTtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGUoe30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KCkge1xyXG4gICAgICAgIHRoaXMuc2hvd0ZpZWxkc2V0KCcua3ljVXBsb2FkJywgJ1VwbG9hZCBkb2N1bWVudHMnKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuYmluZEZpbGVVcGxvYWRzKCk7XHJcblxyXG4gICAgICAgIGxldCB1cGxvYWRfcHJldiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRfcHJldicpO1xyXG4gICAgICAgIHVwbG9hZF9wcmV2Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0Rpc2Nsb3N1cmVzLnNob3coKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCB1cGxvYWRfbmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRfbmV4dCcpO1xyXG4gICAgICAgIHVwbG9hZF9uZXh0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMoJy5reWNVcGxvYWQnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5reWNGb3JtLmt5Y0FjY291bnRBZ3JlZW1lbnQuc2hvdygpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgS3ljQmFzZSBmcm9tIFwiLi9LeWNCYXNlXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcbmltcG9ydCBLWUNTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEt5Y1dhaXRpbmcgZXh0ZW5kcyBLeWNCYXNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNGb3JtOiBLWUNGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIoa3ljRm9ybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y19yZWcnKT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FpdGluZ19mb3Jfa3ljX3JlZycpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGltaW5hbF9tYXJrZXRfbW9kYWxfZGl2ID4gYXJ0aWNsZSA+IGhlYWRlciA+IHNwYW4nKSEuaW5uZXJIVE1MID0gJ1dhaXRpbmcgZm9yIEtZQyB0byBiZSBhcHByb3ZlZCdcclxuICAgICAgICB0aGlzLmt5Y0Zvcm0udGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrS3ljU3RhdHVzKClcclxuICAgICAgICB9LCA1ICogMTAwMClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY2hlY2tLeWNTdGF0dXMoKSB7XHJcbiAgICAgICAgbGV0IGt5Y1NlcnZpY2UgPSBuZXcgS1lDU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQga3ljUmVzcG9uc2UgPSBhd2FpdCBreWNTZXJ2aWNlLmhhc1ZhbGlkS1lDKClcclxuXHJcbiAgICAgICAgaWYgKGt5Y1Jlc3BvbnNlLmlzVmFsaWRLeWMpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua3ljRm9ybS50aW1lb3V0KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua3ljRm9ybS5tb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Zvcm0udGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0t5Y1N0YXR1cygpXHJcbiAgICAgICAgICAgIH0sIDUgKiAxMDAwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgS1lDRm9ybUh0bWwgZnJvbSAnLi4vLi4vaHRtbC9tb2RhbC9LWUNNb2RhbC5odG1sJztcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XHJcbmltcG9ydCBLeWNDb250YWN0IGZyb20gXCIuL0tZQy9LeWNDb250YWN0XCI7XHJcbmltcG9ydCBLeWNJZGVudGl0eSBmcm9tIFwiLi9LWUMvS3ljSWRlbnRpdHlcIjtcclxuaW1wb3J0IEt5Y0Rpc2Nsb3N1cmVzIGZyb20gXCIuL0tZQy9LeWNEaXNjbG9zdXJlc1wiO1xyXG5pbXBvcnQgS3ljQWNjb3VudEFncmVlbWVudCBmcm9tIFwiLi9LWUMvS3ljQWNjb3VudEFncmVlbWVudFwiO1xyXG5pbXBvcnQgS3ljVHJ1c3RlZENvbnRhY3QgZnJvbSBcIi4vS1lDL0t5Y1RydXN0ZWRDb250YWN0XCI7XHJcbmltcG9ydCBLeWNVcGxvYWQgZnJvbSBcIi4vS1lDL0t5Y1VwbG9hZFwiO1xyXG5pbXBvcnQgS3ljV2FpdGluZyBmcm9tIFwiLi9LWUMvS3ljV2FpdGluZ1wiO1xyXG5pbXBvcnQgRXhlY3V0ZVRyYWRlQnV0dG9uIGZyb20gXCIuLi9lbGVtZW50cy90cmFkZXBhbmVsL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLWUNGb3JtIHtcclxuICAgIHN0ZXBzID0gNTtcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuICAgIHRpbWVvdXQ/OiBhbnkgPSB1bmRlZmluZWQ7XHJcbiAgICBvbkhpZGU6ICgpID0+IHZvaWQ7XHJcbiAgICBhY3RpdmVGaWVsZHNldFNlbGVjdG9yID0gJy5reWNDb250YWN0JztcclxuXHJcbiAgICBreWNDb250YWN0OiBLeWNDb250YWN0O1xyXG4gICAga3ljSWRlbnRpdHk6IEt5Y0lkZW50aXR5O1xyXG4gICAga3ljRGlzY2xvc3VyZXM6IEt5Y0Rpc2Nsb3N1cmVzXHJcbiAgICBreWNBY2NvdW50QWdyZWVtZW50OiBLeWNBY2NvdW50QWdyZWVtZW50O1xyXG4gICAga3ljVHJ1c3RlZENvbnRhY3Q6IEt5Y1RydXN0ZWRDb250YWN0O1xyXG4gICAga3ljVXBsb2FkOiBLeWNVcGxvYWQ7XHJcbiAgICBreWNXYWl0aW5nOiBLeWNXYWl0aW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9uSGlkZTogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICB0aGlzLm9uSGlkZSA9IG9uSGlkZTtcclxuXHJcbiAgICAgICAgdGhpcy5reWNDb250YWN0ID0gbmV3IEt5Y0NvbnRhY3QodGhpcyk7XHJcbiAgICAgICAgdGhpcy5reWNJZGVudGl0eSA9IG5ldyBLeWNJZGVudGl0eSh0aGlzKTtcclxuICAgICAgICB0aGlzLmt5Y1RydXN0ZWRDb250YWN0ID0gbmV3IEt5Y1RydXN0ZWRDb250YWN0KHRoaXMpO1xyXG4gICAgICAgIHRoaXMua3ljRGlzY2xvc3VyZXMgPSBuZXcgS3ljRGlzY2xvc3VyZXModGhpcyk7XHJcbiAgICAgICAgdGhpcy5reWNBY2NvdW50QWdyZWVtZW50ID0gbmV3IEt5Y0FjY291bnRBZ3JlZW1lbnQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5reWNVcGxvYWQgPSBuZXcgS3ljVXBsb2FkKHRoaXMpO1xyXG4gICAgICAgIHRoaXMua3ljV2FpdGluZyA9IG5ldyBLeWNXYWl0aW5nKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93KGNsYXNzTmFtZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIGxldCBreWNGb3JtID0gbmV3IEtZQ0Zvcm0oKCkgPT4ge1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHR5cGUgT2JqZWN0S2V5ID0ga2V5b2YgdHlwZW9mIGt5Y0Zvcm07XHJcbiAgICAgICAgY29uc3QgYmxlID0gY2xhc3NOYW1lIGFzIE9iamVjdEtleTtcclxuICAgICAgICAodGhpc1tibGVdIGFzIGFueSkuc2hvdygpO1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZUZpZWxkc2V0U2VsZWN0b3IgPSBjbGFzc05hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dLWUNGb3JtKGVkaXQgPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoS1lDRm9ybUh0bWwpO1xyXG4gICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgIEt5Y0NvbnRhY3RIdG1sOiB0aGlzLmt5Y0NvbnRhY3QucmVuZGVyKCksXHJcbiAgICAgICAgICAgIEt5Y0lkZW50aXR5SHRtbDogdGhpcy5reWNJZGVudGl0eS5yZW5kZXIoKSxcclxuICAgICAgICAgICAgS3ljRGlzY2xvc3VyZUh0bWw6IHRoaXMua3ljRGlzY2xvc3VyZXMucmVuZGVyKCksXHJcbiAgICAgICAgICAgIEt5Y1RydXN0ZWRDb250YWN0SHRtbDogdGhpcy5reWNUcnVzdGVkQ29udGFjdC5yZW5kZXIoKSxcclxuICAgICAgICAgICAgS3ljQWNjb3VudEFncmVlbWVudEh0bWw6IHRoaXMua3ljQWNjb3VudEFncmVlbWVudC5yZW5kZXIoKSxcclxuICAgICAgICAgICAgS3ljVXBsb2FkSHRtbDogdGhpcy5reWNVcGxvYWQucmVuZGVyKClcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZShvYmopO1xyXG4gICAgICAgIGxldCBuZXdNb2RhbCA9IHRoaXMubW9kYWwuc2hvd01vZGFsKCdLWUMgJiBBTUwnLCBjb250ZW50LCB0cnVlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMub25IaWRlKCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBsZXQgdGF4UmVzaWRlbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50cnlfb2ZfdGF4X3Jlc2lkZW5jZScpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgIGlmICh0YXhSZXNpZGVuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGVwcyA9ICh0YXhSZXNpZGVuY2UudmFsdWUgPT0gJ1VTQScpID8gNSA6IDY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmV3TW9kYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5reWNDb250YWN0LmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5reWNJZGVudGl0eS5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMua3ljVHJ1c3RlZENvbnRhY3QuYmluZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0Rpc2Nsb3N1cmVzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5reWNVcGxvYWQuYmluZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmt5Y0FjY291bnRBZ3JlZW1lbnQuYmluZEV2ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t5Y193aXphcmRfZm9ybScpIS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChldnQua2V5ID09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMua3ljQ29udGFjdC5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFN0ZXBzKHN0ZXBzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0ZXBzID0gc3RlcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyVGltZW91dCgpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgS3ljU3RhdHVzIGZyb20gXCIuLi8uLi8uLi9kdG8vS3ljU3RhdHVzXCI7XHJcbmltcG9ydCBLeWNBY3Rpb25SZXF1aXJlZCBmcm9tIFwiLi9LeWNBY3Rpb25SZXF1aXJlZFwiO1xyXG5pbXBvcnQgRXhlY3V0ZVRyYWRlQnV0dG9uIGZyb20gXCIuLi8uLi9lbGVtZW50cy90cmFkZXBhbmVsL0V4ZWN1dGVUcmFkZUJ1dHRvblwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL01vZGFsXCI7XHJcbmltcG9ydCBLWUNGb3JtIGZyb20gXCIuLi9LWUNGb3JtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLeWNTdGF0dXNIYW5kbGVyIHtcclxuXHJcbiAgICAvKlxyXG4gICAgU1VCTUlUVEVEXHQvZml4dHVyZXMvc3RhdHVzPVNVQk1JVFRFRC9maXh0dXJlcy9cclxuQUNUSU9OX1JFUVVJUkVEXHQvZml4dHVyZXMvc3RhdHVzPUFDVElPTl9SRVFVSVJFRC9maXh0dXJlcy9cclxuQVBQUk9WQUxfUEVORElOR1x0L2ZpeHR1cmVzL3N0YXR1cz1BUFBST1ZBTF9QRU5ESU5HL2ZpeHR1cmVzL1xyXG5BUFBST1ZFRFx0L2ZpeHR1cmVzL3N0YXR1cz1BUFBST1ZFRC9maXh0dXJlcy9cclxuUkVKRUNURURcdC9maXh0dXJlcy9zdGF0dXM9UkVKRUNURUQvZml4dHVyZXMvXHJcbkFDVElWRVx0L2ZpeHR1cmVzL3N0YXR1cz1BQ1RJVkUvZml4dHVyZXMvXHJcbkRJU0FCTEVEXHQvZml4dHVyZXMvc3RhdHVzPURJU0FCTEVEL2ZpeHR1cmVzL1xyXG5BQ0NPVU5UX0NMT1NFRFx0L2ZpeHR1cmVzL3N0YXR1cz1BQ0NPVU5UX0NMT1NFRC9maXh0dXJlcy9cclxuICAgICAqL1xyXG5cclxuICAgIGt5Y1Jlc3BvbnNlOiBLeWNTdGF0dXM7XHJcbiAgICBleGVjdXRlVHJhZGVCdXR0b246IEV4ZWN1dGVUcmFkZUJ1dHRvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihreWNSZXNwb25zZTogS3ljU3RhdHVzLCBleGVjdXRlVHJhZGVCdXR0b246IEV4ZWN1dGVUcmFkZUJ1dHRvbikge1xyXG4gICAgICAgIHRoaXMua3ljUmVzcG9uc2UgPSBreWNSZXNwb25zZTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGVUcmFkZUJ1dHRvbiA9IGV4ZWN1dGVUcmFkZUJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnV0dG9uVGV4dCgpIHtcclxuICAgICAgICBsZXQgdHh0ID0gJ0ZpbmlzaCBLWUMnO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5reWNSZXNwb25zZS5zdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnU1VCTUlUVEVEJzpcclxuICAgICAgICAgICAgY2FzZSAnT05CT0FSRElORyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0lOQUNUSVZFJzpcclxuICAgICAgICAgICAgY2FzZSAnQVBQUk9WRUQnOlxyXG4gICAgICAgICAgICBjYXNlICdFRElURUQnOlxyXG4gICAgICAgICAgICBjYXNlICdBUFBST1ZBTF9QRU5ESU5HJzpcclxuICAgICAgICAgICAgICAgIHR4dCA9ICdTdWJtaXR0ZWQgdG8gS1lDIHByb2Nlc3Nvcic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQUNUSU9OX1JFUVVJUkVEJzpcclxuICAgICAgICAgICAgICAgIHR4dCA9ICdBY3Rpb24gcmVxdWlyZWQuIENsaWNrIHRvIGNvbnRpbnVlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdSRUpFQ1RFRCc6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSAnWW91ciBhcHBsaWNhdGlvbiB3YXMgcmVqZWN0ZWQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0RJU0FCTEVEJzpcclxuICAgICAgICAgICAgICAgIHR4dCA9ICdZb3VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0FDQ09VTlRfVVBEQVRFRCc6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSAnWW91IGFyZSBhcHByb3ZlZC4gS1lDIGlzIGJlaW5nIHNlbnQgdG8gYmxvY2tjaGFpbi4gR2l2ZSBpdCBmZXcgbWludXRlcyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQUNDT1VOVF9DTE9TRUQnOlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gJ1lvdXIgYWNjb3VudCBoYXMgYmVlbiBjbG9zZWQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eHQgKyAnPHNtYWxsPkNsaWNrIGZvciBtb3JlIGluZm88L3NtYWxsPic7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJ1dHRvbkNsaWNrRXZlbnQoZXhlY3V0ZVRyYWRlQnV0dG9uOiBFeGVjdXRlVHJhZGVCdXR0b24pIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMua3ljUmVzcG9uc2Uuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NVQk1JVFRFRCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ09OQk9BUkRJTkcnOlxyXG4gICAgICAgICAgICBjYXNlICdJTkFDVElWRSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ0FQUFJPVkVEJzpcclxuICAgICAgICAgICAgY2FzZSAnRURJVEVEJzpcclxuICAgICAgICAgICAgY2FzZSAnQVBQUk9WQUxfUEVORElORyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93TW9kYWwoJ0FwcGxpY2F0aW9uIGlzIGJlaW5nIHByb2Nlc3NlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJZb3UgbmVlZCB0byB3YWl0IGZvciBLWUMgdG8gYmUgYXBwcm92ZWQuIFRoZW4geW91J2xsIGJlIGFibGUgdG8gZG8gdHJhZGVzLiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIHVzdWFsbHkgdGFrZXMgZmV3IG1pbnV0ZXMuIFdlIHdpbGwgZW1haWwgeW91IHdoZW4geW91IGFyZSBhcHByb3ZlZCBvciBpZiB0aGVyZSBhcmUgcHJvYmxlbXM8YnIgLz48YnIgLz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJZiB0aGlzIHN0YXR1cyBoYXMgYmVlbiBmb3IgbW9yZSB0aGFuIDEgZGF5LCBhbmQgeW91IGhhdmVuJ3QgZ290dGVuIGFueSBlbWFpbCBmcm9tIHVzLiBQbGVhc2UgZW1haWwgdXMgYXQgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J21haWx0bzppbmZvQGxpbWluYWwubWFya2V0P3N1YmplY3Q9TXkgYXBwbGljYXRpb24gaXMgYmVpbmcgcHJvY2Vzc2VkIGZvciB0byBsb25nJmJvZHk9SGksIGNhbiB5b3UgaGVscCBtZSB0byBmaW5kIG91dCB3aGF0IHRoZSBwcm9ibGVtIGlzLCB0aGUgS1lDIHByb2Nlc3MgaGFzIG5vdCBjaGFuZ2VkIGZvciBzb21lIHRpbWU/IE15IG5hbWUgaXMgX19fX19fXyBhbmQgSSB1c2VkIHRoZSBlbWFpbCBfX19fX19fIHRvIHJlZ2lzdGVyIGF0IGxpbWluYWwubWFya2V0Jz5pbmZvQGxpbWluYWwubWFya2V0PC9hPlwiKTtcclxuICAgICAgICAgICAgY2FzZSAnQUNUSU9OX1JFUVVJUkVEJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGt5Y0FjdGlvblJlcXVpcmVkID0gbmV3IEt5Y0FjdGlvblJlcXVpcmVkKGV4ZWN1dGVUcmFkZUJ1dHRvbilcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBreWNBY3Rpb25SZXF1aXJlZC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlICdSRUpFQ1RFRCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93TW9kYWwoJ0FwcGxpY2F0aW9uIHdhcyByZWplY3RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJZb3VyIGFwcGxpY2F0aW9uIGhhcyBiZWVuIHJlamVjdGVkIGR1cmluZyBLWUMgcHJvY2Vzcy48YnIgLz48YnIgLz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJXZSBkb24ndCBoYXZlIHRoZSBpbmZvcm1hdGlvbiBvbiB3aHkgdGhhdCBoYXBwZW5lZCwgYnV0IHlvdSBjYW4gZW1haWwgdXMgYXQgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J21haWx0bzppbmZvQGxpbWluYWwubWFya2V0P3N1YmplY3Q9TXkgYXBwbGljYXRpb24gd2FzIHJlamVjdGVkJmJvZHk9SGksIGNhbiB5b3UgaGVscCBtZSB0byBmaW5kIG91dCB3aGF0IHRoZSBwcm9ibGVtIGlzPyBNeSBuYW1lIGlzIF9fX19fX18gYW5kIEkgdXNlZCB0aGUgZW1haWwgX19fX19fXyB0byByZWdpc3RlciBhdCBsaW1pbmFsLm1hcmtldCc+aW5mb0BsaW1pbmFsLm1hcmtldDwvYT5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgYW5kIHdlIGNhbiBmaW5kIG91dCwgYW5kIHdlIHNob3VsZCBiZSBhYmxlIHRvIHNvbHZlIGl0IHRvZ2V0aGVyLlwiKTtcclxuICAgICAgICAgICAgY2FzZSAnRElTQUJMRUQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd01vZGFsKCdBcHBsaWNhdGlvbiB3YXMgZGlzYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiWW91ciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkLjxiciAvPjxiciAvPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIldlIGRvbid0IGhhdmUgdGhlIGluZm9ybWF0aW9uIG9uIHdoeSB0aGF0IGhhcHBlbmVkLCBidXQgeW91IGNhbiBlbWFpbCB1cyBhdCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nbWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXQ/c3ViamVjdD1NeSBhcHBsaWNhdGlvbiB3YXMgZGlzYWJsZWQmYm9keT1IaSwgY2FuIHlvdSBoZWxwIG1lIHRvIGZpbmQgb3V0IHdoYXQgdGhlIHByb2JsZW0gaXM/IE15IG5hbWUgaXMgX19fX19fXyBhbmQgSSB1c2VkIHRoZSBlbWFpbCBfX19fX19fIHRvIHJlZ2lzdGVyIGF0IGxpbWluYWwubWFya2V0Jz5pbmZvQGxpbWluYWwubWFya2V0PC9hPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIiBhbmQgd2UgY2FuIGZpbmQgb3V0LCBhbmQgd2Ugc2hvdWxkIGJlIGFibGUgdG8gc29sdmUgaXQgdG9nZXRoZXIuXCIpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnQUNDT1VOVF9DTE9TRUQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd01vZGFsKCdBcHBsaWNhdGlvbiB3YXMgY2xvc2VkJyxcclxuICAgICAgICAgICAgICAgICAgICBcIllvdXIgYWNjb3VudCBoYXMgYmVlbiBjbG9zZWQuPGJyIC8+PGJyIC8+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiV2UgZG9uJ3QgaGF2ZSB0aGUgaW5mb3JtYXRpb24gb24gd2h5IHRoYXQgaGFwcGVuZWQsIGJ1dCB5b3UgY2FuIGVtYWlsIHVzIGF0IFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdtYWlsdG86aW5mb0BsaW1pbmFsLm1hcmtldD9zdWJqZWN0PU15IGFwcGxpY2F0aW9uIHdhcyBjbG9zZWQmYm9keT1IaSwgY2FuIHlvdSBoZWxwIG1lIHRvIGZpbmQgb3V0IHdoYXQgdGhlIHByb2JsZW0gaXM/IE15IG5hbWUgaXMgX19fX19fXyBhbmQgSSB1c2VkIHRoZSBlbWFpbCBfX19fX19fIHRvIHJlZ2lzdGVyIGF0IGxpbWluYWwubWFya2V0Jz5pbmZvQGxpbWluYWwubWFya2V0PC9hPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIiBhbmQgd2UgY2FuIGZpbmQgb3V0LCBhbmQgd2Ugc2hvdWxkIGJlIGFibGUgdG8gc29sdmUgaXQgdG9nZXRoZXIuXCIpO1xyXG4gICAgICAgICAgICBjYXNlICdBQ0NPVU5UX1VQREFURUQnOlxyXG4gICAgICAgICAgICBjYXNlICdBQ1RJVkUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd01vZGFsKCdBY2NvdW50IHNvb24gcmVhZHknLCAnWW91ciBhY2NvdW50IGhhcyBiZWVuIGFwcHJvdmVkLi4uPGJyIC8+PGJyLz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnLi5idXQsIGFmdGVyIHdlIGFwcHJvdmUgeW91ciBhY2NvdW50LCB3ZSB3cml0ZSB0aGUgaW5mb3JtYXRpb24gdG8gdGhlIGJsb2NrY2hhaW4uJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyBUaGlzIHVzdWFsbHkgdGFrZXMganVzdCBmZXcoMi0zKSBtaW51dGVzLjxiciAvPjxici8+IElmIHRoaXMgaXMgdGFraW5nIGxvbmdlciwgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BsZWFzZSBlbWFpbCB1cyBhdCA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwibWFpbHRvOmluZm9AbGltaW5hbC5tYXJrZXQ/c3ViamVjdD1LWUMgaXMgYmVpbmcgd3JpdHRlbiB0byBibG9ja2NoYWluJmJvZHk9SGksIGNhbiB5b3UgaGVscCBtZSB0byBmaW5kIG91dCB3aGF0IHRoZSBwcm9ibGVtIGlzPyBNeSBuYW1lIGlzIF9fX19fX18gYW5kIEkgdXNlZCB0aGUgZW1haWwgX19fX19fXyB0byByZWdpc3RlciBhdCBsaW1pbmFsLm1hcmtldFwiPmluZm9AbGltaW5hbC5tYXJrZXQ8L2E+Jyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGt5Y0Zvcm0gPSBuZXcgS1lDRm9ybShhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmV4ZWN1dGVUcmFkZUJ1dHRvbi5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGt5Y0Zvcm0uc2hvd0tZQ0Zvcm0oKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93TW9kYWwodGl0bGU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgICAgIG1vZGFsLnNob3dNb2RhbCh0aXRsZSwgY29udGVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGgyPllvdSBhcmUgYWNjb3VudCBoYXMgYmVlbiBhcHByb3ZlZDwvaDI+XFxyXFxuPHA+V2UgaGF2ZSBhcHByb3ZlZCB5b3VyIGFjY291bnQuIFlvdSBjYW4gbm93IGZ1bmQgeW91ciBhY2NvdW50IGFuZCBzdGFydCB0byB0cmFkZS5cXHJcXG5cXHJcXG4gICAgPGJ1dHRvbiBpZD1cXFwia3ljQXBwcm92ZWRGdW5kXFxcIj5GdW5kIGFjY291bnQ8L2J1dHRvbj5cXHJcXG48L3A+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBNb3JhbGlzIGZyb20gXCJNb3JhbGlzXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBBdXRoZW50aWNhdGVTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL0F1dGhlbnRpY2F0ZVNlcnZpY2VcIjtcclxuaW1wb3J0IENvbm5lY3RXYWxsZXQgZnJvbSBcIi4uLy4uL21vZGFscy9Db25uZWN0V2FsbGV0XCI7XHJcbmltcG9ydCBLWUNTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0tZQ1NlcnZpY2VcIjtcclxuaW1wb3J0IEFVU0RTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlXCI7XHJcbmltcG9ydCBBVVNERnVuZCBmcm9tIFwiLi4vLi4vbW9kYWxzL0FVU0RGdW5kXCI7XHJcbmltcG9ydCBTZWN1cml0eVRva2VuU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9TZWN1cml0eVRva2VuU2VydmljZVwiO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IHtBZGRyZXNzWmVybywgcm91bmRCaWdOdW1iZXJEZWNpbWFsLCByb3VuZE51bWJlckRlY2ltYWwsIHNob3J0RXRofSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9IZWxwZXJcIjtcclxuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9TdWJzY3JpcHRpb25cIjtcclxuaW1wb3J0IHtUcmFkZVR5cGV9IGZyb20gJy4uLy4uLy4uL2VudW1zL1RyYWRlVHlwZSc7XHJcbmltcG9ydCBUcmFkZVBhbmVsSW5wdXQgZnJvbSBcIi4vVHJhZGVQYW5lbElucHV0XCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b25IdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b24uaHRtbCc7XHJcbmltcG9ydCBQcm92aWRlckluZm8gZnJvbSBcIi4uLy4uLy4uL3dhbGxldC9Qcm92aWRlckluZm9cIjtcclxuaW1wb3J0IFRyYWRlRXhlY3V0ZWRIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9UcmFkZUV4ZWN1dGVkLmh0bWwnXHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vLi4vbW9kYWxzL01vZGFsXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBCbG9ja2NoYWluRXJyb3IgZnJvbSBcIi4uLy4uLy4uL2Vycm9ycy9CbG9ja2NoYWluRXJyb3JcIjtcclxuaW1wb3J0IE5hdGl2ZVRva2VuTmVlZGVkIGZyb20gXCIuLi8uLi9tb2RhbHMvTmF0aXZlVG9rZW5OZWVkZWRcIjtcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XHJcbmltcG9ydCBLeWNTdGF0dXNIYW5kbGVyIGZyb20gXCIuLi8uLi9tb2RhbHMvS1lDL0t5Y1N0YXR1c0hhbmRsZXJcIjtcclxuaW1wb3J0IEt5Y0FwcHJvdmVkSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL21vZGFsL0t5Yy9LeWNBcHByb3ZlZC5odG1sJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGVjdXRlVHJhZGVCdXR0b24ge1xyXG4gICAgbW9yYWxpczogdHlwZW9mIE1vcmFsaXM7XHJcbiAgICBhdXRoZW50aWNhdGVTZXJ2aWNlOiBBdXRoZW50aWNhdGVTZXJ2aWNlO1xyXG4gICAgc2VsbFRyYWRlSW5wdXQ6IFRyYWRlUGFuZWxJbnB1dDtcclxuICAgIGJ1eVRyYWRlSW5wdXQ6IFRyYWRlUGFuZWxJbnB1dDtcclxuICAgIHRlbXBsYXRlOiBhbnk7XHJcbiAgICBidXR0b246IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgc3RhdGljIEluc3RhbmNlOiBFeGVjdXRlVHJhZGVCdXR0b247XHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzOiB0eXBlb2YgTW9yYWxpcywgc2VsbFRyYWRlSW5wdXQ6IFRyYWRlUGFuZWxJbnB1dCwgYnV5VHJhZGVJbnB1dDogVHJhZGVQYW5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLnNlbGxUcmFkZUlucHV0ID0gc2VsbFRyYWRlSW5wdXQ7XHJcbiAgICAgICAgdGhpcy5idXlUcmFkZUlucHV0ID0gYnV5VHJhZGVJbnB1dDtcclxuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZVNlcnZpY2UgPSBuZXcgQXV0aGVudGljYXRlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoRXhlY3V0ZVRyYWRlQnV0dG9uSHRtbCk7XHJcbiAgICAgICAgbGV0IGh0bWxCdXR0b24gPSB0aGlzLnRlbXBsYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X2V4ZWN1dGVfdHJhZGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIC8vdGhpcy5idXR0b24ub3V0ZXJIVE1MID0gaHRtbEJ1dHRvbjtcclxuXHJcbiAgICAgICAgRXhlY3V0ZVRyYWRlQnV0dG9uLkluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyQnV0dG9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9leGVjdXRlX3RyYWRlJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uKHRoaXMuYnV0dG9uKTtcclxuXHJcbiAgICAgICAgLy93YWxsZXQgY29ubmVjdGVkXHJcbiAgICAgICAgaWYgKCF0aGlzLndhbGxldElzQ29ubmVjdGVkKHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdXNlciBsb2dnZWQgaW5cclxuICAgICAgICBpZiAoIXRoaXMudXNlcklzTG9nZ2VkSW4odGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jaGFpbiBpZCBjb3JyZWN0XHJcbiAgICAgICAgaWYgKCF0aGlzLmNoYWluSWRJc0NvcnJlY3QodGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9uYXRpdmUgdG9rZW4gaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKCFhd2FpdCB0aGlzLnVzZXJIYXNOYXRpdmVUb2tlbih0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2t5YyBpcyBkb25lXHJcbiAgICAgICAgaWYgKCFhd2FpdCB0aGlzLmt5Y0lzRG9uZSh0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2F1c2QgaXMgc2V0dXBcclxuICAgICAgICBpZiAoIWF3YWl0IHRoaXMudXNlckhhc0FVU0QodGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYXVzZCA+IGJ1eSBhbW91bnRcclxuICAgICAgICBpZiAoIWF3YWl0IHRoaXMudXNlckhhc0Vub3VnaFF0eSh0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1F1YW50aXR5QW5kU3ltYm9sKHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWF3YWl0IHRoaXMuaXNNYXJrZXRPcGVuKHRoaXMuYnV0dG9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVuYWJsZUV4ZWN1dGVUcmFkZSh0aGlzLmJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbmFibGVFeGVjdXRlVHJhZGUoYnV0dG9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIC8vaWYgKHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkuZXEoMCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9leGVjdXRlIHRyYWRlIGNhbiBiZSBkb25lXHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdFeGVjdXRlIHRyYWRlJztcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoJ2Rpc2FibGVkJywgJ2VuYWJsZWQnKTtcclxuICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIGxldCBwcm92aWRlckluZm8gPSBQcm92aWRlckluZm8uSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnQ29uZmlybSB0cmFuc2FjdGlvbiBpbiB5b3VyICcgKyBwcm92aWRlckluZm8uV2FsbGV0TmFtZSArICcgd2FsbGV0JztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGxUcmFkZUlucHV0LnN5bWJvbCA9PSAnYVVTRCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN5bWJvbEFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3ModGhpcy5idXlUcmFkZUlucHV0LnN5bWJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbEFkZHJlc3MgPT09IEFkZHJlc3NaZXJvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmNyZWF0ZVRva2VuKHRoaXMuYnV5VHJhZGVJbnB1dC5zeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDcmVhdGluZyB0b2tlbi4gR2l2ZSBpdCBmZXcgc2Vjb25kcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdFeGVjdXRlIHRyYWRlJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgQmxvY2tjaGFpbkVycm9yKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sQWRkcmVzcyA9IHJlc3VsdCBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5leGVjdXRlVHJhbnNmZXIoc3ltYm9sQWRkcmVzcywgYnV0dG9uKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN5bWJvbEFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3ModGhpcy5zZWxsVHJhZGVJbnB1dC5zeW1ib2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWN1cml0eVRva2VuU2VydmljZSA9IG5ldyBTZWN1cml0eVRva2VuU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlUb2tlblNlcnZpY2UudHJhbnNmZXIoc3ltYm9sQWRkcmVzcywgdGhpcy5zZWxsVHJhZGVJbnB1dC5xdWFudGl0eSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NBVENIIC0gc2VjdXJpdHlUb2tlblNlcnZpY2UudHJhbnNmZXInLCByZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odHJhbnNhY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVEhFTiAtIHNlY3VyaXR5VG9rZW5TZXJ2aWNlLnRyYW5zZmVyJywgdHJhbnNhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zYWN0aW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbml0b3JFeGVjdXRlVHJhZGUodHJhbnNhY3Rpb24gYXMgTW9yYWxpcy5FeGVjdXRlRnVuY3Rpb25SZXN1bHQsIFRyYWRlVHlwZS5TZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ0V4ZWN1dGUgdHJhZGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVUcmFuc2ZlcihzeW1ib2xBZGRyZXNzOiBzdHJpbmcsIGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgYVVzZFNlcnZpY2UgPSBuZXcgQVVTRFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCBhVXNkU2VydmljZS50cmFuc2ZlcihzeW1ib2xBZGRyZXNzLCB0aGlzLnNlbGxUcmFkZUlucHV0LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDQVRDSCAtIGFVc2RTZXJ2aWNlLnRyYW5zZmVyJywgcmVhc29uKTtcclxuICAgICAgICAgICAgfSkudGhlbih0cmFuc2FjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zYWN0aW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb25pdG9yRXhlY3V0ZVRyYWRlKHRyYW5zYWN0aW9uIGFzIE1vcmFsaXMuRXhlY3V0ZUZ1bmN0aW9uUmVzdWx0LCBUcmFkZVR5cGUuQnV5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3NUZXh0KCdTZW5kaW5nIHRvIGJsb2NrY2hhaW4nLCB0cmFuc2FjdGlvbi5oYXNoKVxyXG5cclxuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ0V4ZWN1dGUgdHJhZGUnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnV5aW5nU2hhcmVzT2JqKG9iamVjdDogYW55KTogYW55IHtcclxuICAgICAgICBsZXQgZXRoQWRkcmVzcyA9IG9iamVjdC51c2VyQWRkcmVzcztcclxuICAgICAgICBsZXQgdG9rZW5BZGRyZXNzID0gb2JqZWN0LnRva2VuQWRkcmVzcztcclxuICAgICAgICBsZXQgYnV5aW5nUXVhbnRpdHkgPSBvYmplY3QuZmlsbGVkX3F0eTtcclxuICAgICAgICBsZXQgc2VsbGluZ0Ftb3VudCA9ICckJyArIG5ldyBCaWdOdW1iZXIob2JqZWN0LmFtb3VudCkuZGl2KDEwICoqIDE4KS50b0ZpeGVkKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNlbGxpbmdMb2dvOiAnL2ltZy9sb2dvcy9hVVNELnBuZycsXHJcbiAgICAgICAgICAgIHNlbGxpbmdTeW1ib2w6ICdhVVNEJyxcclxuICAgICAgICAgICAgc2VsbGluZ0Ftb3VudDogc2VsbGluZ0Ftb3VudCxcclxuICAgICAgICAgICAgYnV5aW5nTG9nbzogJy9pbWcvbG9nb3MvJyArIG9iamVjdC5zeW1ib2wgKyAnLnBuZycsXHJcbiAgICAgICAgICAgIGJ1eWluZ1N5bWJvbDogb2JqZWN0LnN5bWJvbCxcclxuICAgICAgICAgICAgYnV5aW5nUXVhbnRpdHk6IGJ1eWluZ1F1YW50aXR5LFxyXG4gICAgICAgICAgICBidXlpbmdSb3VuZFF1YW50aXR5OiByb3VuZE51bWJlckRlY2ltYWwoYnV5aW5nUXVhbnRpdHksIDYpICsgJyBzaGFyZXMnLFxyXG4gICAgICAgICAgICBzaG9ydEV0aEFkZHJlc3M6IHNob3J0RXRoKGV0aEFkZHJlc3MpLFxyXG4gICAgICAgICAgICB0b2tlbkFkZHJlc3M6IHRva2VuQWRkcmVzc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VsbFNoYXJlc09iaihvYmplY3Q6IGFueSk6IGFueSB7XHJcbiAgICAgICAgbGV0IGV0aEFkZHJlc3MgPSBvYmplY3Quc2VuZGVyO1xyXG4gICAgICAgIGxldCB0b2tlbkFkZHJlc3MgPSBvYmplY3QucmVjaXBpZW50O1xyXG4gICAgICAgIGxldCBidXlpbmdRdWFudGl0eSA9IG5ldyBCaWdOdW1iZXIob2JqZWN0LmZpbGxlZF9hdmdfcHJpY2UpLm11bHRpcGxpZWRCeShuZXcgQmlnTnVtYmVyKG9iamVjdC5maWxsZWRfcXR5KSlcclxuICAgICAgICBsZXQgc2VsbGluZ0Ftb3VudCA9IG9iamVjdC5maWxsZWRfcXR5O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZWxsaW5nTG9nbzogJy9pbWcvbG9nb3MvJyArIG9iamVjdC5zeW1ib2wgKyAnLnBuZycsXHJcbiAgICAgICAgICAgIHNlbGxpbmdTeW1ib2w6IG9iamVjdC5zeW1ib2wsXHJcbiAgICAgICAgICAgIHNlbGxpbmdBbW91bnQ6IHNlbGxpbmdBbW91bnQgKyAnIHNoYXJlcycsXHJcbiAgICAgICAgICAgIGJ1eWluZ0xvZ286ICcvaW1nL2xvZ29zL2FVU0QucG5nJyxcclxuICAgICAgICAgICAgYnV5aW5nU3ltYm9sOiAnYVVTRCcsXHJcbiAgICAgICAgICAgIGJ1eWluZ1F1YW50aXR5OiBidXlpbmdRdWFudGl0eS50b0ZpeGVkKCksXHJcbiAgICAgICAgICAgIGJ1eWluZ1JvdW5kUXVhbnRpdHk6ICckJyArIHJvdW5kQmlnTnVtYmVyRGVjaW1hbChidXlpbmdRdWFudGl0eSwgNikudG9GaXhlZCgpLFxyXG4gICAgICAgICAgICBzaG9ydEV0aEFkZHJlc3M6IHNob3J0RXRoKGV0aEFkZHJlc3MpLFxyXG4gICAgICAgICAgICB0b2tlbkFkZHJlc3M6IHRva2VuQWRkcmVzc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd1RyYWRlRXhlY3V0ZWQob2JqZWN0OiBhbnkpIHtcclxuICAgICAgICBsZXQgcHJvdmlkZXJJbmZvID0gUHJvdmlkZXJJbmZvLkluc3RhbmNlO1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IGlzQnV5ID0gKG9iamVjdC5zaWRlID09ICdidXknKTtcclxuXHJcbiAgICAgICAgbGV0IG9iaiA9IChpc0J1eSkgPyB0aGlzLmdldEJ1eWluZ1NoYXJlc09iaihvYmplY3QpIDogdGhpcy5nZXRTZWxsU2hhcmVzT2JqKG9iamVjdCk7XHJcbiAgICAgICAgb2JqLndhbGxldE5hbWUgPSBwcm92aWRlckluZm8uV2FsbGV0TmFtZTtcclxuICAgICAgICBvYmouYmxvY2tFeHBsb3JlckxpbmsgPSBuZXR3b3JrSW5mby5CbG9ja0V4cGxvcmVyICsgJy90eC8nICsgb2JqZWN0LnRyYW5zYWN0aW9uX2hhc2g7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShUcmFkZUV4ZWN1dGVkSHRtbCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZShvYmopO1xyXG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgIG1vZGFsLnNob3dNb2RhbCgnVHJhZGUgZXhlY3V0ZWQnLCBjb250ZW50KTtcclxuXHJcbiAgICAgICAgbGV0IGFkZFRva2VuVG9XYWxsZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVG9rZW5Ub1dhbGxldCcpO1xyXG4gICAgICAgIGlmICghYWRkVG9rZW5Ub1dhbGxldCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBhZGRUb2tlblRvV2FsbGV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkZHJlc3MgPSAoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5hZGRyZXNzIGFzIHN0cmluZztcclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoYWRkcmVzcywgdGhpcy5idXlUcmFkZUlucHV0LnN5bWJvbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFkZFRva2VuVG9XYWxsZXRGYWlsZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVG9rZW5Ub1dhbGxldEZhaWxlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhZGRUb2tlblRvV2FsbGV0RmFpbGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgYWRkVG9rZW5Ub1dhbGxldEZhaWxlZC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBtb25pdG9yRXhlY3V0ZVRyYWRlKHRyYW5zYWN0aW9uOiBNb3JhbGlzLkV4ZWN1dGVGdW5jdGlvblJlc3VsdCwgdHJhZGVUeXBlOiBUcmFkZVR5cGUpIHtcclxuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0aGlzLm1vcmFsaXMpO1xyXG5cclxuICAgICAgICBhd2FpdCBzdWJzY3JpcHRpb24uc3Vic2NyaWJlVG9UYWJsZSh0cmFkZVR5cGUsIChvYmplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgIGlmICghdXNlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0LnVzZXJBZGRyZXNzICE9IHVzZXIuZ2V0KCdldGhBZGRyZXNzJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvYmoudXNlckFkZHJlc3M6JyArIG9iamVjdC51c2VyQWRkcmVzcyArICcgdXNlcjonICsgdXNlci5nZXQoJ2V0aEFkZHJlc3MnKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvYmplY3Quc3RhdHVzID09ICdvcmRlcl9maWxsZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUcmFkZUV4ZWN1dGVkKG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGV4ZWN1dGluZ1RyYWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGluZy10cmFkZS1wcm9ncmVzcycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFleGVjdXRpbmdUcmFkZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGV4ZWN1dGluZ1RyYWRlLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ29yZGVyX2ZhaWxlZCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdPcmRlciBmYWlsZWQnLCAnV2UgY291bGQgbm90IGZpbmlzaCB5b3VyIG9yZGVyLicpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW9iamVjdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3NUZXh0KCdSZWNlaXZlZCBvcmRlciBzZW5kaW5nIHRvIHN0b2NrIGV4Y2hhbmdlJywgb2JqZWN0LnRyYW5zYWN0aW9uX2hhc2gpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfcmVxdWVzdGVkJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzc1RleHQoJ1NlbnQgdG8gc3RvY2sgZXhjaGFuZ2UnLCBvYmplY3QudHJhbnNhY3Rpb25faGFzaClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgZXhlY3V0aW5nVHJhZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0aW5nLXRyYWRlLXByb2dyZXNzJyk7XHJcbiAgICAgICAgaWYgKCFleGVjdXRpbmdUcmFkZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBleGVjdXRpbmdUcmFkZS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRpbmdCdXR0b24oYnV0dG9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdG9wTG9hZGluZ0J1dHRvbihidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1idXN5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3YWxsZXRJc0Nvbm5lY3RlZChidXR0b246IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHdhbGxldENvbm5lY3RlZCA9IHRoaXMuYXV0aGVudGljYXRlU2VydmljZS5pc1dhbGxldENvbm5lY3RlZCgpO1xyXG4gICAgICAgIGlmICh3YWxsZXRDb25uZWN0ZWQpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xpY2tFdmVudChidXR0b24pO1xyXG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnQ29ubmVjdCB3YWxsZXQnO1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbm5lY3RXYWxsZXQgPSBuZXcgQ29ubmVjdFdhbGxldCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBjb25uZWN0V2FsbGV0LmNob29zZVdhbGxldFByb3ZpZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVzZXJJc0xvZ2dlZEluKGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgdXNlckxvZ2dlZEluID0gdGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmlzVXNlckxvZ2dlZEluKCk7XHJcbiAgICAgICAgaWYgKHVzZXJMb2dnZWRJbikgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnTG9naW4nO1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmF1dGhlbnRpY2F0ZVVzZXIoQ29ubmVjdFdhbGxldC5Qcm92aWRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoYWluSWRJc0NvcnJlY3QoYnV0dG9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGxldCBjaGFpbklkID0gdGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmdldENoYWluSWQoKTtcclxuICAgICAgICBsZXQgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mby5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmIChjaGFpbklkID09PSBuZXR3b3JrSW5mby5DaGFpbklkKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJzV2FsbGV0TmV0d29yayA9IE5ldHdvcmtJbmZvLmdldE5ldHdvcmtJbmZvQnlDaGFpbklkKGNoYWluSWQpO1xyXG4gICAgICAgIGlmICh1c2Vyc1dhbGxldE5ldHdvcmspIHtcclxuICAgICAgICAgICAgTmV0d29ya0luZm8uc2V0TmV0d29ya0J5Q2hhaW5JZChjaGFpbklkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1N3aXRjaCBOZXR3b3JrJztcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IG5ldHdvcmtJbmZvLmFkZE5ldHdvcmtUb1dhbGxldCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyB1c2VySGFzTmF0aXZlVG9rZW4oYnV0dG9uOiBIVE1MRWxlbWVudCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IGhhc0Vub3VnaE5hdGl2ZVRva2VucyA9IGF3YWl0IG5ldHdvcmtJbmZvLmhhc0Vub3VnaE5hdGl2ZVRva2Vucyh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGlmIChoYXNFbm91Z2hOYXRpdmVUb2tlbnMpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoJ2VuYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdZb3UgbmVlZCAnICsgbmV0d29ya0luZm8uTmF0aXZlQ3VycmVuY3lOYW1lICsgJyB0b2tlbnMuIENsaWNrIG1lIGZvciBzb21lIHRva2Vucyc7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbmF0aXZlVG9rZW5OZWVkZWRNb2RhbCA9IG5ldyBOYXRpdmVUb2tlbk5lZWRlZCh0aGlzLm1vcmFsaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuYXRpdmVUb2tlbk5lZWRlZE1vZGFsLnNob3coKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBreWNJZERvbmVUaW1lb3V0OiBhbnk7XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBreWNJc0RvbmUoYnV0dG9uOiBIVE1MRWxlbWVudCwgaW50ZXJ2YWxDaGVjayA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGt5Y1NlcnZpY2UgPSBuZXcgS1lDU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCBldGhBZGRyZXNzID0gdGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmdldEV0aEFkZHJlc3MoKTtcclxuICAgICAgICBpZiAoZXRoQWRkcmVzcyA9PT0gJycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIEVUSCBhZGRyZXNzLCBreWMgY2hlY2sgZmFpbGVkJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGt5Y1Jlc3BvbnNlID0gYXdhaXQga3ljU2VydmljZS5oYXNWYWxpZEtZQygpO1xyXG4gICAgICAgIGlmIChreWNSZXNwb25zZS5pc1ZhbGlkS3ljKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxDaGVjaykge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmt5Y0lkRG9uZVRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShLeWNBcHByb3ZlZEh0bWwpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ0FjY291bnQgYXBwcm92ZWQnLCB0ZW1wbGF0ZSh7fSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmdW5kQWNjb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdreWNBcHByb3ZlZEZ1bmQnKTtcclxuICAgICAgICAgICAgICAgIGZ1bmRBY2NvdW50Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5oaWRlTW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1c2RGdW5kID0gbmV3IEFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVzZEZ1bmQuc2hvd0FVU0RGYWtlRnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQga3ljU3RhdHVzSGFuZGxlciA9IG5ldyBLeWNTdGF0dXNIYW5kbGVyKGt5Y1Jlc3BvbnNlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGt5Y1N0YXR1c0hhbmRsZXIuZ2V0QnV0dG9uVGV4dCgpO1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGt5Y1N0YXR1c0hhbmRsZXIuZ2V0QnV0dG9uQ2xpY2tFdmVudCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoZWNrS3ljSXNEb25lKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmt5Y0lkRG9uZVRpbWVvdXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5reWNJZERvbmVUaW1lb3V0ID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmt5Y0lzRG9uZSh0aGlzLmJ1dHRvbiwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgMTAgKiAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHVzZXJIYXNBVVNEKGJ1dHRvbjogSFRNTEVsZW1lbnQpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBsZXQgYXVzZFNlcnZpY2UgPSBuZXcgQVVTRFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgYmFsYW5jZSA9IGF3YWl0IGF1c2RTZXJ2aWNlLmdldEFVU0RCYWxhbmNlT2YodGhpcy5hdXRoZW50aWNhdGVTZXJ2aWNlLmdldEV0aEFkZHJlc3MoKSk7XHJcbiAgICAgICAgaWYgKGJhbGFuY2UuaXNHcmVhdGVyVGhhbigwKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKG5ldHdvcmtJbmZvLlRlc3ROZXR3b3JrKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnWW91IG5lZWQgYVVTRC4gQ2xpY2sgaGVyZSB0byBnZXQgc29tZSc7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBhdXNkRnVuZCA9IG5ldyBBVVNERnVuZCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgYXVzZEZ1bmQuc2hvd0FVU0RGYWtlRnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnWW91IG5lZWQgYVVTRC4gQ2xpY2sgaGVyZSBmb3IgaW5zdHJ1Y3Rpb25zJztcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGF1c2RGdW5kID0gbmV3IEFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgICAgICBhdXNkRnVuZC5zaG93QVVTREZ1bmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcExvYWRpbmdCdXR0b24oYnV0dG9uKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgdXNlckhhc0Vub3VnaFF0eShidXR0b246IEhUTUxFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGxldCBhdXNkU2VydmljZSA9IG5ldyBBVVNEU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGxUcmFkZUlucHV0LnN5bWJvbCA9PSAnYVVTRCcpIHtcclxuICAgICAgICAgICAgbGV0IGJhbGFuY2UgPSBhd2FpdCBhdXNkU2VydmljZS5nZXRBVVNEQmFsYW5jZU9mKHRoaXMuYXV0aGVudGljYXRlU2VydmljZS5nZXRFdGhBZGRyZXNzKCkpO1xyXG4gICAgICAgICAgICBpZiAoYmFsYW5jZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvKHRoaXMuc2VsbFRyYWRlSW5wdXQucXVhbnRpdHkpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBcIllvdSBkb24ndCBoYXZlIGVub3VnaCBhVVNELiBDbGljayBmb3IgbW9yZSBmdW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXVzZEZ1bmQgPSBuZXcgQVVTREZ1bmQodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXR3b3JrSW5mby5UZXN0TmV0d29yaykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhdXNkRnVuZC5zaG93QVVTREZha2VGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVzZEZ1bmQuc2hvd0FVU0RGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBzZWN1cml0eVRva2VuU2VydmljZSA9IG5ldyBTZWN1cml0eVRva2VuU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgYXV0aGVudGljYXRlU2VydmljZSA9IG5ldyBBdXRoZW50aWNhdGVTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGxldCBldGhBZGRyZXNzID0gYXV0aGVudGljYXRlU2VydmljZS5nZXRFdGhBZGRyZXNzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdXNlclF1YW50aXR5ID0gYXdhaXQgc2VjdXJpdHlUb2tlblNlcnZpY2UuZ2V0UXVhbnRpdHlCeUFkZHJlc3ModGhpcy5zZWxsVHJhZGVJbnB1dC5zeW1ib2wsIGV0aEFkZHJlc3MpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxsVHJhZGVJbnB1dC5xdWFudGl0eSA8PSB1c2VyUXVhbnRpdHkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IFwiWW91IGRvbid0IGhhdmUgZW5vdWdoIFwiICsgdGhpcy5zZWxsVHJhZGVJbnB1dC5zeW1ib2w7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZSgnZGlzYWJsZScsICdlbmFibGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGlzTWFya2V0T3BlbihidXR0b246IEhUTUxFbGVtZW50KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGlzTWFya2V0T3BlbiA9IGF3YWl0IHVzZXJTZXJ2aWNlLmlzTWFya2V0T3Blbk9yVXNlck9mZkhvdXJzKCk7XHJcbiAgICAgICAgaWYgKGlzTWFya2V0T3BlbikgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnTWFya2V0IGlzIGNsb3NlZCdcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoJ2VuYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wTG9hZGluZ0J1dHRvbihidXR0b24pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVDbGlja0V2ZW50KGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgZiA9IChldmVudDogYW55KSA9PiBidXR0b24ub25jbGljayA/IChldmVudCkgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGlmIChmKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhc1F1YW50aXR5QW5kU3ltYm9sKGJ1dHRvbjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxsVHJhZGVJbnB1dC5xdWFudGl0eS5lcSgwKSkge1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1R5cGUgaW4gcXVhbnRpdHknO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJ1eVRyYWRlSW5wdXQubmFtZSA9PSAnJykge1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJ1NlbGVjdCBzdG9jayB0byBidXknO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BMb2FkaW5nQnV0dG9uKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRQcm9ncmVzc1RleHQodGV4dDogc3RyaW5nLCBoYXNoOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgcHJvZ3Jlc3NUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLXRleHQnKTtcclxuICAgICAgICBpZiAocHJvZ3Jlc3NUZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgIHByb2dyZXNzVGV4dC5pbm5lckhUTUwgPSB0ZXh0ICsgJzxiciAvPjxhIGhyZWY9XCInICsgbmV0d29ya0luZm8uQmxvY2tFeHBsb3JlciArICcvdHgvJyArIGhhc2ggKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCIgc3R5bGU9XCJmb250LXNpemU6MTBweFwiPlZpZXc8L2E+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVJbmZvIHtcclxuICAgIHByaWNlIDogbnVtYmVyO1xyXG4gICAgbGFzdFRyYWRlIDogRGF0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwcmljZSA6IG51bWJlciwgbGFzdFRyYWRlIDogRGF0ZSkge1xyXG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcclxuICAgICAgICB0aGlzLmxhc3RUcmFkZSA9IGxhc3RUcmFkZTtcclxuICAgIH1cclxufSIsImltcG9ydCBJQ2xvdWRFcnJvciBmcm9tIFwiLi9JQ2xvdWRFcnJvclwiO1xyXG5pbXBvcnQgRXJyb3JJbmZvIGZyb20gXCIuLi9FcnJvckluZm9cIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi4vR2VuZXJhbEVycm9yXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwRXJyb3IgaW1wbGVtZW50cyBJQ2xvdWRFcnJvciB7XHJcbiAgICBtZXRob2QgOiBzdHJpbmc7XHJcbiAgICB1cmwgOiBzdHJpbmc7XHJcbiAgICBib2R5IDogc3RyaW5nO1xyXG4gICAgc2VydmVyRXJyb3IgOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob2JqIDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5tZXRob2QgPSBvYmoubWV0aG9kO1xyXG4gICAgICAgIHRoaXMudXJsID0gb2JqLnVybDtcclxuICAgICAgICB0aGlzLmJvZHkgPSBvYmouYm9keTtcclxuICAgICAgICB0aGlzLnNlcnZlckVycm9yID0gb2JqLnNlcnZlckVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgICAgICBFcnJvckluZm8ucmVwb3J0KG5ldyBHZW5lcmFsRXJyb3IoJ0Vycm9yIGRvaW5nIHJlcXVlc3QuIFNlcnZlciByZXNwb25zZSB3YXM6JyArIHRoaXMuc2VydmVyRXJyb3IuZGF0YS5tZXNzYWdlKSlcclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9HZW5lcmFsRXJyb3JcIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi9FcnJvckluZm9cIjtcclxuaW1wb3J0IEt5Y1ZhbGlkYXRvckVycm9yIGZyb20gXCIuL2Nsb3VkL0t5Y1ZhbGlkYXRvckVycm9yXCI7XHJcbmltcG9ydCBJQ2xvdWRFcnJvciBmcm9tIFwiLi9jbG91ZC9JQ2xvdWRFcnJvclwiO1xyXG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCIuL2Nsb3VkL0h0dHBFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xvdWRFcnJvciBleHRlbmRzIEdlbmVyYWxFcnJvciB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGUpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGlmIChvYmoubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9ySGFuZGxlciA9IENsb3VkRXJyb3IuZ2V0QWN0aW9uSW5zdGFuY2Uob2JqLm5hbWUsIG9iaik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyLmhhbmRsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgRXJyb3JJbmZvLmVycm9yKG9iaik7XHJcbiAgICAgICAgfSBjYXRjaCAoanNvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIEVycm9ySW5mby5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRBY3Rpb25JbnN0YW5jZShhY3Rpb246IHN0cmluZywgb2JqOiBhbnkpOiBJQ2xvdWRFcnJvciB7XHJcbiAgICAgICAgbGV0IHRtcDogYW55ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPENsb3VkRXJyb3IuRXJyb3JzLmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgaWYgKENsb3VkRXJyb3IuRXJyb3JzW2ldLm5hbWUgPT09IGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9ySGFuZGxlciA9IENsb3VkRXJyb3IuRXJyb3JzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBlcnJvckhhbmRsZXIob2JqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRXJyb3JzID0gW1xyXG4gICAgICAgIEh0dHBFcnJvclxyXG4gICAgXVxyXG59IiwiXHJcbmltcG9ydCBUcmFkZUluZm8gZnJvbSBcIi4vVHJhZGVJbmZvXCI7XHJcbmltcG9ydCBDbG91ZEVycm9yIGZyb20gXCIuLi8uLi9lcnJvcnMvQ2xvdWRFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvY2tQcmljZVNlcnZpY2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFN5bWJvbFByaWNlKHN5bWJvbCA6IHN0cmluZykgOiBQcm9taXNlPFRyYWRlSW5mbz4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgc3ltYm9sOiBzeW1ib2xcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKFwiZ2V0U3ltYm9sUHJpY2VcIiwgcGFyYW1zKVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRFcnJvcihlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgO1xyXG4gICAgICAgIGxldCB0cmFkZUluZm8gPSBuZXcgVHJhZGVJbmZvKHJlc3VsdC50cmFkZS5wLCByZXN1bHQudHJhZGUudCk7XHJcbiAgICAgICAgcmV0dXJuIHRyYWRlSW5mbztcclxuXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YXJ0aWNsZSBjbGFzcz1cXFwie3t0cmFkZVR5cGV9fUlucHV0cyB0cmFkZUlucHV0QXJ0aWNsZVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdyaWQgdHJhZGVJbnB1dFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RfdG9rZW5cXFwiPlxcclxcbiAgICAgICAgICAgIDxhIGlkPVxcXCJ7e3RyYWRlVHlwZX19U2VsZWN0U3RvY2tcXFwiIGhyZWY9XFxcIiNcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJ7e2xvZ299fVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICB7e3N5bWJvbH19XFxyXFxuICAgICAgICAgICAgPC9hPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0cmFkZV9pbnB1dFxcXCI+PGlucHV0IGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiBhdXRvY29ycmVjdD1cXFwib2ZmXFxcIiB0eXBlPVxcXCJ0ZWxcXFwiIHNwZWxsY2hlY2s9XFxcImZhbHNlXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwie3tzdHJRdWFudGl0eX19XFxcIiBwbGFjZWhvbGRlcj1cXFwiMC4wXFxcIi8+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJiYWxhbmNlXFxcIj5CYWxhbmNlIDogPGFiYnIgdGl0bGU9XFxcInt7YmFsYW5jZX19XFxcIiBkYXRhLXRvb2x0aXA9XFxcInt7YmFsYW5jZX19XFxcIiBjbGFzcz1cXFwiYmFsYW5jZV92YWx1ZVxcXCI+e3thYmJyQmFsYW5jZX19PC9hYmJyPlxcclxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJhbGFuY2VfbWF4XFxcIj5NYXg8L2E+PC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwcmljZV9wZXJfc2hhcmVcXFwiPjwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPHByb2dyZXNzIGNsYXNzPVxcXCJwcm9ncmVzcyBkLW5vbmVcXFwiIHZhbHVlPVxcXCIwXFxcIiBtYXg9XFxcIjFcXFwiPjwvcHJvZ3Jlc3M+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImV4Y2VlZHNfd2FsbGV0X2JhbGFuY2UgZC1ub25lXFxcIj5FeGNlZWRzIHdhbGxldCBiYWxhbmNlPC9kaXY+XFxyXFxuPC9hcnRpY2xlPlxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0IGZyb20gXCIuLi9lbGVtZW50cy9TZWN1cml0aWVzTGlzdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdXJpdGllc0xpc3RNb2RhbCB7XHJcbiAgICBwYWdlOiBudW1iZXI7XHJcbiAgICB0Ym9keUlkID0gJ2xpbWluYWxfbWFya2V0X3NlY3VyaXRpZXNfbGlzdCc7XHJcbiAgICBsb2FkbW9yZTogYm9vbGVhbjtcclxuICAgIG1vZGFsOiBNb2RhbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBhZ2UgPSAwO1xyXG4gICAgICAgIHRoaXMubG9hZG1vcmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd01vZGFsKG9uU2VsZWN0U3ltYm9sOiAoc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbG9nbzogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IHNlY3VyaXRpZXNMaXN0ID0gbmV3IFNlY3VyaXRpZXNMaXN0KCk7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBhd2FpdCBzZWN1cml0aWVzTGlzdC5yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IG5ld0luc3RhbmNlID0gdGhpcy5tb2RhbC5zaG93TW9kYWwoJ1NlbGVjdCBzdG9jayB0byBidXknLCBjb250ZW50LFxyXG4gICAgICAgICAgICB0cnVlKTtcclxuICAgICAgICAvL2lmIChuZXdJbnN0YW5jZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlY3VyaXRpZXNMaXN0LmJpbmRFdmVudHMob25TZWxlY3RTeW1ib2wpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgIH1cclxufSIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxhYmJyIHRpdGxlPVxcXCJMYXN0IHRyYWRlIHdhcyB7e2xhc3RUcmFkZWR9fVxcXCIgZGF0YS10b29sdGlwPVxcXCJMYXN0IHRyYWRlIHdhcyB7e2xhc3RUcmFkZWR9fVxcXCI+e3t0ZXh0fX08L2FiYnI+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCBUcmFkZUlucHV0SHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVJbnB1dC5odG1sJztcclxuaW1wb3J0IHtUcmFkZVR5cGV9IGZyb20gXCIuLi8uLi8uLi9lbnVtcy9UcmFkZVR5cGVcIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0TW9kYWwgZnJvbSBcIi4uLy4uL21vZGFscy9TZWN1cml0aWVzTGlzdE1vZGFsXCI7XHJcbmltcG9ydCBMaW1pbmFsTWFya2V0U2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9MaW1pbmFsTWFya2V0U2VydmljZVwiO1xyXG5pbXBvcnQgU2VjdXJpdHlUb2tlblNlcnZpY2UgZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vU2VjdXJpdHlUb2tlblNlcnZpY2VcIjtcclxuaW1wb3J0IEFVU0RTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0FVU0RTZXJ2aWNlXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQge3JvdW5kQmlnTnVtYmVyLCByb3VuZEJpZ051bWJlckRlY2ltYWwsIHJvdW5kTnVtYmVyRGVjaW1hbH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBTdG9ja1ByaWNlU2VydmljZSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvYmFja2VuZC9TdG9ja1ByaWNlU2VydmljZVwiO1xyXG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcclxuaW1wb3J0IFByaWNlUGVyU2hhcmVIdG1sIGZyb20gJy4uLy4uLy4uL2h0bWwvZWxlbWVudHMvdHJhZGVwYW5lbC9QcmljZVBlclNoYXJlLmh0bWwnXHJcbmltcG9ydCBNb3JhbGlzIGZyb20gXCJtb3JhbGlzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhZGVQYW5lbElucHV0IHtcclxuICAgIG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgc3ltYm9sOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBsb2dvOiBzdHJpbmc7XHJcbiAgICBhZGRyZXNzOiBzdHJpbmc7XHJcbiAgICByZWFkb25seSB0cmFkZVR5cGU6IFRyYWRlVHlwZTtcclxuICAgIHF1YW50aXR5OiBCaWdOdW1iZXI7XHJcbiAgICBzdHJRdWFudGl0eSA6IHN0cmluZztcclxuICAgIGJhbGFuY2U6IEJpZ051bWJlcjtcclxuICAgIGxhc3RQcmljZTogbnVtYmVyO1xyXG4gICAgbGFzdFRyYWRlZDogc3RyaW5nO1xyXG4gICAgcXR5UGVyRG9sbGFyOiBudW1iZXI7XHJcbiAgICB0ZW1wbGF0ZTogYW55O1xyXG4gICAgcHJpY2VQZXJTaGFyZVRlbXBsYXRlOiBhbnk7XHJcbiAgICBvdGhlclRyYWRlUGFuZWxJbnB1dDogVHJhZGVQYW5lbElucHV0IHwgdW5kZWZpbmVkO1xyXG4gICAgb25VcGRhdGUgOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XHJcbiAgICBpc0RpcnR5IDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzLCBzeW1ib2w6IHN0cmluZywgbmFtZTogc3RyaW5nLCBsb2dvOiBzdHJpbmcsIGFkZHJlc3M6IHN0cmluZywgdHJhZGVUeXBlOiBUcmFkZVR5cGUpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5sb2dvID0gbG9nbztcclxuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xyXG4gICAgICAgIHRoaXMudHJhZGVUeXBlID0gdHJhZGVUeXBlO1xyXG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgIHRoaXMuc3RyUXVhbnRpdHkgPSAnJztcclxuICAgICAgICB0aGlzLmJhbGFuY2UgPSBuZXcgQmlnTnVtYmVyKDApO1xyXG4gICAgICAgIHRoaXMubGFzdFByaWNlID0gMDtcclxuICAgICAgICB0aGlzLnF0eVBlckRvbGxhciA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0VHJhZGVkID0gJyc7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShUcmFkZUlucHV0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5wcmljZVBlclNoYXJlVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoUHJpY2VQZXJTaGFyZUh0bWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0T3RoZXJUcmFkZVBhbmVsSW5wdXQodHJhZGVQYW5lbElucHV0OiBUcmFkZVBhbmVsSW5wdXQpIHtcclxuICAgICAgICB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0ID0gdHJhZGVQYW5lbElucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXJUb1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoYmluZEV2ZW50cyA6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cycpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGVsZW1lbnQub3V0ZXJIVE1MID0gdGhpcy5yZW5kZXJUb1N0cmluZygpO1xyXG4gICAgICAgIGlmIChiaW5kRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmJpbmRRdWFudGl0eUxpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5iaW5kU2VsZWN0U3RvY2tCdXR0b24oKTtcclxuICAgICAgICB0aGlzLmJpbmRNYXhMaW5rKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFN5bWJvbChzeW1ib2w6IHN0cmluZywgbmFtZTogc3RyaW5nLCBsb2dvOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMubG9nbyA9IGxvZ287XHJcblxyXG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kU2VsZWN0U3RvY2tCdXR0b24oKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdFN0b2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGlzLnRyYWRlVHlwZSArICdTZWxlY3RTdG9jaycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RTdG9jaykgcmV0dXJuO1xyXG5cclxuICAgICAgICBzZWxlY3RTdG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VjdXJpdHlMaXN0ID0gbmV3IFNlY3VyaXRpZXNMaXN0TW9kYWwoKTtcclxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlMaXN0LnNob3dNb2RhbChhc3luYyAoc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbG9nbzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWN1cml0eUxpc3QuaGlkZU1vZGFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQgJiYgdGhpcy5zeW1ib2wgPT0gJ2FVU0QnICYmIHN5bWJvbCAhPSB0aGlzLnN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQuc2V0U3ltYm9sKHRoaXMuc3ltYm9sLCB0aGlzLm5hbWUsIHRoaXMubG9nbylcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ28gPSBsb2dvO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0gYXdhaXQgbGltaW5hbE1hcmtldFNlcnZpY2UuZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzKHN5bWJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEJhbGFuY2UoKS50aGVuKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRMYXN0VHJhZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkgdGhpcy5vblVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBiaW5kUXVhbnRpdHlMaXN0ZW5lcigpIHtcclxuICAgICAgICBsZXQgcXR5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAudHJhZGVfaW5wdXQgaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghcXR5SW5wdXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0VGltZXIgOiBhbnk7XHJcbiAgICAgICAgcXR5SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dFRpbWVyKSBjbGVhclRpbWVvdXQoaW5wdXRUaW1lcik7XHJcblxyXG4gICAgICAgICAgICBpbnB1dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRRdWFudGl0eShpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFByb2dyZXNzYmFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQpIHRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQudXBkYXRlUXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB0aGlzLm9uVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRNYXhMaW5rKCkge1xyXG4gICAgICAgIGxldCBtYXhCYWxhbmNlRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLmJhbGFuY2VfbWF4JykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFtYXhCYWxhbmNlRG9tKSByZXR1cm47XHJcblxyXG4gICAgICAgIG1heEJhbGFuY2VEb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHF0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLnRyYWRlX2lucHV0IGlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKCFxdHlJbnB1dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgcXR5SW5wdXQudmFsdWUgPSB0aGlzLmJhbGFuY2UudG9GaXhlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFF1YW50aXR5KHF0eUlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkUHJvZ3Jlc3NiYXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0KSB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0LnVwZGF0ZVF1YW50aXR5KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB0aGlzLm9uVXBkYXRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZEJhbGFuY2UoKSB7XHJcbiAgICAgICAgbGV0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IGV0aEFkZHJlc3MgPSB1c2VyU2VydmljZS5nZXRFdGhBZGRyZXNzKCk7XHJcblxyXG4gICAgICAgIGxldCBiYWxhbmNlRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLmJhbGFuY2VfdmFsdWUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWJhbGFuY2VEb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3ltYm9sID09PSAnYVVTRCcpIHtcclxuICAgICAgICAgICAgbGV0IGFVc2RTZXJ2aWNlID0gbmV3IEFVU0RTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IGF3YWl0IGFVc2RTZXJ2aWNlLmdldEFVU0RCYWxhbmNlT2YoZXRoQWRkcmVzcyk7XHJcbiAgICAgICAgICAgIGJhbGFuY2VEb20uaW5uZXJIVE1MID0gJyQnICsgcm91bmRCaWdOdW1iZXIodGhpcy5iYWxhbmNlKS50b1N0cmluZygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICBsZXQgc2VjdXJpdHlUb2tlblNlcnZpY2UgPSBuZXcgU2VjdXJpdHlUb2tlblNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgdGhpcy5iYWxhbmNlID0gYXdhaXQgc2VjdXJpdHlUb2tlblNlcnZpY2UuZ2V0UXVhbnRpdHlCeUFkZHJlc3ModGhpcy5zeW1ib2wsIGV0aEFkZHJlc3MpO1xyXG4gICAgICAgICAgICBiYWxhbmNlRG9tLmlubmVySFRNTCA9IHJvdW5kQmlnTnVtYmVyRGVjaW1hbCh0aGlzLmJhbGFuY2UsIDYpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJhbGFuY2VEb20uZGF0YXNldC50b29sdGlwID0gdGhpcy5iYWxhbmNlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgYmFsYW5jZURvbS50aXRsZSA9IHRoaXMuYmFsYW5jZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRQcm9ncmVzc2JhcigpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlTWF4QmFsYW5jZUxpbmsoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZExhc3RUcmFkZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zeW1ib2wgPT09ICdhVVNEJykge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RQcmljZSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMucXR5UGVyRG9sbGFyID0gMTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMub3RoZXJUcmFkZVBhbmVsSW5wdXQgfHwgdGhpcy5uYW1lID09ICcnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBhVXNkUHJpY2VQZXJTaGFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC50cmFkZVR5cGUgKyAnSW5wdXRzIC5wcmljZV9wZXJfc2hhcmUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWFVc2RQcmljZVBlclNoYXJlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBwcmljZVBlclNoYXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnRyYWRlVHlwZSArICdJbnB1dHMgLnByaWNlX3Blcl9zaGFyZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghcHJpY2VQZXJTaGFyZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBhVXNkUHJpY2VQZXJTaGFyZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcbiAgICAgICAgcHJpY2VQZXJTaGFyZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7XHJcblxyXG4gICAgICAgIGxldCBzdG9ja1ByaWNlU2VydmljZSA9IG5ldyBTdG9ja1ByaWNlU2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGxldCB0cmFkZUluZm8gPSBhd2FpdCBzdG9ja1ByaWNlU2VydmljZS5nZXRTeW1ib2xQcmljZSh0aGlzLnN5bWJvbCk7XHJcbiAgICAgICAgdGhpcy5sYXN0UHJpY2UgPSB0cmFkZUluZm8ucHJpY2U7XHJcbiAgICAgICAgdGhpcy5sYXN0VHJhZGVkID0gdHJhZGVJbmZvLmxhc3RUcmFkZS50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMucXR5UGVyRG9sbGFyID0gMSAvIHRoaXMubGFzdFByaWNlO1xyXG5cclxuICAgICAgICBsZXQgcHJpY2VQZXJTaGFyZUh0bWw6IGFueSA9IHtcclxuICAgICAgICAgICAgbGFzdFRyYWRlZDogdGhpcy5sYXN0VHJhZGVkLFxyXG4gICAgICAgICAgICB0ZXh0OiAn4omIICQnICsgdGhpcy5sYXN0UHJpY2UgKyAnIHBlciBzaGFyZSdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHByaWNlUGVyU2hhcmUuaW5uZXJIVE1MID0gdGhpcy5wcmljZVBlclNoYXJlVGVtcGxhdGUocHJpY2VQZXJTaGFyZUh0bWwpO1xyXG5cclxuICAgICAgICBsZXQgcHJpY2VQZXJBVXNkSHRtbDogYW55ID0ge1xyXG4gICAgICAgICAgICBsYXN0VHJhZGVkOiB0aGlzLmxhc3RUcmFkZWQsXHJcbiAgICAgICAgICAgIHRleHQ6ICcxIGFVU0Qg4omIICcgKyByb3VuZE51bWJlckRlY2ltYWwodGhpcy5xdHlQZXJEb2xsYXIsIDYpICsgJyAnICsgdGhpcy5zeW1ib2xcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFVc2RQcmljZVBlclNoYXJlLmlubmVySFRNTCA9IHRoaXMucHJpY2VQZXJTaGFyZVRlbXBsYXRlKHByaWNlUGVyQVVzZEh0bWwpO1xyXG5cclxuICAgICAgICBhVXNkUHJpY2VQZXJTaGFyZS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtYnVzeScpO1xyXG4gICAgICAgIHByaWNlUGVyU2hhcmUucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWJ1c3knKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlUXVhbnRpdHkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBxdHlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy50cmFkZVR5cGUgKyAnSW5wdXRzIC50cmFkZV9pbnB1dCBpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFxdHlJbnB1dCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnN5bWJvbCA9PT0gJ2FVU0QnKSB7XHJcbiAgICAgICAgICAgIHF0eUlucHV0LnZhbHVlID0gdGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC5xdWFudGl0eS5kaXYodGhpcy5vdGhlclRyYWRlUGFuZWxJbnB1dC5xdHlQZXJEb2xsYXIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXR5SW5wdXQudmFsdWUgPSB0aGlzLm90aGVyVHJhZGVQYW5lbElucHV0LnF1YW50aXR5Lm11bHRpcGxpZWRCeSh0aGlzLnF0eVBlckRvbGxhcikudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRRdWFudGl0eShxdHlJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5sb2FkUHJvZ3Jlc3NiYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRQcm9ncmVzc2JhcigpIHtcclxuICAgICAgICBpZiAodGhpcy5xdWFudGl0eS5lcSgwKSB8fCB0aGlzLmJhbGFuY2UuZXEoMCkgfHwgdGhpcy50cmFkZVR5cGUgPT0gVHJhZGVUeXBlLkJ1eSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgcHJvZ3Jlc3NEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAucHJvZ3Jlc3MnKSBhcyBIVE1MUHJvZ3Jlc3NFbGVtZW50O1xyXG4gICAgICAgIGlmICghcHJvZ3Jlc3NEb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSB0aGlzLnF1YW50aXR5LmRpdih0aGlzLmJhbGFuY2UpLnRvTnVtYmVyKCk7XHJcbiAgICAgICAgcHJvZ3Jlc3NEb20udmFsdWUgPSBwZXJjZW50YWdlO1xyXG4gICAgICAgIHByb2dyZXNzRG9tLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG5cclxuICAgICAgICBsZXQgZXhjZWVkc0JhbGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAuZXhjZWVkc193YWxsZXRfYmFsYW5jZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChwZXJjZW50YWdlID4gMSkge1xyXG4gICAgICAgICAgICBleGNlZWRzQmFsYW5jZS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NEb20uc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4Y2VlZHNCYWxhbmNlLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN3aXRjaFBhbmVscyhzZWxsVHJhZGVQYW5lbElucHV0IDogVHJhZGVQYW5lbElucHV0LCBidXlUcmFkZVBhbmVsSW5wdXQgOiBUcmFkZVBhbmVsSW5wdXQpIDogW1RyYWRlUGFuZWxJbnB1dCwgVHJhZGVQYW5lbElucHV0XSB7XHJcbiAgICAgICAgbGV0IHNlbGxTeW1ib2wgPSBzZWxsVHJhZGVQYW5lbElucHV0LnN5bWJvbDtcclxuICAgICAgICBsZXQgc2VsbE5hbWUgPSBzZWxsVHJhZGVQYW5lbElucHV0Lm5hbWU7XHJcbiAgICAgICAgbGV0IHNlbGxMb2dvID0gc2VsbFRyYWRlUGFuZWxJbnB1dC5sb2dvO1xyXG4gICAgICAgIGxldCBzZWxsUXVhbnRpdHkgPSBzZWxsVHJhZGVQYW5lbElucHV0LnF1YW50aXR5O1xyXG4gICAgICAgIHNlbGxUcmFkZVBhbmVsSW5wdXQuc2V0U3ltYm9sKGJ1eVRyYWRlUGFuZWxJbnB1dC5zeW1ib2wsIGJ1eVRyYWRlUGFuZWxJbnB1dC5uYW1lLCBidXlUcmFkZVBhbmVsSW5wdXQubG9nbylcclxuICAgICAgICBzZWxsVHJhZGVQYW5lbElucHV0LnF1YW50aXR5ID0gYnV5VHJhZGVQYW5lbElucHV0LnF1YW50aXR5O1xyXG5cclxuICAgICAgICBidXlUcmFkZVBhbmVsSW5wdXQuc2V0U3ltYm9sKHNlbGxTeW1ib2wsIHNlbGxOYW1lLCBzZWxsTG9nbylcclxuICAgICAgICBidXlUcmFkZVBhbmVsSW5wdXQucXVhbnRpdHkgPSBzZWxsUXVhbnRpdHk7XHJcbiAgICAgICAgc2VsbFRyYWRlUGFuZWxJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG4gICAgICAgIGJ1eVRyYWRlUGFuZWxJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gW3NlbGxUcmFkZVBhbmVsSW5wdXQsIGJ1eVRyYWRlUGFuZWxJbnB1dF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFF1YW50aXR5KHZhbHVlIDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09ICcnIHx8IHZhbHVlID09ICcwJykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICB0aGlzLnN0clF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcXVhbnRpdHlGb3JtYXR0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN5bWJvbCA9PT0gJ2FVU0QnKSA/ICckJyArIHRoaXMucXVhbnRpdHkgOiB0aGlzLnF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVQYW5lbCgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVF1YW50aXR5KCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZEJhbGFuY2UoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRMYXN0VHJhZGUoKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG9nZ2xlTWF4QmFsYW5jZUxpbmsoKSB7XHJcbiAgICAgICAgbGV0IG1heEJhbGFuY2VEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudHJhZGVUeXBlICsgJ0lucHV0cyAuYmFsYW5jZV9tYXgnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIW1heEJhbGFuY2VEb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZS5lcSgwKSkge1xyXG4gICAgICAgICAgICBtYXhCYWxhbmNlRG9tLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEJhbGFuY2VEb20uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBjbGFzcz1cXFwiZ3JpZCB0cmFkZVN3aXRjaFxcXCI+XFxyXFxuICAgIDxhIHRpdGxlPVxcXCJTd2l0Y2ggdGhlIHRyYWRlXFxcIiBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJzd2l0aEJ0blxcXCIgY2xhc3M9XFxcIm91dGxpbmVcXFwiPjwvYT5cXHJcXG48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiaW1wb3J0IFRyYWRlU3dpdGNoSHRtbCBmcm9tICcuLi8uLi8uLi9odG1sL2VsZW1lbnRzL3RyYWRlcGFuZWwvVHJhZGVTd2l0Y2guaHRtbCc7XHJcbmltcG9ydCBUcmFkZVBhbmVsSW5wdXQgZnJvbSBcIi4vVHJhZGVQYW5lbElucHV0XCI7XHJcbmltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4vRXhlY3V0ZVRyYWRlQnV0dG9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkZVN3aXRjaCB7XHJcblxyXG4gICAgdGVtcGxhdGUgOiBhbnkgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShUcmFkZVN3aXRjaEh0bWwpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyVG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhZGVTd2l0Y2gnKTtcclxuICAgICAgICBpZiAoIWRvbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBkb20ub3V0ZXJIVE1MID0gdGhpcy5yZW5kZXJUb1N0cmluZygpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRFdmVudHMoc2VsbFRyYWRlUGFuZWxJbnB1dCA6IFRyYWRlUGFuZWxJbnB1dCwgYnV5VHJhZGVQYW5lbElucHV0IDogVHJhZGVQYW5lbElucHV0LCBleGVjdXRlVHJhZGVCdXR0b24gOiBFeGVjdXRlVHJhZGVCdXR0b24pIHtcclxuICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXRoQnRuJyk7XHJcbiAgICAgICAgaWYgKCFkb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIFtzZWxsVHJhZGVQYW5lbElucHV0LCBidXlUcmFkZVBhbmVsSW5wdXRdID0gVHJhZGVQYW5lbElucHV0LnN3aXRjaFBhbmVscyhzZWxsVHJhZGVQYW5lbElucHV0LCBidXlUcmFkZVBhbmVsSW5wdXQpO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgYXdhaXQgc2VsbFRyYWRlUGFuZWxJbnB1dC5sb2FkQmFsYW5jZSgpO1xyXG4gICAgICAgICAgICBhd2FpdCBidXlUcmFkZVBhbmVsSW5wdXQubG9hZEJhbGFuY2UoKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGxUcmFkZVBhbmVsSW5wdXQudXBkYXRlUXVhbnRpdHkoKTtcclxuICAgICAgICAgICAgYnV5VHJhZGVQYW5lbElucHV0LnVwZGF0ZVF1YW50aXR5KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsbFRyYWRlUGFuZWxJbnB1dC5zeW1ib2wgPT0gJ2FVU0QnKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBidXlUcmFkZVBhbmVsSW5wdXQubG9hZExhc3RUcmFkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2VsbFRyYWRlUGFuZWxJbnB1dC5sb2FkTGFzdFRyYWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuKi9cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBFeGVjdXRlVHJhZGVCdXR0b24gZnJvbSBcIi4vdHJhZGVwYW5lbC9FeGVjdXRlVHJhZGVCdXR0b25cIjtcclxuaW1wb3J0IFN0b2NrUHJpY2VTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL1N0b2NrUHJpY2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7VHJhZGVUeXBlfSBmcm9tIFwiLi4vLi4vZW51bXMvVHJhZGVUeXBlXCI7XHJcbmltcG9ydCBUcmFkZVBhbmVsSW5wdXQgZnJvbSBcIi4vdHJhZGVwYW5lbC9UcmFkZVBhbmVsSW5wdXRcIjtcclxuaW1wb3J0IENvbnRyYWN0SW5mbyBmcm9tIFwiLi4vLi4vY29udHJhY3RzL0NvbnRyYWN0SW5mb1wiO1xyXG5pbXBvcnQgVHJhZGVTd2l0Y2ggZnJvbSBcIi4vdHJhZGVwYW5lbC9UcmFkZVN3aXRjaFwiO1xyXG5pbXBvcnQgU2VjdXJpdGllc0xpc3RNb2RhbCBmcm9tIFwiLi4vbW9kYWxzL1NlY3VyaXRpZXNMaXN0TW9kYWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYWRlUGFuZWwge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgcXVhbnRpdHkgOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgICAgICB0aGlzLnF1YW50aXR5ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyKGVsZW1lbnRJZCA6IHN0cmluZywgc3ltYm9sPyA6IHN0cmluZywgbmFtZT8gOiBzdHJpbmcsIGxvZ28/IDogc3RyaW5nLCBhZGRyZXNzPyA6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGNvbnRyYWN0SW5mbyA9IENvbnRyYWN0SW5mby5nZXRDb250cmFjdEluZm8oKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGxUcmFkZUlucHV0ID0gbmV3IFRyYWRlUGFuZWxJbnB1dCh0aGlzLm1vcmFsaXMsIFwiYVVTRFwiLCBcImFVU0QgYXQgQnJva2VyXCIsIFwiL2ltZy9hdXNkLnBuZ1wiLCBjb250cmFjdEluZm8uQVVTRF9BRERSRVNTLCBUcmFkZVR5cGUuU2VsbCk7XHJcbiAgICAgICAgbGV0IGJ1eVRyYWRlSW5wdXQgOiBUcmFkZVBhbmVsSW5wdXQ7XHJcbiAgICAgICAgaWYgKCFzeW1ib2wpIHtcclxuICAgICAgICAgICAgYnV5VHJhZGVJbnB1dCA9IG5ldyBUcmFkZVBhbmVsSW5wdXQodGhpcy5tb3JhbGlzLCBcIlNlbGVjdCBzdG9ja1wiLCBcIlwiLCBcIlwiLCBcIlwiLCBUcmFkZVR5cGUuQnV5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidXlUcmFkZUlucHV0ID0gbmV3IFRyYWRlUGFuZWxJbnB1dCh0aGlzLm1vcmFsaXMsIHN5bWJvbCBhcyBzdHJpbmcsIG5hbWUgYXMgc3RyaW5nLGxvZ28gYXMgc3RyaW5nLGFkZHJlc3MgYXMgc3RyaW5nLCBUcmFkZVR5cGUuQnV5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGxUcmFkZUlucHV0LnNldE90aGVyVHJhZGVQYW5lbElucHV0KGJ1eVRyYWRlSW5wdXQpO1xyXG4gICAgICAgIGJ1eVRyYWRlSW5wdXQuc2V0T3RoZXJUcmFkZVBhbmVsSW5wdXQoc2VsbFRyYWRlSW5wdXQpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHRyYWRlU3dpdGNoID0gbmV3IFRyYWRlU3dpdGNoKCk7XHJcblxyXG4gICAgICAgIGxldCBzZWxsSW5wdXQgPSBzZWxsVHJhZGVJbnB1dC5yZW5kZXJUb1N0cmluZygpO1xyXG4gICAgICAgIGxldCBidXlJbnB1dCA9IGJ1eVRyYWRlSW5wdXQucmVuZGVyVG9TdHJpbmcoKTtcclxuICAgICAgICBsZXQgc3dpdGNoSHRtbCA9IHRyYWRlU3dpdGNoLnJlbmRlclRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc2VsbElucHV0ICsgc3dpdGNoSHRtbCArIGJ1eUlucHV0O1xyXG5cclxuICAgICAgICBhd2FpdCBzZWxsVHJhZGVJbnB1dC5sb2FkQmFsYW5jZSgpO1xyXG4gICAgICAgIGF3YWl0IGJ1eVRyYWRlSW5wdXQubG9hZEJhbGFuY2UoKTtcclxuICAgICAgICBpZiAoc3ltYm9sKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGJ1eVRyYWRlSW5wdXQubG9hZExhc3RUcmFkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxsVHJhZGVJbnB1dC5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgYnV5VHJhZGVJbnB1dC5iaW5kRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIGxldCBleGVjdXRlVHJhZGVCdXR0b24gPSBuZXcgRXhlY3V0ZVRyYWRlQnV0dG9uKHRoaXMubW9yYWxpcywgc2VsbFRyYWRlSW5wdXQsIGJ1eVRyYWRlSW5wdXQpO1xyXG4gICAgICAgIGF3YWl0IGV4ZWN1dGVUcmFkZUJ1dHRvbi5yZW5kZXJCdXR0b24oKTtcclxuXHJcbiAgICAgICAgdHJhZGVTd2l0Y2guYmluZEV2ZW50cyhzZWxsVHJhZGVJbnB1dCwgYnV5VHJhZGVJbnB1dCwgZXhlY3V0ZVRyYWRlQnV0dG9uKTtcclxuICAgICAgICBzZWxsVHJhZGVJbnB1dC5vblVwZGF0ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGJ1eVRyYWRlSW5wdXQuaXNEaXJ0eSkgYnV5VHJhZGVJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG4gICAgICAgICAgICBleGVjdXRlVHJhZGVCdXR0b24ucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1eVRyYWRlSW5wdXQub25VcGRhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzZWxsVHJhZGVJbnB1dC5pc0RpcnR5KSBzZWxsVHJhZGVJbnB1dC51cGRhdGVQYW5lbCgpO1xyXG4gICAgICAgICAgICBleGVjdXRlVHJhZGVCdXR0b24ucmVuZGVyQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZm9ybWF0QnV5UGFuZWwoc3ltYm9sIDogc3RyaW5nLCBuYW1lIDogc3RyaW5nLCBsb2dvIDogc3RyaW5nLCB0cmFkZVR5cGUgOiBUcmFkZVR5cGUsIGNvbnRyYWN0QWRkcmVzcyA6IHN0cmluZykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9zZWxlY3Rfc3ltYm9sJykhLmlubmVySFRNTCA9IHN5bWJvbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VsbEFtb3VudCgpIDogbnVtYmVyIHtcclxuICAgICAgICBsZXQgc2VsbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X3NlbGxfcXVhbnRpdHknKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghc2VsbElucHV0KSByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc2VsbElucHV0LnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlQnV5SW5mbyhTeW1ib2wgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgYnV5UXVhbnRpdHlJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pbmFsX21hcmtldF9idXlfcXVhbnRpdHknKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmICghYnV5UXVhbnRpdHlJbnB1dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgc3RvY2tQcmljZVNlcnZpY2UgPSBuZXcgU3RvY2tQcmljZVNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgdHJhZGVJbmZvID0gYXdhaXQgc3RvY2tQcmljZVNlcnZpY2UuZ2V0U3ltYm9sUHJpY2UoU3ltYm9sKTtcclxuICAgICAgICBsZXQgc2VsbEFtb3VudCA9IHRoaXMuZ2V0U2VsbEFtb3VudCgpO1xyXG5cclxuICAgICAgICBsZXQgYnV5UXVhbnRpdHkgPSBzZWxsQW1vdW50IC8gdHJhZGVJbmZvLnByaWNlO1xyXG5cclxuICAgICAgICBidXlRdWFudGl0eUlucHV0LnZhbHVlID0gYnV5UXVhbnRpdHkudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8ZGl2IGlkPVxcXCJ0cmFkaW5nUGFuZWxcXFwiPlxcclxcbiAgICA8YSBocmVmPVxcXCIjdXNlX3dhbGxldF9mb3Jfb3JkZXJzXFxcIiBpZD1cXFwidXNlX3dhbGxldF9mb3Jfb3JkZXJzX2xpbmtcXFwiIGNsYXNzPVxcXCJub3RfdmlzaWJsZVxcXCI+VHJhZGUgaW4geW91ciB3YWxsZXQgaW5zdGVhZCBvZlxcclxcbiAgICAgICAgaGVyZTwvYT5cXHJcXG4gICAgPGFydGljbGUgaWQ9XFxcImxpbWluYWxfbWFya2V0X3RyYWRlX3BhbmVsXFxcIj48L2FydGljbGU+XFxyXFxuICAgIDxkaXYgaWQ9XFxcImV4ZWN1dGluZy10cmFkZS1wcm9ncmVzc1xcXCIgY2xhc3M9XFxcImQtbm9uZVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGlkPVxcXCJwcm9ncmVzcy10ZXh0XFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxwcm9ncmVzcz48L3Byb2dyZXNzPlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGJ1dHRvbiBpZD1cXFwibGltaW5hbF9tYXJrZXRfZXhlY3V0ZV90cmFkZVxcXCI+PC9idXR0b24+XFxyXFxuXFxyXFxuICAgIDxhcnRpY2xlIGlkPVxcXCJ1c2Vfd2FsbGV0X2Zvcl9vcmRlcnNcXFwiPlxcclxcblxcclxcbiAgICAgICAgPGgzPkhvdyB0byBidXkgaW4gd2FsbGV0PC9oMz5cXHJcXG4gICAgICAgIDx1bD5cXHJcXG4gICAgICAgICAgICA8bGk+SWYgeW91IGhhdmVuJ3QgYWRkZWQgYVVTRCB0byB5b3VyIHdhbGxldCwgbm93IGlzIHRoZSB0aW1lIC0gPHNtYWxsPjxhIGhyZWY9XFxcIlxcXCIgaWQ9XFxcImFkZEFVU0RUb1dhbGxldFxcXCI+Q2xpY2tcXHJcXG4gICAgICAgICAgICAgICAgaGVyZSB0byBhZGQgYVVTRCB0byB3YWxsZXQ8L2E+PC9zbWFsbD48L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJmaW5kU3ltYm9sXFxcIj5GaW5kIHN5bWJvbDwvYT4geW91IHdhbnQgdG8gYnV5ICYgY2xpY2sgXFxcIkdldCBhZGRyZXNzXFxcIjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPkdvIHRvIHlvdXIgd2FsbGV0IGFuZCBmaW5kIHRoZSBhVVNEIHRva2VuLCBjbGljayBcXFwiU2VuZFxcXCI8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5QYXN0ZSBpbiB0aGUgYWRkcmVzcyB5b3UganVzdCBjb3BpZWQgZm9yIHRoZSBSZWNlaXZlci5cXHJcXG4gICAgICAgICAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxlbT5Ob3RlOiBJZiB5b3UgY2FuLCBzYXZlIHRoZSBhZGRyZXNzIHRvIHlvdXIgY29udGFjdCBsaXN0IGZvciBlYXN5IGFjY2VzcyBuZXh0IHRpbWU8L2VtPjwvbGk+XFxyXFxuICAgICAgICAgICAgICAgIDwvdWw+XFxyXFxuICAgICAgICAgICAgPC9saT5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8bGk+VHlwZSBpbiB0aGUgYW1vdW50ICYgY2xpY2sgQ29uZmlybTwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPllvdSBoYXZlIG5vdyBib3VnaHQgdGhlIHNoYXJlcywgZG9uJ3QgZm9yZ2V0IHRvIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImZpbmRTeW1ib2xcXFwiPmFkZCB0aGUgdG9rZW4gdG8gd2FsbGV0PC9hPi4gJiMxMjc4ODE7PC9saT5cXHJcXG4gICAgICAgIDwvdWw+XFxyXFxuICAgICAgICA8ZGl2IHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XFxcIj5cXHJcXG4gICAgICAgICAgICA8IS0tXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlmcmFtZSB3aWR0aD1cXFwiMzgwXFxcIiBoZWlnaHQ9XFxcIjUwMFxcXCIgc3JjPVxcXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9tMWlOb3RnYWljND9hdXRvcGxheT0xJmNjX2xvYWRfcG9saWN5PTEmcGxheWxpc3Q9bTFpTm90Z2FpYzQmbG9vcD0xXFxcIiB0aXRsZT1cXFwiWW91VHViZSB2aWRlbyBwbGF5ZXJcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBhbGxvdz1cXFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZVxcXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPlxcclxcbiAgICAgICAgICAgIC0tPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuXFxyXFxuICAgICAgICA8aDM+U2VsbCB5b3VyIHNlY3VyaXRpZXM8L2gzPlxcclxcblxcclxcbiAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgIDxsaT5GaW5kIHRoZSB0b2tlbiB5b3Ugd2FudCBzbyBzZWxsIGluIHlvdSB3YWxsZXQgYW5kIGNsaWNrIFNlbmQ8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5QdXQgdGhlIGluIHRoZSBhVVNEIGFkZHJlc3M8YnIvPjxpbnB1dCBpZD1cXFwiYVVzZEFkZHJlc3NcXFwiIHZhbHVlPVxcXCJ7e0FVU0RBZGRyZXNzfX1cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGk+PGVtPk5vdGU6IElmIHlvdSBjYW4sIHNhdmUgdGhlIGFkZHJlc3MgdG8geW91ciBjb250YWN0IGxpc3QgZm9yIGVhc3kgYWNjZXNzIG5leHQgdGltZTwvZW0+PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5UeXBlIGluIHRoZSBxdWFudGl0eSBvZiBzaGFyZXMgeW91IHdhbnQgdG8gc2VsbCAmIGNsaWNrIENvbmZpcm08L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5Zb3UgaGF2ZSBub3cgc29sZCB0aGUgc2hhcmVzICYjMTI3ODgxOzwvbGk+XFxyXFxuICAgICAgICA8L3VsPlxcclxcblxcclxcbiAgICA8L2FydGljbGU+XFxyXFxuPC9kaXY+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIlxcclxcblxcclxcbiAgICBZb3UgY2FuIGNvcHkgdGhlIGFkZHJlc3Mgb2Yge3tzeW1ib2x9fSBhbmQgaW1wb3J0IGl0IGludG8geW91ciB3YWxsZXRcXHJcXG4gICAgPGlucHV0IGlkPVxcXCJ0b2tlbkFkZHJlc3NcXFwiIHZhbHVlPVxcXCJ7e3Rva2VuQWRkcmVzc319XFxcIiAvPlxcclxcblxcclxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgVHJhZGVQYW5lbCBmcm9tIFwiLi4vZWxlbWVudHMvVHJhZGVQYW5lbFwiO1xyXG5pbXBvcnQgVHJhZGVQYWdlSHRtbCBmcm9tIFwiLi4vLi4vaHRtbC9wYWdlcy90cmFkZS5odG1sXCI7XHJcbmltcG9ydCBDb250cmFjdEluZm8gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9Db250cmFjdEluZm9cIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0TW9kYWwgZnJvbSBcIi4uL21vZGFscy9TZWN1cml0aWVzTGlzdE1vZGFsXCI7XHJcbmltcG9ydCBBVVNEU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYmxvY2tjaGFpbi9BVVNEU2VydmljZVwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi9tb2RhbHMvTW9kYWxcIjtcclxuaW1wb3J0IENvcHlUb2tlbkFkZHJlc3NUb0FkZFRvV2FsbGV0IGZyb20gJy4uLy4uL2h0bWwvbW9kYWwvQ29weVRva2VuQWRkcmVzc1RvQWRkVG9XYWxsZXQuaHRtbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkZVBhZ2Uge1xyXG5cclxuICAgIG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXM6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZChzeW1ib2w/OiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcsIGxvZ28/OiBzdHJpbmcsIGFkZHJlc3M/OiBzdHJpbmcpIHtcclxuXHJcblxyXG4gICAgICAgIGxldCBtYXJrMSA9ICdzdGFydCc7XHJcbiAgICAgICAgbGV0IG1hcmsyID0gJ3RlbXBsYXRlJztcclxuICAgICAgICBsZXQgbWFyazMgPSAncmVuZGVyIHRyYWRlUGFuZWwnO1xyXG4gICAgICAgIGxldCBtYXJrNCA9ICdzZWxlY3RTeW1ib2wnO1xyXG4gICAgICAgIGxldCBtYXJrNSA9ICdhVXNkJztcclxuICAgICAgICBsZXQgbWFyazYgPSAnYmluZEV2ZW50cyc7XHJcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyayhtYXJrMSlcclxuICAgICAgICBsZXQgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluX2NvbnRhaW5lcicpO1xyXG4gICAgICAgIGlmICghbWFpbkNvbnRhaW5lcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgY29udHJhY3RJbmZvID0gQ29udHJhY3RJbmZvLmdldENvbnRyYWN0SW5mbygpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFRyYWRlUGFnZUh0bWwpO1xyXG4gICAgICAgIG1haW5Db250YWluZXIuaW5uZXJIVE1MID0gdGVtcGxhdGUoe0FVU0RBZGRyZXNzOiBjb250cmFjdEluZm8uQVVTRF9BRERSRVNTfSk7XHJcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyayhtYXJrMilcclxuICAgICAgICBsZXQgdHJhZGVQYW5lbCA9IG5ldyBUcmFkZVBhbmVsKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgdHJhZGVQYW5lbC5yZW5kZXIoJ2xpbWluYWxfbWFya2V0X3RyYWRlX3BhbmVsJyk7XHJcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyayhtYXJrMylcclxuICAgICAgICBpZiAoc3ltYm9sKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VsZWN0U3ltYm9sKHN5bWJvbCwgbmFtZSEsIGxvZ28hLCBhZGRyZXNzISlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsobWFyazQpXHJcbiAgICAgICAgbGV0IHVzZXIgPSBuZXcgVXNlclNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgYVVTRFNlcnZpY2UgPSBuZXcgQVVTRFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgYXVzZEFtb3VudCA9IGF3YWl0IGFVU0RTZXJ2aWNlLmdldEFVU0RCYWxhbmNlT2YodXNlci5nZXRFdGhBZGRyZXNzKCkpO1xyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsobWFyazUpXHJcbiAgICAgICAgbGV0IHVzZXJXYWxsZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlX3dhbGxldF9mb3Jfb3JkZXJzJyk7XHJcbiAgICAgICAgbGV0IHVzZXJXYWxsZXRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZV93YWxsZXRfZm9yX29yZGVyc19saW5rJyk7XHJcbiAgICAgICAgaWYgKGF1c2RBbW91bnQuZXEoMCkpIHtcclxuICAgICAgICAgICAgdXNlcldhbGxldD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHVzZXJXYWxsZXRMaW5rPy5jbGFzc0xpc3QuYWRkKCdub3RfdmlzaWJsZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJXYWxsZXQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICB1c2VyV2FsbGV0TGluaz8uY2xhc3NMaXN0LnJlbW92ZSgnbm90X3Zpc2libGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaW5kU3ltYm9scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maW5kU3ltYm9sJyk7XHJcbiAgICAgICAgZmluZFN5bWJvbHM/LmZvckVhY2goZmluZFN5bWJvbCA9PiB7XHJcbiAgICAgICAgICAgIGZpbmRTeW1ib2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VjdXJpdGllc01vZGFsID0gbmV3IFNlY3VyaXRpZXNMaXN0TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHNlY3VyaXRpZXNNb2RhbC5zaG93TW9kYWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyaXRpZXNNb2RhbC5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgYWRkQVVTRFRvV2FsbGV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEFVU0RUb1dhbGxldCcpO1xyXG4gICAgICAgIGFkZEFVU0RUb1dhbGxldD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoY29udHJhY3RJbmZvLkFVU0RfQUREUkVTUywgJ2FVU0QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShDb3B5VG9rZW5BZGRyZXNzVG9BZGRUb1dhbGxldCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtzeW1ib2w6ICdhVVNEJywgdG9rZW5BZGRyZXNzOiBjb250cmFjdEluZm8uQVVTRF9BRERSRVNTfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ0FkZCBhVVNEIHRvIHdhbGxldCcsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsobWFyazYpXHJcblxyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoXCJzdGFydCB0byB0ZW1wbGF0ZVwiLCBtYXJrMSwgbWFyazIpO1xyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoXCJ0ZW1wbGF0ZSB0byByZW5kZXJcIiwgbWFyazIsIG1hcmszKTtcclxuICAgICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKFwicmVuZGVyIHRvIHNlbGVjdFN5bWJvbFwiLCBtYXJrMywgbWFyazQpO1xyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoXCJzZWxlY3RTeW1ib2wgdG8gYXVzZFwiLCBtYXJrNCwgbWFyazUpO1xyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoXCJhdXNkIHRvIGJpbmRcIiwgbWFyazUsIG1hcms2KTtcclxuXHJcbiAgICAgICAgLy8gUHVsbCBvdXQgYWxsIG9mIHRoZSBtZWFzdXJlbWVudHMuXHJcbiAgICAgICAgY29uc29sZS5sb2cocGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1lYXN1cmVcIikpO1xyXG5cclxuICAgICAgICAvLyBGaW5hbGx5LCBjbGVhbiB1cCB0aGUgZW50cmllcy5cclxuICAgICAgICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKCk7XHJcbiAgICAgICAgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2VsZWN0U3ltYm9sKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGxvZ286IHN0cmluZywgYWRkcmVzczogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHRyYWRlUGFuZWwgPSBuZXcgVHJhZGVQYW5lbCh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHRyYWRlUGFuZWwucmVuZGVyKCdsaW1pbmFsX21hcmtldF90cmFkZV9wYW5lbCcsIHN5bWJvbCwgbmFtZSwgbG9nbywgYWRkcmVzcyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiXFxyXFxuPGFydGljbGUgaWQ9XFxcInN0b2NrTGlzdFxcXCI+XFxyXFxuIDxkaXYgaWQ9XFxcInVhXFxcIj48L2Rpdj5cXHJcXG4gPGRpdiBpZD1cXFwibGlzdF9vZl9zZWN1cml0aWVzXFxcIj57e3tzZWN1cml0aWVzfX19PC9kaXY+XFxyXFxuXFxyXFxuPC9hcnRpY2xlPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IFNlY3VyaXRpZXNMaXN0IGZyb20gXCIuLi8uLi91aS9lbGVtZW50cy9TZWN1cml0aWVzTGlzdFwiO1xyXG5pbXBvcnQgVHJhZGVQYWdlIGZyb20gXCIuLi9wYWdlcy9UcmFkZVBhZ2VcIjtcclxuaW1wb3J0IFN0b2Nrc1BhZ2VIdG1sIGZyb20gJy4uLy4uL2h0bWwvcGFnZXMvc3RvY2tzcGFnZS5odG1sJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b2Nrc1BhZ2Uge1xyXG5cdG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHRjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuXHRcdHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgbG9hZCgpIHtcclxuXHRcdGxldCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5fY29udGFpbmVyJyk7XHJcblx0XHRpZiAoIW1haW5Db250YWluZXIpIHJldHVybjtcclxuXHJcblx0XHRsZXQgc2VjdXJpdGllc0xpc3QgPSBuZXcgU2VjdXJpdGllc0xpc3QoKTtcclxuXHRcdGxldCBzZWN1cml0aWVzID0gYXdhaXQgc2VjdXJpdGllc0xpc3QucmVuZGVyKCk7XHJcblxyXG5cdFx0bGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFN0b2Nrc1BhZ2VIdG1sKTtcclxuXHRcdG1haW5Db250YWluZXIuaW5uZXJIVE1MID0gdGVtcGxhdGUoe3NlY3VyaXRpZXM6c2VjdXJpdGllc30pO1xyXG5cclxuXHRcdGF3YWl0IHNlY3VyaXRpZXNMaXN0LmxvYWRNb3JlKCk7XHJcblxyXG5cdFx0YXdhaXQgc2VjdXJpdGllc0xpc3QuYmluZEV2ZW50cyhhc3luYyAoc3ltYm9sLCBuYW1lLCBsb2dvKSA9PiB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdvblNlbGVjdFN5bWJvbCBpcyBjYWxsZWQnKVxyXG5cdFx0XHRsZXQgbGltaW5hbE1hcmtldFNlcnZpY2UgPSBuZXcgTGltaW5hbE1hcmtldFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuXHRcdFx0bGV0IGFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3Moc3ltYm9sKTtcclxuXHJcblx0XHRcdGxldCB0cmFkZVBhZ2UgPSBuZXcgVHJhZGVQYWdlKHRoaXMubW9yYWxpcyk7XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuXHRcdFx0YXdhaXQgdHJhZGVQYWdlLmxvYWQoc3ltYm9sLCBuYW1lLCBsb2dvLCBhZGRyZXNzKTtcclxuXHRcdH0pXHJcblx0fTtcclxuXHJcbn1cclxuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGgzPkRvY3VtZW50czwvaDM+XFxyXFxuPHA+VGhlc2UgYXJlIHlvdXIgZG9jdW1lbnRzIGZvciB5b3VyIHRyYWRlcywgZ2VuZXJhdGVkIGJ5IHRoZSBicm9rZXIuIFRoZXNlIGRvY3VtZW50cyBhcmUgdHJhZGUgY29uZmlybWF0aW9uICYgbW9udGhseSBzdGF0ZW1lbnRzLlxcclxcblxcdFRoZXkgYXJlIGdlbmVyYXRlZCBhdCB0aGUgZW5kIG9mIHRoZSBkYXksIGJldHdlZW4gMDY6MzBQTS0wNzozMFBNIEVTVC5cXHJcXG48L3A+XFxyXFxue3sjaWYgcmVzdWx0fX1cXHJcXG48dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWhvdmVyXFxcIj5cXHJcXG5cXHQ8dGhlYWQ+XFxyXFxuXFx0XFx0PHRyPlxcclxcblxcdFxcdFxcdDx0aD5UeXBlPC90aD5cXHJcXG5cXHRcXHRcXHQ8dGg+RGF0ZTwvdGg+XFxyXFxuXFx0XFx0XFx0PHRoPkRvd25sb2FkPC90aD5cXHJcXG5cXHRcXHQ8L3RyPlxcclxcblxcdDwvdGhlYWQ+XFxyXFxuXFx0PHRib2R5PlxcclxcblxcdFxcdHt7I2VhY2ggcmVzdWx0fX1cXHJcXG5cXHRcXHQ8dHI+XFxyXFxuXFx0XFx0XFx0PHRkIHRpdGxlPVxcXCJ7e2lkfX1cXFwiPnt7dHlwZX19PC9hPjwvdGQ+XFxyXFxuXFx0XFx0XFx0PHRkPnt7ZGF0ZX19PC90ZD5cXHJcXG5cXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiZG93bmxvYWREb2NcXFwiIGRhdGEtZG9jaWQ9XFxcInt7aWR9fVxcXCI+RG93bmxvYWQ8L2E+PC90ZD5cXHJcXG5cXHRcXHQ8L3RyPlxcclxcblxcdFxcdHt7L2VhY2h9fVxcclxcblxcdDwvdGJvZHk+XFxyXFxuPC90YWJsZT5cXHJcXG57ey9pZn19XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRTZXJ2aWNlIHtcclxuICAgIG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXMpIHtcclxuICAgICAgICB0aGlzLm1vcmFsaXMgPSBtb3JhbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXREb2N1bWVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9yYWxpcy5DbG91ZC5ydW4oJ2RvY3VtZW50cycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXREb2N1bWVudChkb2N1bWVudElkIDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBkb2N1bWVudElkOiBkb2N1bWVudElkXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bihcImRvd25sb2FkXCIsIHBhcmFtcyk7XHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCJUb2tlbiBmb3Ige3tzeW1ib2x9fSBkb2VzIG5vdCBleGlzdC4gWW91IGNhbiBjbGljayB0aGUgYnV0dG9uIGJlbG93IHRvIGNyZWF0ZSB0aGUgdG9rZW4uIFRoaXMgd2lsbCBjb3N0IGEgYml0IG9mIGdhcy5cXHJcXG48YnIgLz48YnIgLz5cXHJcXG5BZnRlciB0aGUgdG9rZW4gaGFzIGJlZW4gY3JlYXRlZCB3ZSB3aWxsIHRyeSB0byBhZGQgaXQgdG8geW91ciB3YWxsZXQuXFxyXFxuPGJyIC8+PGJyIC8+XFxyXFxuPGJ1dHRvbiBpZD1cXFwiY3JlYXRlVG9rZW5CdG5cXFwiPkNyZWF0ZSB0b2tlbjwvYnV0dG9uPlxcclxcblxcclxcbjxkaXYgY2xhc3M9XFxcImQtbm9uZVxcXCIgaWQ9XFxcImNvcHlBZGRyZXNzSW5mb1xcXCI+XFxyXFxuICAgIFlvdSBjYW4gY29weSB0aGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gYW5kIGltcG9ydCBpdCBpbnRvIHlvdXIgd2FsbGV0XFxyXFxuICAgIDxpbnB1dCBpZD1cXFwidG9rZW5BZGRyZXNzXFxcIiAvPlxcclxcblxcclxcbjwvZGl2PlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWxcIjtcclxuaW1wb3J0IENyZWF0ZVRva2VuSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL0NyZWF0ZVRva2VuLmh0bWwnO1xyXG5pbXBvcnQgTGltaW5hbE1hcmtldFNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Jsb2NrY2hhaW4vTGltaW5hbE1hcmtldFNlcnZpY2VcIjtcclxuaW1wb3J0IFdhbGxldEhlbHBlciBmcm9tIFwiLi4vLi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IHtBZGRyZXNzWmVyb30gZnJvbSBcIi4uLy4uL3V0aWwvSGVscGVyXCI7XHJcbmltcG9ydCBMb2FkaW5nSGVscGVyIGZyb20gXCIuLi8uLi91dGlsL0xvYWRpbmdIZWxwZXJcIjtcclxuaW1wb3J0IEJsb2NrY2hhaW5FcnJvciBmcm9tIFwiLi4vLi4vZXJyb3JzL0Jsb2NrY2hhaW5FcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JlYXRlVG9rZW4ge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdyhzeW1ib2wgOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKENyZWF0ZVRva2VuSHRtbCk7XHJcblxyXG5cclxuICAgICAgICBtb2RhbC5zaG93TW9kYWwoXCJUb2tlbiBcIiArIHN5bWJvbCArIFwiIGRvZXNuJ3QgZXhpc3RcIiwgdGVtcGxhdGUoe3N5bWJvbDpzeW1ib2x9KSk7XHJcblxyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlVG9rZW5CdG4nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoIWJ0bikgcmV0dXJuO1xyXG5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIExvYWRpbmdIZWxwZXIuc2V0TG9hZGluZyhidG4hKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICBsZXQgYWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG4gICAgICAgICAgICBpZiAoYWRkcmVzcyA9PT0gQWRkcmVzc1plcm8pIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5jcmVhdGVUb2tlbihzeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ0NyZWF0aW5nIHRva2VuLiBHaXZlIGl0IGZldyBzZWNvbmRzJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBCbG9ja2NoYWluRXJyb3IgJiYgcmVzdWx0LmNvZGUgPT0gQmxvY2tjaGFpbkVycm9yLlVzZXJDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzID0gcmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBMb2FkaW5nSGVscGVyLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdBZGQgdG9rZW4gdG8gd2FsbGV0JztcclxuICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgYXdhaXQgd2FsbGV0SGVscGVyLmFkZFRva2VuVG9XYWxsZXQoYWRkcmVzcywgc3ltYm9sLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5BZGRyZXNzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9rZW5BZGRyZXNzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuQWRkcmVzc0lucHV0KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdG9rZW5BZGRyZXNzSW5wdXQuaW5uZXJIVE1MID0gYWRkcmVzcztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5QWRkcmVzc0luZm8nKSEuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8YXJ0aWNsZSBjbGFzcz1cXFwibG9hZGVkLWNvbnRlbnQyXFxcIj5cXHJcXG5cXHQ8aDM+UG9zaXRpb25zPCEtLSA8YSBocmVmPVxcXCJcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcInN5bmNXYWxsZXRcXFwiPlN5bmMgd2FsbGV0PC9hPi0tPjwvaDM+XFxyXFxuXFx0PHA+VGhlc2UgYXJlIHlvdXIgcG9zaXRpb25zIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYnJva2VyLiBUaGVzZSB3b3VsZCBiZSByZWdpc3RlcmVkIHRvIHlvdSBvbiB0aGUgc3RvY2sgZXhjaGFuZ2UgaWYgd2Ugd2VyZW4ndCBydW5uaW5nIG9uXFxyXFxuXFx0XFx0YSBzYW5kYm94IGF0IHRoZSBicm9rZXIuIFdhbnQgdG8ga25vdyB3aGVuIHdlIG9wZW4gZm9yIGxpdmUgdHJhZGluZz8gPGEgaHJlZj1cXFwiaHR0cHM6Ly9saW1pbmFsLm1hcmtldFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlJlZ2lzdGVyIHlvdXIgZW1haWwgd2l0aCB1czwvYT5cXHJcXG5cXHJcXG5cXHQ8L3A+XFxyXFxuXFx0PGZpZ3VyZT5cXHJcXG5cXHQ8dGFibGU+XFxyXFxuXFx0XFx0PHRoZWFkPlxcclxcblxcdFxcdFxcdDx0cj5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+PC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+U3ltYm9sPC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+Q3VycmVudCBwcmljZTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPkF2Zy4gZW50cnkgdmFsdWU8L3RoPlxcclxcblxcdFxcdFxcdFxcdDx0aD5RdWFudGl0eTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPk1hcmtldCB2YWx1ZTwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPlVucmVhbGl6ZSBQTDwvdGg+XFxyXFxuXFx0XFx0XFx0XFx0PHRoPlRyYWRlPC90aD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGg+QWRkIHRvIHdhbGxldDwvdGg+XFxyXFxuXFx0XFx0XFx0PC90cj5cXHJcXG5cXHRcXHQ8L3RoZWFkPlxcclxcblxcdFxcdDx0Ym9keT5cXHJcXG5cXHRcXHRcXHR7eyNpZiByZXN1bHR9fVxcclxcblxcdFxcdFxcdHt7I2VhY2ggcmVzdWx0fX1cXHJcXG5cXHRcXHRcXHQ8dHI+XFxyXFxuXFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJzeW1ib2xfbG9nb1xcXCI+PGltZyBpZD1cXFwic3ltYm9sX2xvZ29fe3tzeW1ib2x9fVxcXCIgc3JjPVxcXCIvaW1nL2xvZ29zL2RlZmF1bHRfbG9nby5wbmdcXFwiIC8+PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiaHR0cHM6Ly9zdHJpa2UubWFya2V0L3N0b2Nrcy97e3N5bWJvbH19XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+e3tzeW1ib2x9fTwvYT48L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD57e2N1cnJlbnRfcHJpY2V9fTwvdGQ+XFxyXFxuXFx0XFx0XFx0XFx0PHRkPnt7cm91bmQyIGF2Z19lbnRyeV9wcmljZX19PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+e3tyb3VuZDIgcXR5fX08L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD4ke3tyb3VuZCBtYXJrZXRfdmFsdWV9fTwvdGQ+XFxyXFxuXFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJ7e2NsYXNzQ29sb3IgdW5yZWFsaXplZF9wbH19XFxcIj4ke3tyb3VuZCB1bnJlYWxpemVkX3BsfX0gKHt7cGVyYyB1bnJlYWxpemVkX3BscGN9fSk8L3RkPlxcclxcblxcdFxcdFxcdFxcdDx0ZD48YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwidHJhZGVTZWN1cml0eVxcXCIgZGF0YS1zeW1ib2w9XFxcInt7c3ltYm9sfX1cXFwiIGRhdGEtcXR5PXt7cXR5fX0+VHJhZGU8L2E+PC90ZD5cXHJcXG5cXHRcXHRcXHRcXHQ8dGQ+PGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYWRkVG9XYWxsZXRcXFwiIGRhdGEtc3ltYm9sPVxcXCJ7e3N5bWJvbH19XFxcIj5BZGQ8L2E+PC90ZD5cXHJcXG5cXHRcXHRcXHQ8L3RyPlxcclxcblxcdFxcdFxcdHt7L2VhY2h9fVxcclxcblxcdFxcdFxcdHt7L2lmfX1cXHJcXG5cXHRcXHQ8L3Rib2R5PlxcclxcblxcdDwvdGFibGU+XFxyXFxuXFx0PC9maWd1cmU+XFxyXFxuXFx0PGRpdiBpZD1cXFwiZG9jdW1lbnRzXFxcIj48L2Rpdj5cXHJcXG5cXHJcXG48L2FydGljbGU+XCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxhcnRpY2xlPlxcclxcbiAgICBJZiB5b3VyIHdhbGxldCBpcyBvdXQgb2Ygc3luYyB3aXRoIHlvdXIgcG9zaXRpb24geW91IGNhbiBzeW5jIGl0IGhlcmUuIFRoaXMgaGFwcGVucyB3aGVuIHlvdSBtb3ZlIGZyb21cXHJcXG4gICAgb25lIGNoYWluIHRvIGFub3RoZXIuIElmIHlvdSBsaWtlIHRvIHN3aXRjaCB0byBuZXcgY2hhaW4gY2xpY2sgdGhlIGJ1dHRvbiBiZWxvdy5cXHJcXG4gICAgPGJyLz48YnIvPlxcclxcbiAgICBZb3Ugd2lsbCBiZSBhc2tlZCB0byBjb25maXJtIGEgdHJhbnNhY3Rpb24gb2Yge3t0b3RhbENvc3R9fSB7e05hdGl2ZVN5bWJvbH19ICgke3twcmljZUluTmF0aXZlVG9rZW59fSkuXFxyXFxuICAgIEVhY2ggc3RvY2sgY29zdHMge3tjb3N0UGVyU2hhcmV9fSB7e05hdGl2ZVN5bWJvbH19IHRvIHN5bmMuIFlvdSBoYXZlIHRvdGFsIG9mIHt7c2hhcmVDb3VudH19IHNoYXJlLlxcclxcbiAgICA8YnIvPjxici8+XFxyXFxuICAgIDxidXR0b24gaWQ9XFxcInN5bmNBbGxQb3NpdGlvbnNcXFwiPlN5bmMgc3RvY2sgdG8gbXkgd2FsbGV0PC9idXR0b24+XFxyXFxuPC9hcnRpY2xlPlwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uc1NlcnZpY2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGdldFBvc2l0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb3JhbGlzLkNsb3VkLnJ1bigncG9zaXRpb25zJyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIYW5kbGViYXJIZWxwZXJzIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVySGVscGVycygpIHtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdwZXJjJywgZnVuY3Rpb24gKG51bWJlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobnVtYmVyKSAqIDEwMDAwKSAvIDEwMCArICclJztcclxuICAgICAgICB9KTtcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdyb3VuZCcsIGZ1bmN0aW9uIChudW1iZXI6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG51bWJlcikgKiAxMDApIC8gMTAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdyb3VuZDInLCBmdW5jdGlvbiAobnVtYmVyOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChudW1iZXIpICogMTAwMDApIC8gMTAwMDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignY2xhc3NDb2xvcicsIGZ1bmN0aW9uIChudW1iZXI6IG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKG51bWJlciA+IDApID8gXCJncmVlblwiIDogXCJyZWRcIjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7QWRkcmVzc1plcm99IGZyb20gJy4uLy4uL3V0aWwvSGVscGVyJztcclxuaW1wb3J0IExpbWluYWxNYXJrZXRTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9ibG9ja2NoYWluL0xpbWluYWxNYXJrZXRTZXJ2aWNlXCI7XHJcbmltcG9ydCBTZWN1cml0aWVzU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYnJva2VyL1NlY3VyaXRpZXNTZXJ2aWNlXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4uLy4uL3V0aWwvV2FsbGV0SGVscGVyXCI7XHJcbmltcG9ydCBEb2N1bWVudHNIdG1sIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvZG9jdW1lbnRzLmh0bWwnO1xyXG5pbXBvcnQgRG9jdW1lbnRTZXJ2aWNlIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9iYWNrZW5kL0RvY3VtZW50U2VydmljZVwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uLy4uL3VpL21vZGFscy9Nb2RhbFwiO1xyXG5pbXBvcnQgQ3JlYXRlVG9rZW4gZnJvbSBcIi4uLy4uL3VpL21vZGFscy9DcmVhdGVUb2tlblwiO1xyXG5pbXBvcnQgQWRkcmVzc0luZm9IdG1sIGZyb20gJy4uLy4uL2h0bWwvZWxlbWVudHMvQWRkcmVzc0luZm8uaHRtbCc7XHJcbmltcG9ydCBQb3NpdGlvblBhZ2VIdG1sIGZyb20gJy4uLy4uL2h0bWwvcGFnZXMvcG9zaXRpb25zLmh0bWwnO1xyXG5pbXBvcnQgU3luY1N0b2NrSHRtbCBmcm9tICcuLi8uLi9odG1sL21vZGFsL1N5bmNTdG9jay5odG1sJztcclxuaW1wb3J0IFBvc2l0aW9uc1NlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2JhY2tlbmQvUG9zaXRpb25zU2VydmljZVwiO1xyXG5pbXBvcnQgSGFuZGxlYmFySGVscGVycyBmcm9tIFwiLi4vLi4vdXRpbC9IYW5kbGViYXJIZWxwZXJzXCI7XHJcbmltcG9ydCBUcmFkZVBhZ2UgZnJvbSBcIi4vVHJhZGVQYWdlXCI7XHJcbmltcG9ydCBOZXR3b3JrSW5mbyBmcm9tIFwiLi4vLi4vbmV0d29ya3MvTmV0d29ya0luZm9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uc1BhZ2Uge1xyXG4gICAgbW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzO1xyXG4gICAgZG9jdW1lbnRTZXJ2aWNlIDogRG9jdW1lbnRTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vcmFsaXMgOiB0eXBlb2YgTW9yYWxpcykge1xyXG4gICAgICAgIHRoaXMubW9yYWxpcyA9IG1vcmFsaXM7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudFNlcnZpY2UgPSBuZXcgRG9jdW1lbnRTZXJ2aWNlKHRoaXMubW9yYWxpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGxvYWQoKSB7XHJcblxyXG4gICAgICAgIGxldCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5fY29udGFpbmVyJyk7XHJcbiAgICAgICAgaWYgKCFtYWluQ29udGFpbmVyKSByZXR1cm47XHJcblxyXG5cclxuICAgICAgICBsZXQgcG9zaXRpb25TZXJ2aWNlID0gbmV3IFBvc2l0aW9uc1NlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICBsZXQgcG9zaXRpb25zID0gYXdhaXQgcG9zaXRpb25TZXJ2aWNlLmdldFBvc2l0aW9ucygpO1xyXG5cclxuICAgICAgICBIYW5kbGViYXJIZWxwZXJzLnJlZ2lzdGVySGVscGVycygpO1xyXG5cclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoUG9zaXRpb25QYWdlSHRtbCk7XHJcbiAgICAgICAgbWFpbkNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZW1wbGF0ZSh7cmVzdWx0OnBvc2l0aW9uc30pO1xyXG5cclxuICAgICAgICBsZXQgc3luY1dhbGxldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeW5jV2FsbGV0Jyk7XHJcbiAgICAgICAgaWYgKHN5bmNXYWxsZXRCdG4pIHtcclxuICAgICAgICAgICAgc3luY1dhbGxldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jQWxsVG9rZW5zKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IHN5bWJvbHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG4gICAgICAgIGNvbnN0IHNlbGxMaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RyYWRlU2VjdXJpdHknKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGxMaW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IHNlbGxMaW5rc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IGVsZW1lbnQuZGF0YXNldC5zeW1ib2w7XHJcbiAgICAgICAgICAgIGlmICghc3ltYm9sKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIHN5bWJvbHMucHVzaChzeW1ib2wpO1xyXG5cclxuICAgICAgICAgICAgc2VsbExpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IHN5bWJvbCA9IGVsZW1lbnQuZGF0YXNldC5zeW1ib2w7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsaW1pbmFsTWFya2V0U2VydmljZSA9IG5ldyBMaW1pbmFsTWFya2V0U2VydmljZSh0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRyYWN0QWRkcmVzcyA9IGF3YWl0IGxpbWluYWxNYXJrZXRTZXJ2aWNlLmdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhzeW1ib2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWN1cml0aWVzU2VydmljZSA9IGF3YWl0IFNlY3VyaXRpZXNTZXJ2aWNlLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VjdXJpdHkgPSBhd2FpdCBzZWN1cml0aWVzU2VydmljZS5nZXRTZWN1cml0eUJ5U3ltYm9sKHN5bWJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHRyYWRlUGFnZSA9IG5ldyBUcmFkZVBhZ2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRyYWRlUGFnZS5sb2FkKHN5bWJvbCwgc2VjdXJpdHkuTmFtZSwgc2VjdXJpdHkuTG9nb1BhdGggKyBzZWN1cml0eS5Mb2dvLCBjb250cmFjdEFkZHJlc3MpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFkZFRvV2FsbGV0TGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhZGRUb1dhbGxldCcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkVG9XYWxsZXRMaW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhZGRUb1dhbGxldExpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhldnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gYWRkVG9XYWxsZXRMaW5rc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBzeW1ib2wgPSBlbGVtZW50LmRhdGFzZXQuc3ltYm9sITtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbGltaW5hbE1hcmtldFNlcnZpY2UgPSBuZXcgTGltaW5hbE1hcmtldFNlcnZpY2UodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250cmFjdEFkZHJlc3MgPSBhd2FpdCBsaW1pbmFsTWFya2V0U2VydmljZS5nZXRTeW1ib2xDb250cmFjdEFkZHJlc3Moc3ltYm9sKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250cmFjdEFkZHJlc3MudG9TdHJpbmcoKSA9PSBBZGRyZXNzWmVybykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjcmVhdGVUb2tlbiA9IG5ldyBDcmVhdGVUb2tlbih0aGlzLm1vcmFsaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRva2VuLnNob3coc3ltYm9sKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIodGhpcy5tb3JhbGlzKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHdhbGxldEhlbHBlci5hZGRUb2tlblRvV2FsbGV0KGNvbnRyYWN0QWRkcmVzcy50b1N0cmluZygpLCBzeW1ib2wsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoQWRkcmVzc0luZm9IdG1sKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlKHtzeW1ib2w6IHN5bWJvbCwgYWRkcmVzczogY29udHJhY3RBZGRyZXNzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc2hvd01vZGFsKCdJbXBvcnQgdG9rZW4gdG8gd2FsbGV0JywgY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyU3ltYm9sTG9nb3Moc3ltYm9scyk7XHJcblxyXG4gICAgICAgIGxldCBkb2NUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShEb2N1bWVudHNIdG1sKTtcclxuICAgICAgICBsZXQgZG9jdW1lbnRzID0gYXdhaXQgdGhpcy5kb2N1bWVudFNlcnZpY2UuZ2V0RG9jdW1lbnRzKCk7XHJcbiAgICAgICAgbGV0IGRvY3VtZW50RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RvY3VtZW50cycpO1xyXG4gICAgICAgIGlmICghZG9jdW1lbnREb20pIHJldHVybjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnREb20uaW5uZXJIVE1MID0gZG9jVGVtcGxhdGUoe3Jlc3VsdDogZG9jdW1lbnRzfSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdERvY3VtZW50cygpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVuZGVyU3ltYm9sTG9nb3Moc3ltYm9sczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgICAgIGxldCBzZWN1cml0aWVzU2VydmljZSA9IGF3YWl0IFNlY3VyaXRpZXNTZXJ2aWNlLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3QgYXNzZXRzID0gYXdhaXQgc2VjdXJpdGllc1NlcnZpY2UuZ2V0U2VjdXJpdGllcygpO1xyXG4gICAgICAgIGxldCBhc3NldDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXNzZXQgPSBhc3NldHMuZ2V0KHN5bWJvbHNbaV0pO1xyXG4gICAgICAgICAgICBpZiAoYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeW1ib2xfbG9nb18nICsgc3ltYm9sc1tpXSkhLnNldEF0dHJpYnV0ZSgnc3JjJywgJy9pbWcvbG9nb3MvJyArIGFzc2V0LkxvZ28pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzeW5jQWxsVG9rZW5zKCkge1xyXG4gICAgICAgIGxldCBuZXR3b3JrSW5mbyA9IE5ldHdvcmtJbmZvLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IGNvc3RPZlN5bmMgPSBhd2FpdCB0aGlzLm1vcmFsaXMuQ2xvdWQucnVuKCdjb3N0T2ZTeW5jJyk7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKFN5bmNTdG9ja0h0bWwpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGUoe1xyXG4gICAgICAgICAgICBzaGFyZUNvdW50OiBjb3N0T2ZTeW5jLnNoYXJlQ291bnQsXHJcbiAgICAgICAgICAgIGNvc3RQZXJTaGFyZTogTW9yYWxpcy5Vbml0cy5Gcm9tV2VpKGNvc3RPZlN5bmMuY29zdFBlclNoYXJlLCAxOCksXHJcbiAgICAgICAgICAgIHByaWNlSW5OYXRpdmVUb2tlbjogY29zdE9mU3luYy5wcmljZUluTmF0aXZlVG9rZW4sXHJcbiAgICAgICAgICAgIHRvdGFsQ29zdDogTW9yYWxpcy5Vbml0cy5Gcm9tV2VpKGNvc3RPZlN5bmMuY29zdCwgMTgpLFxyXG4gICAgICAgICAgICBOYXRpdmVTeW1ib2w6IG5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICAgICAgICBtb2RhbC5zaG93TW9kYWwoJ1N5bmMgYWxsIHN0b2NrIHRvIHdhbGxldCcsIGNvbnRlbnQpXHJcblxyXG4gICAgICAgIGxldCBzeW5jQWxsUG9zaXRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bmNBbGxQb3NpdGlvbnMnKTtcclxuICAgICAgICBpZiAoc3luY0FsbFBvc2l0aW9ucykge1xyXG4gICAgICAgICAgICBzeW5jQWxsUG9zaXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaW5pdERvY3VtZW50cygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkb3dubG9hZERvYycpO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLm1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZG9jdW1lbnRJZCA9IChsaW5rc1tpXSBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5kb2NpZDtcclxuICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnRJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvblVybCA9IGF3YWl0IHRoaXMuZG9jdW1lbnRTZXJ2aWNlLmdldERvY3VtZW50KGRvY3VtZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uVXJsID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBmaW5kIGRvY3VtZW50LiBQbGVhc2UgY29udGFjdCB1cyBpZiB5b3Ugc2hvdWxkIGhhdmUgZ290dGVuIGEgZG9jdW1lbnQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IGxvY2F0aW9uVXJsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU3RvY2tzUGFnZSBmcm9tIFwiLi4vdWkvcGFnZXMvU3RvY2tzUGFnZVwiO1xyXG5pbXBvcnQgVHJhZGVQYWdlIGZyb20gXCIuLi91aS9wYWdlcy9UcmFkZVBhZ2VcIjtcclxuaW1wb3J0IFBvc2l0aW9uc1BhZ2UgZnJvbSBcIi4uL3VpL3BhZ2VzL1Bvc2l0aW9uc1BhZ2VcIjtcclxuaW1wb3J0IEFVU0RGdW5kIGZyb20gXCIuLi91aS9tb2RhbHMvQVVTREZ1bmRcIjtcclxuaW1wb3J0IE5ldHdvcmtJbmZvIGZyb20gXCIuLi9uZXR3b3Jrcy9OZXR3b3JrSW5mb1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRpbmcge1xyXG5cclxuICAgIHNldHRpbmdzOiBhbnkgPSB7XHJcbiAgICAgICAgc2hvd190cmFkZTogdGhpcy5zaG93VHJhZGUsXHJcbiAgICAgICAgc2hvd19wb3NpdGlvbnM6IHRoaXMuc2hvd1Bvc2l0aW9ucyxcclxuICAgICAgICBzaG93X3N0b2NrczogdGhpcy5zaG93U3RvY2tzLFxyXG4gICAgICAgIHNob3dfa3ljX2FjdGlvbl9yZXF1aXJlZDogdGhpcy5zaG93S3ljQWN0aW9uUmVxdWlyZWQsXHJcbiAgICAgICAgc2hvd19mdW5kaW5nOiB0aGlzLnNob3dGdW5kaW5nLFxyXG4gICAgICAgIHNob3dfa3ljOiB0aGlzLnNob3dLeWNcclxuICAgIH07XHJcbiAgICBtb3JhbGlzIDogdHlwZW9mIE1vcmFsaXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9yYWxpcyA6IHR5cGVvZiBNb3JhbGlzKSB7XHJcbiAgICAgICAgdGhpcy5tb3JhbGlzID0gbW9yYWxpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgbG9hZFJvdXRlcygpIHtcclxuICAgICAgICBsZXQgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykucmVwbGFjZSgnLycsICcnKTtcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCAhPT0gJycpIHBhdGggPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoJz8nLCAnJyk7XHJcbiAgICAgICAgaWYgKHBhdGggPT09ICcnKSBwYXRoID0gJ3N0b2Nrcyc7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoTmF2TGlua3MoKTtcclxuXHJcbiAgICAgICAgbGV0IGZuID0gdGhpcy5zZXR0aW5nc1snc2hvd18nICsgcGF0aF0gPz8gdGhpcy5zZXR0aW5nc1snc2hvd19zdG9ja3MnXTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBhd2FpdCBmbih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3dLeWNBY3Rpb25SZXF1aXJlZChyb3V0aW5nOiBSb3V0aW5nLCBldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZ0KSBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgbGV0IHBhZ2UgPSBuZXcgVHJhZGVQYWdlKHJvdXRpbmcubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5sb2FkKCk7XHJcblxyXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdCdXkgc3RvY2tzJywgJyMva3ljX2FjdGlvbl9yZXF1aXJlZCcpO1xyXG5cclxuICAgICAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X2V4ZWN1dGVfdHJhZGUnKVxyXG4gICAgICAgIGJ1dHRvbj8uZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3dLeWMocm91dGluZzogUm91dGluZywgZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2dCkgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBwYWdlID0gbmV3IFRyYWRlUGFnZShyb3V0aW5nLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHBhZ2UubG9hZCgpO1xyXG5cclxuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnQnV5IHN0b2NrcycsICcjL2t5YycpO1xyXG5cclxuICAgICAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWluYWxfbWFya2V0X2V4ZWN1dGVfdHJhZGUnKVxyXG4gICAgICAgIGJ1dHRvbj8uZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNob3dGdW5kaW5nKHJvdXRpbmc6IFJvdXRpbmcsIGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBUcmFkZVBhZ2Uocm91dGluZy5tb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmxvYWQoKTtcclxuXHJcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzdG9ja3MnLCAnIy9mdW5kaW5nJyk7XHJcblxyXG4gICAgICAgIGxldCBhVVNERnVuZGluZ01vZGFsID0gbmV3IEFVU0RGdW5kKHRoaXMubW9yYWxpcyk7XHJcbiAgICAgICAgbGV0IG5ldHdvcmtJbmZvID0gTmV0d29ya0luZm8uZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBpZiAobmV0d29ya0luZm8uVGVzdE5ldHdvcmspIHtcclxuICAgICAgICAgICAgYVVTREZ1bmRpbmdNb2RhbC5zaG93QVVTREZha2VGdW5kKCgpID0+IHtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhVVNERnVuZGluZ01vZGFsLnNob3dBVVNERnVuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2hvd1RyYWRlKHJvdXRpbmc6IFJvdXRpbmcsIGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBUcmFkZVBhZ2Uocm91dGluZy5tb3JhbGlzKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmxvYWQoKTtcclxuXHJcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzdG9ja3MnLCAnIy90cmFkZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzaG93U3RvY2tzKHJvdXRpbmcgOiBSb3V0aW5nLGV2dCA6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZ0KSBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgbGV0IHBhZ2UgPSBuZXcgU3RvY2tzUGFnZShyb3V0aW5nLm1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHBhZ2UubG9hZCgpO1xyXG5cclxuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAnU3RvY2tzJywgJyMvc3RvY2tzJyk7XHJcblxyXG4gICAgfVxyXG4gICAgcHVibGljIGFzeW5jIHNob3dQb3NpdGlvbnMocm91dGluZyA6IFJvdXRpbmcsZXZ0IDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldnQpIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZSA9IG5ldyBQb3NpdGlvbnNQYWdlKHJvdXRpbmcubW9yYWxpcyk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5sb2FkKCk7XHJcblxyXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdQb3NpdGlvbnMnLCAnIy9wb3NpdGlvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXR0YWNoTmF2TGlua3MoKSB7XHJcbiAgICAgICAgbGV0IHJvdXRlciA9IHRoaXM7XHJcblxyXG5cclxuICAgICAgICBsZXQgdHJhZGVOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cmFkZU5hdkxpbmsnKTtcclxuICAgICAgICB0cmFkZU5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgIChsaW5rIGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uIChldnQgOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZXIuc2hvd1RyYWRlKHJvdXRlciwgZXZ0KTtcclxuICAgICAgICAgICAgICAgIGxpbmsucGFyZW50RWxlbWVudCEucGFyZW50RWxlbWVudCEucGFyZW50RWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpbnZlc3RMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnZlc3ROYXZMaW5rJyk7XHJcbiAgICAgICAgaW52ZXN0TGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgKGxpbmsgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyLnNob3dTdG9ja3Mocm91dGVyLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgbGluay5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGlvbkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc2l0aW9uTmF2TGluaycpO1xyXG4gICAgICAgIHBvc2l0aW9uTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgKGxpbmsgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyLnNob3dQb3NpdGlvbnMocm91dGVyLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgbGluay5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRJbWFnZSgpIHtcclxuICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keSA+IGhlYWRlcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmICghaGVhZGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgvaW1nL2hlYWRlci9cIiArIHJhbmRvbSArIFwiLmpwZylcIjtcclxuICAgIH1cclxufSIsImltcG9ydCBDb25uZWN0aW9uU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9iYWNrZW5kL0Nvbm5lY3Rpb25TZXJ2aWNlXCI7XHJcbmltcG9ydCBVc2VyU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9iYWNrZW5kL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCBSb3V0aW5nIGZyb20gXCIuL3JvdXRpbmcvUm91dGluZ1wiO1xyXG5pbXBvcnQgQ29ubmVjdFdhbGxldCBmcm9tIFwiLi91aS9tb2RhbHMvQ29ubmVjdFdhbGxldFwiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vdWkvZWxlbWVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IEVycm9ySW5mbyBmcm9tIFwiLi9lcnJvcnMvRXJyb3JJbmZvXCI7XHJcbmltcG9ydCBXYWxsZXRIZWxwZXIgZnJvbSBcIi4vdXRpbC9XYWxsZXRIZWxwZXJcIjtcclxuaW1wb3J0IEdlbmVyYWxFcnJvciBmcm9tIFwiLi9lcnJvcnMvR2VuZXJhbEVycm9yXCI7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vdWkvZWxlbWVudHMvSGVhZGVyXCI7XHJcblxyXG5cclxuY29uc3Qgc3RhcnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgc2xvd1NlcnZlclRpbWVyID0gc2V0VGltZW91dChzbG93U2VydmVyLCA1ICogMTAwMCk7XHJcblxyXG4gICAgbGV0IGNvbm5lY3Rpb25TZXJ2aWNlID0gbmV3IENvbm5lY3Rpb25TZXJ2aWNlKCk7XHJcbiAgICBjb25uZWN0aW9uU2VydmljZS5zdGFydCgpLnRoZW4oYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzbG93U2VydmVyVGltZXIpO1xyXG5cclxuICAgICAgICBsZXQgbG9hZGluZ01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGxldCB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShNb3JhbGlzKTtcclxuICAgICAgICBsZXQgbG9nZ2VkSW5Vc2VyID0gYXdhaXQgdXNlclNlcnZpY2UuaXNMb2dnZWRJbihsb2FkaW5nTWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGlmIChsb2dnZWRJblVzZXIpIHtcclxuICAgICAgICAgICAgbGV0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKE1vcmFsaXMsIChsb2dnZWRJblVzZXIgYXMgYW55KS5wcm92aWRlckluZm8sIGxvZ2dlZEluVXNlcik7XHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXJJbmZvLnJlbmRlcigndXNlcl9oZWFkZXJfaW5mbycpO1xyXG4gICAgICAgICAgICAvL2xvYWQgdXNlciBpbmZvIGludG8gVUlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL3Nob3cgQ29ubmVjdCBXYWxsZXQgYnV0dG9uXHJcbiAgICAgICAgICAgIGxldCBjb25uZWN0V2FsbGV0ID0gbmV3IENvbm5lY3RXYWxsZXQoTW9yYWxpcyk7XHJcbiAgICAgICAgICAgIGNvbm5lY3RXYWxsZXQucmVuZGVyQnV0dG9uKCd1c2VyX2hlYWRlcl9pbmZvJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcm91dGluZyA9IG5ldyBSb3V0aW5nKE1vcmFsaXMpO1xyXG4gICAgICAgIGF3YWl0IHJvdXRpbmcubG9hZFJvdXRlcygpO1xyXG5cclxuXHJcbiAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgRXJyb3JJbmZvLnJlcG9ydChuZXcgR2VuZXJhbEVycm9yKFwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuPGJyIC8+PGJyIC8+XCIgKyByZWFzb24pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJJbmZvRHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckluZm9Ecm9wZG93bicpO1xyXG4gICAgICAgIGlmICh1c2VySW5mb0Ryb3Bkb3duICYmICF1c2VySW5mb0Ryb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnZC1ub25lJykpIHtcclxuICAgICAgICAgICAgdXNlckluZm9Ecm9wZG93bi5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGxldCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKE1vcmFsaXMpO1xyXG4gICAgaWYgKHdhbGxldEhlbHBlci5pc1dlYnZpZXcod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKVxyXG4gICAge1xyXG4gICAgICAgIC8vY29uc29sZSA9IEVycm9ySW5mbyBhcyBhbnk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHNsb3dTZXJ2ZXIoKSB7XHJcbiAgICAgICAgbGV0IGxvYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZycpO1xyXG4gICAgICAgIGlmICghbG9hZGluZykge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2xvd1NlcnZlclRpbWVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9hZGluZy5pbm5lckhUTUwgPSAnSG1tbS4uLi4gb3VyIHNlcnZlcnMgYXJlIHNsb3cgYW5kIG1pZ2h0IGJlIGRvd24uIEdpdmUgaXQgZmV3IG1pbnV0ZXMuJ1xyXG5cclxuICAgIH1cclxuICAgIEhlYWRlci5sb2FkSW1hZ2UoKTtcclxuXHJcbn1cclxuXHJcbnN0YXJ0KCkudGhlbigpO1xyXG5cclxuXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/main.ts\n");

            /***/
        })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;