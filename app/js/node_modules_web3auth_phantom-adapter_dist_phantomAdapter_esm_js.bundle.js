(self.webpackChunkliminal_app=self.webpackChunkliminal_app||[]).push([["node_modules_web3auth_phantom-adapter_dist_phantomAdapter_esm_js","_6c05-_0b24-_7e2d-_1ce7-_866b0","_6c05-_0b24-_7e2d-_1ce7-_866b1"],{42848:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PhantomAdapter": () => (/* binding */ PhantomAdapter)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4942);\n/* harmony import */ var _web3auth_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17291);\n/* harmony import */ var _web3auth_solana_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44445);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2043);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\nfunction poll(callback, interval, count) {\n  return new Promise((resolve, reject) => {\n    if (count > 0) {\n      setTimeout(async () => {\n        const done = await callback();\n        if (done) resolve(done);\n        if (!done) poll(callback, interval, count - 1).then(res => {\n          resolve(res);\n          return res;\n        }).catch(err => reject(err));\n      }, interval);\n    } else {\n      resolve(false);\n    }\n  });\n}\nconst detectProvider = async function () {\n  var _window$solana;\n\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    interval: 1000,\n    count: 3\n  };\n  const isPhantomAvailable = typeof window !== "undefined" && !!((_window$solana = window.solana) !== null && _window$solana !== void 0 && _window$solana.isPhantom);\n\n  if (isPhantomAvailable) {\n    return window.solana;\n  }\n\n  const isAvailable = await poll(() => {\n    var _window$solana2;\n\n    return (_window$solana2 = window.solana) === null || _window$solana2 === void 0 ? void 0 : _window$solana2.isPhantom;\n  }, options.interval, options.count);\n  if (isAvailable) return window.solana;\n  return null;\n};\n\nclass PhantomAdapter extends _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .BaseAdapter */ .J5 {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "name", _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WALLET_ADAPTERS.PHANTOM */ .rW.PHANTOM);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "adapterNamespace", _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_NAMESPACES.SOLANA */ .yk.SOLANA);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "currentChainNamespace", _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .CHAIN_NAMESPACES.SOLANA */ .EN.SOLANA);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "type", _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_CATEGORY.EXTERNAL */ .hN.EXTERNAL);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "status", _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.NOT_READY */ .MP.NOT_READY);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "_wallet", null);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "phantomProvider", null);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "rehydrated", false);\n\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, "_onDisconnect", () => {\n      if (this._wallet) {\n        this._wallet.off("disconnect", this._onDisconnect);\n\n        this.rehydrated = false; // ready to be connected again only if it was previously connected and not cleaned up\n\n        this.status = this.status === _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.CONNECTED */ .MP.CONNECTED ? _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.READY */ .MP.READY : _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.NOT_READY */ .MP.NOT_READY;\n        this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.DISCONNECTED */ .n2.DISCONNECTED);\n      }\n    });\n\n    this.chainConfig = options.chainConfig || null;\n  }\n\n  get isWalletConnected() {\n    var _this$_wallet;\n\n    return !!((_this$_wallet = this._wallet) !== null && _this$_wallet !== void 0 && _this$_wallet.isConnected && this.status === _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.CONNECTED */ .MP.CONNECTED);\n  }\n\n  get provider() {\n    var _this$phantomProvider;\n\n    return ((_this$phantomProvider = this.phantomProvider) === null || _this$phantomProvider === void 0 ? void 0 : _this$phantomProvider.provider) || null;\n  }\n\n  set provider(_) {\n    throw new Error("Not implemented");\n  }\n\n  setAdapterSettings(_) {}\n\n  async init(options) {\n    super.checkInitializationRequirements(); // set chainConfig for mainnet by default if not set\n\n    if (!this.chainConfig) {\n      this.chainConfig = (0,_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .getChainConfig */ .h2)(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .CHAIN_NAMESPACES.SOLANA */ .EN.SOLANA, "0x1");\n    }\n\n    this._wallet = await detectProvider({\n      interval: 500,\n      count: 3\n    });\n    if (!this._wallet) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletInitializationError.notInstalled */ .Ty.notInstalled();\n    this.phantomProvider = new _web3auth_solana_provider__WEBPACK_IMPORTED_MODULE_1__.PhantomInjectedProvider({\n      config: {\n        chainConfig: this.chainConfig\n      }\n    });\n    this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.READY */ .MP.READY;\n    this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.READY */ .n2.READY, _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WALLET_ADAPTERS.PHANTOM */ .rW.PHANTOM);\n\n    try {\n      if (options.autoConnect) {\n        this.rehydrated = true;\n        await this.connect();\n      }\n    } catch (error) {\n      loglevel__WEBPACK_IMPORTED_MODULE_2___default().error("Failed to connect with cached phantom provider", error);\n      this.emit("ERRORED", error);\n    }\n  }\n\n  async connect() {\n    var _this = this;\n\n    try {\n      super.checkConnectionRequirements();\n      this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.CONNECTING */ .MP.CONNECTING;\n      this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.CONNECTING */ .n2.CONNECTING, {\n        adapter: _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WALLET_ADAPTERS.PHANTOM */ .rW.PHANTOM\n      });\n      if (!this._wallet) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletInitializationError.notInstalled */ .Ty.notInstalled();\n\n      if (!this._wallet.isConnected) {\n        const handleDisconnect = this._wallet._handleDisconnect;\n\n        try {\n          await new Promise((resolve, reject) => {\n            const connect = async () => {\n              await this.connectWithProvider(this._wallet);\n              resolve(this.provider);\n            };\n\n            if (!this._wallet) return reject(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletInitializationError.notInstalled */ .Ty.notInstalled());\n\n            this._wallet.once("connect", connect); // Raise an issue on phantom that if window is closed, disconnect event is not fired\n\n\n            this._wallet._handleDisconnect = function () {\n              reject(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletInitializationError.windowClosed */ .Ty.windowClosed());\n\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return handleDisconnect.apply(_this._wallet, args);\n            };\n\n            this._wallet.connect().catch(reason => {\n              reject(reason);\n            });\n          });\n        } catch (error) {\n          if (error instanceof _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .Web3AuthError */ .up) throw error;\n          throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.connectionError */ .RM.connectionError(error === null || error === void 0 ? void 0 : error.message);\n        } finally {\n          this._wallet._handleDisconnect = handleDisconnect;\n        }\n      } else {\n        await this.connectWithProvider(this._wallet);\n      }\n\n      if (!this._wallet.publicKey) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.connectionError */ .RM.connectionError();\n\n      this._wallet.on("disconnect", this._onDisconnect);\n\n      return this.provider;\n    } catch (error) {\n      // ready again to be connected\n      this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.READY */ .MP.READY;\n      this.rehydrated = false;\n      this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.ERRORED */ .n2.ERRORED, error);\n      throw error;\n    }\n  }\n\n  async disconnect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      cleanup: false\n    };\n    if (!this.isWalletConnected) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.notConnectedError */ .RM.notConnectedError("Not connected with wallet");\n\n    try {\n      var _this$_wallet2;\n\n      await ((_this$_wallet2 = this._wallet) === null || _this$_wallet2 === void 0 ? void 0 : _this$_wallet2.disconnect());\n\n      if (options.cleanup) {\n        this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.NOT_READY */ .MP.NOT_READY;\n        this.phantomProvider = null;\n        this._wallet = null;\n      }\n\n      this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.DISCONNECTED */ .n2.DISCONNECTED);\n    } catch (error) {\n      this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.ERRORED */ .n2.ERRORED, _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.disconnectionError */ .RM.disconnectionError(error === null || error === void 0 ? void 0 : error.message));\n    }\n  }\n\n  async getUserInfo() {\n    if (!this.isWalletConnected) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.notConnectedError */ .RM.notConnectedError("Not connected with wallet, Please login/connect first");\n    return {};\n  }\n\n  async connectWithProvider(injectedProvider) {\n    if (!this.phantomProvider) throw _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WalletLoginError.connectionError */ .RM.connectionError("No phantom provider");\n    await this.phantomProvider.setupProvider(injectedProvider);\n    this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_STATUS.CONNECTED */ .MP.CONNECTED;\n    this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .ADAPTER_EVENTS.CONNECTED */ .n2.CONNECTED, {\n      adapter: _web3auth_base__WEBPACK_IMPORTED_MODULE_0__/* .WALLET_ADAPTERS.PHANTOM */ .rW.PHANTOM,\n      reconnected: this.rehydrated\n    });\n    return this.provider;\n  }\n\n}\n\n\n//# sourceMappingURL=phantomAdapter.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBOztBQUVBOztBQUUwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbWluYWwtYXBwLy4vbm9kZV9tb2R1bGVzL0B3ZWIzYXV0aC9waGFudG9tLWFkYXB0ZXIvZGlzdC9waGFudG9tQWRhcHRlci5lc20uanM/NDk3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgQmFzZUFkYXB0ZXIsIFdBTExFVF9BREFQVEVSUywgQURBUFRFUl9OQU1FU1BBQ0VTLCBDSEFJTl9OQU1FU1BBQ0VTLCBBREFQVEVSX0NBVEVHT1JZLCBBREFQVEVSX1NUQVRVUywgQURBUFRFUl9FVkVOVFMsIGdldENoYWluQ29uZmlnLCBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLCBXZWIzQXV0aEVycm9yLCBXYWxsZXRMb2dpbkVycm9yIH0gZnJvbSAnQHdlYjNhdXRoL2Jhc2UnO1xuaW1wb3J0IHsgUGhhbnRvbUluamVjdGVkUHJvdmlkZXIgfSBmcm9tICdAd2ViM2F1dGgvc29sYW5hLXByb3ZpZGVyJztcbmltcG9ydCBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuXG5mdW5jdGlvbiBwb2xsKGNhbGxiYWNrLCBpbnRlcnZhbCwgY291bnQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZG9uZSA9IGF3YWl0IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChkb25lKSByZXNvbHZlKGRvbmUpO1xuICAgICAgICBpZiAoIWRvbmUpIHBvbGwoY2FsbGJhY2ssIGludGVydmFsLCBjb3VudCAtIDEpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICAgIH0sIGludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgfVxuICB9KTtcbn1cbmNvbnN0IGRldGVjdFByb3ZpZGVyID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICB2YXIgX3dpbmRvdyRzb2xhbmE7XG5cbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHtcbiAgICBpbnRlcnZhbDogMTAwMCxcbiAgICBjb3VudDogM1xuICB9O1xuICBjb25zdCBpc1BoYW50b21BdmFpbGFibGUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmICEhKChfd2luZG93JHNvbGFuYSA9IHdpbmRvdy5zb2xhbmEpICE9PSBudWxsICYmIF93aW5kb3ckc29sYW5hICE9PSB2b2lkIDAgJiYgX3dpbmRvdyRzb2xhbmEuaXNQaGFudG9tKTtcblxuICBpZiAoaXNQaGFudG9tQXZhaWxhYmxlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5zb2xhbmE7XG4gIH1cblxuICBjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IHBvbGwoKCkgPT4ge1xuICAgIHZhciBfd2luZG93JHNvbGFuYTI7XG5cbiAgICByZXR1cm4gKF93aW5kb3ckc29sYW5hMiA9IHdpbmRvdy5zb2xhbmEpID09PSBudWxsIHx8IF93aW5kb3ckc29sYW5hMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRzb2xhbmEyLmlzUGhhbnRvbTtcbiAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgb3B0aW9ucy5jb3VudCk7XG4gIGlmIChpc0F2YWlsYWJsZSkgcmV0dXJuIHdpbmRvdy5zb2xhbmE7XG4gIHJldHVybiBudWxsO1xufTtcblxuY2xhc3MgUGhhbnRvbUFkYXB0ZXIgZXh0ZW5kcyBCYXNlQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBzdXBlcigpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBXQUxMRVRfQURBUFRFUlMuUEhBTlRPTSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhZGFwdGVyTmFtZXNwYWNlXCIsIEFEQVBURVJfTkFNRVNQQUNFUy5TT0xBTkEpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY3VycmVudENoYWluTmFtZXNwYWNlXCIsIENIQUlOX05BTUVTUEFDRVMuU09MQU5BKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGVcIiwgQURBUFRFUl9DQVRFR09SWS5FWFRFUk5BTCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0dXNcIiwgQURBUFRFUl9TVEFUVVMuTk9UX1JFQURZKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl93YWxsZXRcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwaGFudG9tUHJvdmlkZXJcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWh5ZHJhdGVkXCIsIGZhbHNlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vbkRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3dhbGxldCkge1xuICAgICAgICB0aGlzLl93YWxsZXQub2ZmKFwiZGlzY29ubmVjdFwiLCB0aGlzLl9vbkRpc2Nvbm5lY3QpO1xuXG4gICAgICAgIHRoaXMucmVoeWRyYXRlZCA9IGZhbHNlOyAvLyByZWFkeSB0byBiZSBjb25uZWN0ZWQgYWdhaW4gb25seSBpZiBpdCB3YXMgcHJldmlvdXNseSBjb25uZWN0ZWQgYW5kIG5vdCBjbGVhbmVkIHVwXG5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1cyA9PT0gQURBUFRFUl9TVEFUVVMuQ09OTkVDVEVEID8gQURBUFRFUl9TVEFUVVMuUkVBRFkgOiBBREFQVEVSX1NUQVRVUy5OT1RfUkVBRFk7XG4gICAgICAgIHRoaXMuZW1pdChBREFQVEVSX0VWRU5UUy5ESVNDT05ORUNURUQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jaGFpbkNvbmZpZyA9IG9wdGlvbnMuY2hhaW5Db25maWcgfHwgbnVsbDtcbiAgfVxuXG4gIGdldCBpc1dhbGxldENvbm5lY3RlZCgpIHtcbiAgICB2YXIgX3RoaXMkX3dhbGxldDtcblxuICAgIHJldHVybiAhISgoX3RoaXMkX3dhbGxldCA9IHRoaXMuX3dhbGxldCkgIT09IG51bGwgJiYgX3RoaXMkX3dhbGxldCAhPT0gdm9pZCAwICYmIF90aGlzJF93YWxsZXQuaXNDb25uZWN0ZWQgJiYgdGhpcy5zdGF0dXMgPT09IEFEQVBURVJfU1RBVFVTLkNPTk5FQ1RFRCk7XG4gIH1cblxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgdmFyIF90aGlzJHBoYW50b21Qcm92aWRlcjtcblxuICAgIHJldHVybiAoKF90aGlzJHBoYW50b21Qcm92aWRlciA9IHRoaXMucGhhbnRvbVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRwaGFudG9tUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHBoYW50b21Qcm92aWRlci5wcm92aWRlcikgfHwgbnVsbDtcbiAgfVxuXG4gIHNldCBwcm92aWRlcihfKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICB9XG5cbiAgc2V0QWRhcHRlclNldHRpbmdzKF8pIHt9XG5cbiAgYXN5bmMgaW5pdChvcHRpb25zKSB7XG4gICAgc3VwZXIuY2hlY2tJbml0aWFsaXphdGlvblJlcXVpcmVtZW50cygpOyAvLyBzZXQgY2hhaW5Db25maWcgZm9yIG1haW5uZXQgYnkgZGVmYXVsdCBpZiBub3Qgc2V0XG5cbiAgICBpZiAoIXRoaXMuY2hhaW5Db25maWcpIHtcbiAgICAgIHRoaXMuY2hhaW5Db25maWcgPSBnZXRDaGFpbkNvbmZpZyhDSEFJTl9OQU1FU1BBQ0VTLlNPTEFOQSwgXCIweDFcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fd2FsbGV0ID0gYXdhaXQgZGV0ZWN0UHJvdmlkZXIoe1xuICAgICAgaW50ZXJ2YWw6IDUwMCxcbiAgICAgIGNvdW50OiAzXG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLl93YWxsZXQpIHRocm93IFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3Iubm90SW5zdGFsbGVkKCk7XG4gICAgdGhpcy5waGFudG9tUHJvdmlkZXIgPSBuZXcgUGhhbnRvbUluamVjdGVkUHJvdmlkZXIoe1xuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGNoYWluQ29uZmlnOiB0aGlzLmNoYWluQ29uZmlnXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0dXMgPSBBREFQVEVSX1NUQVRVUy5SRUFEWTtcbiAgICB0aGlzLmVtaXQoQURBUFRFUl9FVkVOVFMuUkVBRFksIFdBTExFVF9BREFQVEVSUy5QSEFOVE9NKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAob3B0aW9ucy5hdXRvQ29ubmVjdCkge1xuICAgICAgICB0aGlzLnJlaHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3Qgd2l0aCBjYWNoZWQgcGhhbnRvbSBwcm92aWRlclwiLCBlcnJvcik7XG4gICAgICB0aGlzLmVtaXQoXCJFUlJPUkVEXCIsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjb25uZWN0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0cnkge1xuICAgICAgc3VwZXIuY2hlY2tDb25uZWN0aW9uUmVxdWlyZW1lbnRzKCk7XG4gICAgICB0aGlzLnN0YXR1cyA9IEFEQVBURVJfU1RBVFVTLkNPTk5FQ1RJTkc7XG4gICAgICB0aGlzLmVtaXQoQURBUFRFUl9FVkVOVFMuQ09OTkVDVElORywge1xuICAgICAgICBhZGFwdGVyOiBXQUxMRVRfQURBUFRFUlMuUEhBTlRPTVxuICAgICAgfSk7XG4gICAgICBpZiAoIXRoaXMuX3dhbGxldCkgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5ub3RJbnN0YWxsZWQoKTtcblxuICAgICAgaWYgKCF0aGlzLl93YWxsZXQuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9IHRoaXMuX3dhbGxldC5faGFuZGxlRGlzY29ubmVjdDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdFdpdGhQcm92aWRlcih0aGlzLl93YWxsZXQpO1xuICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucHJvdmlkZXIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl93YWxsZXQpIHJldHVybiByZWplY3QoV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5ub3RJbnN0YWxsZWQoKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3dhbGxldC5vbmNlKFwiY29ubmVjdFwiLCBjb25uZWN0KTsgLy8gUmFpc2UgYW4gaXNzdWUgb24gcGhhbnRvbSB0aGF0IGlmIHdpbmRvdyBpcyBjbG9zZWQsIGRpc2Nvbm5lY3QgZXZlbnQgaXMgbm90IGZpcmVkXG5cblxuICAgICAgICAgICAgdGhpcy5fd2FsbGV0Ll9oYW5kbGVEaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZWplY3QoV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci53aW5kb3dDbG9zZWQoKSk7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGVEaXNjb25uZWN0LmFwcGx5KF90aGlzLl93YWxsZXQsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5fd2FsbGV0LmNvbm5lY3QoKS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFdlYjNBdXRoRXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgIHRocm93IFdhbGxldExvZ2luRXJyb3IuY29ubmVjdGlvbkVycm9yKGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLl93YWxsZXQuX2hhbmRsZURpc2Nvbm5lY3QgPSBoYW5kbGVEaXNjb25uZWN0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RXaXRoUHJvdmlkZXIodGhpcy5fd2FsbGV0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl93YWxsZXQucHVibGljS2V5KSB0aHJvdyBXYWxsZXRMb2dpbkVycm9yLmNvbm5lY3Rpb25FcnJvcigpO1xuXG4gICAgICB0aGlzLl93YWxsZXQub24oXCJkaXNjb25uZWN0XCIsIHRoaXMuX29uRGlzY29ubmVjdCk7XG5cbiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyByZWFkeSBhZ2FpbiB0byBiZSBjb25uZWN0ZWRcbiAgICAgIHRoaXMuc3RhdHVzID0gQURBUFRFUl9TVEFUVVMuUkVBRFk7XG4gICAgICB0aGlzLnJlaHlkcmF0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW1pdChBREFQVEVSX0VWRU5UUy5FUlJPUkVELCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7XG4gICAgICBjbGVhbnVwOiBmYWxzZVxuICAgIH07XG4gICAgaWYgKCF0aGlzLmlzV2FsbGV0Q29ubmVjdGVkKSB0aHJvdyBXYWxsZXRMb2dpbkVycm9yLm5vdENvbm5lY3RlZEVycm9yKFwiTm90IGNvbm5lY3RlZCB3aXRoIHdhbGxldFwiKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3RoaXMkX3dhbGxldDI7XG5cbiAgICAgIGF3YWl0ICgoX3RoaXMkX3dhbGxldDIgPSB0aGlzLl93YWxsZXQpID09PSBudWxsIHx8IF90aGlzJF93YWxsZXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRfd2FsbGV0Mi5kaXNjb25uZWN0KCkpO1xuXG4gICAgICBpZiAob3B0aW9ucy5jbGVhbnVwKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gQURBUFRFUl9TVEFUVVMuTk9UX1JFQURZO1xuICAgICAgICB0aGlzLnBoYW50b21Qcm92aWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dhbGxldCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdChBREFQVEVSX0VWRU5UUy5ESVNDT05ORUNURUQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmVtaXQoQURBUFRFUl9FVkVOVFMuRVJST1JFRCwgV2FsbGV0TG9naW5FcnJvci5kaXNjb25uZWN0aW9uRXJyb3IoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VySW5mbygpIHtcbiAgICBpZiAoIXRoaXMuaXNXYWxsZXRDb25uZWN0ZWQpIHRocm93IFdhbGxldExvZ2luRXJyb3Iubm90Q29ubmVjdGVkRXJyb3IoXCJOb3QgY29ubmVjdGVkIHdpdGggd2FsbGV0LCBQbGVhc2UgbG9naW4vY29ubmVjdCBmaXJzdFwiKTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBhc3luYyBjb25uZWN0V2l0aFByb3ZpZGVyKGluamVjdGVkUHJvdmlkZXIpIHtcbiAgICBpZiAoIXRoaXMucGhhbnRvbVByb3ZpZGVyKSB0aHJvdyBXYWxsZXRMb2dpbkVycm9yLmNvbm5lY3Rpb25FcnJvcihcIk5vIHBoYW50b20gcHJvdmlkZXJcIik7XG4gICAgYXdhaXQgdGhpcy5waGFudG9tUHJvdmlkZXIuc2V0dXBQcm92aWRlcihpbmplY3RlZFByb3ZpZGVyKTtcbiAgICB0aGlzLnN0YXR1cyA9IEFEQVBURVJfU1RBVFVTLkNPTk5FQ1RFRDtcbiAgICB0aGlzLmVtaXQoQURBUFRFUl9FVkVOVFMuQ09OTkVDVEVELCB7XG4gICAgICBhZGFwdGVyOiBXQUxMRVRfQURBUFRFUlMuUEhBTlRPTSxcbiAgICAgIHJlY29ubmVjdGVkOiB0aGlzLnJlaHlkcmF0ZWRcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5wcm92aWRlcjtcbiAgfVxuXG59XG5cbmV4cG9ydCB7IFBoYW50b21BZGFwdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waGFudG9tQWRhcHRlci5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42848\n')},11922:()=>{},22399:()=>{},64123:()=>{},78848:()=>{},71456:()=>{}}]);