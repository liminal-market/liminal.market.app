"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateliminal_app"]("main",{

/***/ "./src/modules/buy.ts":
/*!****************************!*\
  !*** ./src/modules/buy.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExecuteTradeOffHoursTxt\": () => (/* binding */ ExecuteTradeOffHoursTxt),\n/* harmony export */   \"addTokenLinkBottom\": () => (/* binding */ addTokenLinkBottom),\n/* harmony export */   \"buyPageInit\": () => (/* binding */ buyPageInit),\n/* harmony export */   \"checkTokenValueVsBuyAmount\": () => (/* binding */ checkTokenValueVsBuyAmount),\n/* harmony export */   \"getSymbolContractAddress\": () => (/* binding */ getSymbolContractAddress),\n/* harmony export */   \"hideModalSecurities\": () => (/* binding */ hideModalSecurities),\n/* harmony export */   \"selectSymbol\": () => (/* binding */ selectSymbol),\n/* harmony export */   \"setSelectedSymbolAndAddress\": () => (/* binding */ setSelectedSymbolAndAddress),\n/* harmony export */   \"setupSteps\": () => (/* binding */ setupSteps),\n/* harmony export */   \"updateBuyInfo\": () => (/* binding */ updateBuyInfo)\n/* harmony export */ });\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/modules/helper.ts\");\n/* harmony import */ var _kyc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kyc */ \"./src/modules/kyc.ts\");\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render */ \"./src/modules/render.ts\");\n/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./account */ \"./src/modules/account.ts\");\n/* harmony import */ var _networks_network_info__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../networks/network-info */ \"./src/networks/network-info.ts\");\n/* harmony import */ var _market__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./market */ \"./src/modules/market.ts\");\n/* harmony import */ var _securities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./securities */ \"./src/modules/securities.ts\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moralis */ \"./node_modules/moralis/index.js\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moralis__WEBPACK_IMPORTED_MODULE_8__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet aUsdAmount;\r\nlet assetPrice = null;\r\nlet lastTraded = null;\r\nconst ExecuteTradeOffHoursTxt = 'Execute trade <div class=\"small_print\">It will take few hours to process, market is closed<br>You can enable \"Off hours trading\" in the Menu</div>';\r\nlet SelectedSymbolAddress = null;\r\nlet Symbol = '';\r\nlet LiminalMarketInfo;\r\nlet AUSDInfo;\r\nconst buyPageInit = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        history.pushState(null, 'Buy securities', '/buy');\r\n        document.getElementById('buy_amount').addEventListener('click', function (evt) {\r\n            updateBuyInfo(Symbol);\r\n        });\r\n        setupSteps();\r\n        setupAssets();\r\n        let response = yield fetch('../abi/LiminalMarket.json');\r\n        LiminalMarketInfo = yield response.json();\r\n        response = yield fetch('../abi/aUSD.json');\r\n        AUSDInfo = yield response.json();\r\n    });\r\n};\r\nconst selectSymbol = function (symbol, name, logo, address) {\r\n    buyPageInit();\r\n    if (!moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3.isWeb3Enabled())\r\n        return;\r\n    setSelectedSymbolAndAddress(symbol, address);\r\n    let selectSymbolBtn = document.getElementById('select-symbol');\r\n    selectSymbolBtn.innerHTML = name + ' (' + symbol + ')';\r\n    updateBuyInfo(symbol, name, logo);\r\n};\r\nconst setupSteps = function (showNetwork) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.querySelectorAll('.step').forEach((value, key) => {\r\n            value.style.display = 'none';\r\n        });\r\n        console.log('moralis:', yield moralis__WEBPACK_IMPORTED_MODULE_8___default().isMetaMaskInstalled());\r\n        const isMetaMaskInstalled = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().isMetaMaskInstalled();\r\n        if (!isMetaMaskInstalled) {\r\n            document.getElementById('install_metamask').style.display = 'block';\r\n            return;\r\n        }\r\n        //todo: should check if address is null\r\n        if (false) {}\r\n        yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3().catch(function (reason) {\r\n            let message = reason.message;\r\n            if (message.indexOf('User rejected the request.')) {\r\n                document.getElementById('need_to_connect_wallet').style.display = 'block';\r\n                return;\r\n            }\r\n        });\r\n        const chainId = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().getChainId();\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        if (networkInfo) {\r\n            _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.setNetwork(networkInfo);\r\n        }\r\n        console.log('chains:', chainId, networkInfo.ChainId);\r\n        if (networkInfo.ChainId != chainId || showNetwork) {\r\n            document.getElementById('select_network').style.display = 'block';\r\n            if (window.location.href.indexOf('127.') != -1) {\r\n                document.getElementById('network_localhost').style.display = 'block';\r\n            }\r\n            const options = document.querySelectorAll('.network_chooser');\r\n            for (let i = 0; i < options.length; i++) {\r\n                options[i].addEventListener('click', function (evt) {\r\n                    return __awaiter(this, void 0, void 0, function* () {\r\n                        evt.preventDefault();\r\n                        console.log('chain id:', evt.target.dataset.chainid);\r\n                        try {\r\n                            const chainIdHex = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().switchNetwork(evt.target.dataset.chainid)\r\n                                .then(function () {\r\n                                return __awaiter(this, void 0, void 0, function* () {\r\n                                    yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.logOut();\r\n                                    window.location.reload();\r\n                                });\r\n                            }).catch(function (err) {\r\n                                addNetworkToWallet(evt.target.dataset.chainid);\r\n                                console.log(err);\r\n                            });\r\n                        }\r\n                        catch (e) {\r\n                            console.log(e);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if (moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current() == null) {\r\n            //user is not logged in, lets log you in\r\n            document.getElementById('login_user').style.display = 'block';\r\n            document.getElementById('click_to_login_user').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(function () {\r\n                    setupSteps();\r\n                });\r\n                /*Moralis.authenticate().then(function (user) {\r\n                    setupSteps();\r\n                }).catch(function(err) {\r\n                    document.getElementById('login_user_error').style.display = 'block';\r\n                })*/\r\n            });\r\n            return;\r\n        }\r\n        yield (0,_kyc__WEBPACK_IMPORTED_MODULE_2__.KYCUserIsValid)();\r\n        console.log('IsValidKYC:', _kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC);\r\n        if (!_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n            //user needs to do kyc\r\n            document.getElementById('kyc_registration').style.display = 'block';\r\n            document.getElementById('click_to_kyc_reg').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            });\r\n            return;\r\n        }\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount < 1) {\r\n            //show funding step\r\n            document.getElementById('fund_account').style.display = 'block';\r\n            document.getElementById('account_not_ready').style.display = \"none\";\r\n            document.getElementById('add_ausd_to_wallet').addEventListener('click', function (evt) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(_main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS, 'aUSD');\r\n                });\r\n            });\r\n            document.getElementById('fundUSDC').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                //fund usdc\r\n                //transferUSDC();\r\n            });\r\n            document.getElementById('fundAUSD').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                // fund ausd, moralis\r\n                fundUser();\r\n            });\r\n            return;\r\n        }\r\n        //lets buy securities\r\n        checkBalanceOfAUsd();\r\n    });\r\n};\r\nconst addNetworkToWallet = function (chainId) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        const web3 = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3();\r\n        web3.provider.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [{\r\n                    chainId: chainId,\r\n                    chainName: networkInfo.ChainName,\r\n                    nativeCurrency: {\r\n                        name: networkInfo.NativeCurrencyName,\r\n                        symbol: networkInfo.NativeSymbol,\r\n                        decimals: networkInfo.NativeDecimal\r\n                    },\r\n                    rpcUrls: [networkInfo.RpcUrl],\r\n                    blockExplorerUrls: [networkInfo.BlockExplorer]\r\n                }]\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    });\r\n};\r\nconst fundUser = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            chainId: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId\r\n        };\r\n        document.getElementById('account_not_ready').style.display = \"none\";\r\n        moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run('fundUser', params).then(function (response) {\r\n            showWaitingForFunding();\r\n            return;\r\n        }).catch(function (err) {\r\n            document.getElementById('account_not_ready').style.display = \"block\";\r\n        });\r\n    });\r\n};\r\nconst checkNativeTokenStatus = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const options = { chain: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.Name };\r\n        const result = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3API.account.getNativeBalance(options);\r\n        //0.002998\r\n        const balance = parseFloat(moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(result.balance, 18));\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero && balance < 0.005) {\r\n            showNeedNativeToken();\r\n        }\r\n        else if (balance < 0.0007) {\r\n            showNeedNativeToken();\r\n        }\r\n        else {\r\n            document.getElementById('need_native_token').style.display = 'none';\r\n        }\r\n    });\r\n};\r\nconst showNeedNativeToken = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        document.getElementById('need_native_token').style.display = 'block';\r\n        document.getElementById('native_token_address').value = yield user.get('ethAddress');\r\n        setTimeout(checkNativeTokenStatus, 20 * 1000);\r\n    });\r\n};\r\nconst setupBuyButton = function () {\r\n    document.getElementById('execute-trade').classList.remove('disabled');\r\n    document.getElementById('execute-trade').classList.add('enabled');\r\n    if (_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n        document.getElementById('execute-trade').onclick = transfer;\r\n    }\r\n    else {\r\n        const user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('execute-trade').innerText = \"Login using Metamask\";\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(setupBuyButton);\r\n            };\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerText = 'You need to do (fake) KYC before buying';\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            };\r\n        }\r\n    }\r\n};\r\nconst showWaitingForFunding = function () {\r\n    document.getElementById('waiting_for_funding').style.display = 'block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'block';\r\n    document.getElementById('fund_account').style.display = 'none';\r\n    document.getElementById('buy_headline').innerHTML = \"Let's play... 🚀🚀🚀\";\r\n    let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD</strong>.\"\r\n        + \" Lets try it anyway. Type in any amount in the box below and select a symbol.\"\r\n        + \" You will see how many shares you will get for that amount\";\r\n    document.getElementById('buy_text').innerHTML = text;\r\n    checkBalanceOfAUsd();\r\n};\r\nconst checkBalanceOfAUsd = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount >= 1) {\r\n            document.getElementById('waiting_for_funding').style.display = 'none';\r\n            document.getElementById('buy_headline').innerHTML = \"Let's buy something!\";\r\n            let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD.</strong>\"\r\n                + \" You can now buy your own securities.\";\r\n            document.getElementById('buy_text').innerHTML = text;\r\n            updateBuyInfo(Symbol);\r\n            showUseWalletForOrders();\r\n        }\r\n        else {\r\n            setTimeout(yield checkBalanceOfAUsd, 30 * 1000);\r\n        }\r\n    });\r\n};\r\nconst showUseWalletForOrders = function () {\r\n    document.getElementById('create-order').classList.add('sidebar');\r\n    document.getElementById('use_wallet_for_orders').style.display = 'inline-block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'inline-block';\r\n};\r\nconst getAUSDAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user)\r\n            return 0;\r\n        const ethAddress = yield user.get('ethAddress');\r\n        const ausdcOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n            functionName: \"balanceOf\",\r\n            abi: AUSDInfo.abi,\r\n            params: {\r\n                account: ethAddress\r\n            }\r\n        };\r\n        let amount = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(ausdcOptions).then((balanceOf) => {\r\n            console.log('balanceOf obj:', balanceOf);\r\n            let amount = moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(balanceOf.value, 18);\r\n            document.getElementById('add_ausd_to_wallet_menu').innerHTML = 'You have ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(amount)) + ' aUSD in your broker account';\r\n            return amount;\r\n        }).catch(function (err) {\r\n            console.error(err);\r\n        });\r\n        return amount;\r\n    });\r\n};\r\nconst setupAssets = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('select-symbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n        document.getElementById('buy_amount').onchange = function () {\r\n            updateBuyInfo(Symbol);\r\n        };\r\n        document.getElementById('findSymbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n    });\r\n};\r\nconst loadSecuritiesModal = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        evt.preventDefault();\r\n        document.getElementById('modalSecurities').style.display = 'block';\r\n        document.getElementById('backdrop').style.display = 'block';\r\n        document.getElementById('modalSecurities').addEventListener('click', function (evt) {\r\n            console.log(evt.target.id);\r\n            if (evt.target.id == 'modalSecurities' || evt.target.id == 'closeModal') {\r\n                hideModalSecurities();\r\n            }\r\n        });\r\n        (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('securities', null, function () { (0,_securities__WEBPACK_IMPORTED_MODULE_7__.loadSecurities)(true); }, 'modal-body');\r\n    });\r\n};\r\nconst hideModalSecurities = function () {\r\n    document.getElementById('modalSecurities').style.display = 'none';\r\n    document.getElementById('backdrop').style.display = 'none';\r\n};\r\nconst getSymbolPrice = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (evt) {\r\n            evt.preventDefault();\r\n        }\r\n        if (Symbol === '') {\r\n            assetPrice = 0;\r\n            lastTraded = '';\r\n            return;\r\n        }\r\n        offHoursInfo();\r\n        SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        console.log('contractAddresss:', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            document.getElementById('execute-trade').innerHTML = \"Create token & execute trade\";\r\n            //TODO for sandbox lets not show this, but for live we need to show.\r\n            //document.getElementById('add-token-info').style.display='block';\r\n            //document.getElementById('add-token-info').innerHTML = \"<div >We will need to create the token when you buy it. Since you are the first one to buy this symbol, this will incure extra cost. It's a low cost</div>\";\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n            addTokenLink(Symbol, SelectedSymbolAddress);\r\n        }\r\n        yield loadAssetPrice();\r\n        updateBuyInfo(Symbol);\r\n    });\r\n};\r\nconst loadAssetPrice = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            symbol: Symbol\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run(\"getSymbolPrice\", params).then(function (jsonResult) {\r\n            assetPrice = jsonResult.trade.p;\r\n            lastTraded = jsonResult.trade.t;\r\n        });\r\n    });\r\n};\r\nconst getSymbolContractAddress = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const securityTokenOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"getSecurityToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            }\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(securityTokenOptions);\r\n    });\r\n};\r\nconst offHoursInfo = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield (0,_market__WEBPACK_IMPORTED_MODULE_6__.isMarketOpen)();\r\n        if (!_market__WEBPACK_IMPORTED_MODULE_6__.IsMarketOpen && !_market__WEBPACK_IMPORTED_MODULE_6__.UserIsOffHours) {\r\n            document.getElementById('offHoursInfo').style.display = 'block';\r\n            document.getElementById('execute-trade').innerHTML = ExecuteTradeOffHoursTxt;\r\n        }\r\n        else {\r\n            document.getElementById('offHoursInfo').style.display = 'none';\r\n            document.getElementById('execute-trade').innerHTML = 'Execute trade';\r\n        }\r\n    });\r\n};\r\nconst addTokenLink = function (symbol, contractAddress) {\r\n    document.getElementById('add-token-info').style.display = 'none';\r\n};\r\nconst addTokenLinkBottom = function (symbol, contractAddress) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const asset = yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.getAssetBySymbol)(symbol);\r\n        document.getElementById('addNewTokenToWallet').style.display = 'block';\r\n        document.getElementById('tokenLogo').src = '/img/logos/' + asset.Logo;\r\n        document.getElementById('addNewTokenText').innerHTML = 'Add ' + symbol + ' to your wallet.';\r\n        document.getElementById('addNewToken').onclick = function (evt) {\r\n            return __awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(contractAddress, symbol);\r\n            });\r\n        };\r\n    });\r\n};\r\nconst updateBuyInfo = function (symbol, name, logo) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!symbol)\r\n            return;\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        if (buyAmount === '' || assetPrice == null)\r\n            return;\r\n        document.getElementById('buy_success_message').style.display = 'none';\r\n        let str = 'Estimated you will buy ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(buyAmount) / assetPrice) + ' shares at the price of $' + assetPrice + ' per share. ';\r\n        str += 'Last trade was ' + (new Date(lastTraded)).toLocaleString();\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            str += '<br /><span class=\"small_print\">Since you are the first one to buy ' + symbol + \" you will be asked to create the token first, then we'll execute the trade</span>\";\r\n        }\r\n        document.getElementById('buy-info').innerHTML = str;\r\n        document.getElementById('buy-info').style.display = 'block';\r\n        checkTokenValueVsBuyAmount();\r\n    });\r\n};\r\nconst checkTokenValueVsBuyAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_danger_message').style.display = 'none';\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        var user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            let str = 'You are not logged in. Login in the menu at top.';\r\n            document.getElementById('buy_danger_message').innerHTML = str;\r\n            return false;\r\n        }\r\n        document.getElementById('execute-trade').classList.add('disabled');\r\n        document.getElementById('execute-trade').classList.remove('enabled');\r\n        if (aUsdAmount < buyAmount) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            document.getElementById('buy_danger_message').innerHTML = \"You don't have enough aUSD tokens in your wallet.\";\r\n            return false;\r\n        }\r\n        checkNativeTokenStatus();\r\n        yield setupBuyButton();\r\n    });\r\n};\r\nconst showProgressStep = function (text, perc, warning) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_progress').style.display = \"block\";\r\n        var element = document.getElementById('buying_steps');\r\n        element.innerHTML = '<div class=\"progress_text\">' + text + '</div>';\r\n        element.style.width = perc + '%';\r\n        element.classList.toggle('progress-bar-striped', (perc != 100));\r\n        element.classList.toggle('progress-bar-animated', (perc != 100));\r\n        if (warning) {\r\n            element.classList.add('bg-warning');\r\n            element.classList.add('progress_text_attn');\r\n        }\r\n        else {\r\n            element.classList.remove('bg-warning');\r\n            element.classList.remove('progress_text_attn');\r\n        }\r\n    });\r\n};\r\nconst hideProcessStep = function () {\r\n    document.getElementById('buy_progress').style.display = \"none\";\r\n    document.getElementById('execute-trade').style.display = 'block';\r\n};\r\nconst transfer = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const buyAmount = document.getElementById('buy_amount').value;\r\n        if (Symbol === '' || buyAmount === '')\r\n            return;\r\n        if (!checkTokenValueVsBuyAmount())\r\n            return false;\r\n        document.getElementById('execute-trade').style.display = 'none';\r\n        if (SelectedSymbolAddress == null) {\r\n            SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        }\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            showProgressStep('First we need to create token, you need to confirm', 99);\r\n            setTimeout(function () { checkToShowMetamaskIcon('First we need'); }, (10 * 1000));\r\n            let txResult = yield executeCreateToken(Symbol).catch(function (err) {\r\n                hideProcessStep();\r\n                return null;\r\n            });\r\n            if (txResult == null)\r\n                return;\r\n            console.log(txResult);\r\n            if (txResult.events.TokenCreated) {\r\n                SelectedSymbolAddress = txResult.events.TokenCreated.returnValues.tokenAddress;\r\n            }\r\n        }\r\n        console.log('recipent', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero)\r\n            return;\r\n        document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n        let waitingStr = 'Waiting on approval to execute to buy ';\r\n        showProgressStep(waitingStr + Symbol + ' for $' + buyAmount + '.', 99);\r\n        setTimeout(function () { checkToShowMetamaskIcon(waitingStr); }, 10 * 1000);\r\n        yield subscribeToTable();\r\n        var buyResult = yield executeBuy(SelectedSymbolAddress, parseFloat(buyAmount));\r\n        if (buyResult == null) {\r\n            hideProcessStep();\r\n            return;\r\n        }\r\n        console.log('buyResult', buyResult);\r\n        document.getElementById('add-token-info').style.display = 'none';\r\n    });\r\n};\r\nconst subscribeToTable = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log('subscribe to table:' + getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let query = new (moralis__WEBPACK_IMPORTED_MODULE_8___default().Query)(getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let subscription = yield query.subscribe();\r\n        subscription.on('update', (response) => {\r\n            const object = response.toJSON();\r\n            console.log('object updated', JSON.stringify(object), object);\r\n            let ethLink = ' <a class=\"white-link\" target=\"_blank\" href=\"https://rinkeby.etherscan.io/tx/' + object.transaction_hash + '\">View transaction</a>';\r\n            console.log('status:', object.status);\r\n            if (object.tokenAddress) {\r\n                addTokenLinkBottom(Symbol, SelectedSymbolAddress);\r\n            }\r\n            if ((!object.status && object.confirmed) || object.status == 'money_sent') {\r\n                showProgressStep('Blockchain has confirmed, money has been sent to broker.' + ethLink, 56);\r\n                //blockchain has confirmed, money will arrive soon to broker\r\n            }\r\n            else if (object.status == 'money_arrived') {\r\n                showProgressStep('Money has arrived, will now execute your buy order.' + ethLink, 70);\r\n                //money has arrived to broker, we will now execute your order\r\n            }\r\n            else if (object.status == 'order_requested') {\r\n                //order has been executed, we are waiting on response from the stock exchange\r\n                showProgressStep('Buy order has been executed. We will update you when it has been filled.' + ethLink, 84);\r\n            }\r\n            else if (object.status == 'order_filled') {\r\n                document.getElementById('buy-info').style.display = 'none';\r\n                //order has been filled, you got object.filledQty of shares. You will see it soon in your wallet\r\n                showProgressStep('Order has been filled, you will recieve ' + object.filledQty + ' ' + Symbol + ' soon into your wallet.' + ethLink, 100);\r\n            }\r\n            else {\r\n                showProgressStep('Waiting for blockchain to confirm transaction.', 99);\r\n            }\r\n        });\r\n    });\r\n};\r\nconst getOrderBuyTablePrefix = function () {\r\n    if (_main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId == 43113)\r\n        return \"Fuji\";\r\n    return \"\";\r\n};\r\nconst checkToShowMetamaskIcon = function (txt) {\r\n    //Waiting on approval to execute\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf(txt) != -1) {\r\n        showProgressStep('Hey Ho! Is Metamask be waiting for you?<br />Check top right corner of your browser <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n    setTimeout(function () { blockshainSlowMessage(); }, 8 * 1000);\r\n};\r\nconst blockshainSlowMessage = function () {\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf('Hey Ho!') != -1) {\r\n        showProgressStep('If you have already approved, maybe blockchain is slow. Lets give it a bit. Just double check for <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n};\r\nconst executeBuy = function (recipient, buyAmount) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const liminalOptions = {\r\n                contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n                functionName: \"transfer\",\r\n                abi: AUSDInfo.abi,\r\n                params: {\r\n                    recipient: recipient,\r\n                    amount: moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.Token(buyAmount, 18)\r\n                },\r\n            };\r\n            return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n        }\r\n        catch (ex) {\r\n            console.log(ex);\r\n            return null;\r\n        }\r\n    });\r\n};\r\nconst executeCreateToken = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const liminalOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"createToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            },\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n    });\r\n};\r\nconst setSelectedSymbolAndAddress = function (symbol, address) {\r\n    SelectedSymbolAddress = address;\r\n    Symbol = symbol;\r\n    getSymbolPrice();\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0NBQUEsQ0FBQztBQUVGLE1BQU0sa0JBQWtCLEdBQUcsVUFBZSxNQUFlOztRQUV4RCxNQUFNLGNBQWMsR0FBRztZQUN0QixlQUFlLEVBQUUsb0ZBQWlEO1lBQ2xFLFlBQVksRUFBRSxhQUFhO1lBQzNCLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHO1lBQzFCLE1BQU0sRUFBRTtnQkFDUCxNQUFNLEVBQUUsTUFBTTthQUNkO1NBQ0QsQ0FBQztRQUVGLE9BQU8sTUFBTSw4REFBdUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUV0RCxDQUFDO0NBQUEsQ0FBQztBQUVLLE1BQU0sMkJBQTJCLEdBQUcsVUFBUyxNQUFlLEVBQUUsT0FBZ0I7SUFDcEYscUJBQXFCLEdBQUcsT0FBTyxDQUFDO0lBQ2hDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFFaEIsY0FBYyxFQUFFLENBQUM7QUFDbEIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGltaW5hbC1hcHAvLi9zcmMvbW9kdWxlcy9idXkudHM/NTQ5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYWluIH0gIGZyb20gJy4uL21haW4nO1xyXG5cclxuaW1wb3J0IHtcclxuXHRhZGRUb2tlblRvV2FsbGV0LFxyXG5cdHJvdW5kTnVtYmVyLCBnZXRBc3NldEJ5U3ltYm9sLCBBZGRyZXNzWmVyb1xyXG59IGZyb20gJy4vaGVscGVyJztcclxuaW1wb3J0IHtcclxuXHRJc1ZhbGlkS1lDLFxyXG5cdGluaXRLWUMsIEtZQ1VzZXJJc1ZhbGlkXHJcbn0gZnJvbSAnLi9reWMnO1xyXG5pbXBvcnQge1xyXG5cdHJlbmRlclxyXG59IGZyb20gJy4vcmVuZGVyJztcclxuaW1wb3J0IHtcclxuXHRsb2dpblxyXG59IGZyb20gJy4vYWNjb3VudCc7XHJcbmltcG9ydCB7dHJ5R2V0TmV0d29ya30gZnJvbSAnLi4vbmV0d29ya3MvbmV0d29yay1pbmZvJztcclxuaW1wb3J0IHtJc01hcmtldE9wZW4sIFVzZXJJc09mZkhvdXJzLCBpc01hcmtldE9wZW59IGZyb20gJy4vbWFya2V0JztcclxuaW1wb3J0IHtsb2FkU2VjdXJpdGllc30gZnJvbSAnLi9zZWN1cml0aWVzJztcclxuaW1wb3J0IE1vcmFsaXMgZnJvbSAnbW9yYWxpcyc7XHJcblxyXG5sZXQgYVVzZEFtb3VudDtcclxubGV0IGFzc2V0UHJpY2UgPSBudWxsO1xyXG5sZXQgbGFzdFRyYWRlZCA9IG51bGw7XHJcblxyXG5leHBvcnQgY29uc3QgRXhlY3V0ZVRyYWRlT2ZmSG91cnNUeHQgPSAnRXhlY3V0ZSB0cmFkZSA8ZGl2IGNsYXNzPVwic21hbGxfcHJpbnRcIj5JdCB3aWxsIHRha2UgZmV3IGhvdXJzIHRvIHByb2Nlc3MsIG1hcmtldCBpcyBjbG9zZWQ8YnI+WW91IGNhbiBlbmFibGUgXCJPZmYgaG91cnMgdHJhZGluZ1wiIGluIHRoZSBNZW51PC9kaXY+JztcclxubGV0IFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IG51bGw7XHJcbmxldCBTeW1ib2wgPSAnJztcclxubGV0IExpbWluYWxNYXJrZXRJbmZvO1xyXG5sZXQgQVVTREluZm87XHJcblxyXG5leHBvcnQgY29uc3QgYnV5UGFnZUluaXQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcblx0aGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ0J1eSBzZWN1cml0aWVzJywgJy9idXknKTtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG5cdH0pO1xyXG5cclxuXHRzZXR1cFN0ZXBzKCk7XHJcblx0c2V0dXBBc3NldHMoKTtcclxuXHJcblx0bGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy4uL2FiaS9MaW1pbmFsTWFya2V0Lmpzb24nKTtcclxuICAgIExpbWluYWxNYXJrZXRJbmZvID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRyZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuLi9hYmkvYVVTRC5qc29uJyk7XHJcbiAgICBBVVNESW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RTeW1ib2wgPSBmdW5jdGlvbihzeW1ib2wsIG5hbWUsIGxvZ28sIGFkZHJlc3MpIHtcclxuXHRidXlQYWdlSW5pdCgpO1xyXG5cclxuXHRpZiAoIU1vcmFsaXMuV2ViMy5pc1dlYjNFbmFibGVkKCkpIHJldHVybjtcclxuXHJcblx0c2V0U2VsZWN0ZWRTeW1ib2xBbmRBZGRyZXNzKHN5bWJvbCwgYWRkcmVzcyk7XHJcblxyXG5cdGxldCBzZWxlY3RTeW1ib2xCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXN5bWJvbCcpO1xyXG5cdHNlbGVjdFN5bWJvbEJ0bi5pbm5lckhUTUwgPSBuYW1lICsgJyAoJyArIHN5bWJvbCArICcpJztcclxuXHJcblx0dXBkYXRlQnV5SW5mbyhzeW1ib2wsIG5hbWUsIGxvZ28pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dXBTdGVwcyA9IGFzeW5jIGZ1bmN0aW9uKHNob3dOZXR3b3JrPyA6IGJvb2xlYW4pIHtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RlcCcpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuXHRcdCh2YWx1ZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9KVxyXG5jb25zb2xlLmxvZygnbW9yYWxpczonLCBhd2FpdCBNb3JhbGlzLmlzTWV0YU1hc2tJbnN0YWxsZWQoKSk7XHJcblx0Y29uc3QgaXNNZXRhTWFza0luc3RhbGxlZCA9IGF3YWl0IE1vcmFsaXMuaXNNZXRhTWFza0luc3RhbGxlZCgpO1xyXG5cclxuXHRpZiAoIWlzTWV0YU1hc2tJbnN0YWxsZWQpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN0YWxsX21ldGFtYXNrJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvL3RvZG86IHNob3VsZCBjaGVjayBpZiBhZGRyZXNzIGlzIG51bGxcclxuXHRpZiAoXCJcIiAhPSBcIlwiKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdF93YWxsZXQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdC8vdXNlciBoYXMgbm90IGNvbm5lY3RlZCB0aGUgd2FsbGV0XHJcblxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrX3RvX2Nvbm5lY3Rfd2FsbGV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGF3YWl0IE1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cdFx0XHRzZXR1cFN0ZXBzKCk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0YXdhaXQgTW9yYWxpcy5lbmFibGVXZWIzKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcblxyXG5cdFx0bGV0IG1lc3NhZ2UgOiBzdHJpbmcgPSByZWFzb24ubWVzc2FnZTtcclxuXHRcdGlmIChtZXNzYWdlLmluZGV4T2YoJ1VzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3QuJykpIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRfdG9fY29ubmVjdF93YWxsZXQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgY2hhaW5JZCA9IGF3YWl0IE1vcmFsaXMuZ2V0Q2hhaW5JZCgpO1xyXG5cdGxldCBuZXR3b3JrSW5mbyA9IHRyeUdldE5ldHdvcmsoY2hhaW5JZCk7XHJcblx0aWYgKG5ldHdvcmtJbmZvKSB7XHJcblx0XHRNYWluLk5ldHdvcmtJbmZvLnNldE5ldHdvcmsobmV0d29ya0luZm8pO1xyXG5cdH1cclxuXHRjb25zb2xlLmxvZygnY2hhaW5zOicsIGNoYWluSWQsIG5ldHdvcmtJbmZvLkNoYWluSWQpO1xyXG5cclxuXHRpZiAobmV0d29ya0luZm8uQ2hhaW5JZCAhPSBjaGFpbklkIHx8IHNob3dOZXR3b3JrKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0X25ldHdvcmsnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcxMjcuJykgIT0gLTEpIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldHdvcmtfbG9jYWxob3N0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHR9XHJcblx0XHRjb25zdCBvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldHdvcmtfY2hvb3NlcicpO1xyXG5cdFx0Zm9yIChsZXQgaT0wO2k8b3B0aW9ucy5sZW5ndGg7aSsrKSB7XHJcblx0XHRcdG9wdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnY2hhaW4gaWQ6JywgKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZCk7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IGNoYWluSWRIZXggPSBhd2FpdCBNb3JhbGlzLnN3aXRjaE5ldHdvcmsoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZClcclxuXHRcdFx0XHRcdC50aGVuKGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBNb3JhbGlzLlVzZXIubG9nT3V0KCk7XHJcblx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRhZGROZXR3b3JrVG9XYWxsZXQoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuY2hhaW5pZCk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9Y2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRpZiAoTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKSA9PSBudWxsKSB7XHJcblx0XHQvL3VzZXIgaXMgbm90IGxvZ2dlZCBpbiwgbGV0cyBsb2cgeW91IGluXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5fdXNlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrX3RvX2xvZ2luX3VzZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGxvZ2luKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNldHVwU3RlcHMoKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LypNb3JhbGlzLmF1dGhlbnRpY2F0ZSgpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcclxuXHRcdFx0XHRzZXR1cFN0ZXBzKCk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbl91c2VyX2Vycm9yJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRcdH0pKi9cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0YXdhaXQgS1lDVXNlcklzVmFsaWQoKTtcclxuXHRjb25zb2xlLmxvZygnSXNWYWxpZEtZQzonLCBJc1ZhbGlkS1lDKTtcclxuXHRpZiAoIUlzVmFsaWRLWUMpIHtcclxuXHJcblx0XHQvL3VzZXIgbmVlZHMgdG8gZG8ga3ljXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljX3JlZ2lzdHJhdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrX3RvX2t5Y19yZWcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdHJlbmRlcigna3ljJywgbnVsbCwgaW5pdEtZQyk7XHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblxyXG5cdGFVc2RBbW91bnQgPSBhd2FpdCBnZXRBVVNEQW1vdW50KCk7XHJcblxyXG5cdGlmIChhVXNkQW1vdW50IDwgMSkge1xyXG5cdFx0Ly9zaG93IGZ1bmRpbmcgc3RlcFxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRfYWNjb3VudCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRfbm90X3JlYWR5Jykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZF9hdXNkX3RvX3dhbGxldCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0YXdhaXQgYWRkVG9rZW5Ub1dhbGxldChNYWluLkNvbnRyYWN0QWRkcmVzc2VzSW5mby5BVVNEX0FERFJFU1MsICdhVVNEJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZFVTREMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Ly9mdW5kIHVzZGNcclxuXHRcdFx0Ly90cmFuc2ZlclVTREMoKTtcclxuXHRcdH0pO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRBVVNEJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIGZ1bmQgYXVzZCwgbW9yYWxpc1xyXG5cdFx0XHRmdW5kVXNlcigpO1xyXG5cclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly9sZXRzIGJ1eSBzZWN1cml0aWVzXHJcblx0Y2hlY2tCYWxhbmNlT2ZBVXNkKCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGROZXR3b3JrVG9XYWxsZXQgPSBhc3luYyBmdW5jdGlvbihjaGFpbklkIDogc3RyaW5nKSB7XHJcblx0bGV0IG5ldHdvcmtJbmZvID0gdHJ5R2V0TmV0d29yayhjaGFpbklkKTtcclxuXHJcblx0Y29uc3Qgd2ViMyA9IGF3YWl0IE1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cdHdlYjMucHJvdmlkZXIucmVxdWVzdCh7XHJcblx0XHRtZXRob2Q6ICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXHJcblx0XHRwYXJhbXM6IFt7XHJcblx0XHRcdGNoYWluSWQ6IGNoYWluSWQsXHJcblx0XHRcdGNoYWluTmFtZTogbmV0d29ya0luZm8uQ2hhaW5OYW1lLFxyXG5cdFx0XHRuYXRpdmVDdXJyZW5jeToge1xyXG5cdFx0XHRcdG5hbWU6IG5ldHdvcmtJbmZvLk5hdGl2ZUN1cnJlbmN5TmFtZSxcclxuXHRcdFx0XHRzeW1ib2w6IG5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbCxcclxuXHRcdFx0XHRkZWNpbWFsczogbmV0d29ya0luZm8uTmF0aXZlRGVjaW1hbFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRycGNVcmxzOiBbbmV0d29ya0luZm8uUnBjVXJsXSxcclxuXHRcdFx0YmxvY2tFeHBsb3JlclVybHM6IFtuZXR3b3JrSW5mby5CbG9ja0V4cGxvcmVyXVxyXG5cdFx0fV1cclxuXHR9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKGVycm9yKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGZ1bmRVc2VyID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3QgcGFyYW1zID0ge1xyXG5cdFx0Y2hhaW5JZDogTWFpbi5OZXR3b3JrSW5mby5DaGFpbklkXHJcblx0fTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9ub3RfcmVhZHknKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0TW9yYWxpcy5DbG91ZC5ydW4oJ2Z1bmRVc2VyJywgcGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRzaG93V2FpdGluZ0ZvckZ1bmRpbmcoKTtcclxuXHRcdHJldHVybjtcclxuXHJcblx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9ub3RfcmVhZHknKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBjaGVja05hdGl2ZVRva2VuU3RhdHVzID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3Qgb3B0aW9ucyA6IGFueSA9IHsgY2hhaW46IE1haW4uTmV0d29ya0luZm8uTmFtZSB9O1xyXG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1vcmFsaXMuV2ViM0FQSS5hY2NvdW50LmdldE5hdGl2ZUJhbGFuY2Uob3B0aW9ucyk7XHJcbi8vMC4wMDI5OThcclxuXHRjb25zdCBiYWxhbmNlID0gcGFyc2VGbG9hdChNb3JhbGlzLlVuaXRzLkZyb21XZWkocmVzdWx0LmJhbGFuY2UsIDE4KSk7XHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybyAmJiBiYWxhbmNlIDwgMC4wMDUpIHtcclxuXHRcdHNob3dOZWVkTmF0aXZlVG9rZW4oKTtcclxuXHR9IGVsc2UgaWYgKGJhbGFuY2UgPCAwLjAwMDcpIHtcclxuXHRcdHNob3dOZWVkTmF0aXZlVG9rZW4oKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRfbmF0aXZlX3Rva2VuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzaG93TmVlZE5hdGl2ZVRva2VuID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3QgdXNlciA9IGF3YWl0IE1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZWVkX25hdGl2ZV90b2tlbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF0aXZlX3Rva2VuX2FkZHJlc3MnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGF3YWl0IHVzZXIuZ2V0KCdldGhBZGRyZXNzJyk7XHJcblxyXG5cdHNldFRpbWVvdXQoY2hlY2tOYXRpdmVUb2tlblN0YXR1cywgMjAqMTAwMCk7XHJcbn1cclxuXHJcbmNvbnN0IHNldHVwQnV5QnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XHJcblx0aWYgKElzVmFsaWRLWUMpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykub25jbGljayA9IHRyYW5zZmVyO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjb25zdCB1c2VyID0gTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHRcdGlmICghdXNlcikge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVyVGV4dCA9IFwiTG9naW4gdXNpbmcgTWV0YW1hc2tcIjtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGxvZ2luKHNldHVwQnV5QnV0dG9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lclRleHQgPSAnWW91IG5lZWQgdG8gZG8gKGZha2UpIEtZQyBiZWZvcmUgYnV5aW5nJztcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJlbmRlcigna3ljJywgbnVsbCwgaW5pdEtZQyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG5jb25zdCBzaG93V2FpdGluZ0ZvckZ1bmRpbmcgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FpdGluZ19mb3JfZnVuZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfc2VjdXJpdGllc193cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRfYWNjb3VudCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfaGVhZGxpbmUnKS5pbm5lckhUTUwgPSBcIkxldCdzIHBsYXkuLi4g8J+agPCfmoDwn5qAXCI7XHJcblx0bGV0IHRleHQgPSBcIllvdSBjdXJyZW50bHkgaGF2ZSA8c3Ryb25nPiRcIiArIHJvdW5kTnVtYmVyKGFVc2RBbW91bnQpICsgXCIgYVVTRDwvc3Ryb25nPi5cIlxyXG5cdFx0KyBcIiBMZXRzIHRyeSBpdCBhbnl3YXkuIFR5cGUgaW4gYW55IGFtb3VudCBpbiB0aGUgYm94IGJlbG93IGFuZCBzZWxlY3QgYSBzeW1ib2wuXCJcclxuXHRcdCsgXCIgWW91IHdpbGwgc2VlIGhvdyBtYW55IHNoYXJlcyB5b3Ugd2lsbCBnZXQgZm9yIHRoYXQgYW1vdW50XCI7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV90ZXh0JykuaW5uZXJIVE1MID0gdGV4dDtcclxuXHJcblx0Y2hlY2tCYWxhbmNlT2ZBVXNkKCk7XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQmFsYW5jZU9mQVVzZCA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRhVXNkQW1vdW50ID0gYXdhaXQgZ2V0QVVTREFtb3VudCgpO1xyXG5cclxuXHRpZiAoYVVzZEFtb3VudCA+PSAxKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FpdGluZ19mb3JfZnVuZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2hlYWRsaW5lJykuaW5uZXJIVE1MID0gXCJMZXQncyBidXkgc29tZXRoaW5nIVwiO1xyXG5cdFx0bGV0IHRleHQgPSBcIllvdSBjdXJyZW50bHkgaGF2ZSA8c3Ryb25nPiRcIiArIHJvdW5kTnVtYmVyKGFVc2RBbW91bnQpICsgXCIgYVVTRC48L3N0cm9uZz5cIlxyXG5cdFx0XHRcdCsgXCIgWW91IGNhbiBub3cgYnV5IHlvdXIgb3duIHNlY3VyaXRpZXMuXCI7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3RleHQnKS5pbm5lckhUTUwgPSB0ZXh0O1xyXG5cdFx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG5cdFx0c2hvd1VzZVdhbGxldEZvck9yZGVycygpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzZXRUaW1lb3V0KGF3YWl0IGNoZWNrQmFsYW5jZU9mQVVzZCwgMzAgKiAxMDAwKTtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHNob3dVc2VXYWxsZXRGb3JPcmRlcnMgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW9yZGVyJykuY2xhc3NMaXN0LmFkZCgnc2lkZWJhcicpO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vfd2FsbGV0X2Zvcl9vcmRlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9zZWN1cml0aWVzX3dyYXBwZXInKS5zdHlsZS5kaXNwbGF5PSdpbmxpbmUtYmxvY2snO1xyXG59XHJcblxyXG5cclxuY29uc3QgZ2V0QVVTREFtb3VudCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCB1c2VyID0gYXdhaXQgTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHRpZiAoIXVzZXIpIHJldHVybiAwO1xyXG5cclxuXHRjb25zdCBldGhBZGRyZXNzID0gYXdhaXQgdXNlci5nZXQoJ2V0aEFkZHJlc3MnKTtcclxuXHRjb25zdCBhdXNkY09wdGlvbnMgPSB7XHJcblx0XHRjb250cmFjdEFkZHJlc3M6IE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkFVU0RfQUREUkVTUyxcclxuXHRcdGZ1bmN0aW9uTmFtZTogXCJiYWxhbmNlT2ZcIixcclxuXHRcdGFiaTogQVVTREluZm8uYWJpLFxyXG5cdFx0cGFyYW1zOiB7XHJcblx0XHRcdGFjY291bnQ6IGV0aEFkZHJlc3NcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRsZXQgYW1vdW50ID0gYXdhaXQgTW9yYWxpcy5leGVjdXRlRnVuY3Rpb24oYXVzZGNPcHRpb25zKS50aGVuKChiYWxhbmNlT2YpID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKCdiYWxhbmNlT2Ygb2JqOicsIGJhbGFuY2VPZilcclxuXHJcblxyXG5cdFx0bGV0IGFtb3VudCA9IE1vcmFsaXMuVW5pdHMuRnJvbVdlaShiYWxhbmNlT2YudmFsdWUsIDE4KTtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRfYXVzZF90b193YWxsZXRfbWVudScpLmlubmVySFRNTCA9ICdZb3UgaGF2ZSAnICsgcm91bmROdW1iZXIocGFyc2VGbG9hdChhbW91bnQpKSArICcgYVVTRCBpbiB5b3VyIGJyb2tlciBhY2NvdW50JztcclxuXHRcdHJldHVybiBhbW91bnQ7XHJcblx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKGVycik7XHJcblx0fSk7XHJcblx0cmV0dXJuIGFtb3VudDtcclxufVxyXG5cclxuY29uc3Qgc2V0dXBBc3NldHMgPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1zeW1ib2wnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0bG9hZFNlY3VyaXRpZXNNb2RhbChldnQpO1xyXG5cdH0pO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfYW1vdW50Jykub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuXHRcdHVwZGF0ZUJ1eUluZm8oU3ltYm9sKTtcclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5kU3ltYm9sJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdGxvYWRTZWN1cml0aWVzTW9kYWwoZXZ0KTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGxvYWRTZWN1cml0aWVzTW9kYWwgPSBhc3luYyBmdW5jdGlvbihldnQpIHtcclxuXHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxTZWN1cml0aWVzJykuc3R5bGUuZGlzcGxheT0nYmxvY2snO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZHJvcCcpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxTZWN1cml0aWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpe1xyXG5cdFx0Y29uc29sZS5sb2coKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcclxuXHRcdGlmICgoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQgPT0gJ21vZGFsU2VjdXJpdGllcycgfHwgKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkID09ICdjbG9zZU1vZGFsJykge1xyXG5cdFx0XHRoaWRlTW9kYWxTZWN1cml0aWVzKCk7XHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0cmVuZGVyKCdzZWN1cml0aWVzJywgbnVsbCwgZnVuY3Rpb24oKSB7bG9hZFNlY3VyaXRpZXModHJ1ZSl9LCAnbW9kYWwtYm9keScpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhpZGVNb2RhbFNlY3VyaXRpZXMgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxTZWN1cml0aWVzJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tkcm9wJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgZ2V0U3ltYm9sUHJpY2UgPSBhc3luYyBmdW5jdGlvbiAoZXZ0PyA6IEV2ZW50KSB7XHJcblx0aWYgKGV2dCkge1xyXG5cdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG5cclxuXHRpZiAoU3ltYm9sID09PSAnJykge1xyXG5cdFx0YXNzZXRQcmljZSA9IDA7XHJcblx0XHRsYXN0VHJhZGVkID0gJyc7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRvZmZIb3Vyc0luZm8oKTtcclxuXHRTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPSBhd2FpdCBnZXRTeW1ib2xDb250cmFjdEFkZHJlc3MoU3ltYm9sKTtcclxuXHRjb25zb2xlLmxvZygnY29udHJhY3RBZGRyZXNzczonLCBTZWxlY3RlZFN5bWJvbEFkZHJlc3MpO1xyXG5cdGlmIChTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPT0gQWRkcmVzc1plcm8pIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJIVE1MID0gXCJDcmVhdGUgdG9rZW4gJiBleGVjdXRlIHRyYWRlXCI7XHJcblx0XHQvL1RPRE8gZm9yIHNhbmRib3ggbGV0cyBub3Qgc2hvdyB0aGlzLCBidXQgZm9yIGxpdmUgd2UgbmVlZCB0byBzaG93LlxyXG5cdFx0Ly9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRva2VuLWluZm8nKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7XHJcblx0XHQvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdG9rZW4taW5mbycpLmlubmVySFRNTCA9IFwiPGRpdiA+V2Ugd2lsbCBuZWVkIHRvIGNyZWF0ZSB0aGUgdG9rZW4gd2hlbiB5b3UgYnV5IGl0LiBTaW5jZSB5b3UgYXJlIHRoZSBmaXJzdCBvbmUgdG8gYnV5IHRoaXMgc3ltYm9sLCB0aGlzIHdpbGwgaW5jdXJlIGV4dHJhIGNvc3QuIEl0J3MgYSBsb3cgY29zdDwvZGl2PlwiO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVySFRNTCA9IFwiRXhlY3V0ZSB0cmFkZVwiO1xyXG5cdFx0YWRkVG9rZW5MaW5rKFN5bWJvbCwgU2VsZWN0ZWRTeW1ib2xBZGRyZXNzKTtcclxuXHR9XHJcblxyXG5cdGF3YWl0IGxvYWRBc3NldFByaWNlKCk7XHJcblx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG59XHJcblxyXG5jb25zdCBsb2FkQXNzZXRQcmljZSA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRjb25zdCBwYXJhbXMgPSB7XHJcblx0XHRzeW1ib2w6IFN5bWJvbFxyXG5cdH07XHJcblx0cmV0dXJuIGF3YWl0IE1vcmFsaXMuQ2xvdWQucnVuKFwiZ2V0U3ltYm9sUHJpY2VcIiwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XHJcblx0XHRhc3NldFByaWNlID0ganNvblJlc3VsdC50cmFkZS5wO1xyXG5cdFx0bGFzdFRyYWRlZCA9IGpzb25SZXN1bHQudHJhZGUudDtcclxuXHR9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyA9IGFzeW5jIGZ1bmN0aW9uKHN5bWJvbCkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdXJpdHlUb2tlbk9wdGlvbnMgPSB7XHJcblx0XHRcdGNvbnRyYWN0QWRkcmVzczogTWFpbi5Db250cmFjdEFkZHJlc3Nlc0luZm8uTElNSU5BTF9NQVJLRVRfQUREUkVTUyxcclxuXHRcdFx0ZnVuY3Rpb25OYW1lOiBcImdldFNlY3VyaXR5VG9rZW5cIixcclxuXHRcdFx0YWJpOiBMaW1pbmFsTWFya2V0SW5mby5hYmksXHJcblx0XHRcdHBhcmFtczoge1xyXG5cdFx0XHRcdHN5bWJvbDogc3ltYm9sXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gYXdhaXQgTW9yYWxpcy5leGVjdXRlRnVuY3Rpb24oc2VjdXJpdHlUb2tlbk9wdGlvbnMpO1xyXG5cclxufVxyXG5cclxuY29uc3Qgb2ZmSG91cnNJbmZvID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0YXdhaXQgaXNNYXJrZXRPcGVuKCk7XHJcblxyXG5cdGlmICghSXNNYXJrZXRPcGVuICYmICFVc2VySXNPZmZIb3Vycykge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29mZkhvdXJzSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lckhUTUwgPSBFeGVjdXRlVHJhZGVPZmZIb3Vyc1R4dDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29mZkhvdXJzSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVySFRNTCA9ICdFeGVjdXRlIHRyYWRlJztcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBhZGRUb2tlbkxpbmsgPSBmdW5jdGlvbihzeW1ib2wsIGNvbnRyYWN0QWRkcmVzcykge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdG9rZW4taW5mbycpLnN0eWxlLmRpc3BsYXk9J25vbmUnO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFRva2VuTGlua0JvdHRvbSA9IGFzeW5jIGZ1bmN0aW9uKHN5bWJvbCwgY29udHJhY3RBZGRyZXNzKSB7XHJcblx0Y29uc3QgYXNzZXQgPSBhd2FpdCBnZXRBc3NldEJ5U3ltYm9sKHN5bWJvbCk7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGROZXdUb2tlblRvV2FsbGV0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2tlbkxvZ28nKSBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmMgPSAnL2ltZy9sb2dvcy8nICsgYXNzZXQuTG9nbztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTmV3VG9rZW5UZXh0JykuaW5uZXJIVE1MID0gJ0FkZCAnICsgc3ltYm9sICsgJyB0byB5b3VyIHdhbGxldC4nO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGROZXdUb2tlbicpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoZXZ0KSB7XHJcblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGF3YWl0IGFkZFRva2VuVG9XYWxsZXQoY29udHJhY3RBZGRyZXNzLCBzeW1ib2wpO1xyXG5cdH07XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUJ1eUluZm8gPSBhc3luYyBmdW5jdGlvbiAoc3ltYm9sIDogc3RyaW5nLCBuYW1lPyA6IHN0cmluZywgbG9nbz8gOiBzdHJpbmcpIHtcclxuXHRpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cdGxldCBidXlBbW91bnQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRpZiAoYnV5QW1vdW50ID09PSAnJyB8fCBhc3NldFByaWNlID09IG51bGwpIHJldHVybjtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9zdWNjZXNzX21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdGxldCBzdHIgPSAnRXN0aW1hdGVkIHlvdSB3aWxsIGJ1eSAnICsgcm91bmROdW1iZXIocGFyc2VGbG9hdChidXlBbW91bnQpIC8gYXNzZXRQcmljZSkgKyAnIHNoYXJlcyBhdCB0aGUgcHJpY2Ugb2YgJCcgKyBhc3NldFByaWNlICsgJyBwZXIgc2hhcmUuICc7XHJcblx0c3RyICs9ICdMYXN0IHRyYWRlIHdhcyAnICsgKG5ldyBEYXRlKGxhc3RUcmFkZWQpKS50b0xvY2FsZVN0cmluZygpO1xyXG5cdGlmIChTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPT0gQWRkcmVzc1plcm8pIHtcclxuXHRcdHN0ciArPSAnPGJyIC8+PHNwYW4gY2xhc3M9XCJzbWFsbF9wcmludFwiPlNpbmNlIHlvdSBhcmUgdGhlIGZpcnN0IG9uZSB0byBidXkgJyArIHN5bWJvbCArIFwiIHlvdSB3aWxsIGJlIGFza2VkIHRvIGNyZWF0ZSB0aGUgdG9rZW4gZmlyc3QsIHRoZW4gd2UnbGwgZXhlY3V0ZSB0aGUgdHJhZGU8L3NwYW4+XCI7XHJcblx0fVxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5LWluZm8nKS5pbm5lckhUTUwgPSBzdHI7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eS1pbmZvJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0Y2hlY2tUb2tlblZhbHVlVnNCdXlBbW91bnQoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjaGVja1Rva2VuVmFsdWVWc0J1eUFtb3VudCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Rhbmdlcl9tZXNzYWdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRsZXQgYnV5QW1vdW50ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfYW1vdW50JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblxyXG5cdHZhciB1c2VyID0gTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHRpZiAoIXVzZXIpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfZGFuZ2VyX21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdGxldCBzdHIgPSAnWW91IGFyZSBub3QgbG9nZ2VkIGluLiBMb2dpbiBpbiB0aGUgbWVudSBhdCB0b3AuJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfZGFuZ2VyX21lc3NhZ2UnKS5pbm5lckhUTUwgPSBzdHI7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdlbmFibGVkJyk7XHJcblxyXG5cdGlmIChhVXNkQW1vdW50IDwgYnV5QW1vdW50KSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Rhbmdlcl9tZXNzYWdlJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Rhbmdlcl9tZXNzYWdlJykuaW5uZXJIVE1MID0gXCJZb3UgZG9uJ3QgaGF2ZSBlbm91Z2ggYVVTRCB0b2tlbnMgaW4geW91ciB3YWxsZXQuXCI7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGNoZWNrTmF0aXZlVG9rZW5TdGF0dXMoKTtcclxuXHRhd2FpdCBzZXR1cEJ1eUJ1dHRvbigpO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHNob3dQcm9ncmVzc1N0ZXAgPSBhc3luYyBmdW5jdGlvbiAodGV4dCA6IHN0cmluZywgcGVyYyA6IG51bWJlciwgd2FybmluZz8gOiBib29sZWFuKSB7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfcHJvZ3Jlc3MnKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eWluZ19zdGVwcycpO1xyXG5cdGVsZW1lbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJwcm9ncmVzc190ZXh0XCI+JyArIHRleHQgKyAnPC9kaXY+JztcclxuXHRlbGVtZW50LnN0eWxlLndpZHRoID0gcGVyYyArICclJztcclxuXHJcblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdwcm9ncmVzcy1iYXItc3RyaXBlZCcsIChwZXJjICE9IDEwMCkpO1xyXG5cdGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgncHJvZ3Jlc3MtYmFyLWFuaW1hdGVkJywgKHBlcmMgIT0gMTAwKSk7XHJcblx0aWYgKHdhcm5pbmcpIHtcclxuXHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYmctd2FybmluZycpO1xyXG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9ncmVzc190ZXh0X2F0dG4nKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZy13YXJuaW5nJyk7XHJcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2dyZXNzX3RleHRfYXR0bicpO1xyXG5cdH1cclxuXHJcbn07XHJcblxyXG5jb25zdCBoaWRlUHJvY2Vzc1N0ZXAgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3Byb2dyZXNzJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuc3R5bGUuZGlzcGxheT0nYmxvY2snO1xyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCB0cmFuc2ZlciA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCBidXlBbW91bnQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHRpZiAoU3ltYm9sID09PSAnJyB8fCBidXlBbW91bnQgPT09ICcnKSByZXR1cm47XHJcblxyXG5cdGlmICghY2hlY2tUb2tlblZhbHVlVnNCdXlBbW91bnQoKSkgcmV0dXJuIGZhbHNlO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcblxyXG5cdGlmKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBudWxsKSB7XHJcblx0XHRTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPSBhd2FpdCBnZXRTeW1ib2xDb250cmFjdEFkZHJlc3MoU3ltYm9sKTtcclxuXHR9XHJcblxyXG5cdGlmIChTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPT0gQWRkcmVzc1plcm8pIHtcclxuXHJcblx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdGaXJzdCB3ZSBuZWVkIHRvIGNyZWF0ZSB0b2tlbiwgeW91IG5lZWQgdG8gY29uZmlybScsIDk5KTtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjaGVja1RvU2hvd01ldGFtYXNrSWNvbignRmlyc3Qgd2UgbmVlZCcpIH0sICgxMCAqIDEwMDApKTtcclxuXHJcblx0XHRsZXQgdHhSZXN1bHQgPSBhd2FpdCBleGVjdXRlQ3JlYXRlVG9rZW4oU3ltYm9sKS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0aGlkZVByb2Nlc3NTdGVwKCk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fSk7XHJcblx0XHRpZih0eFJlc3VsdCA9PSBudWxsKSByZXR1cm47XHJcblxyXG5cdFx0Y29uc29sZS5sb2codHhSZXN1bHQpO1xyXG5cdFx0aWYgKHR4UmVzdWx0LmV2ZW50cy5Ub2tlbkNyZWF0ZWQpIHtcclxuXHRcdFx0U2VsZWN0ZWRTeW1ib2xBZGRyZXNzID0gdHhSZXN1bHQuZXZlbnRzLlRva2VuQ3JlYXRlZC5yZXR1cm5WYWx1ZXMudG9rZW5BZGRyZXNzO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc29sZS5sb2coJ3JlY2lwZW50JywgU2VsZWN0ZWRTeW1ib2xBZGRyZXNzKTtcclxuXHRpZiAoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IEFkZHJlc3NaZXJvKSByZXR1cm47XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lckhUTUwgPSBcIkV4ZWN1dGUgdHJhZGVcIjtcclxuXHRsZXQgd2FpdGluZ1N0ciA9ICdXYWl0aW5nIG9uIGFwcHJvdmFsIHRvIGV4ZWN1dGUgdG8gYnV5ICc7XHJcblx0c2hvd1Byb2dyZXNzU3RlcCh3YWl0aW5nU3RyICsgU3ltYm9sICsgJyBmb3IgJCcgKyBidXlBbW91bnQgKyAnLicsIDk5KTtcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgY2hlY2tUb1Nob3dNZXRhbWFza0ljb24od2FpdGluZ1N0cikgfSwgMTAgKiAxMDAwKTtcclxuXHJcblxyXG5cdGF3YWl0IHN1YnNjcmliZVRvVGFibGUoKTtcclxuXHJcblx0dmFyIGJ1eVJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVCdXkoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzLCBwYXJzZUZsb2F0KGJ1eUFtb3VudCkpO1xyXG5cdGlmIChidXlSZXN1bHQgPT0gbnVsbCkge1xyXG5cdFx0aGlkZVByb2Nlc3NTdGVwKCk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRjb25zb2xlLmxvZygnYnV5UmVzdWx0JywgYnV5UmVzdWx0KTtcclxuXHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdG9rZW4taW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG5cclxufTtcclxuY29uc3Qgc3Vic2NyaWJlVG9UYWJsZSA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cdGNvbnNvbGUubG9nKCdzdWJzY3JpYmUgdG8gdGFibGU6JyArIGdldE9yZGVyQnV5VGFibGVQcmVmaXgoKSArICdPcmRlckJ1eScpO1xyXG5cclxuXHRsZXQgcXVlcnkgPSBuZXcgTW9yYWxpcy5RdWVyeShnZXRPcmRlckJ1eVRhYmxlUHJlZml4KCkgKyAnT3JkZXJCdXknKTtcclxuXHRsZXQgc3Vic2NyaXB0aW9uID0gYXdhaXQgcXVlcnkuc3Vic2NyaWJlKCk7XHJcblxyXG5cdHN1YnNjcmlwdGlvbi5vbigndXBkYXRlJywgKHJlc3BvbnNlKSA9PiB7XHJcblx0XHRjb25zdCBvYmplY3QgPSByZXNwb25zZS50b0pTT04oKTtcclxuXHRcdGNvbnNvbGUubG9nKCdvYmplY3QgdXBkYXRlZCcsIEpTT04uc3RyaW5naWZ5KG9iamVjdCksIG9iamVjdCk7XHJcblx0XHRsZXQgZXRoTGluayA9ICcgPGEgY2xhc3M9XCJ3aGl0ZS1saW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vcmlua2VieS5ldGhlcnNjYW4uaW8vdHgvJyArIG9iamVjdC50cmFuc2FjdGlvbl9oYXNoICsgJ1wiPlZpZXcgdHJhbnNhY3Rpb248L2E+JztcclxuXHJcblx0XHRjb25zb2xlLmxvZygnc3RhdHVzOicsIG9iamVjdC5zdGF0dXMpO1xyXG5cdFx0aWYgKG9iamVjdC50b2tlbkFkZHJlc3MpIHtcclxuXHRcdFx0YWRkVG9rZW5MaW5rQm90dG9tKFN5bWJvbCwgU2VsZWN0ZWRTeW1ib2xBZGRyZXNzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoKCFvYmplY3Quc3RhdHVzICYmIG9iamVjdC5jb25maXJtZWQpIHx8IG9iamVjdC5zdGF0dXMgPT0gJ21vbmV5X3NlbnQnKSB7XHJcblx0XHRcdHNob3dQcm9ncmVzc1N0ZXAoJ0Jsb2NrY2hhaW4gaGFzIGNvbmZpcm1lZCwgbW9uZXkgaGFzIGJlZW4gc2VudCB0byBicm9rZXIuJyArIGV0aExpbmssIDU2KVxyXG5cdFx0XHQvL2Jsb2NrY2hhaW4gaGFzIGNvbmZpcm1lZCwgbW9uZXkgd2lsbCBhcnJpdmUgc29vbiB0byBicm9rZXJcclxuXHRcdH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnbW9uZXlfYXJyaXZlZCcpIHtcclxuXHRcdFx0c2hvd1Byb2dyZXNzU3RlcCgnTW9uZXkgaGFzIGFycml2ZWQsIHdpbGwgbm93IGV4ZWN1dGUgeW91ciBidXkgb3JkZXIuJyArIGV0aExpbmssIDcwKVxyXG5cdFx0XHQvL21vbmV5IGhhcyBhcnJpdmVkIHRvIGJyb2tlciwgd2Ugd2lsbCBub3cgZXhlY3V0ZSB5b3VyIG9yZGVyXHJcblx0XHR9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ29yZGVyX3JlcXVlc3RlZCcpIHtcclxuXHRcdFx0Ly9vcmRlciBoYXMgYmVlbiBleGVjdXRlZCwgd2UgYXJlIHdhaXRpbmcgb24gcmVzcG9uc2UgZnJvbSB0aGUgc3RvY2sgZXhjaGFuZ2VcclxuXHRcdFx0c2hvd1Byb2dyZXNzU3RlcCgnQnV5IG9yZGVyIGhhcyBiZWVuIGV4ZWN1dGVkLiBXZSB3aWxsIHVwZGF0ZSB5b3Ugd2hlbiBpdCBoYXMgYmVlbiBmaWxsZWQuJyArIGV0aExpbmssIDg0KVxyXG5cdFx0fSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdvcmRlcl9maWxsZWQnKSB7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXktaW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdC8vb3JkZXIgaGFzIGJlZW4gZmlsbGVkLCB5b3UgZ290IG9iamVjdC5maWxsZWRRdHkgb2Ygc2hhcmVzLiBZb3Ugd2lsbCBzZWUgaXQgc29vbiBpbiB5b3VyIHdhbGxldFxyXG5cdFx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdPcmRlciBoYXMgYmVlbiBmaWxsZWQsIHlvdSB3aWxsIHJlY2lldmUgJyArIG9iamVjdC5maWxsZWRRdHkgKyAnICcgKyBTeW1ib2wgKyAnIHNvb24gaW50byB5b3VyIHdhbGxldC4nICsgZXRoTGluaywgMTAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dQcm9ncmVzc1N0ZXAoJ1dhaXRpbmcgZm9yIGJsb2NrY2hhaW4gdG8gY29uZmlybSB0cmFuc2FjdGlvbi4nLCA5OSk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5cclxuY29uc3QgZ2V0T3JkZXJCdXlUYWJsZVByZWZpeCA9IGZ1bmN0aW9uKCkge1xyXG5cdGlmIChNYWluLk5ldHdvcmtJbmZvLkNoYWluSWQgPT0gNDMxMTMpIHJldHVybiBcIkZ1amlcIjtcclxuXHRyZXR1cm4gXCJcIjtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrVG9TaG93TWV0YW1hc2tJY29uID0gZnVuY3Rpb24odHh0IDogc3RyaW5nKSB7XHJcblx0Ly9XYWl0aW5nIG9uIGFwcHJvdmFsIHRvIGV4ZWN1dGVcclxuXHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9wcm9ncmVzcycpLnN0eWxlLmRpc3BsYXkgIT0gXCJub25lXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eWluZ19zdGVwcycpLmlubmVyVGV4dC5pbmRleE9mKHR4dCkgIT0gLTEpIHtcclxuXHRcdHNob3dQcm9ncmVzc1N0ZXAoJ0hleSBIbyEgSXMgTWV0YW1hc2sgYmUgd2FpdGluZyBmb3IgeW91PzxiciAvPkNoZWNrIHRvcCByaWdodCBjb3JuZXIgb2YgeW91ciBicm93c2VyIDxpbWcgc3JjPVwiL2ltZy9tZXRhbWFzay1wZW5kaW5nLnBuZ1wiLz4nLCA5OSwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgYmxvY2tzaGFpblNsb3dNZXNzYWdlKCk7IH0sIDggKiAxMDAwKVxyXG59XHJcblxyXG5jb25zdCBibG9ja3NoYWluU2xvd01lc3NhZ2UgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfcHJvZ3Jlc3MnKS5zdHlsZS5kaXNwbGF5ICE9IFwibm9uZVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlpbmdfc3RlcHMnKS5pbm5lclRleHQuaW5kZXhPZignSGV5IEhvIScpICE9IC0xKSB7XHJcblx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdJZiB5b3UgaGF2ZSBhbHJlYWR5IGFwcHJvdmVkLCBtYXliZSBibG9ja2NoYWluIGlzIHNsb3cuIExldHMgZ2l2ZSBpdCBhIGJpdC4gSnVzdCBkb3VibGUgY2hlY2sgZm9yIDxpbWcgc3JjPVwiL2ltZy9tZXRhbWFzay1wZW5kaW5nLnBuZ1wiLz4nLCA5OSwgdHJ1ZSk7XHJcblx0fVxyXG59O1xyXG5cclxuXHJcbmNvbnN0IGV4ZWN1dGVCdXkgPSBhc3luYyBmdW5jdGlvbihyZWNpcGllbnQgOiBzdHJpbmcsIGJ1eUFtb3VudCA6IG51bWJlcikge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBsaW1pbmFsT3B0aW9ucyA9IHtcclxuXHRcdFx0Y29udHJhY3RBZGRyZXNzOiBNYWluLkNvbnRyYWN0QWRkcmVzc2VzSW5mby5BVVNEX0FERFJFU1MsXHJcblx0XHRcdGZ1bmN0aW9uTmFtZTogXCJ0cmFuc2ZlclwiLFxyXG5cdFx0XHRhYmk6IEFVU0RJbmZvLmFiaSxcclxuXHRcdFx0cGFyYW1zOiB7XHJcblx0XHRcdFx0cmVjaXBpZW50OiByZWNpcGllbnQsXHJcblx0XHRcdFx0YW1vdW50OiBNb3JhbGlzLlVuaXRzLlRva2VuKGJ1eUFtb3VudCwgMTgpXHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBhd2FpdCBNb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihsaW1pbmFsT3B0aW9ucyk7XHJcblx0fSBjYXRjaCAoZXgpIHtcclxuXHRcdGNvbnNvbGUubG9nKGV4KTtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGV4ZWN1dGVDcmVhdGVUb2tlbiA9IGFzeW5jIGZ1bmN0aW9uKHN5bWJvbCA6IHN0cmluZykge1xyXG5cclxuXHRjb25zdCBsaW1pbmFsT3B0aW9ucyA9IHtcclxuXHRcdGNvbnRyYWN0QWRkcmVzczogTWFpbi5Db250cmFjdEFkZHJlc3Nlc0luZm8uTElNSU5BTF9NQVJLRVRfQUREUkVTUyxcclxuXHRcdGZ1bmN0aW9uTmFtZTogXCJjcmVhdGVUb2tlblwiLFxyXG5cdFx0YWJpOiBMaW1pbmFsTWFya2V0SW5mby5hYmksXHJcblx0XHRwYXJhbXM6IHtcclxuXHRcdFx0c3ltYm9sOiBzeW1ib2xcclxuXHRcdH0sXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGF3YWl0IE1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKGxpbWluYWxPcHRpb25zKTtcclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0U2VsZWN0ZWRTeW1ib2xBbmRBZGRyZXNzID0gZnVuY3Rpb24oc3ltYm9sIDogc3RyaW5nLCBhZGRyZXNzIDogc3RyaW5nKSB7XHJcblx0U2VsZWN0ZWRTeW1ib2xBZGRyZXNzID0gYWRkcmVzcztcclxuXHRTeW1ib2wgPSBzeW1ib2w7XHJcblxyXG5cdGdldFN5bWJvbFByaWNlKCk7XHJcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/buy.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("7896b482870894e3f6ed")
/******/ })();
/******/ 
/******/ }
);