"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateliminal_app"]("main",{

/***/ "./src/modules/buy.ts":
/*!****************************!*\
  !*** ./src/modules/buy.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExecuteTradeOffHoursTxt\": () => (/* binding */ ExecuteTradeOffHoursTxt),\n/* harmony export */   \"addTokenLinkBottom\": () => (/* binding */ addTokenLinkBottom),\n/* harmony export */   \"buyPageInit\": () => (/* binding */ buyPageInit),\n/* harmony export */   \"checkTokenValueVsBuyAmount\": () => (/* binding */ checkTokenValueVsBuyAmount),\n/* harmony export */   \"getSymbolContractAddress\": () => (/* binding */ getSymbolContractAddress),\n/* harmony export */   \"hideModalSecurities\": () => (/* binding */ hideModalSecurities),\n/* harmony export */   \"selectSymbol\": () => (/* binding */ selectSymbol),\n/* harmony export */   \"setSelectedSymbolAndAddress\": () => (/* binding */ setSelectedSymbolAndAddress),\n/* harmony export */   \"setupSteps\": () => (/* binding */ setupSteps),\n/* harmony export */   \"updateBuyInfo\": () => (/* binding */ updateBuyInfo)\n/* harmony export */ });\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/modules/helper.ts\");\n/* harmony import */ var _kyc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kyc */ \"./src/modules/kyc.ts\");\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render */ \"./src/modules/render.ts\");\n/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./account */ \"./src/modules/account.ts\");\n/* harmony import */ var _networks_network_info__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../networks/network-info */ \"./src/networks/network-info.ts\");\n/* harmony import */ var _market__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./market */ \"./src/modules/market.ts\");\n/* harmony import */ var _securities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./securities */ \"./src/modules/securities.ts\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moralis */ \"./node_modules/moralis/index.js\");\n/* harmony import */ var moralis__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moralis__WEBPACK_IMPORTED_MODULE_8__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet aUsdAmount;\r\nlet assetPrice = null;\r\nlet lastTraded = null;\r\nconst ExecuteTradeOffHoursTxt = 'Execute trade <div class=\"small_print\">It will take few hours to process, market is closed<br>You can enable \"Off hours trading\" in the Menu</div>';\r\nlet SelectedSymbolAddress = null;\r\nlet Symbol = '';\r\nlet LiminalMarketInfo;\r\nlet AUSDInfo;\r\nconst buyPageInit = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        history.pushState(null, 'Buy securities', '/buy');\r\n        document.getElementById('buy_amount').addEventListener('click', function (evt) {\r\n            updateBuyInfo(Symbol);\r\n        });\r\n        setupSteps();\r\n        setupAssets();\r\n        let response = yield fetch('../abi/LiminalMarket.json');\r\n        LiminalMarketInfo = yield response.json();\r\n        response = yield fetch('../abi/aUSD.json');\r\n        AUSDInfo = yield response.json();\r\n    });\r\n};\r\nconst selectSymbol = function (symbol, name, logo, address) {\r\n    buyPageInit();\r\n    if (!moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3.isWeb3Enabled())\r\n        return;\r\n    setSelectedSymbolAndAddress(symbol, address);\r\n    let selectSymbolBtn = document.getElementById('select-symbol');\r\n    selectSymbolBtn.innerHTML = name + ' (' + symbol + ')';\r\n    updateBuyInfo(symbol, name, logo);\r\n};\r\nconst setupSteps = function (showNetwork) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.querySelectorAll('.step').forEach((value, key) => {\r\n            value.style.display = 'none';\r\n        });\r\n        const isMetaMaskInstalled = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().isMetaMaskInstalled();\r\n        if (!isMetaMaskInstalled) {\r\n            document.getElementById('install_metamask').style.display = 'block';\r\n            return;\r\n        }\r\n        yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3().then(function (response) {\r\n            console.log('response', response);\r\n        }).catch(function (reason) {\r\n            console.log('faile to enable', reason);\r\n            document.getElementById('connect_wallet').style.display = 'block';\r\n            //user has not connected the wallet\r\n            document.getElementById('click_to_connect_wallet').addEventListener('click', function (evt) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3();\r\n                    setupSteps();\r\n                });\r\n            });\r\n            return;\r\n        }).finally(function () {\r\n            console.log('finally');\r\n        });\r\n        console.log('moralis chain:', (moralis__WEBPACK_IMPORTED_MODULE_8___default().chainId));\r\n        const chainId = parseInt(yield (moralis__WEBPACK_IMPORTED_MODULE_8___default().chainId), 16);\r\n        ;\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        if (networkInfo) {\r\n            _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.setNetwork(networkInfo);\r\n        }\r\n        console.log('chains:', chainId, networkInfo.ChainId);\r\n        if (networkInfo.ChainId != chainId || showNetwork) {\r\n            document.getElementById('select_network').style.display = 'block';\r\n            if (window.location.href.indexOf('127.') != -1) {\r\n                document.getElementById('network_localhost').style.display = 'block';\r\n            }\r\n            const options = document.querySelectorAll('.network_chooser');\r\n            for (let i = 0; i < options.length; i++) {\r\n                options[i].addEventListener('click', function (evt) {\r\n                    return __awaiter(this, void 0, void 0, function* () {\r\n                        evt.preventDefault();\r\n                        console.log('chain id:', evt.target.dataset.chainid);\r\n                        try {\r\n                            const chainIdHex = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().switchNetwork(evt.target.dataset.chainid)\r\n                                .then(function () {\r\n                                return __awaiter(this, void 0, void 0, function* () {\r\n                                    yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.logOut();\r\n                                    window.location.reload();\r\n                                });\r\n                            }).catch(function (err) {\r\n                                addNetworkToWallet(parseInt(evt.target.dataset.chainid));\r\n                                console.log(err);\r\n                            });\r\n                        }\r\n                        catch (e) {\r\n                            console.log(e);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        let user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        console.log('user', user);\r\n        if (user == null) {\r\n            //user is not logged in, lets log you in\r\n            document.getElementById('login_user').style.display = 'block';\r\n            document.getElementById('click_to_login_user').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(function () {\r\n                    setupSteps();\r\n                });\r\n                /*Moralis.authenticate().then(function (user) {\r\n                    setupSteps();\r\n                }).catch(function(err) {\r\n                    document.getElementById('login_user_error').style.display = 'block';\r\n                })*/\r\n            });\r\n            return;\r\n        }\r\n        yield (0,_kyc__WEBPACK_IMPORTED_MODULE_2__.KYCUserIsValid)();\r\n        console.log('IsValidKYC:', _kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC);\r\n        if (!_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n            //user needs to do kyc\r\n            document.getElementById('kyc_registration').style.display = 'block';\r\n            document.getElementById('click_to_kyc_reg').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            });\r\n            return;\r\n        }\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount < 1) {\r\n            //show funding step\r\n            document.getElementById('fund_account').style.display = 'block';\r\n            document.getElementById('account_not_ready').style.display = \"none\";\r\n            document.getElementById('add_ausd_to_wallet').addEventListener('click', function (evt) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    evt.preventDefault();\r\n                    yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(_main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS, 'aUSD');\r\n                });\r\n            });\r\n            document.getElementById('fundUSDC').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                //fund usdc\r\n                //transferUSDC();\r\n            });\r\n            document.getElementById('fundAUSD').addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n                // fund ausd, moralis\r\n                fundUser();\r\n            });\r\n            return;\r\n        }\r\n        //lets buy securities\r\n        checkBalanceOfAUsd();\r\n    });\r\n};\r\nconst addNetworkToWallet = function (chainId) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let networkInfo = (0,_networks_network_info__WEBPACK_IMPORTED_MODULE_5__.tryGetNetwork)(chainId);\r\n        const web3 = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().enableWeb3();\r\n        web3.provider.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [{\r\n                    chainId: chainId,\r\n                    chainName: networkInfo.ChainName,\r\n                    nativeCurrency: {\r\n                        name: networkInfo.NativeCurrencyName,\r\n                        symbol: networkInfo.NativeSymbol,\r\n                        decimals: networkInfo.NativeDecimal\r\n                    },\r\n                    rpcUrls: [networkInfo.RpcUrl],\r\n                    blockExplorerUrls: [networkInfo.BlockExplorer]\r\n                }]\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    });\r\n};\r\nconst fundUser = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            chainId: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId\r\n        };\r\n        document.getElementById('account_not_ready').style.display = \"none\";\r\n        moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run('fundUser', params).then(function (response) {\r\n            showWaitingForFunding();\r\n            return;\r\n        }).catch(function (err) {\r\n            document.getElementById('account_not_ready').style.display = \"block\";\r\n        });\r\n    });\r\n};\r\nconst checkNativeTokenStatus = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const options = { chain: _main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.Name };\r\n        const result = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Web3API.account.getNativeBalance(options);\r\n        //0.002998\r\n        const balance = parseFloat(moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(result.balance, 18));\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero && balance < 0.005) {\r\n            showNeedNativeToken();\r\n        }\r\n        else if (balance < 0.0007) {\r\n            showNeedNativeToken();\r\n        }\r\n        else {\r\n            document.getElementById('need_native_token').style.display = 'none';\r\n        }\r\n    });\r\n};\r\nconst showNeedNativeToken = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        document.getElementById('need_native_token').style.display = 'block';\r\n        document.getElementById('native_token_address').value = yield user.get('ethAddress');\r\n        setTimeout(checkNativeTokenStatus, 20 * 1000);\r\n    });\r\n};\r\nconst setupBuyButton = function () {\r\n    document.getElementById('execute-trade').classList.remove('disabled');\r\n    document.getElementById('execute-trade').classList.add('enabled');\r\n    if (_kyc__WEBPACK_IMPORTED_MODULE_2__.IsValidKYC) {\r\n        document.getElementById('execute-trade').onclick = transfer;\r\n    }\r\n    else {\r\n        const user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('execute-trade').innerText = \"Login using Metamask\";\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_account__WEBPACK_IMPORTED_MODULE_4__.login)(setupBuyButton);\r\n            };\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerText = 'You need to do (fake) KYC before buying';\r\n            document.getElementById('execute-trade').onclick = function () {\r\n                (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('kyc', null, _kyc__WEBPACK_IMPORTED_MODULE_2__.initKYC);\r\n            };\r\n        }\r\n    }\r\n};\r\nconst showWaitingForFunding = function () {\r\n    document.getElementById('waiting_for_funding').style.display = 'block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'block';\r\n    document.getElementById('fund_account').style.display = 'none';\r\n    document.getElementById('buy_headline').innerHTML = \"Let's play... 🚀🚀🚀\";\r\n    let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD</strong>.\"\r\n        + \" Lets try it anyway. Type in any amount in the box below and select a symbol.\"\r\n        + \" You will see how many shares you will get for that amount\";\r\n    document.getElementById('buy_text').innerHTML = text;\r\n    checkBalanceOfAUsd();\r\n};\r\nconst checkBalanceOfAUsd = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        aUsdAmount = yield getAUSDAmount();\r\n        if (aUsdAmount >= 1) {\r\n            document.getElementById('waiting_for_funding').style.display = 'none';\r\n            document.getElementById('buy_headline').innerHTML = \"Let's buy something!\";\r\n            let text = \"You currently have <strong>$\" + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(aUsdAmount) + \" aUSD.</strong>\"\r\n                + \" You can now buy your own securities.\";\r\n            document.getElementById('buy_text').innerHTML = text;\r\n            updateBuyInfo(Symbol);\r\n            showUseWalletForOrders();\r\n        }\r\n        else {\r\n            setTimeout(yield checkBalanceOfAUsd, 30 * 1000);\r\n        }\r\n    });\r\n};\r\nconst showUseWalletForOrders = function () {\r\n    document.getElementById('create-order').classList.add('sidebar');\r\n    document.getElementById('use_wallet_for_orders').style.display = 'inline-block';\r\n    document.getElementById('buy_securities_wrapper').style.display = 'inline-block';\r\n};\r\nconst getAUSDAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const user = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user)\r\n            return 0;\r\n        const ethAddress = yield user.get('ethAddress');\r\n        const ausdcOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n            functionName: \"balanceOf\",\r\n            abi: AUSDInfo.abi,\r\n            params: {\r\n                account: ethAddress\r\n            }\r\n        };\r\n        let amount = yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(ausdcOptions).then(balanceOf => {\r\n            console.log('balanceOf obj:', balanceOf);\r\n            let amount = moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.FromWei(balanceOf, 18);\r\n            document.getElementById('add_ausd_to_wallet_menu').innerHTML = 'You have ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(amount)) + ' aUSD in your broker account';\r\n            return amount;\r\n        }).catch(function (err) {\r\n            console.error(err);\r\n        });\r\n        return amount;\r\n    });\r\n};\r\nconst setupAssets = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('select-symbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n        document.getElementById('buy_amount').onchange = function () {\r\n            updateBuyInfo(Symbol);\r\n        };\r\n        document.getElementById('findSymbol').addEventListener('click', function (evt) {\r\n            loadSecuritiesModal(evt);\r\n        });\r\n    });\r\n};\r\nconst loadSecuritiesModal = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        evt.preventDefault();\r\n        document.getElementById('modalSecurities').style.display = 'block';\r\n        document.getElementById('backdrop').style.display = 'block';\r\n        document.getElementById('modalSecurities').addEventListener('click', function (evt) {\r\n            console.log(evt.target.id);\r\n            if (evt.target.id == 'modalSecurities' || evt.target.id == 'closeModal') {\r\n                hideModalSecurities();\r\n            }\r\n        });\r\n        (0,_render__WEBPACK_IMPORTED_MODULE_3__.render)('securities', null, function () { (0,_securities__WEBPACK_IMPORTED_MODULE_7__.loadSecurities)(true); }, 'modal-body');\r\n    });\r\n};\r\nconst hideModalSecurities = function () {\r\n    document.getElementById('modalSecurities').style.display = 'none';\r\n    document.getElementById('backdrop').style.display = 'none';\r\n};\r\nconst getSymbolPrice = function (evt) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (evt) {\r\n            evt.preventDefault();\r\n        }\r\n        if (Symbol === '') {\r\n            assetPrice = 0;\r\n            lastTraded = '';\r\n            return;\r\n        }\r\n        offHoursInfo();\r\n        SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        console.log('contractAddresss:', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            document.getElementById('execute-trade').innerHTML = \"Create token & execute trade\";\r\n            //TODO for sandbox lets not show this, but for live we need to show.\r\n            //document.getElementById('add-token-info').style.display='block';\r\n            //document.getElementById('add-token-info').innerHTML = \"<div >We will need to create the token when you buy it. Since you are the first one to buy this symbol, this will incure extra cost. It's a low cost</div>\";\r\n        }\r\n        else {\r\n            document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n            addTokenLink(Symbol, SelectedSymbolAddress);\r\n        }\r\n        yield loadAssetPrice();\r\n        updateBuyInfo(Symbol);\r\n    });\r\n};\r\nconst loadAssetPrice = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const params = {\r\n            symbol: Symbol\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().Cloud.run(\"getSymbolPrice\", params).then(function (jsonResult) {\r\n            assetPrice = jsonResult.trade.p;\r\n            lastTraded = jsonResult.trade.t;\r\n        });\r\n    });\r\n};\r\nconst getSymbolContractAddress = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const securityTokenOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"getSecurityToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            }\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(securityTokenOptions);\r\n    });\r\n};\r\nconst offHoursInfo = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield (0,_market__WEBPACK_IMPORTED_MODULE_6__.isMarketOpen)();\r\n        if (!_market__WEBPACK_IMPORTED_MODULE_6__.IsMarketOpen && !_market__WEBPACK_IMPORTED_MODULE_6__.UserIsOffHours) {\r\n            document.getElementById('offHoursInfo').style.display = 'block';\r\n            document.getElementById('execute-trade').innerHTML = ExecuteTradeOffHoursTxt;\r\n        }\r\n        else {\r\n            document.getElementById('offHoursInfo').style.display = 'none';\r\n            document.getElementById('execute-trade').innerHTML = 'Execute trade';\r\n        }\r\n    });\r\n};\r\nconst addTokenLink = function (symbol, contractAddress) {\r\n    document.getElementById('add-token-info').style.display = 'none';\r\n};\r\nconst addTokenLinkBottom = function (symbol, contractAddress) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const asset = yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.getAssetBySymbol)(symbol);\r\n        document.getElementById('addNewTokenToWallet').style.display = 'block';\r\n        document.getElementById('tokenLogo').src = '/img/logos/' + asset.Logo;\r\n        document.getElementById('addNewTokenText').innerHTML = 'Add ' + symbol + ' to your wallet.';\r\n        document.getElementById('addNewToken').onclick = function (evt) {\r\n            return __awaiter(this, void 0, void 0, function* () {\r\n                evt.preventDefault();\r\n                yield (0,_helper__WEBPACK_IMPORTED_MODULE_1__.addTokenToWallet)(contractAddress, symbol);\r\n            });\r\n        };\r\n    });\r\n};\r\nconst updateBuyInfo = function (symbol, name, logo) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!symbol)\r\n            return;\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        if (buyAmount === '' || assetPrice == null)\r\n            return;\r\n        document.getElementById('buy_success_message').style.display = 'none';\r\n        let str = 'Estimated you will buy ' + (0,_helper__WEBPACK_IMPORTED_MODULE_1__.roundNumber)(parseFloat(buyAmount) / assetPrice) + ' shares at the price of $' + assetPrice + ' per share. ';\r\n        str += 'Last trade was ' + (new Date(lastTraded)).toLocaleString();\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            str += '<br /><span class=\"small_print\">Since you are the first one to buy ' + symbol + \" you will be asked to create the token first, then we'll execute the trade</span>\";\r\n        }\r\n        document.getElementById('buy-info').innerHTML = str;\r\n        document.getElementById('buy-info').style.display = 'block';\r\n        checkTokenValueVsBuyAmount();\r\n    });\r\n};\r\nconst checkTokenValueVsBuyAmount = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_danger_message').style.display = 'none';\r\n        let buyAmount = document.getElementById('buy_amount').value;\r\n        var user = moralis__WEBPACK_IMPORTED_MODULE_8___default().User.current();\r\n        if (!user) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            let str = 'You are not logged in. Login in the menu at top.';\r\n            document.getElementById('buy_danger_message').innerHTML = str;\r\n            return false;\r\n        }\r\n        document.getElementById('execute-trade').classList.add('disabled');\r\n        document.getElementById('execute-trade').classList.remove('enabled');\r\n        if (aUsdAmount < buyAmount) {\r\n            document.getElementById('buy_danger_message').style.display = 'block';\r\n            document.getElementById('buy_danger_message').innerHTML = \"You don't have enough aUSD tokens in your wallet.\";\r\n            return false;\r\n        }\r\n        checkNativeTokenStatus();\r\n        yield setupBuyButton();\r\n    });\r\n};\r\nconst showProgressStep = function (text, perc, warning) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        document.getElementById('buy_progress').style.display = \"block\";\r\n        var element = document.getElementById('buying_steps');\r\n        element.innerHTML = '<div class=\"progress_text\">' + text + '</div>';\r\n        element.style.width = perc + '%';\r\n        element.classList.toggle('progress-bar-striped', (perc != 100));\r\n        element.classList.toggle('progress-bar-animated', (perc != 100));\r\n        if (warning) {\r\n            element.classList.add('bg-warning');\r\n            element.classList.add('progress_text_attn');\r\n        }\r\n        else {\r\n            element.classList.remove('bg-warning');\r\n            element.classList.remove('progress_text_attn');\r\n        }\r\n    });\r\n};\r\nconst hideProcessStep = function () {\r\n    document.getElementById('buy_progress').style.display = \"none\";\r\n    document.getElementById('execute-trade').style.display = 'block';\r\n};\r\nconst transfer = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const buyAmount = document.getElementById('buy_amount').value;\r\n        if (Symbol === '' || buyAmount === '')\r\n            return;\r\n        if (!checkTokenValueVsBuyAmount())\r\n            return false;\r\n        document.getElementById('execute-trade').style.display = 'none';\r\n        if (SelectedSymbolAddress == null) {\r\n            SelectedSymbolAddress = yield getSymbolContractAddress(Symbol);\r\n        }\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero) {\r\n            showProgressStep('First we need to create token, you need to confirm', 99);\r\n            setTimeout(function () { checkToShowMetamaskIcon('First we need'); }, (10 * 1000));\r\n            let txResult = yield executeCreateToken(Symbol).catch(function (err) {\r\n                hideProcessStep();\r\n                return null;\r\n            });\r\n            if (txResult == null)\r\n                return;\r\n            console.log(txResult);\r\n            if (txResult.events.TokenCreated) {\r\n                SelectedSymbolAddress = txResult.events.TokenCreated.returnValues.tokenAddress;\r\n            }\r\n        }\r\n        console.log('recipent', SelectedSymbolAddress);\r\n        if (SelectedSymbolAddress == _helper__WEBPACK_IMPORTED_MODULE_1__.AddressZero)\r\n            return;\r\n        document.getElementById('execute-trade').innerHTML = \"Execute trade\";\r\n        let waitingStr = 'Waiting on approval to execute to buy ';\r\n        showProgressStep(waitingStr + Symbol + ' for $' + buyAmount + '.', 99);\r\n        setTimeout(function () { checkToShowMetamaskIcon(waitingStr); }, 10 * 1000);\r\n        yield subscribeToTable();\r\n        var buyResult = yield executeBuy(SelectedSymbolAddress, parseFloat(buyAmount));\r\n        if (buyResult == null) {\r\n            hideProcessStep();\r\n            return;\r\n        }\r\n        console.log('buyResult', buyResult);\r\n        document.getElementById('add-token-info').style.display = 'none';\r\n    });\r\n};\r\nconst subscribeToTable = function () {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log('subscribe to table:' + getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let query = new (moralis__WEBPACK_IMPORTED_MODULE_8___default().Query)(getOrderBuyTablePrefix() + 'OrderBuy');\r\n        let subscription = yield query.subscribe();\r\n        subscription.on('update', (response) => {\r\n            const object = response.toJSON();\r\n            console.log('object updated', JSON.stringify(object), object);\r\n            let ethLink = ' <a class=\"white-link\" target=\"_blank\" href=\"https://rinkeby.etherscan.io/tx/' + object.transaction_hash + '\">View transaction</a>';\r\n            console.log('status:', object.status);\r\n            if (object.tokenAddress) {\r\n                addTokenLinkBottom(Symbol, SelectedSymbolAddress);\r\n            }\r\n            if ((!object.status && object.confirmed) || object.status == 'money_sent') {\r\n                showProgressStep('Blockchain has confirmed, money has been sent to broker.' + ethLink, 56);\r\n                //blockchain has confirmed, money will arrive soon to broker\r\n            }\r\n            else if (object.status == 'money_arrived') {\r\n                showProgressStep('Money has arrived, will now execute your buy order.' + ethLink, 70);\r\n                //money has arrived to broker, we will now execute your order\r\n            }\r\n            else if (object.status == 'order_requested') {\r\n                //order has been executed, we are waiting on response from the stock exchange\r\n                showProgressStep('Buy order has been executed. We will update you when it has been filled.' + ethLink, 84);\r\n            }\r\n            else if (object.status == 'order_filled') {\r\n                document.getElementById('buy-info').style.display = 'none';\r\n                //order has been filled, you got object.filledQty of shares. You will see it soon in your wallet\r\n                showProgressStep('Order has been filled, you will recieve ' + object.filledQty + ' ' + Symbol + ' soon into your wallet.' + ethLink, 100);\r\n            }\r\n            else {\r\n                showProgressStep('Waiting for blockchain to confirm transaction.', 99);\r\n            }\r\n        });\r\n    });\r\n};\r\nconst getOrderBuyTablePrefix = function () {\r\n    if (_main__WEBPACK_IMPORTED_MODULE_0__.Main.NetworkInfo.ChainId == 43113)\r\n        return \"Fuji\";\r\n    return \"\";\r\n};\r\nconst checkToShowMetamaskIcon = function (txt) {\r\n    //Waiting on approval to execute\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf(txt) != -1) {\r\n        showProgressStep('Hey Ho! Is Metamask be waiting for you?<br />Check top right corner of your browser <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n    setTimeout(function () { blockshainSlowMessage(); }, 8 * 1000);\r\n};\r\nconst blockshainSlowMessage = function () {\r\n    if (document.getElementById('buy_progress').style.display != \"none\" && document.getElementById('buying_steps').innerText.indexOf('Hey Ho!') != -1) {\r\n        showProgressStep('If you have already approved, maybe blockchain is slow. Lets give it a bit. Just double check for <img src=\"/img/metamask-pending.png\"/>', 99, true);\r\n    }\r\n};\r\nconst executeBuy = function (recipient, buyAmount) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const liminalOptions = {\r\n                contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.AUSD_ADDRESS,\r\n                functionName: \"transfer\",\r\n                abi: AUSDInfo.abi,\r\n                params: {\r\n                    recipient: recipient,\r\n                    amount: moralis__WEBPACK_IMPORTED_MODULE_8___default().Units.Token(buyAmount, 18)\r\n                },\r\n            };\r\n            return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n        }\r\n        catch (ex) {\r\n            console.log(ex);\r\n            return null;\r\n        }\r\n    });\r\n};\r\nconst executeCreateToken = function (symbol) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const liminalOptions = {\r\n            contractAddress: _main__WEBPACK_IMPORTED_MODULE_0__.Main.ContractAddressesInfo.LIMINAL_MARKET_ADDRESS,\r\n            functionName: \"createToken\",\r\n            abi: LiminalMarketInfo.abi,\r\n            params: {\r\n                symbol: symbol\r\n            },\r\n        };\r\n        return yield moralis__WEBPACK_IMPORTED_MODULE_8___default().executeFunction(liminalOptions);\r\n    });\r\n};\r\nconst setSelectedSymbolAndAddress = function (symbol, address) {\r\n    SelectedSymbolAddress = address;\r\n    Symbol = symbol;\r\n    getSymbolPrice();\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1haW4gfSAgZnJvbSAnLi4vbWFpbic7XHJcblxyXG5pbXBvcnQge1xyXG5cdGFkZFRva2VuVG9XYWxsZXQsXHJcblx0cm91bmROdW1iZXIsIGdldEFzc2V0QnlTeW1ib2wsIEFkZHJlc3NaZXJvXHJcbn0gZnJvbSAnLi9oZWxwZXInO1xyXG5pbXBvcnQge1xyXG5cdElzVmFsaWRLWUMsXHJcblx0aW5pdEtZQywgS1lDVXNlcklzVmFsaWRcclxufSBmcm9tICcuL2t5Yyc7XHJcbmltcG9ydCB7XHJcblx0cmVuZGVyXHJcbn0gZnJvbSAnLi9yZW5kZXInO1xyXG5pbXBvcnQge1xyXG5cdGxvZ2luXHJcbn0gZnJvbSAnLi9hY2NvdW50JztcclxuaW1wb3J0IHt0cnlHZXROZXR3b3JrfSBmcm9tICcuLi9uZXR3b3Jrcy9uZXR3b3JrLWluZm8nO1xyXG5pbXBvcnQge0lzTWFya2V0T3BlbiwgVXNlcklzT2ZmSG91cnMsIGlzTWFya2V0T3Blbn0gZnJvbSAnLi9tYXJrZXQnO1xyXG5pbXBvcnQge2xvYWRTZWN1cml0aWVzfSBmcm9tICcuL3NlY3VyaXRpZXMnO1xyXG5pbXBvcnQgTW9yYWxpcyBmcm9tICdtb3JhbGlzJztcclxuaW1wb3J0IEJpZ051bWJlciBmcm9tICdiaWdudW1iZXInO1xyXG5cclxubGV0IGFVc2RBbW91bnQ7XHJcbmxldCBhc3NldFByaWNlID0gbnVsbDtcclxubGV0IGxhc3RUcmFkZWQgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IEV4ZWN1dGVUcmFkZU9mZkhvdXJzVHh0ID0gJ0V4ZWN1dGUgdHJhZGUgPGRpdiBjbGFzcz1cInNtYWxsX3ByaW50XCI+SXQgd2lsbCB0YWtlIGZldyBob3VycyB0byBwcm9jZXNzLCBtYXJrZXQgaXMgY2xvc2VkPGJyPllvdSBjYW4gZW5hYmxlIFwiT2ZmIGhvdXJzIHRyYWRpbmdcIiBpbiB0aGUgTWVudTwvZGl2Pic7XHJcbmxldCBTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPSBudWxsO1xyXG5sZXQgU3ltYm9sID0gJyc7XHJcbmxldCBMaW1pbmFsTWFya2V0SW5mbztcclxubGV0IEFVU0RJbmZvO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1eVBhZ2VJbml0ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cdGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICdCdXkgc2VjdXJpdGllcycsICcvYnV5Jyk7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfYW1vdW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdHVwZGF0ZUJ1eUluZm8oU3ltYm9sKTtcclxuXHR9KTtcclxuXHJcblx0c2V0dXBTdGVwcygpO1xyXG5cdHNldHVwQXNzZXRzKCk7XHJcblxyXG5cdGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcuLi9hYmkvTGltaW5hbE1hcmtldC5qc29uJyk7XHJcbiAgICBMaW1pbmFsTWFya2V0SW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcblx0cmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnLi4vYWJpL2FVU0QuanNvbicpO1xyXG4gICAgQVVTREluZm8gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0U3ltYm9sID0gZnVuY3Rpb24oc3ltYm9sLCBuYW1lLCBsb2dvLCBhZGRyZXNzKSB7XHJcblx0YnV5UGFnZUluaXQoKTtcclxuXHJcblx0aWYgKCFNb3JhbGlzLldlYjMuaXNXZWIzRW5hYmxlZCgpKSByZXR1cm47XHJcblxyXG5cdHNldFNlbGVjdGVkU3ltYm9sQW5kQWRkcmVzcyhzeW1ib2wsIGFkZHJlc3MpO1xyXG5cclxuXHRsZXQgc2VsZWN0U3ltYm9sQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1zeW1ib2wnKTtcclxuXHRzZWxlY3RTeW1ib2xCdG4uaW5uZXJIVE1MID0gbmFtZSArICcgKCcgKyBzeW1ib2wgKyAnKSc7XHJcblxyXG5cdHVwZGF0ZUJ1eUluZm8oc3ltYm9sLCBuYW1lLCBsb2dvKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldHVwU3RlcHMgPSBhc3luYyBmdW5jdGlvbihzaG93TmV0d29yaz8gOiBib29sZWFuKSB7XHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAnKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcblx0XHQodmFsdWUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0fSlcclxuXHJcblx0Y29uc3QgaXNNZXRhTWFza0luc3RhbGxlZCA9IGF3YWl0IE1vcmFsaXMuaXNNZXRhTWFza0luc3RhbGxlZCgpO1xyXG5cclxuXHRpZiAoIWlzTWV0YU1hc2tJbnN0YWxsZWQpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN0YWxsX21ldGFtYXNrJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRhd2FpdCBNb3JhbGlzLmVuYWJsZVdlYjMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRjb25zb2xlLmxvZygncmVzcG9uc2UnLCByZXNwb25zZSk7XHJcblx0fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XHJcbmNvbnNvbGUubG9nKCdmYWlsZSB0byBlbmFibGUnLCByZWFzb24pO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rfd2FsbGV0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHQvL3VzZXIgaGFzIG5vdCBjb25uZWN0ZWQgdGhlIHdhbGxldFxyXG5cclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGlja190b19jb25uZWN0X3dhbGxldCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRhd2FpdCBNb3JhbGlzLmVuYWJsZVdlYjMoKTtcclxuXHRcdFx0c2V0dXBTdGVwcygpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm47XHJcblxyXG5cdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRjb25zb2xlLmxvZygnZmluYWxseScpXHJcblx0fSk7XHJcbmNvbnNvbGUubG9nKCdtb3JhbGlzIGNoYWluOicsIE1vcmFsaXMuY2hhaW5JZCk7XHJcblx0Y29uc3QgY2hhaW5JZCA9IHBhcnNlSW50KGF3YWl0IE1vcmFsaXMuY2hhaW5JZCwgMTYpOztcclxuXHRsZXQgbmV0d29ya0luZm8gPSB0cnlHZXROZXR3b3JrKGNoYWluSWQpO1xyXG5cdGlmIChuZXR3b3JrSW5mbykge1xyXG5cdFx0TWFpbi5OZXR3b3JrSW5mby5zZXROZXR3b3JrKG5ldHdvcmtJbmZvKTtcclxuXHR9XHJcblx0Y29uc29sZS5sb2coJ2NoYWluczonLCBjaGFpbklkLCBuZXR3b3JrSW5mby5DaGFpbklkKTtcclxuXHJcblx0aWYgKG5ldHdvcmtJbmZvLkNoYWluSWQgIT0gY2hhaW5JZCB8fCBzaG93TmV0d29yaykge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdF9uZXR3b3JrJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignMTI3LicpICE9IC0xKSB7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXR3b3JrX2xvY2FsaG9zdCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgb3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXR3b3JrX2Nob29zZXInKTtcclxuXHRcdGZvciAobGV0IGk9MDtpPG9wdGlvbnMubGVuZ3RoO2krKykge1xyXG5cdFx0XHRvcHRpb25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2NoYWluIGlkOicsIChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmNoYWluaWQpO1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBjaGFpbklkSGV4ID0gYXdhaXQgTW9yYWxpcy5zd2l0Y2hOZXR3b3JrKChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmNoYWluaWQpXHJcblx0XHRcdFx0XHQudGhlbihhc3luYyBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgTW9yYWxpcy5Vc2VyLmxvZ091dCgpO1xyXG5cdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0YWRkTmV0d29ya1RvV2FsbGV0KHBhcnNlSW50KChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmNoYWluaWQpKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1jYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcbmxldCB1c2VyID0gTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuY29uc29sZS5sb2coJ3VzZXInLCB1c2VyKTtcclxuXHRpZiAodXNlciA9PSBudWxsKSB7XHJcblx0XHQvL3VzZXIgaXMgbm90IGxvZ2dlZCBpbiwgbGV0cyBsb2cgeW91IGluXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5fdXNlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrX3RvX2xvZ2luX3VzZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGxvZ2luKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNldHVwU3RlcHMoKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LypNb3JhbGlzLmF1dGhlbnRpY2F0ZSgpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcclxuXHRcdFx0XHRzZXR1cFN0ZXBzKCk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbl91c2VyX2Vycm9yJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRcdH0pKi9cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0YXdhaXQgS1lDVXNlcklzVmFsaWQoKTtcclxuXHRjb25zb2xlLmxvZygnSXNWYWxpZEtZQzonLCBJc1ZhbGlkS1lDKTtcclxuXHRpZiAoIUlzVmFsaWRLWUMpIHtcclxuXHJcblx0XHQvL3VzZXIgbmVlZHMgdG8gZG8ga3ljXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3ljX3JlZ2lzdHJhdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrX3RvX2t5Y19yZWcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdHJlbmRlcigna3ljJywgbnVsbCwgaW5pdEtZQyk7XHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblxyXG5cdGFVc2RBbW91bnQgPSBhd2FpdCBnZXRBVVNEQW1vdW50KCk7XHJcblxyXG5cdGlmIChhVXNkQW1vdW50IDwgMSkge1xyXG5cdFx0Ly9zaG93IGZ1bmRpbmcgc3RlcFxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRfYWNjb3VudCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRfbm90X3JlYWR5Jykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZF9hdXNkX3RvX3dhbGxldCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0YXdhaXQgYWRkVG9rZW5Ub1dhbGxldChNYWluLkNvbnRyYWN0QWRkcmVzc2VzSW5mby5BVVNEX0FERFJFU1MsICdhVVNEJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZFVTREMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Ly9mdW5kIHVzZGNcclxuXHRcdFx0Ly90cmFuc2ZlclVTREMoKTtcclxuXHRcdH0pO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRBVVNEJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIGZ1bmQgYXVzZCwgbW9yYWxpc1xyXG5cdFx0XHRmdW5kVXNlcigpO1xyXG5cclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly9sZXRzIGJ1eSBzZWN1cml0aWVzXHJcblx0Y2hlY2tCYWxhbmNlT2ZBVXNkKCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGROZXR3b3JrVG9XYWxsZXQgPSBhc3luYyBmdW5jdGlvbihjaGFpbklkIDogbnVtYmVyKSB7XHJcblx0bGV0IG5ldHdvcmtJbmZvID0gdHJ5R2V0TmV0d29yayhjaGFpbklkKTtcclxuXHJcblx0Y29uc3Qgd2ViMyA9IGF3YWl0IE1vcmFsaXMuZW5hYmxlV2ViMygpO1xyXG5cdHdlYjMucHJvdmlkZXIucmVxdWVzdCh7XHJcblx0XHRtZXRob2Q6ICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXHJcblx0XHRwYXJhbXM6IFt7XHJcblx0XHRcdGNoYWluSWQ6IGNoYWluSWQsXHJcblx0XHRcdGNoYWluTmFtZTogbmV0d29ya0luZm8uQ2hhaW5OYW1lLFxyXG5cdFx0XHRuYXRpdmVDdXJyZW5jeToge1xyXG5cdFx0XHRcdG5hbWU6IG5ldHdvcmtJbmZvLk5hdGl2ZUN1cnJlbmN5TmFtZSxcclxuXHRcdFx0XHRzeW1ib2w6IG5ldHdvcmtJbmZvLk5hdGl2ZVN5bWJvbCxcclxuXHRcdFx0XHRkZWNpbWFsczogbmV0d29ya0luZm8uTmF0aXZlRGVjaW1hbFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRycGNVcmxzOiBbbmV0d29ya0luZm8uUnBjVXJsXSxcclxuXHRcdFx0YmxvY2tFeHBsb3JlclVybHM6IFtuZXR3b3JrSW5mby5CbG9ja0V4cGxvcmVyXVxyXG5cdFx0fV1cclxuXHR9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKGVycm9yKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGZ1bmRVc2VyID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3QgcGFyYW1zID0ge1xyXG5cdFx0Y2hhaW5JZDogTWFpbi5OZXR3b3JrSW5mby5DaGFpbklkXHJcblx0fTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9ub3RfcmVhZHknKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0TW9yYWxpcy5DbG91ZC5ydW4oJ2Z1bmRVc2VyJywgcGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRzaG93V2FpdGluZ0ZvckZ1bmRpbmcoKTtcclxuXHRcdHJldHVybjtcclxuXHJcblx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudF9ub3RfcmVhZHknKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBjaGVja05hdGl2ZVRva2VuU3RhdHVzID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3Qgb3B0aW9ucyA6IGFueSA9IHsgY2hhaW46IE1haW4uTmV0d29ya0luZm8uTmFtZSB9O1xyXG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1vcmFsaXMuV2ViM0FQSS5hY2NvdW50LmdldE5hdGl2ZUJhbGFuY2Uob3B0aW9ucyk7XHJcbi8vMC4wMDI5OThcclxuXHRjb25zdCBiYWxhbmNlID0gcGFyc2VGbG9hdChNb3JhbGlzLlVuaXRzLkZyb21XZWkocmVzdWx0LmJhbGFuY2UsIDE4KSk7XHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybyAmJiBiYWxhbmNlIDwgMC4wMDUpIHtcclxuXHRcdHNob3dOZWVkTmF0aXZlVG9rZW4oKTtcclxuXHR9IGVsc2UgaWYgKGJhbGFuY2UgPCAwLjAwMDcpIHtcclxuXHRcdHNob3dOZWVkTmF0aXZlVG9rZW4oKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lZWRfbmF0aXZlX3Rva2VuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzaG93TmVlZE5hdGl2ZVRva2VuID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc3QgdXNlciA9IGF3YWl0IE1vcmFsaXMuVXNlci5jdXJyZW50KCk7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZWVkX25hdGl2ZV90b2tlbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF0aXZlX3Rva2VuX2FkZHJlc3MnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IGF3YWl0IHVzZXIuZ2V0KCdldGhBZGRyZXNzJyk7XHJcblxyXG5cdHNldFRpbWVvdXQoY2hlY2tOYXRpdmVUb2tlblN0YXR1cywgMjAqMTAwMCk7XHJcbn1cclxuXHJcbmNvbnN0IHNldHVwQnV5QnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XHJcblx0aWYgKElzVmFsaWRLWUMpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykub25jbGljayA9IHRyYW5zZmVyO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjb25zdCB1c2VyID0gTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHRcdGlmICghdXNlcikge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVyVGV4dCA9IFwiTG9naW4gdXNpbmcgTWV0YW1hc2tcIjtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGxvZ2luKHNldHVwQnV5QnV0dG9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lclRleHQgPSAnWW91IG5lZWQgdG8gZG8gKGZha2UpIEtZQyBiZWZvcmUgYnV5aW5nJztcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJlbmRlcigna3ljJywgbnVsbCwgaW5pdEtZQyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG5jb25zdCBzaG93V2FpdGluZ0ZvckZ1bmRpbmcgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FpdGluZ19mb3JfZnVuZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfc2VjdXJpdGllc193cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRfYWNjb3VudCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfaGVhZGxpbmUnKS5pbm5lckhUTUwgPSBcIkxldCdzIHBsYXkuLi4g8J+agPCfmoDwn5qAXCI7XHJcblx0bGV0IHRleHQgPSBcIllvdSBjdXJyZW50bHkgaGF2ZSA8c3Ryb25nPiRcIiArIHJvdW5kTnVtYmVyKGFVc2RBbW91bnQpICsgXCIgYVVTRDwvc3Ryb25nPi5cIlxyXG5cdFx0KyBcIiBMZXRzIHRyeSBpdCBhbnl3YXkuIFR5cGUgaW4gYW55IGFtb3VudCBpbiB0aGUgYm94IGJlbG93IGFuZCBzZWxlY3QgYSBzeW1ib2wuXCJcclxuXHRcdCsgXCIgWW91IHdpbGwgc2VlIGhvdyBtYW55IHNoYXJlcyB5b3Ugd2lsbCBnZXQgZm9yIHRoYXQgYW1vdW50XCI7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV90ZXh0JykuaW5uZXJIVE1MID0gdGV4dDtcclxuXHJcblx0Y2hlY2tCYWxhbmNlT2ZBVXNkKCk7XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQmFsYW5jZU9mQVVzZCA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRhVXNkQW1vdW50ID0gYXdhaXQgZ2V0QVVTREFtb3VudCgpO1xyXG5cclxuXHRpZiAoYVVzZEFtb3VudCA+PSAxKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FpdGluZ19mb3JfZnVuZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2hlYWRsaW5lJykuaW5uZXJIVE1MID0gXCJMZXQncyBidXkgc29tZXRoaW5nIVwiO1xyXG5cdFx0bGV0IHRleHQgPSBcIllvdSBjdXJyZW50bHkgaGF2ZSA8c3Ryb25nPiRcIiArIHJvdW5kTnVtYmVyKGFVc2RBbW91bnQpICsgXCIgYVVTRC48L3N0cm9uZz5cIlxyXG5cdFx0XHRcdCsgXCIgWW91IGNhbiBub3cgYnV5IHlvdXIgb3duIHNlY3VyaXRpZXMuXCI7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3RleHQnKS5pbm5lckhUTUwgPSB0ZXh0O1xyXG5cdFx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG5cdFx0c2hvd1VzZVdhbGxldEZvck9yZGVycygpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzZXRUaW1lb3V0KGF3YWl0IGNoZWNrQmFsYW5jZU9mQVVzZCwgMzAgKiAxMDAwKTtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHNob3dVc2VXYWxsZXRGb3JPcmRlcnMgPSBmdW5jdGlvbigpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW9yZGVyJykuY2xhc3NMaXN0LmFkZCgnc2lkZWJhcicpO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vfd2FsbGV0X2Zvcl9vcmRlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9zZWN1cml0aWVzX3dyYXBwZXInKS5zdHlsZS5kaXNwbGF5PSdpbmxpbmUtYmxvY2snO1xyXG59XHJcblxyXG5cclxuY29uc3QgZ2V0QVVTREFtb3VudCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCB1c2VyID0gYXdhaXQgTW9yYWxpcy5Vc2VyLmN1cnJlbnQoKTtcclxuXHRpZiAoIXVzZXIpIHJldHVybiAwO1xyXG5cclxuXHRjb25zdCBldGhBZGRyZXNzID0gYXdhaXQgdXNlci5nZXQoJ2V0aEFkZHJlc3MnKTtcclxuXHRjb25zdCBhdXNkY09wdGlvbnMgPSB7XHJcblx0XHRjb250cmFjdEFkZHJlc3M6IE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkFVU0RfQUREUkVTUyxcclxuXHRcdGZ1bmN0aW9uTmFtZTogXCJiYWxhbmNlT2ZcIixcclxuXHRcdGFiaTogQVVTREluZm8uYWJpLFxyXG5cdFx0cGFyYW1zOiB7XHJcblx0XHRcdGFjY291bnQ6IGV0aEFkZHJlc3NcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRsZXQgYW1vdW50ID0gYXdhaXQgTW9yYWxpcy5leGVjdXRlRnVuY3Rpb24oYXVzZGNPcHRpb25zKS50aGVuKGJhbGFuY2VPZiA9PiB7XHJcblx0XHRjb25zb2xlLmxvZygnYmFsYW5jZU9mIG9iajonLCBiYWxhbmNlT2YpXHJcblxyXG5cclxuXHRcdGxldCBhbW91bnQgPSBNb3JhbGlzLlVuaXRzLkZyb21XZWkoYmFsYW5jZU9mIGFzIEJpZ051bWJlciwgMTgpO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZF9hdXNkX3RvX3dhbGxldF9tZW51JykuaW5uZXJIVE1MID0gJ1lvdSBoYXZlICcgKyByb3VuZE51bWJlcihwYXJzZUZsb2F0KGFtb3VudCkpICsgJyBhVVNEIGluIHlvdXIgYnJva2VyIGFjY291bnQnO1xyXG5cdFx0cmV0dXJuIGFtb3VudDtcclxuXHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuXHR9KTtcclxuXHRyZXR1cm4gYW1vdW50O1xyXG59XHJcblxyXG5jb25zdCBzZXR1cEFzc2V0cyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXN5bWJvbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcblx0XHRsb2FkU2VjdXJpdGllc01vZGFsKGV2dCk7XHJcblx0fSk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dXBkYXRlQnV5SW5mbyhTeW1ib2wpO1xyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmRTeW1ib2wnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cdFx0bG9hZFNlY3VyaXRpZXNNb2RhbChldnQpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgbG9hZFNlY3VyaXRpZXNNb2RhbCA9IGFzeW5jIGZ1bmN0aW9uKGV2dCkge1xyXG5cdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFNlY3VyaXRpZXMnKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tkcm9wJykuc3R5bGUuZGlzcGxheT0nYmxvY2snO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFNlY3VyaXRpZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCl7XHJcblx0XHRjb25zb2xlLmxvZygoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xyXG5cdFx0aWYgKChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCA9PSAnbW9kYWxTZWN1cml0aWVzJyB8fCAoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQgPT0gJ2Nsb3NlTW9kYWwnKSB7XHJcblx0XHRcdGhpZGVNb2RhbFNlY3VyaXRpZXMoKTtcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRyZW5kZXIoJ3NlY3VyaXRpZXMnLCBudWxsLCBmdW5jdGlvbigpIHtsb2FkU2VjdXJpdGllcyh0cnVlKX0sICdtb2RhbC1ib2R5Jyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGlkZU1vZGFsU2VjdXJpdGllcyA9IGZ1bmN0aW9uKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFNlY3VyaXRpZXMnKS5zdHlsZS5kaXNwbGF5PSdub25lJztcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFja2Ryb3AnKS5zdHlsZS5kaXNwbGF5PSdub25lJztcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBnZXRTeW1ib2xQcmljZSA9IGFzeW5jIGZ1bmN0aW9uIChldnQ/IDogRXZlbnQpIHtcclxuXHRpZiAoZXZ0KSB7XHJcblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHR9XHJcblxyXG5cdGlmIChTeW1ib2wgPT09ICcnKSB7XHJcblx0XHRhc3NldFByaWNlID0gMDtcclxuXHRcdGxhc3RUcmFkZWQgPSAnJztcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdG9mZkhvdXJzSW5mbygpO1xyXG5cdFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IGF3YWl0IGdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhTeW1ib2wpO1xyXG5cdGNvbnNvbGUubG9nKCdjb250cmFjdEFkZHJlc3NzOicsIFNlbGVjdGVkU3ltYm9sQWRkcmVzcyk7XHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybykge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5pbm5lckhUTUwgPSBcIkNyZWF0ZSB0b2tlbiAmIGV4ZWN1dGUgdHJhZGVcIjtcclxuXHRcdC8vVE9ETyBmb3Igc2FuZGJveCBsZXRzIG5vdCBzaG93IHRoaXMsIGJ1dCBmb3IgbGl2ZSB3ZSBuZWVkIHRvIHNob3cuXHJcblx0XHQvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdG9rZW4taW5mbycpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJztcclxuXHRcdC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10b2tlbi1pbmZvJykuaW5uZXJIVE1MID0gXCI8ZGl2ID5XZSB3aWxsIG5lZWQgdG8gY3JlYXRlIHRoZSB0b2tlbiB3aGVuIHlvdSBidXkgaXQuIFNpbmNlIHlvdSBhcmUgdGhlIGZpcnN0IG9uZSB0byBidXkgdGhpcyBzeW1ib2wsIHRoaXMgd2lsbCBpbmN1cmUgZXh0cmEgY29zdC4gSXQncyBhIGxvdyBjb3N0PC9kaXY+XCI7XHJcblx0fSBlbHNlIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJIVE1MID0gXCJFeGVjdXRlIHRyYWRlXCI7XHJcblx0XHRhZGRUb2tlbkxpbmsoU3ltYm9sLCBTZWxlY3RlZFN5bWJvbEFkZHJlc3MpO1xyXG5cdH1cclxuXHJcblx0YXdhaXQgbG9hZEFzc2V0UHJpY2UoKTtcclxuXHR1cGRhdGVCdXlJbmZvKFN5bWJvbCk7XHJcbn1cclxuXHJcbmNvbnN0IGxvYWRBc3NldFByaWNlID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblxyXG5cdGNvbnN0IHBhcmFtcyA9IHtcclxuXHRcdHN5bWJvbDogU3ltYm9sXHJcblx0fTtcclxuXHRyZXR1cm4gYXdhaXQgTW9yYWxpcy5DbG91ZC5ydW4oXCJnZXRTeW1ib2xQcmljZVwiLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcclxuXHRcdGFzc2V0UHJpY2UgPSBqc29uUmVzdWx0LnRyYWRlLnA7XHJcblx0XHRsYXN0VHJhZGVkID0ganNvblJlc3VsdC50cmFkZS50O1xyXG5cdH0pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0U3ltYm9sQ29udHJhY3RBZGRyZXNzID0gYXN5bmMgZnVuY3Rpb24oc3ltYm9sKSB7XHJcblxyXG5cdFx0XHRjb25zdCBzZWN1cml0eVRva2VuT3B0aW9ucyA9IHtcclxuXHRcdFx0Y29udHJhY3RBZGRyZXNzOiBNYWluLkNvbnRyYWN0QWRkcmVzc2VzSW5mby5MSU1JTkFMX01BUktFVF9BRERSRVNTLFxyXG5cdFx0XHRmdW5jdGlvbk5hbWU6IFwiZ2V0U2VjdXJpdHlUb2tlblwiLFxyXG5cdFx0XHRhYmk6IExpbWluYWxNYXJrZXRJbmZvLmFiaSxcclxuXHRcdFx0cGFyYW1zOiB7XHJcblx0XHRcdFx0c3ltYm9sOiBzeW1ib2xcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBhd2FpdCBNb3JhbGlzLmV4ZWN1dGVGdW5jdGlvbihzZWN1cml0eVRva2VuT3B0aW9ucyk7XHJcblxyXG59XHJcblxyXG5jb25zdCBvZmZIb3Vyc0luZm8gPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRhd2FpdCBpc01hcmtldE9wZW4oKTtcclxuXHJcblx0aWYgKCFJc01hcmtldE9wZW4gJiYgIVVzZXJJc09mZkhvdXJzKSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2ZmSG91cnNJbmZvJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVySFRNTCA9IEV4ZWN1dGVUcmFkZU9mZkhvdXJzVHh0O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2ZmSG91cnNJbmZvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuaW5uZXJIVE1MID0gJ0V4ZWN1dGUgdHJhZGUnO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGFkZFRva2VuTGluayA9IGZ1bmN0aW9uKHN5bWJvbCwgY29udHJhY3RBZGRyZXNzKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10b2tlbi1pbmZvJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkVG9rZW5MaW5rQm90dG9tID0gYXN5bmMgZnVuY3Rpb24oc3ltYm9sLCBjb250cmFjdEFkZHJlc3MpIHtcclxuXHRjb25zdCBhc3NldCA9IGF3YWl0IGdldEFzc2V0QnlTeW1ib2woc3ltYm9sKTtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZE5ld1Rva2VuVG9XYWxsZXQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rva2VuTG9nbycpIGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYyA9ICcvaW1nL2xvZ29zLycgKyBhc3NldC5Mb2dvO1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGROZXdUb2tlblRleHQnKS5pbm5lckhUTUwgPSAnQWRkICcgKyBzeW1ib2wgKyAnIHRvIHlvdXIgd2FsbGV0Lic7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZE5ld1Rva2VuJykub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uIChldnQpIHtcclxuXHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0YXdhaXQgYWRkVG9rZW5Ub1dhbGxldChjb250cmFjdEFkZHJlc3MsIHN5bWJvbCk7XHJcblx0fTtcclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlQnV5SW5mbyA9IGFzeW5jIGZ1bmN0aW9uIChzeW1ib2wgOiBzdHJpbmcsIG5hbWU/IDogc3RyaW5nLCBsb2dvPyA6IHN0cmluZykge1xyXG5cdGlmICghc3ltYm9sKSByZXR1cm47XHJcblx0bGV0IGJ1eUFtb3VudCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Ftb3VudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdGlmIChidXlBbW91bnQgPT09ICcnIHx8IGFzc2V0UHJpY2UgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3N1Y2Nlc3NfbWVzc2FnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0bGV0IHN0ciA9ICdFc3RpbWF0ZWQgeW91IHdpbGwgYnV5ICcgKyByb3VuZE51bWJlcihwYXJzZUZsb2F0KGJ1eUFtb3VudCkgLyBhc3NldFByaWNlKSArICcgc2hhcmVzIGF0IHRoZSBwcmljZSBvZiAkJyArIGFzc2V0UHJpY2UgKyAnIHBlciBzaGFyZS4gJztcclxuXHRzdHIgKz0gJ0xhc3QgdHJhZGUgd2FzICcgKyAobmV3IERhdGUobGFzdFRyYWRlZCkpLnRvTG9jYWxlU3RyaW5nKCk7XHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybykge1xyXG5cdFx0c3RyICs9ICc8YnIgLz48c3BhbiBjbGFzcz1cInNtYWxsX3ByaW50XCI+U2luY2UgeW91IGFyZSB0aGUgZmlyc3Qgb25lIHRvIGJ1eSAnICsgc3ltYm9sICsgXCIgeW91IHdpbGwgYmUgYXNrZWQgdG8gY3JlYXRlIHRoZSB0b2tlbiBmaXJzdCwgdGhlbiB3ZSdsbCBleGVjdXRlIHRoZSB0cmFkZTwvc3Bhbj5cIjtcclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXktaW5mbycpLmlubmVySFRNTCA9IHN0cjtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5LWluZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRjaGVja1Rva2VuVmFsdWVWc0J1eUFtb3VudCgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNoZWNrVG9rZW5WYWx1ZVZzQnV5QW1vdW50ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfZGFuZ2VyX21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdGxldCBidXlBbW91bnQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9hbW91bnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuXHJcblx0dmFyIHVzZXIgPSBNb3JhbGlzLlVzZXIuY3VycmVudCgpO1xyXG5cdGlmICghdXNlcikge1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9kYW5nZXJfbWVzc2FnZScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0bGV0IHN0ciA9ICdZb3UgYXJlIG5vdCBsb2dnZWQgaW4uIExvZ2luIGluIHRoZSBtZW51IGF0IHRvcC4nO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9kYW5nZXJfbWVzc2FnZScpLmlubmVySFRNTCA9IHN0cjtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlLXRyYWRlJykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2VuYWJsZWQnKTtcclxuXHJcblx0aWYgKGFVc2RBbW91bnQgPCBidXlBbW91bnQpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfZGFuZ2VyX21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfZGFuZ2VyX21lc3NhZ2UnKS5pbm5lckhUTUwgPSBcIllvdSBkb24ndCBoYXZlIGVub3VnaCBhVVNEIHRva2VucyBpbiB5b3VyIHdhbGxldC5cIjtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0Y2hlY2tOYXRpdmVUb2tlblN0YXR1cygpO1xyXG5cdGF3YWl0IHNldHVwQnV5QnV0dG9uKCk7XHJcbn07XHJcblxyXG5cclxuY29uc3Qgc2hvd1Byb2dyZXNzU3RlcCA9IGFzeW5jIGZ1bmN0aW9uICh0ZXh0IDogc3RyaW5nLCBwZXJjIDogbnVtYmVyLCB3YXJuaW5nPyA6IGJvb2xlYW4pIHtcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9wcm9ncmVzcycpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0dmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5aW5nX3N0ZXBzJyk7XHJcblx0ZWxlbWVudC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cInByb2dyZXNzX3RleHRcIj4nICsgdGV4dCArICc8L2Rpdj4nO1xyXG5cdGVsZW1lbnQuc3R5bGUud2lkdGggPSBwZXJjICsgJyUnO1xyXG5cclxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3Byb2dyZXNzLWJhci1zdHJpcGVkJywgKHBlcmMgIT0gMTAwKSk7XHJcblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdwcm9ncmVzcy1iYXItYW5pbWF0ZWQnLCAocGVyYyAhPSAxMDApKTtcclxuXHRpZiAod2FybmluZykge1xyXG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdiZy13YXJuaW5nJyk7XHJcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2dyZXNzX3RleHRfYXR0bicpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXdhcm5pbmcnKTtcclxuXHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZ3Jlc3NfdGV4dF9hdHRuJyk7XHJcblx0fVxyXG5cclxufTtcclxuXHJcbmNvbnN0IGhpZGVQcm9jZXNzU3RlcCA9IGZ1bmN0aW9uKCkge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXlfcHJvZ3Jlc3MnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7XHJcbn07XHJcblxyXG5cclxuXHJcbmNvbnN0IHRyYW5zZmVyID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGJ1eUFtb3VudCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X2Ftb3VudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cdGlmIChTeW1ib2wgPT09ICcnIHx8IGJ1eUFtb3VudCA9PT0gJycpIHJldHVybjtcclxuXHJcblx0aWYgKCFjaGVja1Rva2VuVmFsdWVWc0J1eUFtb3VudCgpKSByZXR1cm4gZmFsc2U7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4ZWN1dGUtdHJhZGUnKS5zdHlsZS5kaXNwbGF5PSdub25lJztcclxuXHJcblx0aWYoU2VsZWN0ZWRTeW1ib2xBZGRyZXNzID09IG51bGwpIHtcclxuXHRcdFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9IGF3YWl0IGdldFN5bWJvbENvbnRyYWN0QWRkcmVzcyhTeW1ib2wpO1xyXG5cdH1cclxuXHJcblx0aWYgKFNlbGVjdGVkU3ltYm9sQWRkcmVzcyA9PSBBZGRyZXNzWmVybykge1xyXG5cclxuXHRcdHNob3dQcm9ncmVzc1N0ZXAoJ0ZpcnN0IHdlIG5lZWQgdG8gY3JlYXRlIHRva2VuLCB5b3UgbmVlZCB0byBjb25maXJtJywgOTkpO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNoZWNrVG9TaG93TWV0YW1hc2tJY29uKCdGaXJzdCB3ZSBuZWVkJykgfSwgKDEwICogMTAwMCkpO1xyXG5cclxuXHRcdGxldCB0eFJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVDcmVhdGVUb2tlbihTeW1ib2wpLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRoaWRlUHJvY2Vzc1N0ZXAoKTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9KTtcclxuXHRcdGlmKHR4UmVzdWx0ID09IG51bGwpIHJldHVybjtcclxuXHJcblx0XHRjb25zb2xlLmxvZyh0eFJlc3VsdCk7XHJcblx0XHRpZiAodHhSZXN1bHQuZXZlbnRzLlRva2VuQ3JlYXRlZCkge1xyXG5cdFx0XHRTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPSB0eFJlc3VsdC5ldmVudHMuVG9rZW5DcmVhdGVkLnJldHVyblZhbHVlcy50b2tlbkFkZHJlc3M7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb25zb2xlLmxvZygncmVjaXBlbnQnLCBTZWxlY3RlZFN5bWJvbEFkZHJlc3MpO1xyXG5cdGlmIChTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPT0gQWRkcmVzc1plcm8pIHJldHVybjtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhlY3V0ZS10cmFkZScpLmlubmVySFRNTCA9IFwiRXhlY3V0ZSB0cmFkZVwiO1xyXG5cdGxldCB3YWl0aW5nU3RyID0gJ1dhaXRpbmcgb24gYXBwcm92YWwgdG8gZXhlY3V0ZSB0byBidXkgJztcclxuXHRzaG93UHJvZ3Jlc3NTdGVwKHdhaXRpbmdTdHIgKyBTeW1ib2wgKyAnIGZvciAkJyArIGJ1eUFtb3VudCArICcuJywgOTkpO1xyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjaGVja1RvU2hvd01ldGFtYXNrSWNvbih3YWl0aW5nU3RyKSB9LCAxMCAqIDEwMDApO1xyXG5cclxuXHJcblx0YXdhaXQgc3Vic2NyaWJlVG9UYWJsZSgpO1xyXG5cclxuXHR2YXIgYnV5UmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUJ1eShTZWxlY3RlZFN5bWJvbEFkZHJlc3MsIHBhcnNlRmxvYXQoYnV5QW1vdW50KSk7XHJcblx0aWYgKGJ1eVJlc3VsdCA9PSBudWxsKSB7XHJcblx0XHRoaWRlUHJvY2Vzc1N0ZXAoKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnNvbGUubG9nKCdidXlSZXN1bHQnLCBidXlSZXN1bHQpO1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10b2tlbi1pbmZvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcblxyXG59O1xyXG5jb25zdCBzdWJzY3JpYmVUb1RhYmxlID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblx0Y29uc29sZS5sb2coJ3N1YnNjcmliZSB0byB0YWJsZTonICsgZ2V0T3JkZXJCdXlUYWJsZVByZWZpeCgpICsgJ09yZGVyQnV5Jyk7XHJcblxyXG5cdGxldCBxdWVyeSA9IG5ldyBNb3JhbGlzLlF1ZXJ5KGdldE9yZGVyQnV5VGFibGVQcmVmaXgoKSArICdPcmRlckJ1eScpO1xyXG5cdGxldCBzdWJzY3JpcHRpb24gPSBhd2FpdCBxdWVyeS5zdWJzY3JpYmUoKTtcclxuXHJcblx0c3Vic2NyaXB0aW9uLm9uKCd1cGRhdGUnLCAocmVzcG9uc2UpID0+IHtcclxuXHRcdGNvbnN0IG9iamVjdCA9IHJlc3BvbnNlLnRvSlNPTigpO1xyXG5cdFx0Y29uc29sZS5sb2coJ29iamVjdCB1cGRhdGVkJywgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSwgb2JqZWN0KTtcclxuXHRcdGxldCBldGhMaW5rID0gJyA8YSBjbGFzcz1cIndoaXRlLWxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9yaW5rZWJ5LmV0aGVyc2Nhbi5pby90eC8nICsgb2JqZWN0LnRyYW5zYWN0aW9uX2hhc2ggKyAnXCI+VmlldyB0cmFuc2FjdGlvbjwvYT4nO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKCdzdGF0dXM6Jywgb2JqZWN0LnN0YXR1cyk7XHJcblx0XHRpZiAob2JqZWN0LnRva2VuQWRkcmVzcykge1xyXG5cdFx0XHRhZGRUb2tlbkxpbmtCb3R0b20oU3ltYm9sLCBTZWxlY3RlZFN5bWJvbEFkZHJlc3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgoIW9iamVjdC5zdGF0dXMgJiYgb2JqZWN0LmNvbmZpcm1lZCkgfHwgb2JqZWN0LnN0YXR1cyA9PSAnbW9uZXlfc2VudCcpIHtcclxuXHRcdFx0c2hvd1Byb2dyZXNzU3RlcCgnQmxvY2tjaGFpbiBoYXMgY29uZmlybWVkLCBtb25leSBoYXMgYmVlbiBzZW50IHRvIGJyb2tlci4nICsgZXRoTGluaywgNTYpXHJcblx0XHRcdC8vYmxvY2tjaGFpbiBoYXMgY29uZmlybWVkLCBtb25leSB3aWxsIGFycml2ZSBzb29uIHRvIGJyb2tlclxyXG5cdFx0fSBlbHNlIGlmIChvYmplY3Quc3RhdHVzID09ICdtb25leV9hcnJpdmVkJykge1xyXG5cdFx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdNb25leSBoYXMgYXJyaXZlZCwgd2lsbCBub3cgZXhlY3V0ZSB5b3VyIGJ1eSBvcmRlci4nICsgZXRoTGluaywgNzApXHJcblx0XHRcdC8vbW9uZXkgaGFzIGFycml2ZWQgdG8gYnJva2VyLCB3ZSB3aWxsIG5vdyBleGVjdXRlIHlvdXIgb3JkZXJcclxuXHRcdH0gZWxzZSBpZiAob2JqZWN0LnN0YXR1cyA9PSAnb3JkZXJfcmVxdWVzdGVkJykge1xyXG5cdFx0XHQvL29yZGVyIGhhcyBiZWVuIGV4ZWN1dGVkLCB3ZSBhcmUgd2FpdGluZyBvbiByZXNwb25zZSBmcm9tIHRoZSBzdG9jayBleGNoYW5nZVxyXG5cdFx0XHRzaG93UHJvZ3Jlc3NTdGVwKCdCdXkgb3JkZXIgaGFzIGJlZW4gZXhlY3V0ZWQuIFdlIHdpbGwgdXBkYXRlIHlvdSB3aGVuIGl0IGhhcyBiZWVuIGZpbGxlZC4nICsgZXRoTGluaywgODQpXHJcblx0XHR9IGVsc2UgaWYgKG9iamVjdC5zdGF0dXMgPT0gJ29yZGVyX2ZpbGxlZCcpIHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eS1pbmZvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0Ly9vcmRlciBoYXMgYmVlbiBmaWxsZWQsIHlvdSBnb3Qgb2JqZWN0LmZpbGxlZFF0eSBvZiBzaGFyZXMuIFlvdSB3aWxsIHNlZSBpdCBzb29uIGluIHlvdXIgd2FsbGV0XHJcblx0XHRcdHNob3dQcm9ncmVzc1N0ZXAoJ09yZGVyIGhhcyBiZWVuIGZpbGxlZCwgeW91IHdpbGwgcmVjaWV2ZSAnICsgb2JqZWN0LmZpbGxlZFF0eSArICcgJyArIFN5bWJvbCArICcgc29vbiBpbnRvIHlvdXIgd2FsbGV0LicgKyBldGhMaW5rLCAxMDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2hvd1Byb2dyZXNzU3RlcCgnV2FpdGluZyBmb3IgYmxvY2tjaGFpbiB0byBjb25maXJtIHRyYW5zYWN0aW9uLicsIDk5KTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcblxyXG5jb25zdCBnZXRPcmRlckJ1eVRhYmxlUHJlZml4ID0gZnVuY3Rpb24oKSB7XHJcblx0aWYgKE1haW4uTmV0d29ya0luZm8uQ2hhaW5JZCA9PSA0MzExMykgcmV0dXJuIFwiRnVqaVwiO1xyXG5cdHJldHVybiBcIlwiO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tUb1Nob3dNZXRhbWFza0ljb24gPSBmdW5jdGlvbih0eHQgOiBzdHJpbmcpIHtcclxuXHQvL1dhaXRpbmcgb24gYXBwcm92YWwgdG8gZXhlY3V0ZVxyXG5cdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5X3Byb2dyZXNzJykuc3R5bGUuZGlzcGxheSAhPSBcIm5vbmVcIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV5aW5nX3N0ZXBzJykuaW5uZXJUZXh0LmluZGV4T2YodHh0KSAhPSAtMSkge1xyXG5cdFx0c2hvd1Byb2dyZXNzU3RlcCgnSGV5IEhvISBJcyBNZXRhbWFzayBiZSB3YWl0aW5nIGZvciB5b3U/PGJyIC8+Q2hlY2sgdG9wIHJpZ2h0IGNvcm5lciBvZiB5b3VyIGJyb3dzZXIgPGltZyBzcmM9XCIvaW1nL21ldGFtYXNrLXBlbmRpbmcucG5nXCIvPicsIDk5LCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBibG9ja3NoYWluU2xvd01lc3NhZ2UoKTsgfSwgOCAqIDEwMDApXHJcbn1cclxuXHJcbmNvbnN0IGJsb2Nrc2hhaW5TbG93TWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eV9wcm9ncmVzcycpLnN0eWxlLmRpc3BsYXkgIT0gXCJub25lXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1eWluZ19zdGVwcycpLmlubmVyVGV4dC5pbmRleE9mKCdIZXkgSG8hJykgIT0gLTEpIHtcclxuXHRcdHNob3dQcm9ncmVzc1N0ZXAoJ0lmIHlvdSBoYXZlIGFscmVhZHkgYXBwcm92ZWQsIG1heWJlIGJsb2NrY2hhaW4gaXMgc2xvdy4gTGV0cyBnaXZlIGl0IGEgYml0LiBKdXN0IGRvdWJsZSBjaGVjayBmb3IgPGltZyBzcmM9XCIvaW1nL21ldGFtYXNrLXBlbmRpbmcucG5nXCIvPicsIDk5LCB0cnVlKTtcclxuXHR9XHJcbn07XHJcblxyXG5cclxuY29uc3QgZXhlY3V0ZUJ1eSA9IGFzeW5jIGZ1bmN0aW9uKHJlY2lwaWVudCA6IHN0cmluZywgYnV5QW1vdW50IDogbnVtYmVyKSB7XHJcblx0dHJ5IHtcclxuXHRcdGNvbnN0IGxpbWluYWxPcHRpb25zID0ge1xyXG5cdFx0XHRjb250cmFjdEFkZHJlc3M6IE1haW4uQ29udHJhY3RBZGRyZXNzZXNJbmZvLkFVU0RfQUREUkVTUyxcclxuXHRcdFx0ZnVuY3Rpb25OYW1lOiBcInRyYW5zZmVyXCIsXHJcblx0XHRcdGFiaTogQVVTREluZm8uYWJpLFxyXG5cdFx0XHRwYXJhbXM6IHtcclxuXHRcdFx0XHRyZWNpcGllbnQ6IHJlY2lwaWVudCxcclxuXHRcdFx0XHRhbW91bnQ6IE1vcmFsaXMuVW5pdHMuVG9rZW4oYnV5QW1vdW50LCAxOClcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGF3YWl0IE1vcmFsaXMuZXhlY3V0ZUZ1bmN0aW9uKGxpbWluYWxPcHRpb25zKTtcclxuXHR9IGNhdGNoIChleCkge1xyXG5cdFx0Y29uc29sZS5sb2coZXgpO1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgZXhlY3V0ZUNyZWF0ZVRva2VuID0gYXN5bmMgZnVuY3Rpb24oc3ltYm9sIDogc3RyaW5nKSB7XHJcblxyXG5cdGNvbnN0IGxpbWluYWxPcHRpb25zID0ge1xyXG5cdFx0Y29udHJhY3RBZGRyZXNzOiBNYWluLkNvbnRyYWN0QWRkcmVzc2VzSW5mby5MSU1JTkFMX01BUktFVF9BRERSRVNTLFxyXG5cdFx0ZnVuY3Rpb25OYW1lOiBcImNyZWF0ZVRva2VuXCIsXHJcblx0XHRhYmk6IExpbWluYWxNYXJrZXRJbmZvLmFiaSxcclxuXHRcdHBhcmFtczoge1xyXG5cdFx0XHRzeW1ib2w6IHN5bWJvbFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gYXdhaXQgTW9yYWxpcy5leGVjdXRlRnVuY3Rpb24obGltaW5hbE9wdGlvbnMpO1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRTZWxlY3RlZFN5bWJvbEFuZEFkZHJlc3MgPSBmdW5jdGlvbihzeW1ib2wgOiBzdHJpbmcsIGFkZHJlc3MgOiBzdHJpbmcpIHtcclxuXHRTZWxlY3RlZFN5bWJvbEFkZHJlc3MgPSBhZGRyZXNzO1xyXG5cdFN5bWJvbCA9IHN5bWJvbDtcclxuXHJcblx0Z2V0U3ltYm9sUHJpY2UoKTtcclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/buy.ts\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("806495f67023d1714948")
/******/ })();
/******/ 
/******/ }
);